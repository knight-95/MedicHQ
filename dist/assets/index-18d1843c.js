function _mergeNamespaces($,o){for(var a=0;a<o.length;a++){const j=o[a];if(typeof j!="string"&&!Array.isArray(j)){for(const _e in j)if(_e!=="default"&&!(_e in $)){const et=Object.getOwnPropertyDescriptor(j,_e);et&&Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:()=>j[_e]})}}}return Object.freeze(Object.defineProperty($,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const _e of document.querySelectorAll('link[rel="modulepreload"]'))j(_e);new MutationObserver(_e=>{for(const et of _e)if(et.type==="childList")for(const tt of et.addedNodes)tt.tagName==="LINK"&&tt.rel==="modulepreload"&&j(tt)}).observe(document,{childList:!0,subtree:!0});function a(_e){const et={};return _e.integrity&&(et.integrity=_e.integrity),_e.referrerPolicy&&(et.referrerPolicy=_e.referrerPolicy),_e.crossOrigin==="use-credentials"?et.credentials="include":_e.crossOrigin==="anonymous"?et.credentials="omit":et.credentials="same-origin",et}function j(_e){if(_e.ep)return;_e.ep=!0;const et=a(_e);fetch(_e.href,et)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs($){return $&&$.__esModule&&Object.prototype.hasOwnProperty.call($,"default")?$.default:$}function getAugmentedNamespace($){if($.__esModule)return $;var o=$.default;if(typeof o=="function"){var a=function j(){if(this instanceof j){var _e=[null];_e.push.apply(_e,arguments);var et=Function.bind.apply(o,_e);return new et}return o.apply(this,arguments)};a.prototype=o.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys($).forEach(function(j){var _e=Object.getOwnPropertyDescriptor($,j);Object.defineProperty(a,j,_e.get?_e:{enumerable:!0,get:function(){return $[j]}})}),a}var jsxRuntimeExports={},jsxRuntime={get exports(){return jsxRuntimeExports},set exports($){jsxRuntimeExports=$}},reactJsxRuntime_production_min={},reactExports={},react={get exports(){return reactExports},set exports($){reactExports=$}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$2($){return $===null||typeof $!="object"?null:($=z$3&&$[z$3]||$["@@iterator"],typeof $=="function"?$:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1($,o,a){this.props=$,this.context=o,this.refs=D$1,this.updater=a||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function($,o){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,o,"setState")};E$1.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1($,o,a){this.props=$,this.context=o,this.refs=D$1,this.updater=a||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$2={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1($,o,a){var j,_e={},et=null,tt=null;if(o!=null)for(j in o.ref!==void 0&&(tt=o.ref),o.key!==void 0&&(et=""+o.key),o)J.call(o,j)&&!L$1.hasOwnProperty(j)&&(_e[j]=o[j]);var nt=arguments.length-2;if(nt===1)_e.children=a;else if(1<nt){for(var rt=Array(nt),it=0;it<nt;it++)rt[it]=arguments[it+2];_e.children=rt}if($&&$.defaultProps)for(j in nt=$.defaultProps,nt)_e[j]===void 0&&(_e[j]=nt[j]);return{$$typeof:l$3,type:$,key:et,ref:tt,props:_e,_owner:K$2.current}}function N$1($,o){return{$$typeof:l$3,type:$.type,key:o,ref:$.ref,props:$.props,_owner:$._owner}}function O$1($){return typeof $=="object"&&$!==null&&$.$$typeof===l$3}function escape$1($){var o={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(a){return o[a]})}var P$1=/\/+/g;function Q$1($,o){return typeof $=="object"&&$!==null&&$.key!=null?escape$1(""+$.key):o.toString(36)}function R$1($,o,a,j,_e){var et=typeof $;(et==="undefined"||et==="boolean")&&($=null);var tt=!1;if($===null)tt=!0;else switch(et){case"string":case"number":tt=!0;break;case"object":switch($.$$typeof){case l$3:case n$3:tt=!0}}if(tt)return tt=$,_e=_e(tt),$=j===""?"."+Q$1(tt,0):j,I$1(_e)?(a="",$!=null&&(a=$.replace(P$1,"$&/")+"/"),R$1(_e,o,a,"",function(it){return it})):_e!=null&&(O$1(_e)&&(_e=N$1(_e,a+(!_e.key||tt&&tt.key===_e.key?"":(""+_e.key).replace(P$1,"$&/")+"/")+$)),o.push(_e)),1;if(tt=0,j=j===""?".":j+":",I$1($))for(var nt=0;nt<$.length;nt++){et=$[nt];var rt=j+Q$1(et,nt);tt+=R$1(et,o,a,rt,_e)}else if(rt=A$2($),typeof rt=="function")for($=rt.call($),nt=0;!(et=$.next()).done;)et=et.value,rt=j+Q$1(et,nt++),tt+=R$1(et,o,a,rt,_e);else if(et==="object")throw o=String($),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return tt}function S$1($,o,a){if($==null)return $;var j=[],_e=0;return R$1($,j,"","",function(et){return o.call(a,et,_e++)}),j}function T$1($){if($._status===-1){var o=$._result;o=o(),o.then(function(a){($._status===0||$._status===-1)&&($._status=1,$._result=a)},function(a){($._status===0||$._status===-1)&&($._status=2,$._result=a)}),$._status===-1&&($._status=0,$._result=o)}if($._status===1)return $._result.default;throw $._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$2};react_production_min.Children={map:S$1,forEach:function($,o,a){S$1($,function(){o.apply(this,arguments)},a)},count:function($){var o=0;return S$1($,function(){o++}),o},toArray:function($){return S$1($,function(o){return o})||[]},only:function($){if(!O$1($))throw Error("React.Children.only expected to receive a single React element child.");return $}};react_production_min.Component=E$1;react_production_min.Fragment=p$5;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function($,o,a){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var j=C$1({},$.props),_e=$.key,et=$.ref,tt=$._owner;if(o!=null){if(o.ref!==void 0&&(et=o.ref,tt=K$2.current),o.key!==void 0&&(_e=""+o.key),$.type&&$.type.defaultProps)var nt=$.type.defaultProps;for(rt in o)J.call(o,rt)&&!L$1.hasOwnProperty(rt)&&(j[rt]=o[rt]===void 0&&nt!==void 0?nt[rt]:o[rt])}var rt=arguments.length-2;if(rt===1)j.children=a;else if(1<rt){nt=Array(rt);for(var it=0;it<rt;it++)nt[it]=arguments[it+2];j.children=nt}return{$$typeof:l$3,type:$.type,key:_e,ref:et,props:j,_owner:tt}};react_production_min.createContext=function($){return $={$$typeof:u$1,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:t$2,_context:$},$.Consumer=$};react_production_min.createElement=M$1;react_production_min.createFactory=function($){var o=M$1.bind(null,$);return o.type=$,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function($){return{$$typeof:v$3,render:$}};react_production_min.isValidElement=O$1;react_production_min.lazy=function($){return{$$typeof:y$1,_payload:{_status:-1,_result:$},_init:T$1}};react_production_min.memo=function($,o){return{$$typeof:x$2,type:$,compare:o===void 0?null:o}};react_production_min.startTransition=function($){var o=V$1.transition;V$1.transition={};try{$()}finally{V$1.transition=o}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function($,o){return U$1.current.useCallback($,o)};react_production_min.useContext=function($){return U$1.current.useContext($)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function($){return U$1.current.useDeferredValue($)};react_production_min.useEffect=function($,o){return U$1.current.useEffect($,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function($,o,a){return U$1.current.useImperativeHandle($,o,a)};react_production_min.useInsertionEffect=function($,o){return U$1.current.useInsertionEffect($,o)};react_production_min.useLayoutEffect=function($,o){return U$1.current.useLayoutEffect($,o)};react_production_min.useMemo=function($,o){return U$1.current.useMemo($,o)};react_production_min.useReducer=function($,o,a){return U$1.current.useReducer($,o,a)};react_production_min.useRef=function($){return U$1.current.useRef($)};react_production_min.useState=function($){return U$1.current.useState($)};react_production_min.useSyncExternalStore=function($,o,a){return U$1.current.useSyncExternalStore($,o,a)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";(function($){$.exports=react_production_min})(react);const React$1=getDefaultExportFromCjs(reactExports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$2=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$2=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$4={key:!0,ref:!0,__self:!0,__source:!0};function q$2($,o,a){var j,_e={},et=null,tt=null;a!==void 0&&(et=""+a),o.key!==void 0&&(et=""+o.key),o.ref!==void 0&&(tt=o.ref);for(j in o)m$3.call(o,j)&&!p$4.hasOwnProperty(j)&&(_e[j]=o[j]);if($&&$.defaultProps)for(j in o=$.defaultProps,o)_e[j]===void 0&&(_e[j]=o[j]);return{$$typeof:k$2,type:$,key:et,ref:tt,props:_e,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;(function($){$.exports=reactJsxRuntime_production_min})(jsxRuntime);const jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client$1={},reactDomExports={},reactDom={get exports(){return reactDomExports},set exports($){reactDomExports=$}},reactDom_production_min={},schedulerExports$2={},scheduler$2={get exports(){return schedulerExports$2},set exports($){schedulerExports$2=$}},scheduler_production_min$2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function($){function o(Rt,$t){var Gt=Rt.length;Rt.push($t);e:for(;0<Gt;){var Ft=Gt-1>>>1,wt=Rt[Ft];if(0<_e(wt,$t))Rt[Ft]=$t,Rt[Gt]=wt,Gt=Ft;else break e}}function a(Rt){return Rt.length===0?null:Rt[0]}function j(Rt){if(Rt.length===0)return null;var $t=Rt[0],Gt=Rt.pop();if(Gt!==$t){Rt[0]=Gt;e:for(var Ft=0,wt=Rt.length,Ht=wt>>>1;Ft<Ht;){var nn=2*(Ft+1)-1,Dt=Rt[nn],Jt=nn+1,on=Rt[Jt];if(0>_e(Dt,Gt))Jt<wt&&0>_e(on,Dt)?(Rt[Ft]=on,Rt[Jt]=Gt,Ft=Jt):(Rt[Ft]=Dt,Rt[nn]=Gt,Ft=nn);else if(Jt<wt&&0>_e(on,Gt))Rt[Ft]=on,Rt[Jt]=Gt,Ft=Jt;else break e}}return $t}function _e(Rt,$t){var Gt=Rt.sortIndex-$t.sortIndex;return Gt!==0?Gt:Rt.id-$t.id}if(typeof performance=="object"&&typeof performance.now=="function"){var et=performance;$.unstable_now=function(){return et.now()}}else{var tt=Date,nt=tt.now();$.unstable_now=function(){return tt.now()-nt}}var rt=[],it=[],ot=1,at=null,ct=3,ut=!1,dt=!1,ft=!1,ht=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function gt(Rt){for(var $t=a(it);$t!==null;){if($t.callback===null)j(it);else if($t.startTime<=Rt)j(it),$t.sortIndex=$t.expirationTime,o(rt,$t);else break;$t=a(it)}}function bt(Rt){if(ft=!1,gt(Rt),!dt)if(a(rt)!==null)dt=!0,Lt(At);else{var $t=a(it);$t!==null&&zt(bt,$t.startTime-Rt)}}function At(Rt,$t){dt=!1,ft&&(ft=!1,pt(Ct),Ct=-1),ut=!0;var Gt=ct;try{for(gt($t),at=a(rt);at!==null&&(!(at.expirationTime>$t)||Rt&&!Kt());){var Ft=at.callback;if(typeof Ft=="function"){at.callback=null,ct=at.priorityLevel;var wt=Ft(at.expirationTime<=$t);$t=$.unstable_now(),typeof wt=="function"?at.callback=wt:at===a(rt)&&j(rt),gt($t)}else j(rt);at=a(rt)}if(at!==null)var Ht=!0;else{var nn=a(it);nn!==null&&zt(bt,nn.startTime-$t),Ht=!1}return Ht}finally{at=null,ct=Gt,ut=!1}}var Tt=!1,Pt=null,Ct=-1,It=5,Vt=-1;function Kt(){return!($.unstable_now()-Vt<It)}function en(){if(Pt!==null){var Rt=$.unstable_now();Vt=Rt;var $t=!0;try{$t=Pt(!0,Rt)}finally{$t?kt():(Tt=!1,Pt=null)}}else Tt=!1}var kt;if(typeof yt=="function")kt=function(){yt(en)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,St=vt.port2;vt.port1.onmessage=en,kt=function(){St.postMessage(null)}}else kt=function(){ht(en,0)};function Lt(Rt){Pt=Rt,Tt||(Tt=!0,kt())}function zt(Rt,$t){Ct=ht(function(){Rt($.unstable_now())},$t)}$.unstable_IdlePriority=5,$.unstable_ImmediatePriority=1,$.unstable_LowPriority=4,$.unstable_NormalPriority=3,$.unstable_Profiling=null,$.unstable_UserBlockingPriority=2,$.unstable_cancelCallback=function(Rt){Rt.callback=null},$.unstable_continueExecution=function(){dt||ut||(dt=!0,Lt(At))},$.unstable_forceFrameRate=function(Rt){0>Rt||125<Rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):It=0<Rt?Math.floor(1e3/Rt):5},$.unstable_getCurrentPriorityLevel=function(){return ct},$.unstable_getFirstCallbackNode=function(){return a(rt)},$.unstable_next=function(Rt){switch(ct){case 1:case 2:case 3:var $t=3;break;default:$t=ct}var Gt=ct;ct=$t;try{return Rt()}finally{ct=Gt}},$.unstable_pauseExecution=function(){},$.unstable_requestPaint=function(){},$.unstable_runWithPriority=function(Rt,$t){switch(Rt){case 1:case 2:case 3:case 4:case 5:break;default:Rt=3}var Gt=ct;ct=Rt;try{return $t()}finally{ct=Gt}},$.unstable_scheduleCallback=function(Rt,$t,Gt){var Ft=$.unstable_now();switch(typeof Gt=="object"&&Gt!==null?(Gt=Gt.delay,Gt=typeof Gt=="number"&&0<Gt?Ft+Gt:Ft):Gt=Ft,Rt){case 1:var wt=-1;break;case 2:wt=250;break;case 5:wt=1073741823;break;case 4:wt=1e4;break;default:wt=5e3}return wt=Gt+wt,Rt={id:ot++,callback:$t,priorityLevel:Rt,startTime:Gt,expirationTime:wt,sortIndex:-1},Gt>Ft?(Rt.sortIndex=Gt,o(it,Rt),a(rt)===null&&Rt===a(it)&&(ft?(pt(Ct),Ct=-1):ft=!0,zt(bt,Gt-Ft))):(Rt.sortIndex=wt,o(rt,Rt),dt||ut||(dt=!0,Lt(At))),Rt},$.unstable_shouldYield=Kt,$.unstable_wrapCallback=function(Rt){var $t=ct;return function(){var Gt=ct;ct=$t;try{return Rt.apply(this,arguments)}finally{ct=Gt}}}})(scheduler_production_min$2);(function($){$.exports=scheduler_production_min$2})(scheduler$2);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports$2;function p$3($){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+$,a=1;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+$+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa($,o){ha($,o),ha($+"Capture",o)}function ha($,o){for(ea[$]=o,$=0;$<o.length;$++)da.add(o[$])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa($){return ja.call(ma,$)?!0:ja.call(la,$)?!1:ka.test($)?ma[$]=!0:(la[$]=!0,!1)}function pa($,o,a,j){if(a!==null&&a.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return j?!1:a!==null?!a.acceptsBooleans:($=$.toLowerCase().slice(0,5),$!=="data-"&&$!=="aria-");default:return!1}}function qa($,o,a,j){if(o===null||typeof o>"u"||pa($,o,a,j))return!0;if(j)return!1;if(a!==null)switch(a.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v$2($,o,a,j,_e,et,tt){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=j,this.attributeNamespace=_e,this.mustUseProperty=a,this.propertyName=$,this.type=o,this.sanitizeURL=et,this.removeEmptyString=tt}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function($){z$2[$]=new v$2($,0,!1,$,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function($){var o=$[0];z$2[o]=new v$2(o,1,!1,$[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function($){z$2[$]=new v$2($,2,!1,$.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function($){z$2[$]=new v$2($,2,!1,$,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function($){z$2[$]=new v$2($,3,!1,$.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function($){z$2[$]=new v$2($,3,!0,$,null,!1,!1)});["capture","download"].forEach(function($){z$2[$]=new v$2($,4,!1,$,null,!1,!1)});["cols","rows","size","span"].forEach(function($){z$2[$]=new v$2($,6,!1,$,null,!1,!1)});["rowSpan","start"].forEach(function($){z$2[$]=new v$2($,5,!1,$.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa($){return $[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function($){var o=$.replace(ra,sa);z$2[o]=new v$2(o,1,!1,$,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function($){var o=$.replace(ra,sa);z$2[o]=new v$2(o,1,!1,$,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function($){var o=$.replace(ra,sa);z$2[o]=new v$2(o,1,!1,$,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function($){z$2[$]=new v$2($,1,!1,$.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function($){z$2[$]=new v$2($,1,!1,$.toLowerCase(),null,!0,!0)});function ta($,o,a,j){var _e=z$2.hasOwnProperty(o)?z$2[o]:null;(_e!==null?_e.type!==0:j||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa(o,a,_e,j)&&(a=null),j||_e===null?oa(o)&&(a===null?$.removeAttribute(o):$.setAttribute(o,""+a)):_e.mustUseProperty?$[_e.propertyName]=a===null?_e.type===3?!1:"":a:(o=_e.attributeName,j=_e.attributeNamespace,a===null?$.removeAttribute(o):(_e=_e.type,a=_e===3||_e===4&&a===!0?"":""+a,j?$.setAttributeNS(j,o,a):$.setAttribute(o,a))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka($){return $===null||typeof $!="object"?null:($=Ja&&$[Ja]||$["@@iterator"],typeof $=="function"?$:null)}var A$1=Object.assign,La;function Ma($){if(La===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||""}return`
`+La+$}var Na=!1;function Oa($,o){if(!$||Na)return"";Na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(it){var j=it}Reflect.construct($,[],o)}else{try{o.call()}catch(it){j=it}$.call(o.prototype)}else{try{throw Error()}catch(it){j=it}$()}}catch(it){if(it&&j&&typeof it.stack=="string"){for(var _e=it.stack.split(`
`),et=j.stack.split(`
`),tt=_e.length-1,nt=et.length-1;1<=tt&&0<=nt&&_e[tt]!==et[nt];)nt--;for(;1<=tt&&0<=nt;tt--,nt--)if(_e[tt]!==et[nt]){if(tt!==1||nt!==1)do if(tt--,nt--,0>nt||_e[tt]!==et[nt]){var rt=`
`+_e[tt].replace(" at new "," at ");return $.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",$.displayName)),rt}while(1<=tt&&0<=nt);break}}}finally{Na=!1,Error.prepareStackTrace=a}return($=$?$.displayName||$.name:"")?Ma($):""}function Pa($){switch($.tag){case 5:return Ma($.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return $=Oa($.type,!1),$;case 11:return $=Oa($.type.render,!1),$;case 1:return $=Oa($.type,!0),$;default:return""}}function Qa($){if($==null)return null;if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $;switch($){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof $=="object")switch($.$$typeof){case Ca:return($.displayName||"Context")+".Consumer";case Ba:return($._context.displayName||"Context")+".Provider";case Da:var o=$.render;return $=$.displayName,$||($=o.displayName||o.name||"",$=$!==""?"ForwardRef("+$+")":"ForwardRef"),$;case Ga:return o=$.displayName||null,o!==null?o:Qa($.type)||"Memo";case Ha:o=$._payload,$=$._init;try{return Qa($(o))}catch{}}return null}function Ra($){var o=$.type;switch($.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return $=o.render,$=$.displayName||$.name||"",o.displayName||($!==""?"ForwardRef("+$+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(o);case 8:return o===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa($){switch(typeof $){case"boolean":case"number":case"string":case"undefined":return $;case"object":return $;default:return""}}function Ta($){var o=$.type;return($=$.nodeName)&&$.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua($){var o=Ta($)?"checked":"value",a=Object.getOwnPropertyDescriptor($.constructor.prototype,o),j=""+$[o];if(!$.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var _e=a.get,et=a.set;return Object.defineProperty($,o,{configurable:!0,get:function(){return _e.call(this)},set:function(tt){j=""+tt,et.call(this,tt)}}),Object.defineProperty($,o,{enumerable:a.enumerable}),{getValue:function(){return j},setValue:function(tt){j=""+tt},stopTracking:function(){$._valueTracker=null,delete $[o]}}}}function Va($){$._valueTracker||($._valueTracker=Ua($))}function Wa($){if(!$)return!1;var o=$._valueTracker;if(!o)return!0;var a=o.getValue(),j="";return $&&(j=Ta($)?$.checked?"true":"false":$.value),$=j,$!==a?(o.setValue($),!0):!1}function Xa($){if($=$||(typeof document<"u"?document:void 0),typeof $>"u")return null;try{return $.activeElement||$.body}catch{return $.body}}function Ya($,o){var a=o.checked;return A$1({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??$._wrapperState.initialChecked})}function Za($,o){var a=o.defaultValue==null?"":o.defaultValue,j=o.checked!=null?o.checked:o.defaultChecked;a=Sa(o.value!=null?o.value:a),$._wrapperState={initialChecked:j,initialValue:a,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab($,o){o=o.checked,o!=null&&ta($,"checked",o,!1)}function bb($,o){ab($,o);var a=Sa(o.value),j=o.type;if(a!=null)j==="number"?(a===0&&$.value===""||$.value!=a)&&($.value=""+a):$.value!==""+a&&($.value=""+a);else if(j==="submit"||j==="reset"){$.removeAttribute("value");return}o.hasOwnProperty("value")?cb($,o.type,a):o.hasOwnProperty("defaultValue")&&cb($,o.type,Sa(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&($.defaultChecked=!!o.defaultChecked)}function db($,o,a){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var j=o.type;if(!(j!=="submit"&&j!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+$._wrapperState.initialValue,a||o===$.value||($.value=o),$.defaultValue=o}a=$.name,a!==""&&($.name=""),$.defaultChecked=!!$._wrapperState.initialChecked,a!==""&&($.name=a)}function cb($,o,a){(o!=="number"||Xa($.ownerDocument)!==$)&&(a==null?$.defaultValue=""+$._wrapperState.initialValue:$.defaultValue!==""+a&&($.defaultValue=""+a))}var eb=Array.isArray;function fb($,o,a,j){if($=$.options,o){o={};for(var _e=0;_e<a.length;_e++)o["$"+a[_e]]=!0;for(a=0;a<$.length;a++)_e=o.hasOwnProperty("$"+$[a].value),$[a].selected!==_e&&($[a].selected=_e),_e&&j&&($[a].defaultSelected=!0)}else{for(a=""+Sa(a),o=null,_e=0;_e<$.length;_e++){if($[_e].value===a){$[_e].selected=!0,j&&($[_e].defaultSelected=!0);return}o!==null||$[_e].disabled||(o=$[_e])}o!==null&&(o.selected=!0)}}function gb($,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$3(91));return A$1({},o,{value:void 0,defaultValue:void 0,children:""+$._wrapperState.initialValue})}function hb($,o){var a=o.value;if(a==null){if(a=o.children,o=o.defaultValue,a!=null){if(o!=null)throw Error(p$3(92));if(eb(a)){if(1<a.length)throw Error(p$3(93));a=a[0]}o=a}o==null&&(o=""),a=o}$._wrapperState={initialValue:Sa(a)}}function ib($,o){var a=Sa(o.value),j=Sa(o.defaultValue);a!=null&&(a=""+a,a!==$.value&&($.value=a),o.defaultValue==null&&$.defaultValue!==a&&($.defaultValue=a)),j!=null&&($.defaultValue=""+j)}function jb($){var o=$.textContent;o===$._wrapperState.initialValue&&o!==""&&o!==null&&($.value=o)}function kb($){switch($){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb($,o){return $==null||$==="http://www.w3.org/1999/xhtml"?kb(o):$==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":$}var mb,nb=function($){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,a,j,_e){MSApp.execUnsafeLocalFunction(function(){return $(o,a,j,_e)})}:$}(function($,o){if($.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in $)$.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;$.firstChild;)$.removeChild($.firstChild);for(;o.firstChild;)$.appendChild(o.firstChild)}});function ob($,o){if(o){var a=$.firstChild;if(a&&a===$.lastChild&&a.nodeType===3){a.nodeValue=o;return}}$.textContent=o}var pb$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb$1).forEach(function($){qb.forEach(function(o){o=o+$.charAt(0).toUpperCase()+$.substring(1),pb$1[o]=pb$1[$]})});function rb($,o,a){return o==null||typeof o=="boolean"||o===""?"":a||typeof o!="number"||o===0||pb$1.hasOwnProperty($)&&pb$1[$]?(""+o).trim():o+"px"}function sb($,o){$=$.style;for(var a in o)if(o.hasOwnProperty(a)){var j=a.indexOf("--")===0,_e=rb(a,o[a],j);a==="float"&&(a="cssFloat"),j?$.setProperty(a,_e):$[a]=_e}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub($,o){if(o){if(tb[$]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$3(137,$));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$3(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$3(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$3(62))}}function vb($,o){if($.indexOf("-")===-1)return typeof o.is=="string";switch($){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb($){return $=$.target||$.srcElement||window,$.correspondingUseElement&&($=$.correspondingUseElement),$.nodeType===3?$.parentNode:$}var yb=null,zb=null,Ab=null;function Bb($){if($=Cb($)){if(typeof yb!="function")throw Error(p$3(280));var o=$.stateNode;o&&(o=Db(o),yb($.stateNode,$.type,o))}}function Eb($){zb?Ab?Ab.push($):Ab=[$]:zb=$}function Fb(){if(zb){var $=zb,o=Ab;if(Ab=zb=null,Bb($),o)for($=0;$<o.length;$++)Bb(o[$])}}function Gb($,o){return $(o)}function Hb(){}var Ib=!1;function Jb($,o,a){if(Ib)return $(o,a);Ib=!0;try{return Gb($,o,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb($,o){var a=$.stateNode;if(a===null)return null;var j=Db(a);if(j===null)return null;a=j[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||($=$.type,j=!($==="button"||$==="input"||$==="select"||$==="textarea")),$=!j;break e;default:$=!1}if($)return null;if(a&&typeof a!="function")throw Error(p$3(231,o,typeof a));return a}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb($,o,a,j,_e,et,tt,nt,rt){var it=Array.prototype.slice.call(arguments,3);try{o.apply(a,it)}catch(ot){this.onError(ot)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function($){Ob=!0,Pb=$}};function Tb($,o,a,j,_e,et,tt,nt,rt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub($,o,a,j,_e,et,tt,nt,rt){if(Tb.apply(this,arguments),Ob){if(Ob){var it=Pb;Ob=!1,Pb=null}else throw Error(p$3(198));Qb||(Qb=!0,Rb=it)}}function Vb($){var o=$,a=$;if($.alternate)for(;o.return;)o=o.return;else{$=o;do o=$,o.flags&4098&&(a=o.return),$=o.return;while($)}return o.tag===3?a:null}function Wb($){if($.tag===13){var o=$.memoizedState;if(o===null&&($=$.alternate,$!==null&&(o=$.memoizedState)),o!==null)return o.dehydrated}return null}function Xb($){if(Vb($)!==$)throw Error(p$3(188))}function Yb($){var o=$.alternate;if(!o){if(o=Vb($),o===null)throw Error(p$3(188));return o!==$?null:$}for(var a=$,j=o;;){var _e=a.return;if(_e===null)break;var et=_e.alternate;if(et===null){if(j=_e.return,j!==null){a=j;continue}break}if(_e.child===et.child){for(et=_e.child;et;){if(et===a)return Xb(_e),$;if(et===j)return Xb(_e),o;et=et.sibling}throw Error(p$3(188))}if(a.return!==j.return)a=_e,j=et;else{for(var tt=!1,nt=_e.child;nt;){if(nt===a){tt=!0,a=_e,j=et;break}if(nt===j){tt=!0,j=_e,a=et;break}nt=nt.sibling}if(!tt){for(nt=et.child;nt;){if(nt===a){tt=!0,a=et,j=_e;break}if(nt===j){tt=!0,j=et,a=_e;break}nt=nt.sibling}if(!tt)throw Error(p$3(189))}}if(a.alternate!==j)throw Error(p$3(190))}if(a.tag!==3)throw Error(p$3(188));return a.stateNode.current===a?$:o}function Zb($){return $=Yb($),$!==null?$b($):null}function $b($){if($.tag===5||$.tag===6)return $;for($=$.child;$!==null;){var o=$b($);if(o!==null)return o;$=$.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc($){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,$,void 0,($.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc($){return $>>>=0,$===0?32:31-(pc($)/qc|0)|0}var rc=64,sc=4194304;function tc($){switch($&-$){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return $&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return $}}function uc($,o){var a=$.pendingLanes;if(a===0)return 0;var j=0,_e=$.suspendedLanes,et=$.pingedLanes,tt=a&268435455;if(tt!==0){var nt=tt&~_e;nt!==0?j=tc(nt):(et&=tt,et!==0&&(j=tc(et)))}else tt=a&~_e,tt!==0?j=tc(tt):et!==0&&(j=tc(et));if(j===0)return 0;if(o!==0&&o!==j&&!(o&_e)&&(_e=j&-j,et=o&-o,_e>=et||_e===16&&(et&4194240)!==0))return o;if(j&4&&(j|=a&16),o=$.entangledLanes,o!==0)for($=$.entanglements,o&=j;0<o;)a=31-oc(o),_e=1<<a,j|=$[a],o&=~_e;return j}function vc($,o){switch($){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc($,o){for(var a=$.suspendedLanes,j=$.pingedLanes,_e=$.expirationTimes,et=$.pendingLanes;0<et;){var tt=31-oc(et),nt=1<<tt,rt=_e[tt];rt===-1?(!(nt&a)||nt&j)&&(_e[tt]=vc(nt,o)):rt<=o&&($.expiredLanes|=nt),et&=~nt}}function xc($){return $=$.pendingLanes&-1073741825,$!==0?$:$&1073741824?1073741824:0}function yc(){var $=rc;return rc<<=1,!(rc&4194240)&&(rc=64),$}function zc($){for(var o=[],a=0;31>a;a++)o.push($);return o}function Ac($,o,a){$.pendingLanes|=o,o!==536870912&&($.suspendedLanes=0,$.pingedLanes=0),$=$.eventTimes,o=31-oc(o),$[o]=a}function Bc($,o){var a=$.pendingLanes&~o;$.pendingLanes=o,$.suspendedLanes=0,$.pingedLanes=0,$.expiredLanes&=o,$.mutableReadLanes&=o,$.entangledLanes&=o,o=$.entanglements;var j=$.eventTimes;for($=$.expirationTimes;0<a;){var _e=31-oc(a),et=1<<_e;o[_e]=0,j[_e]=-1,$[_e]=-1,a&=~et}}function Cc($,o){var a=$.entangledLanes|=o;for($=$.entanglements;a;){var j=31-oc(a),_e=1<<j;_e&o|$[j]&o&&($[j]|=o),a&=~_e}}var C=0;function Dc($){return $&=-$,1<$?4<$?$&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc($,o){switch($){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(o.pointerId)}}function Tc($,o,a,j,_e,et){return $===null||$.nativeEvent!==et?($={blockedOn:o,domEventName:a,eventSystemFlags:j,nativeEvent:et,targetContainers:[_e]},o!==null&&(o=Cb(o),o!==null&&Fc(o)),$):($.eventSystemFlags|=j,o=$.targetContainers,_e!==null&&o.indexOf(_e)===-1&&o.push(_e),$)}function Uc($,o,a,j,_e){switch(o){case"focusin":return Lc=Tc(Lc,$,o,a,j,_e),!0;case"dragenter":return Mc=Tc(Mc,$,o,a,j,_e),!0;case"mouseover":return Nc=Tc(Nc,$,o,a,j,_e),!0;case"pointerover":var et=_e.pointerId;return Oc.set(et,Tc(Oc.get(et)||null,$,o,a,j,_e)),!0;case"gotpointercapture":return et=_e.pointerId,Pc.set(et,Tc(Pc.get(et)||null,$,o,a,j,_e)),!0}return!1}function Vc($){var o=Wc($.target);if(o!==null){var a=Vb(o);if(a!==null){if(o=a.tag,o===13){if(o=Wb(a),o!==null){$.blockedOn=o,Ic($.priority,function(){Gc(a)});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){$.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}$.blockedOn=null}function Xc($){if($.blockedOn!==null)return!1;for(var o=$.targetContainers;0<o.length;){var a=Yc($.domEventName,$.eventSystemFlags,o[0],$.nativeEvent);if(a===null){a=$.nativeEvent;var j=new a.constructor(a.type,a);wb=j,a.target.dispatchEvent(j),wb=null}else return o=Cb(a),o!==null&&Fc(o),$.blockedOn=a,!1;o.shift()}return!0}function Zc($,o,a){Xc($)&&a.delete(o)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad($,o){$.blockedOn===o&&($.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd($){function o(_e){return ad(_e,$)}if(0<Kc.length){ad(Kc[0],$);for(var a=1;a<Kc.length;a++){var j=Kc[a];j.blockedOn===$&&(j.blockedOn=null)}}for(Lc!==null&&ad(Lc,$),Mc!==null&&ad(Mc,$),Nc!==null&&ad(Nc,$),Oc.forEach(o),Pc.forEach(o),a=0;a<Qc.length;a++)j=Qc[a],j.blockedOn===$&&(j.blockedOn=null);for(;0<Qc.length&&(a=Qc[0],a.blockedOn===null);)Vc(a),a.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed($,o,a,j){var _e=C,et=cd.transition;cd.transition=null;try{C=1,fd($,o,a,j)}finally{C=_e,cd.transition=et}}function gd($,o,a,j){var _e=C,et=cd.transition;cd.transition=null;try{C=4,fd($,o,a,j)}finally{C=_e,cd.transition=et}}function fd($,o,a,j){if(dd){var _e=Yc($,o,a,j);if(_e===null)hd($,o,j,id$2,a),Sc($,j);else if(Uc(_e,$,o,a,j))j.stopPropagation();else if(Sc($,j),o&4&&-1<Rc.indexOf($)){for(;_e!==null;){var et=Cb(_e);if(et!==null&&Ec(et),et=Yc($,o,a,j),et===null&&hd($,o,j,id$2,a),et===_e)break;_e=et}_e!==null&&j.stopPropagation()}else hd($,o,j,null,a)}}var id$2=null;function Yc($,o,a,j){if(id$2=null,$=xb(j),$=Wc($),$!==null)if(o=Vb($),o===null)$=null;else if(a=o.tag,a===13){if($=Wb(o),$!==null)return $;$=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;$=null}else o!==$&&($=null);return id$2=$,null}function jd($){switch($){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var $,o=ld,a=o.length,j,_e="value"in kd?kd.value:kd.textContent,et=_e.length;for($=0;$<a&&o[$]===_e[$];$++);var tt=a-$;for(j=1;j<=tt&&o[a-j]===_e[et-j];j++);return md=_e.slice($,1<j?1-j:void 0)}function od($){var o=$.keyCode;return"charCode"in $?($=$.charCode,$===0&&o===13&&($=13)):$=o,$===10&&($=13),32<=$||$===13?$:0}function pd(){return!0}function qd(){return!1}function rd($){function o(a,j,_e,et,tt){this._reactName=a,this._targetInst=_e,this.type=j,this.nativeEvent=et,this.target=tt,this.currentTarget=null;for(var nt in $)$.hasOwnProperty(nt)&&(a=$[nt],this[nt]=a?a(et):et[nt]);return this.isDefaultPrevented=(et.defaultPrevented!=null?et.defaultPrevented:et.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function($){return $.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function($){return $.relatedTarget===void 0?$.fromElement===$.srcElement?$.toElement:$.fromElement:$.relatedTarget},movementX:function($){return"movementX"in $?$.movementX:($!==yd&&(yd&&$.type==="mousemove"?(wd=$.screenX-yd.screenX,xd=$.screenY-yd.screenY):xd=wd=0,yd=$),wd)},movementY:function($){return"movementY"in $?$.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function($){return"clipboardData"in $?$.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd($){var o=this.nativeEvent;return o.getModifierState?o.getModifierState($):($=Od[$])?!!o[$]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function($){if($.key){var o=Md[$.key]||$.key;if(o!=="Unidentified")return o}return $.type==="keypress"?($=od($),$===13?"Enter":String.fromCharCode($)):$.type==="keydown"||$.type==="keyup"?Nd[$.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function($){return $.type==="keypress"?od($):0},keyCode:function($){return $.type==="keydown"||$.type==="keyup"?$.keyCode:0},which:function($){return $.type==="keypress"?od($):$.type==="keydown"||$.type==="keyup"?$.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function($){return"deltaX"in $?$.deltaX:"wheelDeltaX"in $?-$.wheelDeltaX:0},deltaY:function($){return"deltaY"in $?$.deltaY:"wheelDeltaY"in $?-$.wheelDeltaY:"wheelDelta"in $?-$.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge($,o){switch($){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he($){return $=$.detail,typeof $=="object"&&"data"in $?$.data:null}var ie=!1;function je($,o){switch($){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(fe=!0,ee);case"textInput":return $=o.data,$===ee&&fe?null:$;default:return null}}function ke($,o){if(ie)return $==="compositionend"||!ae&&ge($,o)?($=nd(),md=ld=kd=null,ie=!1,$):null;switch($){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de&&o.locale!=="ko"?null:o.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me($){var o=$&&$.nodeName&&$.nodeName.toLowerCase();return o==="input"?!!le[$.type]:o==="textarea"}function ne($,o,a,j){Eb(j),o=oe(o,"onChange"),0<o.length&&(a=new td("onChange","change",null,a,j),$.push({event:a,listeners:o}))}var pe=null,qe=null;function re($){se($,0)}function te($){var o=ue($);if(Wa(o))return $}function ve($,o){if($==="change")return o}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be($){if($.propertyName==="value"&&te(qe)){var o=[];ne(o,qe,$,xb($)),Jb(re,o)}}function Ce($,o,a){$==="focusin"?(Ae(),pe=o,qe=a,pe.attachEvent("onpropertychange",Be)):$==="focusout"&&Ae()}function De($){if($==="selectionchange"||$==="keyup"||$==="keydown")return te(qe)}function Ee($,o){if($==="click")return te(o)}function Fe($,o){if($==="input"||$==="change")return te(o)}function Ge($,o){return $===o&&($!==0||1/$===1/o)||$!==$&&o!==o}var He=typeof Object.is=="function"?Object.is:Ge;function Ie($,o){if(He($,o))return!0;if(typeof $!="object"||$===null||typeof o!="object"||o===null)return!1;var a=Object.keys($),j=Object.keys(o);if(a.length!==j.length)return!1;for(j=0;j<a.length;j++){var _e=a[j];if(!ja.call(o,_e)||!He($[_e],o[_e]))return!1}return!0}function Je($){for(;$&&$.firstChild;)$=$.firstChild;return $}function Ke($,o){var a=Je($);$=0;for(var j;a;){if(a.nodeType===3){if(j=$+a.textContent.length,$<=o&&j>=o)return{node:a,offset:o-$};$=j}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je(a)}}function Le($,o){return $&&o?$===o?!0:$&&$.nodeType===3?!1:o&&o.nodeType===3?Le($,o.parentNode):"contains"in $?$.contains(o):$.compareDocumentPosition?!!($.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var $=window,o=Xa();o instanceof $.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)$=o.contentWindow;else break;o=Xa($.document)}return o}function Ne($){var o=$&&$.nodeName&&$.nodeName.toLowerCase();return o&&(o==="input"&&($.type==="text"||$.type==="search"||$.type==="tel"||$.type==="url"||$.type==="password")||o==="textarea"||$.contentEditable==="true")}function Oe($){var o=Me(),a=$.focusedElem,j=$.selectionRange;if(o!==a&&a&&a.ownerDocument&&Le(a.ownerDocument.documentElement,a)){if(j!==null&&Ne(a)){if(o=j.start,$=j.end,$===void 0&&($=o),"selectionStart"in a)a.selectionStart=o,a.selectionEnd=Math.min($,a.value.length);else if($=(o=a.ownerDocument||document)&&o.defaultView||window,$.getSelection){$=$.getSelection();var _e=a.textContent.length,et=Math.min(j.start,_e);j=j.end===void 0?et:Math.min(j.end,_e),!$.extend&&et>j&&(_e=j,j=et,et=_e),_e=Ke(a,et);var tt=Ke(a,j);_e&&tt&&($.rangeCount!==1||$.anchorNode!==_e.node||$.anchorOffset!==_e.offset||$.focusNode!==tt.node||$.focusOffset!==tt.offset)&&(o=o.createRange(),o.setStart(_e.node,_e.offset),$.removeAllRanges(),et>j?($.addRange(o),$.extend(tt.node,tt.offset)):(o.setEnd(tt.node,tt.offset),$.addRange(o)))}}for(o=[],$=a;$=$.parentNode;)$.nodeType===1&&o.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<o.length;a++)$=o[a],$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue($,o,a){var j=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te||Qe==null||Qe!==Xa(j)||(j=Qe,"selectionStart"in j&&Ne(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Se&&Ie(Se,j)||(Se=j,j=oe(Re,"onSelect"),0<j.length&&(o=new td("onSelect","select",null,o,a),$.push({event:o,listeners:j}),o.target=Qe)))}function Ve($,o){var a={};return a[$.toLowerCase()]=o.toLowerCase(),a["Webkit"+$]="webkit"+o,a["Moz"+$]="moz"+o,a}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze($){if(Xe[$])return Xe[$];if(!We[$])return $;var o=We[$],a;for(a in o)if(o.hasOwnProperty(a)&&a in Ye)return Xe[$]=o[a];return $}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff($,o){df.set($,o),fa(o,[$])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf($,o,a){var j=$.type||"unknown-event";$.currentTarget=a,Ub(j,o,void 0,$),$.currentTarget=null}function se($,o){o=(o&4)!==0;for(var a=0;a<$.length;a++){var j=$[a],_e=j.event;j=j.listeners;e:{var et=void 0;if(o)for(var tt=j.length-1;0<=tt;tt--){var nt=j[tt],rt=nt.instance,it=nt.currentTarget;if(nt=nt.listener,rt!==et&&_e.isPropagationStopped())break e;nf(_e,nt,it),et=rt}else for(tt=0;tt<j.length;tt++){if(nt=j[tt],rt=nt.instance,it=nt.currentTarget,nt=nt.listener,rt!==et&&_e.isPropagationStopped())break e;nf(_e,nt,it),et=rt}}}if(Qb)throw $=Rb,Qb=!1,Rb=null,$}function D($,o){var a=o[of];a===void 0&&(a=o[of]=new Set);var j=$+"__bubble";a.has(j)||(pf(o,$,2,!1),a.add(j))}function qf($,o,a){var j=0;o&&(j|=4),pf(a,$,j,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf($){if(!$[rf]){$[rf]=!0,da.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,$),qf(a,!0,$))});var o=$.nodeType===9?$:$.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf($,o,a,j){switch(jd(o)){case 1:var _e=ed;break;case 4:_e=gd;break;default:_e=fd}a=_e.bind(null,o,a,$),_e=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_e=!0),j?_e!==void 0?$.addEventListener(o,a,{capture:!0,passive:_e}):$.addEventListener(o,a,!0):_e!==void 0?$.addEventListener(o,a,{passive:_e}):$.addEventListener(o,a,!1)}function hd($,o,a,j,_e){var et=j;if(!(o&1)&&!(o&2)&&j!==null)e:for(;;){if(j===null)return;var tt=j.tag;if(tt===3||tt===4){var nt=j.stateNode.containerInfo;if(nt===_e||nt.nodeType===8&&nt.parentNode===_e)break;if(tt===4)for(tt=j.return;tt!==null;){var rt=tt.tag;if((rt===3||rt===4)&&(rt=tt.stateNode.containerInfo,rt===_e||rt.nodeType===8&&rt.parentNode===_e))return;tt=tt.return}for(;nt!==null;){if(tt=Wc(nt),tt===null)return;if(rt=tt.tag,rt===5||rt===6){j=et=tt;continue e}nt=nt.parentNode}}j=j.return}Jb(function(){var it=et,ot=xb(a),at=[];e:{var ct=df.get($);if(ct!==void 0){var ut=td,dt=$;switch($){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":ut=Rd;break;case"focusin":dt="focus",ut=Fd;break;case"focusout":dt="blur",ut=Fd;break;case"beforeblur":case"afterblur":ut=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=Vd;break;case $e:case af:case bf:ut=Hd;break;case cf:ut=Xd;break;case"scroll":ut=vd;break;case"wheel":ut=Zd;break;case"copy":case"cut":case"paste":ut=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=Td}var ft=(o&4)!==0,ht=!ft&&$==="scroll",pt=ft?ct!==null?ct+"Capture":null:ct;ft=[];for(var yt=it,gt;yt!==null;){gt=yt;var bt=gt.stateNode;if(gt.tag===5&&bt!==null&&(gt=bt,pt!==null&&(bt=Kb(yt,pt),bt!=null&&ft.push(tf(yt,bt,gt)))),ht)break;yt=yt.return}0<ft.length&&(ct=new ut(ct,dt,null,a,ot),at.push({event:ct,listeners:ft}))}}if(!(o&7)){e:{if(ct=$==="mouseover"||$==="pointerover",ut=$==="mouseout"||$==="pointerout",ct&&a!==wb&&(dt=a.relatedTarget||a.fromElement)&&(Wc(dt)||dt[uf]))break e;if((ut||ct)&&(ct=ot.window===ot?ot:(ct=ot.ownerDocument)?ct.defaultView||ct.parentWindow:window,ut?(dt=a.relatedTarget||a.toElement,ut=it,dt=dt?Wc(dt):null,dt!==null&&(ht=Vb(dt),dt!==ht||dt.tag!==5&&dt.tag!==6)&&(dt=null)):(ut=null,dt=it),ut!==dt)){if(ft=Bd,bt="onMouseLeave",pt="onMouseEnter",yt="mouse",($==="pointerout"||$==="pointerover")&&(ft=Td,bt="onPointerLeave",pt="onPointerEnter",yt="pointer"),ht=ut==null?ct:ue(ut),gt=dt==null?ct:ue(dt),ct=new ft(bt,yt+"leave",ut,a,ot),ct.target=ht,ct.relatedTarget=gt,bt=null,Wc(ot)===it&&(ft=new ft(pt,yt+"enter",dt,a,ot),ft.target=gt,ft.relatedTarget=ht,bt=ft),ht=bt,ut&&dt)t:{for(ft=ut,pt=dt,yt=0,gt=ft;gt;gt=vf(gt))yt++;for(gt=0,bt=pt;bt;bt=vf(bt))gt++;for(;0<yt-gt;)ft=vf(ft),yt--;for(;0<gt-yt;)pt=vf(pt),gt--;for(;yt--;){if(ft===pt||pt!==null&&ft===pt.alternate)break t;ft=vf(ft),pt=vf(pt)}ft=null}else ft=null;ut!==null&&wf(at,ct,ut,ft,!1),dt!==null&&ht!==null&&wf(at,ht,dt,ft,!0)}}e:{if(ct=it?ue(it):window,ut=ct.nodeName&&ct.nodeName.toLowerCase(),ut==="select"||ut==="input"&&ct.type==="file")var At=ve;else if(me(ct))if(we)At=Fe;else{At=De;var Tt=Ce}else(ut=ct.nodeName)&&ut.toLowerCase()==="input"&&(ct.type==="checkbox"||ct.type==="radio")&&(At=Ee);if(At&&(At=At($,it))){ne(at,At,a,ot);break e}Tt&&Tt($,ct,it),$==="focusout"&&(Tt=ct._wrapperState)&&Tt.controlled&&ct.type==="number"&&cb(ct,"number",ct.value)}switch(Tt=it?ue(it):window,$){case"focusin":(me(Tt)||Tt.contentEditable==="true")&&(Qe=Tt,Re=it,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(at,a,ot);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(at,a,ot)}var Pt;if(ae)e:{switch($){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else ie?ge($,a)&&(Ct="onCompositionEnd"):$==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(de&&a.locale!=="ko"&&(ie||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ie&&(Pt=nd()):(kd=ot,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Tt=oe(it,Ct),0<Tt.length&&(Ct=new Ld(Ct,$,null,a,ot),at.push({event:Ct,listeners:Tt}),Pt?Ct.data=Pt:(Pt=he(a),Pt!==null&&(Ct.data=Pt)))),(Pt=ce?je($,a):ke($,a))&&(it=oe(it,"onBeforeInput"),0<it.length&&(ot=new Ld("onBeforeInput","beforeinput",null,a,ot),at.push({event:ot,listeners:it}),ot.data=Pt))}se(at,o)})}function tf($,o,a){return{instance:$,listener:o,currentTarget:a}}function oe($,o){for(var a=o+"Capture",j=[];$!==null;){var _e=$,et=_e.stateNode;_e.tag===5&&et!==null&&(_e=et,et=Kb($,a),et!=null&&j.unshift(tf($,et,_e)),et=Kb($,o),et!=null&&j.push(tf($,et,_e))),$=$.return}return j}function vf($){if($===null)return null;do $=$.return;while($&&$.tag!==5);return $||null}function wf($,o,a,j,_e){for(var et=o._reactName,tt=[];a!==null&&a!==j;){var nt=a,rt=nt.alternate,it=nt.stateNode;if(rt!==null&&rt===j)break;nt.tag===5&&it!==null&&(nt=it,_e?(rt=Kb(a,et),rt!=null&&tt.unshift(tf(a,rt,nt))):_e||(rt=Kb(a,et),rt!=null&&tt.push(tf(a,rt,nt)))),a=a.return}tt.length!==0&&$.push({event:o,listeners:tt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf($){return(typeof $=="string"?$:""+$).replace(xf,`
`).replace(yf,"")}function Af($,o,a){if(o=zf(o),zf($)!==o&&a)throw Error(p$3(425))}function Bf(){}var Cf=null,Df=null;function Ef($,o){return $==="textarea"||$==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function($){return Hf.resolve(null).then($).catch(If)}:Ff;function If($){setTimeout(function(){throw $})}function Kf($,o){var a=o,j=0;do{var _e=a.nextSibling;if($.removeChild(a),_e&&_e.nodeType===8)if(a=_e.data,a==="/$"){if(j===0){$.removeChild(_e),bd(o);return}j--}else a!=="$"&&a!=="$?"&&a!=="$!"||j++;a=_e}while(a);bd(o)}function Lf($){for(;$!=null;$=$.nextSibling){var o=$.nodeType;if(o===1||o===3)break;if(o===8){if(o=$.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return $}function Mf($){$=$.previousSibling;for(var o=0;$;){if($.nodeType===8){var a=$.data;if(a==="$"||a==="$!"||a==="$?"){if(o===0)return $;o--}else a==="/$"&&o++}$=$.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc($){var o=$[Of];if(o)return o;for(var a=$.parentNode;a;){if(o=a[uf]||a[Of]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for($=Mf($);$!==null;){if(a=$[Of])return a;$=Mf($)}return o}$=a,a=$.parentNode}return null}function Cb($){return $=$[Of]||$[uf],!$||$.tag!==5&&$.tag!==6&&$.tag!==13&&$.tag!==3?null:$}function ue($){if($.tag===5||$.tag===6)return $.stateNode;throw Error(p$3(33))}function Db($){return $[Pf]||null}var Sf=[],Tf=-1;function Uf($){return{current:$}}function E($){0>Tf||($.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G($,o){Tf++,Sf[Tf]=$.current,$.current=o}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf($,o){var a=$.type.contextTypes;if(!a)return Vf;var j=$.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===o)return j.__reactInternalMemoizedMaskedChildContext;var _e={},et;for(et in a)_e[et]=o[et];return j&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=o,$.__reactInternalMemoizedMaskedChildContext=_e),_e}function Zf($){return $=$.childContextTypes,$!=null}function $f(){E(Wf),E(H)}function ag($,o,a){if(H.current!==Vf)throw Error(p$3(168));G(H,o),G(Wf,a)}function bg($,o,a){var j=$.stateNode;if(o=o.childContextTypes,typeof j.getChildContext!="function")return a;j=j.getChildContext();for(var _e in j)if(!(_e in o))throw Error(p$3(108,Ra($)||"Unknown",_e));return A$1({},a,j)}function cg($){return $=($=$.stateNode)&&$.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,$),G(Wf,Wf.current),!0}function dg($,o,a){var j=$.stateNode;if(!j)throw Error(p$3(169));a?($=bg($,o,Xf),j.__reactInternalMemoizedMergedChildContext=$,E(Wf),E(H),G(H,$)):E(Wf),G(Wf,a)}var eg=null,fg=!1,gg=!1;function hg($){eg===null?eg=[$]:eg.push($)}function ig($){fg=!0,hg($)}function jg(){if(!gg&&eg!==null){gg=!0;var $=0,o=C;try{var a=eg;for(C=1;$<a.length;$++){var j=a[$];do j=j(!0);while(j!==null)}eg=null,fg=!1}catch(_e){throw eg!==null&&(eg=eg.slice($+1)),ac(fc,jg),_e}finally{C=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg($,o){kg[lg++]=ng,kg[lg++]=mg,mg=$,ng=o}function ug($,o,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=$;var j=rg;$=sg;var _e=32-oc(j)-1;j&=~(1<<_e),a+=1;var et=32-oc(o)+_e;if(30<et){var tt=_e-_e%5;et=(j&(1<<tt)-1).toString(32),j>>=tt,_e-=tt,rg=1<<32-oc(o)+_e|a<<_e|j,sg=et+$}else rg=1<<et|a<<_e|j,sg=$}function vg($){$.return!==null&&(tg($,1),ug($,1,0))}function wg($){for(;$===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;$===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag($,o){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=o,a.return=$,o=$.deletions,o===null?($.deletions=[a],$.flags|=16):o.push(a)}function Cg($,o){switch($.tag){case 5:var a=$.type;return o=o.nodeType!==1||a.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?($.stateNode=o,xg=$,yg=Lf(o.firstChild),!0):!1;case 6:return o=$.pendingProps===""||o.nodeType!==3?null:o,o!==null?($.stateNode=o,xg=$,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(a=qg!==null?{id:rg,overflow:sg}:null,$.memoizedState={dehydrated:o,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=o,a.return=$,$.child=a,xg=$,yg=null,!0):!1;default:return!1}}function Dg($){return($.mode&1)!==0&&($.flags&128)===0}function Eg($){if(I){var o=yg;if(o){var a=o;if(!Cg($,o)){if(Dg($))throw Error(p$3(418));o=Lf(a.nextSibling);var j=xg;o&&Cg($,o)?Ag(j,a):($.flags=$.flags&-4097|2,I=!1,xg=$)}}else{if(Dg($))throw Error(p$3(418));$.flags=$.flags&-4097|2,I=!1,xg=$}}}function Fg($){for($=$.return;$!==null&&$.tag!==5&&$.tag!==3&&$.tag!==13;)$=$.return;xg=$}function Gg($){if($!==xg)return!1;if(!I)return Fg($),I=!0,!1;var o;if((o=$.tag!==3)&&!(o=$.tag!==5)&&(o=$.type,o=o!=="head"&&o!=="body"&&!Ef($.type,$.memoizedProps)),o&&(o=yg)){if(Dg($))throw Hg(),Error(p$3(418));for(;o;)Ag($,o),o=Lf(o.nextSibling)}if(Fg($),$.tag===13){if($=$.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(p$3(317));e:{for($=$.nextSibling,o=0;$;){if($.nodeType===8){var a=$.data;if(a==="/$"){if(o===0){yg=Lf($.nextSibling);break e}o--}else a!=="$"&&a!=="$!"&&a!=="$?"||o++}$=$.nextSibling}yg=null}}else yg=xg?Lf($.stateNode.nextSibling):null;return!0}function Hg(){for(var $=yg;$;)$=Lf($.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg($){zg===null?zg=[$]:zg.push($)}var Kg=ua.ReactCurrentBatchConfig;function Lg($,o){if($&&$.defaultProps){o=A$1({},o),$=$.defaultProps;for(var a in $)o[a]===void 0&&(o[a]=$[a]);return o}return o}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg($){var o=Mg.current;E(Mg),$._currentValue=o}function Sg($,o,a){for(;$!==null;){var j=$.alternate;if(($.childLanes&o)!==o?($.childLanes|=o,j!==null&&(j.childLanes|=o)):j!==null&&(j.childLanes&o)!==o&&(j.childLanes|=o),$===a)break;$=$.return}}function Tg($,o){Ng=$,Pg=Og=null,$=$.dependencies,$!==null&&$.firstContext!==null&&($.lanes&o&&(Ug=!0),$.firstContext=null)}function Vg($){var o=$._currentValue;if(Pg!==$)if($={context:$,memoizedValue:o,next:null},Og===null){if(Ng===null)throw Error(p$3(308));Og=$,Ng.dependencies={lanes:0,firstContext:$}}else Og=Og.next=$;return o}var Wg=null;function Xg($){Wg===null?Wg=[$]:Wg.push($)}function Yg($,o,a,j){var _e=o.interleaved;return _e===null?(a.next=a,Xg(o)):(a.next=_e.next,_e.next=a),o.interleaved=a,Zg($,j)}function Zg($,o){$.lanes|=o;var a=$.alternate;for(a!==null&&(a.lanes|=o),a=$,$=$.return;$!==null;)$.childLanes|=o,a=$.alternate,a!==null&&(a.childLanes|=o),a=$,$=$.return;return a.tag===3?a.stateNode:null}var $g=!1;function ah($){$.updateQueue={baseState:$.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh($,o){$=$.updateQueue,o.updateQueue===$&&(o.updateQueue={baseState:$.baseState,firstBaseUpdate:$.firstBaseUpdate,lastBaseUpdate:$.lastBaseUpdate,shared:$.shared,effects:$.effects})}function ch($,o){return{eventTime:$,lane:o,tag:0,payload:null,callback:null,next:null}}function dh($,o,a){var j=$.updateQueue;if(j===null)return null;if(j=j.shared,K$1&2){var _e=j.pending;return _e===null?o.next=o:(o.next=_e.next,_e.next=o),j.pending=o,Zg($,a)}return _e=j.interleaved,_e===null?(o.next=o,Xg(j)):(o.next=_e.next,_e.next=o),j.interleaved=o,Zg($,a)}function eh($,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194240)!==0)){var j=o.lanes;j&=$.pendingLanes,a|=j,o.lanes=a,Cc($,a)}}function fh($,o){var a=$.updateQueue,j=$.alternate;if(j!==null&&(j=j.updateQueue,a===j)){var _e=null,et=null;if(a=a.firstBaseUpdate,a!==null){do{var tt={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};et===null?_e=et=tt:et=et.next=tt,a=a.next}while(a!==null);et===null?_e=et=o:et=et.next=o}else _e=et=o;a={baseState:j.baseState,firstBaseUpdate:_e,lastBaseUpdate:et,shared:j.shared,effects:j.effects},$.updateQueue=a;return}$=a.lastBaseUpdate,$===null?a.firstBaseUpdate=o:$.next=o,a.lastBaseUpdate=o}function gh($,o,a,j){var _e=$.updateQueue;$g=!1;var et=_e.firstBaseUpdate,tt=_e.lastBaseUpdate,nt=_e.shared.pending;if(nt!==null){_e.shared.pending=null;var rt=nt,it=rt.next;rt.next=null,tt===null?et=it:tt.next=it,tt=rt;var ot=$.alternate;ot!==null&&(ot=ot.updateQueue,nt=ot.lastBaseUpdate,nt!==tt&&(nt===null?ot.firstBaseUpdate=it:nt.next=it,ot.lastBaseUpdate=rt))}if(et!==null){var at=_e.baseState;tt=0,ot=it=rt=null,nt=et;do{var ct=nt.lane,ut=nt.eventTime;if((j&ct)===ct){ot!==null&&(ot=ot.next={eventTime:ut,lane:0,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null});e:{var dt=$,ft=nt;switch(ct=o,ut=a,ft.tag){case 1:if(dt=ft.payload,typeof dt=="function"){at=dt.call(ut,at,ct);break e}at=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=ft.payload,ct=typeof dt=="function"?dt.call(ut,at,ct):dt,ct==null)break e;at=A$1({},at,ct);break e;case 2:$g=!0}}nt.callback!==null&&nt.lane!==0&&($.flags|=64,ct=_e.effects,ct===null?_e.effects=[nt]:ct.push(nt))}else ut={eventTime:ut,lane:ct,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},ot===null?(it=ot=ut,rt=at):ot=ot.next=ut,tt|=ct;if(nt=nt.next,nt===null){if(nt=_e.shared.pending,nt===null)break;ct=nt,nt=ct.next,ct.next=null,_e.lastBaseUpdate=ct,_e.shared.pending=null}}while(1);if(ot===null&&(rt=at),_e.baseState=rt,_e.firstBaseUpdate=it,_e.lastBaseUpdate=ot,o=_e.shared.interleaved,o!==null){_e=o;do tt|=_e.lane,_e=_e.next;while(_e!==o)}else et===null&&(_e.shared.lanes=0);hh|=tt,$.lanes=tt,$.memoizedState=at}}function ih($,o,a){if($=o.effects,o.effects=null,$!==null)for(o=0;o<$.length;o++){var j=$[o],_e=j.callback;if(_e!==null){if(j.callback=null,j=a,typeof _e!="function")throw Error(p$3(191,_e));_e.call(j)}}}var jh=new aa.Component().refs;function kh($,o,a,j){o=$.memoizedState,a=a(j,o),a=a==null?o:A$1({},o,a),$.memoizedState=a,$.lanes===0&&($.updateQueue.baseState=a)}var nh={isMounted:function($){return($=$._reactInternals)?Vb($)===$:!1},enqueueSetState:function($,o,a){$=$._reactInternals;var j=L(),_e=lh($),et=ch(j,_e);et.payload=o,a!=null&&(et.callback=a),o=dh($,et,_e),o!==null&&(mh(o,$,_e,j),eh(o,$,_e))},enqueueReplaceState:function($,o,a){$=$._reactInternals;var j=L(),_e=lh($),et=ch(j,_e);et.tag=1,et.payload=o,a!=null&&(et.callback=a),o=dh($,et,_e),o!==null&&(mh(o,$,_e,j),eh(o,$,_e))},enqueueForceUpdate:function($,o){$=$._reactInternals;var a=L(),j=lh($),_e=ch(a,j);_e.tag=2,o!=null&&(_e.callback=o),o=dh($,_e,j),o!==null&&(mh(o,$,j,a),eh(o,$,j))}};function oh($,o,a,j,_e,et,tt){return $=$.stateNode,typeof $.shouldComponentUpdate=="function"?$.shouldComponentUpdate(j,et,tt):o.prototype&&o.prototype.isPureReactComponent?!Ie(a,j)||!Ie(_e,et):!0}function ph($,o,a){var j=!1,_e=Vf,et=o.contextType;return typeof et=="object"&&et!==null?et=Vg(et):(_e=Zf(o)?Xf:H.current,j=o.contextTypes,et=(j=j!=null)?Yf($,_e):Vf),o=new o(a,et),$.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nh,$.stateNode=o,o._reactInternals=$,j&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=_e,$.__reactInternalMemoizedMaskedChildContext=et),o}function qh($,o,a,j){$=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,j),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,j),o.state!==$&&nh.enqueueReplaceState(o,o.state,null)}function rh$1($,o,a,j){var _e=$.stateNode;_e.props=a,_e.state=$.memoizedState,_e.refs=jh,ah($);var et=o.contextType;typeof et=="object"&&et!==null?_e.context=Vg(et):(et=Zf(o)?Xf:H.current,_e.context=Yf($,et)),_e.state=$.memoizedState,et=o.getDerivedStateFromProps,typeof et=="function"&&(kh($,o,et,a),_e.state=$.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _e.getSnapshotBeforeUpdate=="function"||typeof _e.UNSAFE_componentWillMount!="function"&&typeof _e.componentWillMount!="function"||(o=_e.state,typeof _e.componentWillMount=="function"&&_e.componentWillMount(),typeof _e.UNSAFE_componentWillMount=="function"&&_e.UNSAFE_componentWillMount(),o!==_e.state&&nh.enqueueReplaceState(_e,_e.state,null),gh($,a,_e,j),_e.state=$.memoizedState),typeof _e.componentDidMount=="function"&&($.flags|=4194308)}function sh$1($,o,a){if($=a.ref,$!==null&&typeof $!="function"&&typeof $!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p$3(309));var j=a.stateNode}if(!j)throw Error(p$3(147,$));var _e=j,et=""+$;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===et?o.ref:(o=function(tt){var nt=_e.refs;nt===jh&&(nt=_e.refs={}),tt===null?delete nt[et]:nt[et]=tt},o._stringRef=et,o)}if(typeof $!="string")throw Error(p$3(284));if(!a._owner)throw Error(p$3(290,$))}return $}function th($,o){throw $=Object.prototype.toString.call(o),Error(p$3(31,$==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":$))}function uh($){var o=$._init;return o($._payload)}function vh($){function o(pt,yt){if($){var gt=pt.deletions;gt===null?(pt.deletions=[yt],pt.flags|=16):gt.push(yt)}}function a(pt,yt){if(!$)return null;for(;yt!==null;)o(pt,yt),yt=yt.sibling;return null}function j(pt,yt){for(pt=new Map;yt!==null;)yt.key!==null?pt.set(yt.key,yt):pt.set(yt.index,yt),yt=yt.sibling;return pt}function _e(pt,yt){return pt=wh(pt,yt),pt.index=0,pt.sibling=null,pt}function et(pt,yt,gt){return pt.index=gt,$?(gt=pt.alternate,gt!==null?(gt=gt.index,gt<yt?(pt.flags|=2,yt):gt):(pt.flags|=2,yt)):(pt.flags|=1048576,yt)}function tt(pt){return $&&pt.alternate===null&&(pt.flags|=2),pt}function nt(pt,yt,gt,bt){return yt===null||yt.tag!==6?(yt=xh(gt,pt.mode,bt),yt.return=pt,yt):(yt=_e(yt,gt),yt.return=pt,yt)}function rt(pt,yt,gt,bt){var At=gt.type;return At===ya?ot(pt,yt,gt.props.children,bt,gt.key):yt!==null&&(yt.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Ha&&uh(At)===yt.type)?(bt=_e(yt,gt.props),bt.ref=sh$1(pt,yt,gt),bt.return=pt,bt):(bt=yh(gt.type,gt.key,gt.props,null,pt.mode,bt),bt.ref=sh$1(pt,yt,gt),bt.return=pt,bt)}function it(pt,yt,gt,bt){return yt===null||yt.tag!==4||yt.stateNode.containerInfo!==gt.containerInfo||yt.stateNode.implementation!==gt.implementation?(yt=zh(gt,pt.mode,bt),yt.return=pt,yt):(yt=_e(yt,gt.children||[]),yt.return=pt,yt)}function ot(pt,yt,gt,bt,At){return yt===null||yt.tag!==7?(yt=Ah(gt,pt.mode,bt,At),yt.return=pt,yt):(yt=_e(yt,gt),yt.return=pt,yt)}function at(pt,yt,gt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return yt=xh(""+yt,pt.mode,gt),yt.return=pt,yt;if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return gt=yh(yt.type,yt.key,yt.props,null,pt.mode,gt),gt.ref=sh$1(pt,null,yt),gt.return=pt,gt;case wa:return yt=zh(yt,pt.mode,gt),yt.return=pt,yt;case Ha:var bt=yt._init;return at(pt,bt(yt._payload),gt)}if(eb(yt)||Ka(yt))return yt=Ah(yt,pt.mode,gt,null),yt.return=pt,yt;th(pt,yt)}return null}function ct(pt,yt,gt,bt){var At=yt!==null?yt.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number")return At!==null?null:nt(pt,yt,""+gt,bt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return gt.key===At?rt(pt,yt,gt,bt):null;case wa:return gt.key===At?it(pt,yt,gt,bt):null;case Ha:return At=gt._init,ct(pt,yt,At(gt._payload),bt)}if(eb(gt)||Ka(gt))return At!==null?null:ot(pt,yt,gt,bt,null);th(pt,gt)}return null}function ut(pt,yt,gt,bt,At){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return pt=pt.get(gt)||null,nt(yt,pt,""+bt,At);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:return pt=pt.get(bt.key===null?gt:bt.key)||null,rt(yt,pt,bt,At);case wa:return pt=pt.get(bt.key===null?gt:bt.key)||null,it(yt,pt,bt,At);case Ha:var Tt=bt._init;return ut(pt,yt,gt,Tt(bt._payload),At)}if(eb(bt)||Ka(bt))return pt=pt.get(gt)||null,ot(yt,pt,bt,At,null);th(yt,bt)}return null}function dt(pt,yt,gt,bt){for(var At=null,Tt=null,Pt=yt,Ct=yt=0,It=null;Pt!==null&&Ct<gt.length;Ct++){Pt.index>Ct?(It=Pt,Pt=null):It=Pt.sibling;var Vt=ct(pt,Pt,gt[Ct],bt);if(Vt===null){Pt===null&&(Pt=It);break}$&&Pt&&Vt.alternate===null&&o(pt,Pt),yt=et(Vt,yt,Ct),Tt===null?At=Vt:Tt.sibling=Vt,Tt=Vt,Pt=It}if(Ct===gt.length)return a(pt,Pt),I&&tg(pt,Ct),At;if(Pt===null){for(;Ct<gt.length;Ct++)Pt=at(pt,gt[Ct],bt),Pt!==null&&(yt=et(Pt,yt,Ct),Tt===null?At=Pt:Tt.sibling=Pt,Tt=Pt);return I&&tg(pt,Ct),At}for(Pt=j(pt,Pt);Ct<gt.length;Ct++)It=ut(Pt,pt,Ct,gt[Ct],bt),It!==null&&($&&It.alternate!==null&&Pt.delete(It.key===null?Ct:It.key),yt=et(It,yt,Ct),Tt===null?At=It:Tt.sibling=It,Tt=It);return $&&Pt.forEach(function(Kt){return o(pt,Kt)}),I&&tg(pt,Ct),At}function ft(pt,yt,gt,bt){var At=Ka(gt);if(typeof At!="function")throw Error(p$3(150));if(gt=At.call(gt),gt==null)throw Error(p$3(151));for(var Tt=At=null,Pt=yt,Ct=yt=0,It=null,Vt=gt.next();Pt!==null&&!Vt.done;Ct++,Vt=gt.next()){Pt.index>Ct?(It=Pt,Pt=null):It=Pt.sibling;var Kt=ct(pt,Pt,Vt.value,bt);if(Kt===null){Pt===null&&(Pt=It);break}$&&Pt&&Kt.alternate===null&&o(pt,Pt),yt=et(Kt,yt,Ct),Tt===null?At=Kt:Tt.sibling=Kt,Tt=Kt,Pt=It}if(Vt.done)return a(pt,Pt),I&&tg(pt,Ct),At;if(Pt===null){for(;!Vt.done;Ct++,Vt=gt.next())Vt=at(pt,Vt.value,bt),Vt!==null&&(yt=et(Vt,yt,Ct),Tt===null?At=Vt:Tt.sibling=Vt,Tt=Vt);return I&&tg(pt,Ct),At}for(Pt=j(pt,Pt);!Vt.done;Ct++,Vt=gt.next())Vt=ut(Pt,pt,Ct,Vt.value,bt),Vt!==null&&($&&Vt.alternate!==null&&Pt.delete(Vt.key===null?Ct:Vt.key),yt=et(Vt,yt,Ct),Tt===null?At=Vt:Tt.sibling=Vt,Tt=Vt);return $&&Pt.forEach(function(en){return o(pt,en)}),I&&tg(pt,Ct),At}function ht(pt,yt,gt,bt){if(typeof gt=="object"&&gt!==null&&gt.type===ya&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:e:{for(var At=gt.key,Tt=yt;Tt!==null;){if(Tt.key===At){if(At=gt.type,At===ya){if(Tt.tag===7){a(pt,Tt.sibling),yt=_e(Tt,gt.props.children),yt.return=pt,pt=yt;break e}}else if(Tt.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Ha&&uh(At)===Tt.type){a(pt,Tt.sibling),yt=_e(Tt,gt.props),yt.ref=sh$1(pt,Tt,gt),yt.return=pt,pt=yt;break e}a(pt,Tt);break}else o(pt,Tt);Tt=Tt.sibling}gt.type===ya?(yt=Ah(gt.props.children,pt.mode,bt,gt.key),yt.return=pt,pt=yt):(bt=yh(gt.type,gt.key,gt.props,null,pt.mode,bt),bt.ref=sh$1(pt,yt,gt),bt.return=pt,pt=bt)}return tt(pt);case wa:e:{for(Tt=gt.key;yt!==null;){if(yt.key===Tt)if(yt.tag===4&&yt.stateNode.containerInfo===gt.containerInfo&&yt.stateNode.implementation===gt.implementation){a(pt,yt.sibling),yt=_e(yt,gt.children||[]),yt.return=pt,pt=yt;break e}else{a(pt,yt);break}else o(pt,yt);yt=yt.sibling}yt=zh(gt,pt.mode,bt),yt.return=pt,pt=yt}return tt(pt);case Ha:return Tt=gt._init,ht(pt,yt,Tt(gt._payload),bt)}if(eb(gt))return dt(pt,yt,gt,bt);if(Ka(gt))return ft(pt,yt,gt,bt);th(pt,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"?(gt=""+gt,yt!==null&&yt.tag===6?(a(pt,yt.sibling),yt=_e(yt,gt),yt.return=pt,pt=yt):(a(pt,yt),yt=xh(gt,pt.mode,bt),yt.return=pt,pt=yt),tt(pt)):a(pt,yt)}return ht}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh($){if($===Dh)throw Error(p$3(174));return $}function Ih($,o){switch(G(Gh,o),G(Fh,$),G(Eh,Dh),$=o.nodeType,$){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:$=$===8?o.parentNode:o,o=$.namespaceURI||null,$=$.tagName,o=lb(o,$)}E(Eh),G(Eh,o)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh$1($){Hh(Gh.current);var o=Hh(Eh.current),a=lb(o,$.type);o!==a&&(G(Fh,$),G(Eh,a))}function Lh($){Fh.current===$&&(E(Eh),E(Fh))}var M=Uf(0);function Mh($){for(var o=$;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===$)break;for(;o.sibling===null;){if(o.return===null||o.return===$)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Nh=[];function Oh(){for(var $=0;$<Nh.length;$++)Nh[$]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$3(321))}function Wh($,o){if(o===null)return!1;for(var a=0;a<o.length&&a<$.length;a++)if(!He($[a],o[a]))return!1;return!0}function Xh($,o,a,j,_e,et){if(Rh=et,N=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ph.current=$===null||$.memoizedState===null?Yh:Zh,$=a(j,_e),Th){et=0;do{if(Th=!1,Uh=0,25<=et)throw Error(p$3(301));et+=1,P=O=null,o.updateQueue=null,Ph.current=$h,$=a(j,_e)}while(Th)}if(Ph.current=ai,o=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,o)throw Error(p$3(300));return $}function bi(){var $=Uh!==0;return Uh=0,$}function ci(){var $={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=$:P=P.next=$,P}function di(){if(O===null){var $=N.alternate;$=$!==null?$.memoizedState:null}else $=O.next;var o=P===null?N.memoizedState:P.next;if(o!==null)P=o,O=$;else{if($===null)throw Error(p$3(310));O=$,$={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=$:P=P.next=$}return P}function ei($,o){return typeof o=="function"?o($):o}function fi($){var o=di(),a=o.queue;if(a===null)throw Error(p$3(311));a.lastRenderedReducer=$;var j=O,_e=j.baseQueue,et=a.pending;if(et!==null){if(_e!==null){var tt=_e.next;_e.next=et.next,et.next=tt}j.baseQueue=_e=et,a.pending=null}if(_e!==null){et=_e.next,j=j.baseState;var nt=tt=null,rt=null,it=et;do{var ot=it.lane;if((Rh&ot)===ot)rt!==null&&(rt=rt.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),j=it.hasEagerState?it.eagerState:$(j,it.action);else{var at={lane:ot,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};rt===null?(nt=rt=at,tt=j):rt=rt.next=at,N.lanes|=ot,hh|=ot}it=it.next}while(it!==null&&it!==et);rt===null?tt=j:rt.next=nt,He(j,o.memoizedState)||(Ug=!0),o.memoizedState=j,o.baseState=tt,o.baseQueue=rt,a.lastRenderedState=j}if($=a.interleaved,$!==null){_e=$;do et=_e.lane,N.lanes|=et,hh|=et,_e=_e.next;while(_e!==$)}else _e===null&&(a.lanes=0);return[o.memoizedState,a.dispatch]}function gi($){var o=di(),a=o.queue;if(a===null)throw Error(p$3(311));a.lastRenderedReducer=$;var j=a.dispatch,_e=a.pending,et=o.memoizedState;if(_e!==null){a.pending=null;var tt=_e=_e.next;do et=$(et,tt.action),tt=tt.next;while(tt!==_e);He(et,o.memoizedState)||(Ug=!0),o.memoizedState=et,o.baseQueue===null&&(o.baseState=et),a.lastRenderedState=et}return[et,j]}function hi(){}function ii($,o){var a=N,j=di(),_e=o(),et=!He(j.memoizedState,_e);if(et&&(j.memoizedState=_e,Ug=!0),j=j.queue,ji(ki.bind(null,a,j,$),[$]),j.getSnapshot!==o||et||P!==null&&P.memoizedState.tag&1){if(a.flags|=2048,li(9,mi.bind(null,a,j,_e,o),void 0,null),R===null)throw Error(p$3(349));Rh&30||ni(a,o,_e)}return _e}function ni($,o,a){$.flags|=16384,$={getSnapshot:o,value:a},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.stores=[$]):(a=o.stores,a===null?o.stores=[$]:a.push($))}function mi($,o,a,j){o.value=a,o.getSnapshot=j,oi(o)&&pi($)}function ki($,o,a){return a(function(){oi(o)&&pi($)})}function oi($){var o=$.getSnapshot;$=$.value;try{var a=o();return!He($,a)}catch{return!0}}function pi($){var o=Zg($,1);o!==null&&mh(o,$,1,-1)}function qi($){var o=ci();return typeof $=="function"&&($=$()),o.memoizedState=o.baseState=$,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:$},o.queue=$,$=$.dispatch=ri.bind(null,N,$),[o.memoizedState,$]}function li($,o,a,j){return $={tag:$,create:o,destroy:a,deps:j,next:null},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.lastEffect=$.next=$):(a=o.lastEffect,a===null?o.lastEffect=$.next=$:(j=a.next,a.next=$,$.next=j,o.lastEffect=$)),$}function si(){return di().memoizedState}function ti($,o,a,j){var _e=ci();N.flags|=$,_e.memoizedState=li(1|o,a,void 0,j===void 0?null:j)}function ui($,o,a,j){var _e=di();j=j===void 0?null:j;var et=void 0;if(O!==null){var tt=O.memoizedState;if(et=tt.destroy,j!==null&&Wh(j,tt.deps)){_e.memoizedState=li(o,a,et,j);return}}N.flags|=$,_e.memoizedState=li(1|o,a,et,j)}function vi($,o){return ti(8390656,8,$,o)}function ji($,o){return ui(2048,8,$,o)}function wi($,o){return ui(4,2,$,o)}function xi($,o){return ui(4,4,$,o)}function yi($,o){if(typeof o=="function")return $=$(),o($),function(){o(null)};if(o!=null)return $=$(),o.current=$,function(){o.current=null}}function zi($,o,a){return a=a!=null?a.concat([$]):null,ui(4,4,yi.bind(null,o,$),a)}function Ai(){}function Bi($,o){var a=di();o=o===void 0?null:o;var j=a.memoizedState;return j!==null&&o!==null&&Wh(o,j[1])?j[0]:(a.memoizedState=[$,o],$)}function Ci($,o){var a=di();o=o===void 0?null:o;var j=a.memoizedState;return j!==null&&o!==null&&Wh(o,j[1])?j[0]:($=$(),a.memoizedState=[$,o],$)}function Di($,o,a){return Rh&21?(He(a,o)||(a=yc(),N.lanes|=a,hh|=a,$.baseState=!0),o):($.baseState&&($.baseState=!1,Ug=!0),$.memoizedState=a)}function Ei($,o){var a=C;C=a!==0&&4>a?a:4,$(!0);var j=Qh.transition;Qh.transition={};try{$(!1),o()}finally{C=a,Qh.transition=j}}function Fi(){return di().memoizedState}function Gi($,o,a){var j=lh($);if(a={lane:j,action:a,hasEagerState:!1,eagerState:null,next:null},Hi($))Ii(o,a);else if(a=Yg($,o,a,j),a!==null){var _e=L();mh(a,$,j,_e),Ji(a,o,j)}}function ri($,o,a){var j=lh($),_e={lane:j,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hi($))Ii(o,_e);else{var et=$.alternate;if($.lanes===0&&(et===null||et.lanes===0)&&(et=o.lastRenderedReducer,et!==null))try{var tt=o.lastRenderedState,nt=et(tt,a);if(_e.hasEagerState=!0,_e.eagerState=nt,He(nt,tt)){var rt=o.interleaved;rt===null?(_e.next=_e,Xg(o)):(_e.next=rt.next,rt.next=_e),o.interleaved=_e;return}}catch{}finally{}a=Yg($,o,_e,j),a!==null&&(_e=L(),mh(a,$,j,_e),Ji(a,o,j))}}function Hi($){var o=$.alternate;return $===N||o!==null&&o===N}function Ii($,o){Th=Sh=!0;var a=$.pending;a===null?o.next=o:(o.next=a.next,a.next=o),$.pending=o}function Ji($,o,a){if(a&4194240){var j=o.lanes;j&=$.pendingLanes,a|=j,o.lanes=a,Cc($,a)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function($,o){return ci().memoizedState=[$,o===void 0?null:o],$},useContext:Vg,useEffect:vi,useImperativeHandle:function($,o,a){return a=a!=null?a.concat([$]):null,ti(4194308,4,yi.bind(null,o,$),a)},useLayoutEffect:function($,o){return ti(4194308,4,$,o)},useInsertionEffect:function($,o){return ti(4,2,$,o)},useMemo:function($,o){var a=ci();return o=o===void 0?null:o,$=$(),a.memoizedState=[$,o],$},useReducer:function($,o,a){var j=ci();return o=a!==void 0?a(o):o,j.memoizedState=j.baseState=o,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$,lastRenderedState:o},j.queue=$,$=$.dispatch=Gi.bind(null,N,$),[j.memoizedState,$]},useRef:function($){var o=ci();return $={current:$},o.memoizedState=$},useState:qi,useDebugValue:Ai,useDeferredValue:function($){return ci().memoizedState=$},useTransition:function(){var $=qi(!1),o=$[0];return $=Ei.bind(null,$[1]),ci().memoizedState=$,[o,$]},useMutableSource:function(){},useSyncExternalStore:function($,o,a){var j=N,_e=ci();if(I){if(a===void 0)throw Error(p$3(407));a=a()}else{if(a=o(),R===null)throw Error(p$3(349));Rh&30||ni(j,o,a)}_e.memoizedState=a;var et={value:a,getSnapshot:o};return _e.queue=et,vi(ki.bind(null,j,et,$),[$]),j.flags|=2048,li(9,mi.bind(null,j,et,a,o),void 0,null),a},useId:function(){var $=ci(),o=R.identifierPrefix;if(I){var a=sg,j=rg;a=(j&~(1<<32-oc(j)-1)).toString(32)+a,o=":"+o+"R"+a,a=Uh++,0<a&&(o+="H"+a.toString(32)),o+=":"}else a=Vh++,o=":"+o+"r"+a.toString(32)+":";return $.memoizedState=o},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function($){var o=di();return Di(o,O.memoizedState,$)},useTransition:function(){var $=fi(ei)[0],o=di().memoizedState;return[$,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function($){var o=di();return O===null?o.memoizedState=$:Di(o,O.memoizedState,$)},useTransition:function(){var $=gi(ei)[0],o=di().memoizedState;return[$,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki($,o){try{var a="",j=o;do a+=Pa(j),j=j.return;while(j);var _e=a}catch(et){_e=`
Error generating stack: `+et.message+`
`+et.stack}return{value:$,source:o,stack:_e,digest:null}}function Li($,o,a){return{value:$,source:null,stack:a??null,digest:o??null}}function Mi($,o){try{console.error(o.value)}catch(a){setTimeout(function(){throw a})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi($,o,a){a=ch(-1,a),a.tag=3,a.payload={element:null};var j=o.value;return a.callback=function(){Pi||(Pi=!0,Qi=j),Mi($,o)},a}function Ri($,o,a){a=ch(-1,a),a.tag=3;var j=$.type.getDerivedStateFromError;if(typeof j=="function"){var _e=o.value;a.payload=function(){return j(_e)},a.callback=function(){Mi($,o)}}var et=$.stateNode;return et!==null&&typeof et.componentDidCatch=="function"&&(a.callback=function(){Mi($,o),typeof j!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var tt=o.stack;this.componentDidCatch(o.value,{componentStack:tt!==null?tt:""})}),a}function Ti($,o,a){var j=$.pingCache;if(j===null){j=$.pingCache=new Ni;var _e=new Set;j.set(o,_e)}else _e=j.get(o),_e===void 0&&(_e=new Set,j.set(o,_e));_e.has(a)||(_e.add(a),$=Ui.bind(null,$,o,a),o.then($,$))}function Vi($){do{var o;if((o=$.tag===13)&&(o=$.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return $;$=$.return}while($!==null);return null}function Wi($,o,a,j,_e){return $.mode&1?($.flags|=65536,$.lanes=_e,$):($===o?$.flags|=65536:($.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(o=ch(-1,1),o.tag=2,dh(a,o,1))),a.lanes|=1),$)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi($,o,a,j){o.child=$===null?Ch(o,null,a,j):Bh(o,$.child,a,j)}function Zi($,o,a,j,_e){a=a.render;var et=o.ref;return Tg(o,_e),j=Xh($,o,a,j,et,_e),a=bi(),$!==null&&!Ug?(o.updateQueue=$.updateQueue,o.flags&=-2053,$.lanes&=~_e,$i($,o,_e)):(I&&a&&vg(o),o.flags|=1,Yi($,o,j,_e),o.child)}function aj($,o,a,j,_e){if($===null){var et=a.type;return typeof et=="function"&&!bj(et)&&et.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(o.tag=15,o.type=et,cj($,o,et,j,_e)):($=yh(a.type,null,j,o,o.mode,_e),$.ref=o.ref,$.return=o,o.child=$)}if(et=$.child,!($.lanes&_e)){var tt=et.memoizedProps;if(a=a.compare,a=a!==null?a:Ie,a(tt,j)&&$.ref===o.ref)return $i($,o,_e)}return o.flags|=1,$=wh(et,j),$.ref=o.ref,$.return=o,o.child=$}function cj($,o,a,j,_e){if($!==null){var et=$.memoizedProps;if(Ie(et,j)&&$.ref===o.ref)if(Ug=!1,o.pendingProps=j=et,($.lanes&_e)!==0)$.flags&131072&&(Ug=!0);else return o.lanes=$.lanes,$i($,o,_e)}return dj($,o,a,j,_e)}function ej($,o,a){var j=o.pendingProps,_e=j.children,et=$!==null?$.memoizedState:null;if(j.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=a;else{if(!(a&1073741824))return $=et!==null?et.baseLanes|a:a,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:$,cachePool:null,transitions:null},o.updateQueue=null,G(fj,gj),gj|=$,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=et!==null?et.baseLanes:a,G(fj,gj),gj|=j}else et!==null?(j=et.baseLanes|a,o.memoizedState=null):j=a,G(fj,gj),gj|=j;return Yi($,o,_e,a),o.child}function hj($,o){var a=o.ref;($===null&&a!==null||$!==null&&$.ref!==a)&&(o.flags|=512,o.flags|=2097152)}function dj($,o,a,j,_e){var et=Zf(a)?Xf:H.current;return et=Yf(o,et),Tg(o,_e),a=Xh($,o,a,j,et,_e),j=bi(),$!==null&&!Ug?(o.updateQueue=$.updateQueue,o.flags&=-2053,$.lanes&=~_e,$i($,o,_e)):(I&&j&&vg(o),o.flags|=1,Yi($,o,a,_e),o.child)}function ij($,o,a,j,_e){if(Zf(a)){var et=!0;cg(o)}else et=!1;if(Tg(o,_e),o.stateNode===null)jj($,o),ph(o,a,j),rh$1(o,a,j,_e),j=!0;else if($===null){var tt=o.stateNode,nt=o.memoizedProps;tt.props=nt;var rt=tt.context,it=a.contextType;typeof it=="object"&&it!==null?it=Vg(it):(it=Zf(a)?Xf:H.current,it=Yf(o,it));var ot=a.getDerivedStateFromProps,at=typeof ot=="function"||typeof tt.getSnapshotBeforeUpdate=="function";at||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(nt!==j||rt!==it)&&qh(o,tt,j,it),$g=!1;var ct=o.memoizedState;tt.state=ct,gh(o,j,tt,_e),rt=o.memoizedState,nt!==j||ct!==rt||Wf.current||$g?(typeof ot=="function"&&(kh(o,a,ot,j),rt=o.memoizedState),(nt=$g||oh(o,a,nt,j,ct,rt,it))?(at||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||(typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount()),typeof tt.componentDidMount=="function"&&(o.flags|=4194308)):(typeof tt.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=j,o.memoizedState=rt),tt.props=j,tt.state=rt,tt.context=it,j=nt):(typeof tt.componentDidMount=="function"&&(o.flags|=4194308),j=!1)}else{tt=o.stateNode,bh($,o),nt=o.memoizedProps,it=o.type===o.elementType?nt:Lg(o.type,nt),tt.props=it,at=o.pendingProps,ct=tt.context,rt=a.contextType,typeof rt=="object"&&rt!==null?rt=Vg(rt):(rt=Zf(a)?Xf:H.current,rt=Yf(o,rt));var ut=a.getDerivedStateFromProps;(ot=typeof ut=="function"||typeof tt.getSnapshotBeforeUpdate=="function")||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(nt!==at||ct!==rt)&&qh(o,tt,j,rt),$g=!1,ct=o.memoizedState,tt.state=ct,gh(o,j,tt,_e);var dt=o.memoizedState;nt!==at||ct!==dt||Wf.current||$g?(typeof ut=="function"&&(kh(o,a,ut,j),dt=o.memoizedState),(it=$g||oh(o,a,it,j,ct,dt,rt)||!1)?(ot||typeof tt.UNSAFE_componentWillUpdate!="function"&&typeof tt.componentWillUpdate!="function"||(typeof tt.componentWillUpdate=="function"&&tt.componentWillUpdate(j,dt,rt),typeof tt.UNSAFE_componentWillUpdate=="function"&&tt.UNSAFE_componentWillUpdate(j,dt,rt)),typeof tt.componentDidUpdate=="function"&&(o.flags|=4),typeof tt.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof tt.componentDidUpdate!="function"||nt===$.memoizedProps&&ct===$.memoizedState||(o.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||nt===$.memoizedProps&&ct===$.memoizedState||(o.flags|=1024),o.memoizedProps=j,o.memoizedState=dt),tt.props=j,tt.state=dt,tt.context=rt,j=it):(typeof tt.componentDidUpdate!="function"||nt===$.memoizedProps&&ct===$.memoizedState||(o.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||nt===$.memoizedProps&&ct===$.memoizedState||(o.flags|=1024),j=!1)}return kj($,o,a,j,et,_e)}function kj($,o,a,j,_e,et){hj($,o);var tt=(o.flags&128)!==0;if(!j&&!tt)return _e&&dg(o,a,!1),$i($,o,et);j=o.stateNode,Xi.current=o;var nt=tt&&typeof a.getDerivedStateFromError!="function"?null:j.render();return o.flags|=1,$!==null&&tt?(o.child=Bh(o,$.child,null,et),o.child=Bh(o,null,nt,et)):Yi($,o,nt,et),o.memoizedState=j.state,_e&&dg(o,a,!0),o.child}function lj($){var o=$.stateNode;o.pendingContext?ag($,o.pendingContext,o.pendingContext!==o.context):o.context&&ag($,o.context,!1),Ih($,o.containerInfo)}function mj($,o,a,j,_e){return Ig(),Jg(_e),o.flags|=256,Yi($,o,a,j),o.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj($){return{baseLanes:$,cachePool:null,transitions:null}}function pj($,o,a){var j=o.pendingProps,_e=M.current,et=!1,tt=(o.flags&128)!==0,nt;if((nt=tt)||(nt=$!==null&&$.memoizedState===null?!1:(_e&2)!==0),nt?(et=!0,o.flags&=-129):($===null||$.memoizedState!==null)&&(_e|=1),G(M,_e&1),$===null)return Eg(o),$=o.memoizedState,$!==null&&($=$.dehydrated,$!==null)?(o.mode&1?$.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(tt=j.children,$=j.fallback,et?(j=o.mode,et=o.child,tt={mode:"hidden",children:tt},!(j&1)&&et!==null?(et.childLanes=0,et.pendingProps=tt):et=qj(tt,j,0,null),$=Ah($,j,a,null),et.return=o,$.return=o,et.sibling=$,o.child=et,o.child.memoizedState=oj(a),o.memoizedState=nj,$):rj(o,tt));if(_e=$.memoizedState,_e!==null&&(nt=_e.dehydrated,nt!==null))return sj($,o,tt,j,nt,_e,a);if(et){et=j.fallback,tt=o.mode,_e=$.child,nt=_e.sibling;var rt={mode:"hidden",children:j.children};return!(tt&1)&&o.child!==_e?(j=o.child,j.childLanes=0,j.pendingProps=rt,o.deletions=null):(j=wh(_e,rt),j.subtreeFlags=_e.subtreeFlags&14680064),nt!==null?et=wh(nt,et):(et=Ah(et,tt,a,null),et.flags|=2),et.return=o,j.return=o,j.sibling=et,o.child=j,j=et,et=o.child,tt=$.child.memoizedState,tt=tt===null?oj(a):{baseLanes:tt.baseLanes|a,cachePool:null,transitions:tt.transitions},et.memoizedState=tt,et.childLanes=$.childLanes&~a,o.memoizedState=nj,j}return et=$.child,$=et.sibling,j=wh(et,{mode:"visible",children:j.children}),!(o.mode&1)&&(j.lanes=a),j.return=o,j.sibling=null,$!==null&&(a=o.deletions,a===null?(o.deletions=[$],o.flags|=16):a.push($)),o.child=j,o.memoizedState=null,j}function rj($,o){return o=qj({mode:"visible",children:o},$.mode,0,null),o.return=$,$.child=o}function tj($,o,a,j){return j!==null&&Jg(j),Bh(o,$.child,null,a),$=rj(o,o.pendingProps.children),$.flags|=2,o.memoizedState=null,$}function sj($,o,a,j,_e,et,tt){if(a)return o.flags&256?(o.flags&=-257,j=Li(Error(p$3(422))),tj($,o,tt,j)):o.memoizedState!==null?(o.child=$.child,o.flags|=128,null):(et=j.fallback,_e=o.mode,j=qj({mode:"visible",children:j.children},_e,0,null),et=Ah(et,_e,tt,null),et.flags|=2,j.return=o,et.return=o,j.sibling=et,o.child=j,o.mode&1&&Bh(o,$.child,null,tt),o.child.memoizedState=oj(tt),o.memoizedState=nj,et);if(!(o.mode&1))return tj($,o,tt,null);if(_e.data==="$!"){if(j=_e.nextSibling&&_e.nextSibling.dataset,j)var nt=j.dgst;return j=nt,et=Error(p$3(419)),j=Li(et,j,void 0),tj($,o,tt,j)}if(nt=(tt&$.childLanes)!==0,Ug||nt){if(j=R,j!==null){switch(tt&-tt){case 4:_e=2;break;case 16:_e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_e=32;break;case 536870912:_e=268435456;break;default:_e=0}_e=_e&(j.suspendedLanes|tt)?0:_e,_e!==0&&_e!==et.retryLane&&(et.retryLane=_e,Zg($,_e),mh(j,$,_e,-1))}return uj(),j=Li(Error(p$3(421))),tj($,o,tt,j)}return _e.data==="$?"?(o.flags|=128,o.child=$.child,o=vj.bind(null,$),_e._reactRetry=o,null):($=et.treeContext,yg=Lf(_e.nextSibling),xg=o,I=!0,zg=null,$!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=$.id,sg=$.overflow,qg=o),o=rj(o,j.children),o.flags|=4096,o)}function wj($,o,a){$.lanes|=o;var j=$.alternate;j!==null&&(j.lanes|=o),Sg($.return,o,a)}function xj($,o,a,j,_e){var et=$.memoizedState;et===null?$.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:j,tail:a,tailMode:_e}:(et.isBackwards=o,et.rendering=null,et.renderingStartTime=0,et.last=j,et.tail=a,et.tailMode=_e)}function yj($,o,a){var j=o.pendingProps,_e=j.revealOrder,et=j.tail;if(Yi($,o,j.children,a),j=M.current,j&2)j=j&1|2,o.flags|=128;else{if($!==null&&$.flags&128)e:for($=o.child;$!==null;){if($.tag===13)$.memoizedState!==null&&wj($,a,o);else if($.tag===19)wj($,a,o);else if($.child!==null){$.child.return=$,$=$.child;continue}if($===o)break e;for(;$.sibling===null;){if($.return===null||$.return===o)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}j&=1}if(G(M,j),!(o.mode&1))o.memoizedState=null;else switch(_e){case"forwards":for(a=o.child,_e=null;a!==null;)$=a.alternate,$!==null&&Mh($)===null&&(_e=a),a=a.sibling;a=_e,a===null?(_e=o.child,o.child=null):(_e=a.sibling,a.sibling=null),xj(o,!1,_e,a,et);break;case"backwards":for(a=null,_e=o.child,o.child=null;_e!==null;){if($=_e.alternate,$!==null&&Mh($)===null){o.child=_e;break}$=_e.sibling,_e.sibling=a,a=_e,_e=$}xj(o,!0,a,null,et);break;case"together":xj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jj($,o){!(o.mode&1)&&$!==null&&($.alternate=null,o.alternate=null,o.flags|=2)}function $i($,o,a){if($!==null&&(o.dependencies=$.dependencies),hh|=o.lanes,!(a&o.childLanes))return null;if($!==null&&o.child!==$.child)throw Error(p$3(153));if(o.child!==null){for($=o.child,a=wh($,$.pendingProps),o.child=a,a.return=o;$.sibling!==null;)$=$.sibling,a=a.sibling=wh($,$.pendingProps),a.return=o;a.sibling=null}return o.child}function zj($,o,a){switch(o.tag){case 3:lj(o),Ig();break;case 5:Kh$1(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:Ih(o,o.stateNode.containerInfo);break;case 10:var j=o.type._context,_e=o.memoizedProps.value;G(Mg,j._currentValue),j._currentValue=_e;break;case 13:if(j=o.memoizedState,j!==null)return j.dehydrated!==null?(G(M,M.current&1),o.flags|=128,null):a&o.child.childLanes?pj($,o,a):(G(M,M.current&1),$=$i($,o,a),$!==null?$.sibling:null);G(M,M.current&1);break;case 19:if(j=(a&o.childLanes)!==0,$.flags&128){if(j)return yj($,o,a);o.flags|=128}if(_e=o.memoizedState,_e!==null&&(_e.rendering=null,_e.tail=null,_e.lastEffect=null),G(M,M.current),j)break;return null;case 22:case 23:return o.lanes=0,ej($,o,a)}return $i($,o,a)}var Aj,Bj,Cj,Dj;Aj=function($,o){for(var a=o.child;a!==null;){if(a.tag===5||a.tag===6)$.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Bj=function(){};Cj=function($,o,a,j){var _e=$.memoizedProps;if(_e!==j){$=o.stateNode,Hh(Eh.current);var et=null;switch(a){case"input":_e=Ya($,_e),j=Ya($,j),et=[];break;case"select":_e=A$1({},_e,{value:void 0}),j=A$1({},j,{value:void 0}),et=[];break;case"textarea":_e=gb($,_e),j=gb($,j),et=[];break;default:typeof _e.onClick!="function"&&typeof j.onClick=="function"&&($.onclick=Bf)}ub(a,j);var tt;a=null;for(it in _e)if(!j.hasOwnProperty(it)&&_e.hasOwnProperty(it)&&_e[it]!=null)if(it==="style"){var nt=_e[it];for(tt in nt)nt.hasOwnProperty(tt)&&(a||(a={}),a[tt]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?et||(et=[]):(et=et||[]).push(it,null));for(it in j){var rt=j[it];if(nt=_e!=null?_e[it]:void 0,j.hasOwnProperty(it)&&rt!==nt&&(rt!=null||nt!=null))if(it==="style")if(nt){for(tt in nt)!nt.hasOwnProperty(tt)||rt&&rt.hasOwnProperty(tt)||(a||(a={}),a[tt]="");for(tt in rt)rt.hasOwnProperty(tt)&&nt[tt]!==rt[tt]&&(a||(a={}),a[tt]=rt[tt])}else a||(et||(et=[]),et.push(it,a)),a=rt;else it==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,nt=nt?nt.__html:void 0,rt!=null&&nt!==rt&&(et=et||[]).push(it,rt)):it==="children"?typeof rt!="string"&&typeof rt!="number"||(et=et||[]).push(it,""+rt):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(ea.hasOwnProperty(it)?(rt!=null&&it==="onScroll"&&D("scroll",$),et||nt===rt||(et=[])):(et=et||[]).push(it,rt))}a&&(et=et||[]).push("style",a);var it=et;(o.updateQueue=it)&&(o.flags|=4)}};Dj=function($,o,a,j){a!==j&&(o.flags|=4)};function Ej($,o){if(!I)switch($.tailMode){case"hidden":o=$.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?$.tail=null:a.sibling=null;break;case"collapsed":a=$.tail;for(var j=null;a!==null;)a.alternate!==null&&(j=a),a=a.sibling;j===null?o||$.tail===null?$.tail=null:$.tail.sibling=null:j.sibling=null}}function S($){var o=$.alternate!==null&&$.alternate.child===$.child,a=0,j=0;if(o)for(var _e=$.child;_e!==null;)a|=_e.lanes|_e.childLanes,j|=_e.subtreeFlags&14680064,j|=_e.flags&14680064,_e.return=$,_e=_e.sibling;else for(_e=$.child;_e!==null;)a|=_e.lanes|_e.childLanes,j|=_e.subtreeFlags,j|=_e.flags,_e.return=$,_e=_e.sibling;return $.subtreeFlags|=j,$.childLanes=a,o}function Fj($,o,a){var j=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(o),null;case 1:return Zf(o.type)&&$f(),S(o),null;case 3:return j=o.stateNode,Jh(),E(Wf),E(H),Oh(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),($===null||$.child===null)&&(Gg(o)?o.flags|=4:$===null||$.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj($,o),S(o),null;case 5:Lh(o);var _e=Hh(Gh.current);if(a=o.type,$!==null&&o.stateNode!=null)Cj($,o,a,j,_e),$.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!j){if(o.stateNode===null)throw Error(p$3(166));return S(o),null}if($=Hh(Eh.current),Gg(o)){j=o.stateNode,a=o.type;var et=o.memoizedProps;switch(j[Of]=o,j[Pf]=et,$=(o.mode&1)!==0,a){case"dialog":D("cancel",j),D("close",j);break;case"iframe":case"object":case"embed":D("load",j);break;case"video":case"audio":for(_e=0;_e<lf.length;_e++)D(lf[_e],j);break;case"source":D("error",j);break;case"img":case"image":case"link":D("error",j),D("load",j);break;case"details":D("toggle",j);break;case"input":Za(j,et),D("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!et.multiple},D("invalid",j);break;case"textarea":hb(j,et),D("invalid",j)}ub(a,et),_e=null;for(var tt in et)if(et.hasOwnProperty(tt)){var nt=et[tt];tt==="children"?typeof nt=="string"?j.textContent!==nt&&(et.suppressHydrationWarning!==!0&&Af(j.textContent,nt,$),_e=["children",nt]):typeof nt=="number"&&j.textContent!==""+nt&&(et.suppressHydrationWarning!==!0&&Af(j.textContent,nt,$),_e=["children",""+nt]):ea.hasOwnProperty(tt)&&nt!=null&&tt==="onScroll"&&D("scroll",j)}switch(a){case"input":Va(j),db(j,et,!0);break;case"textarea":Va(j),jb(j);break;case"select":case"option":break;default:typeof et.onClick=="function"&&(j.onclick=Bf)}j=_e,o.updateQueue=j,j!==null&&(o.flags|=4)}else{tt=_e.nodeType===9?_e:_e.ownerDocument,$==="http://www.w3.org/1999/xhtml"&&($=kb(a)),$==="http://www.w3.org/1999/xhtml"?a==="script"?($=tt.createElement("div"),$.innerHTML="<script><\/script>",$=$.removeChild($.firstChild)):typeof j.is=="string"?$=tt.createElement(a,{is:j.is}):($=tt.createElement(a),a==="select"&&(tt=$,j.multiple?tt.multiple=!0:j.size&&(tt.size=j.size))):$=tt.createElementNS($,a),$[Of]=o,$[Pf]=j,Aj($,o,!1,!1),o.stateNode=$;e:{switch(tt=vb(a,j),a){case"dialog":D("cancel",$),D("close",$),_e=j;break;case"iframe":case"object":case"embed":D("load",$),_e=j;break;case"video":case"audio":for(_e=0;_e<lf.length;_e++)D(lf[_e],$);_e=j;break;case"source":D("error",$),_e=j;break;case"img":case"image":case"link":D("error",$),D("load",$),_e=j;break;case"details":D("toggle",$),_e=j;break;case"input":Za($,j),_e=Ya($,j),D("invalid",$);break;case"option":_e=j;break;case"select":$._wrapperState={wasMultiple:!!j.multiple},_e=A$1({},j,{value:void 0}),D("invalid",$);break;case"textarea":hb($,j),_e=gb($,j),D("invalid",$);break;default:_e=j}ub(a,_e),nt=_e;for(et in nt)if(nt.hasOwnProperty(et)){var rt=nt[et];et==="style"?sb($,rt):et==="dangerouslySetInnerHTML"?(rt=rt?rt.__html:void 0,rt!=null&&nb($,rt)):et==="children"?typeof rt=="string"?(a!=="textarea"||rt!=="")&&ob($,rt):typeof rt=="number"&&ob($,""+rt):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(ea.hasOwnProperty(et)?rt!=null&&et==="onScroll"&&D("scroll",$):rt!=null&&ta($,et,rt,tt))}switch(a){case"input":Va($),db($,j,!1);break;case"textarea":Va($),jb($);break;case"option":j.value!=null&&$.setAttribute("value",""+Sa(j.value));break;case"select":$.multiple=!!j.multiple,et=j.value,et!=null?fb($,!!j.multiple,et,!1):j.defaultValue!=null&&fb($,!!j.multiple,j.defaultValue,!0);break;default:typeof _e.onClick=="function"&&($.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S(o),null;case 6:if($&&o.stateNode!=null)Dj($,o,$.memoizedProps,j);else{if(typeof j!="string"&&o.stateNode===null)throw Error(p$3(166));if(a=Hh(Gh.current),Hh(Eh.current),Gg(o)){if(j=o.stateNode,a=o.memoizedProps,j[Of]=o,(et=j.nodeValue!==a)&&($=xg,$!==null))switch($.tag){case 3:Af(j.nodeValue,a,($.mode&1)!==0);break;case 5:$.memoizedProps.suppressHydrationWarning!==!0&&Af(j.nodeValue,a,($.mode&1)!==0)}et&&(o.flags|=4)}else j=(a.nodeType===9?a:a.ownerDocument).createTextNode(j),j[Of]=o,o.stateNode=j}return S(o),null;case 13:if(E(M),j=o.memoizedState,$===null||$.memoizedState!==null&&$.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,et=!1;else if(et=Gg(o),j!==null&&j.dehydrated!==null){if($===null){if(!et)throw Error(p$3(318));if(et=o.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$3(317));et[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S(o),et=!1}else zg!==null&&(Gj(zg),zg=null),et=!0;if(!et)return o.flags&65536?o:null}return o.flags&128?(o.lanes=a,o):(j=j!==null,j!==($!==null&&$.memoizedState!==null)&&j&&(o.child.flags|=8192,o.mode&1&&($===null||M.current&1?T===0&&(T=3):uj())),o.updateQueue!==null&&(o.flags|=4),S(o),null);case 4:return Jh(),Bj($,o),$===null&&sf(o.stateNode.containerInfo),S(o),null;case 10:return Rg(o.type._context),S(o),null;case 17:return Zf(o.type)&&$f(),S(o),null;case 19:if(E(M),et=o.memoizedState,et===null)return S(o),null;if(j=(o.flags&128)!==0,tt=et.rendering,tt===null)if(j)Ej(et,!1);else{if(T!==0||$!==null&&$.flags&128)for($=o.child;$!==null;){if(tt=Mh($),tt!==null){for(o.flags|=128,Ej(et,!1),j=tt.updateQueue,j!==null&&(o.updateQueue=j,o.flags|=4),o.subtreeFlags=0,j=a,a=o.child;a!==null;)et=a,$=j,et.flags&=14680066,tt=et.alternate,tt===null?(et.childLanes=0,et.lanes=$,et.child=null,et.subtreeFlags=0,et.memoizedProps=null,et.memoizedState=null,et.updateQueue=null,et.dependencies=null,et.stateNode=null):(et.childLanes=tt.childLanes,et.lanes=tt.lanes,et.child=tt.child,et.subtreeFlags=0,et.deletions=null,et.memoizedProps=tt.memoizedProps,et.memoizedState=tt.memoizedState,et.updateQueue=tt.updateQueue,et.type=tt.type,$=tt.dependencies,et.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext}),a=a.sibling;return G(M,M.current&1|2),o.child}$=$.sibling}et.tail!==null&&B()>Hj&&(o.flags|=128,j=!0,Ej(et,!1),o.lanes=4194304)}else{if(!j)if($=Mh(tt),$!==null){if(o.flags|=128,j=!0,a=$.updateQueue,a!==null&&(o.updateQueue=a,o.flags|=4),Ej(et,!0),et.tail===null&&et.tailMode==="hidden"&&!tt.alternate&&!I)return S(o),null}else 2*B()-et.renderingStartTime>Hj&&a!==1073741824&&(o.flags|=128,j=!0,Ej(et,!1),o.lanes=4194304);et.isBackwards?(tt.sibling=o.child,o.child=tt):(a=et.last,a!==null?a.sibling=tt:o.child=tt,et.last=tt)}return et.tail!==null?(o=et.tail,et.rendering=o,et.tail=o.sibling,et.renderingStartTime=B(),o.sibling=null,a=M.current,G(M,j?a&1|2:a&1),o):(S(o),null);case 22:case 23:return Ij(),j=o.memoizedState!==null,$!==null&&$.memoizedState!==null!==j&&(o.flags|=8192),j&&o.mode&1?gj&1073741824&&(S(o),o.subtreeFlags&6&&(o.flags|=8192)):S(o),null;case 24:return null;case 25:return null}throw Error(p$3(156,o.tag))}function Jj($,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),$=o.flags,$&65536?(o.flags=$&-65537|128,o):null;case 3:return Jh(),E(Wf),E(H),Oh(),$=o.flags,$&65536&&!($&128)?(o.flags=$&-65537|128,o):null;case 5:return Lh(o),null;case 13:if(E(M),$=o.memoizedState,$!==null&&$.dehydrated!==null){if(o.alternate===null)throw Error(p$3(340));Ig()}return $=o.flags,$&65536?(o.flags=$&-65537|128,o):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(o.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj($,o){var a=$.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(j){W($,o,j)}else a.current=null}function Nj($,o,a){try{a()}catch(j){W($,o,j)}}var Oj=!1;function Pj($,o){if(Cf=dd,$=Me(),Ne($)){if("selectionStart"in $)var a={start:$.selectionStart,end:$.selectionEnd};else e:{a=(a=$.ownerDocument)&&a.defaultView||window;var j=a.getSelection&&a.getSelection();if(j&&j.rangeCount!==0){a=j.anchorNode;var _e=j.anchorOffset,et=j.focusNode;j=j.focusOffset;try{a.nodeType,et.nodeType}catch{a=null;break e}var tt=0,nt=-1,rt=-1,it=0,ot=0,at=$,ct=null;t:for(;;){for(var ut;at!==a||_e!==0&&at.nodeType!==3||(nt=tt+_e),at!==et||j!==0&&at.nodeType!==3||(rt=tt+j),at.nodeType===3&&(tt+=at.nodeValue.length),(ut=at.firstChild)!==null;)ct=at,at=ut;for(;;){if(at===$)break t;if(ct===a&&++it===_e&&(nt=tt),ct===et&&++ot===j&&(rt=tt),(ut=at.nextSibling)!==null)break;at=ct,ct=at.parentNode}at=ut}a=nt===-1||rt===-1?null:{start:nt,end:rt}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:$,selectionRange:a},dd=!1,V=o;V!==null;)if(o=V,$=o.child,(o.subtreeFlags&1028)!==0&&$!==null)$.return=o,V=$;else for(;V!==null;){o=V;try{var dt=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(dt!==null){var ft=dt.memoizedProps,ht=dt.memoizedState,pt=o.stateNode,yt=pt.getSnapshotBeforeUpdate(o.elementType===o.type?ft:Lg(o.type,ft),ht);pt.__reactInternalSnapshotBeforeUpdate=yt}break;case 3:var gt=o.stateNode.containerInfo;gt.nodeType===1?gt.textContent="":gt.nodeType===9&&gt.documentElement&&gt.removeChild(gt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$3(163))}}catch(bt){W(o,o.return,bt)}if($=o.sibling,$!==null){$.return=o.return,V=$;break}V=o.return}return dt=Oj,Oj=!1,dt}function Qj($,o,a){var j=o.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var _e=j=j.next;do{if((_e.tag&$)===$){var et=_e.destroy;_e.destroy=void 0,et!==void 0&&Nj(o,a,et)}_e=_e.next}while(_e!==j)}}function Rj($,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&$)===$){var j=a.create;a.destroy=j()}a=a.next}while(a!==o)}}function Sj($){var o=$.ref;if(o!==null){var a=$.stateNode;switch($.tag){case 5:$=a;break;default:$=a}typeof o=="function"?o($):o.current=$}}function Tj($){var o=$.alternate;o!==null&&($.alternate=null,Tj(o)),$.child=null,$.deletions=null,$.sibling=null,$.tag===5&&(o=$.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),$.stateNode=null,$.return=null,$.dependencies=null,$.memoizedProps=null,$.memoizedState=null,$.pendingProps=null,$.stateNode=null,$.updateQueue=null}function Uj($){return $.tag===5||$.tag===3||$.tag===4}function Vj($){e:for(;;){for(;$.sibling===null;){if($.return===null||Uj($.return))return null;$=$.return}for($.sibling.return=$.return,$=$.sibling;$.tag!==5&&$.tag!==6&&$.tag!==18;){if($.flags&2||$.child===null||$.tag===4)continue e;$.child.return=$,$=$.child}if(!($.flags&2))return $.stateNode}}function Wj($,o,a){var j=$.tag;if(j===5||j===6)$=$.stateNode,o?a.nodeType===8?a.parentNode.insertBefore($,o):a.insertBefore($,o):(a.nodeType===8?(o=a.parentNode,o.insertBefore($,a)):(o=a,o.appendChild($)),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=Bf));else if(j!==4&&($=$.child,$!==null))for(Wj($,o,a),$=$.sibling;$!==null;)Wj($,o,a),$=$.sibling}function Xj($,o,a){var j=$.tag;if(j===5||j===6)$=$.stateNode,o?a.insertBefore($,o):a.appendChild($);else if(j!==4&&($=$.child,$!==null))for(Xj($,o,a),$=$.sibling;$!==null;)Xj($,o,a),$=$.sibling}var X=null,Yj=!1;function Zj($,o,a){for(a=a.child;a!==null;)ak($,o,a),a=a.sibling}function ak($,o,a){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,a)}catch{}switch(a.tag){case 5:U||Mj(a,o);case 6:var j=X,_e=Yj;X=null,Zj($,o,a),X=j,Yj=_e,X!==null&&(Yj?($=X,a=a.stateNode,$.nodeType===8?$.parentNode.removeChild(a):$.removeChild(a)):X.removeChild(a.stateNode));break;case 18:X!==null&&(Yj?($=X,a=a.stateNode,$.nodeType===8?Kf($.parentNode,a):$.nodeType===1&&Kf($,a),bd($)):Kf(X,a.stateNode));break;case 4:j=X,_e=Yj,X=a.stateNode.containerInfo,Yj=!0,Zj($,o,a),X=j,Yj=_e;break;case 0:case 11:case 14:case 15:if(!U&&(j=a.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){_e=j=j.next;do{var et=_e,tt=et.destroy;et=et.tag,tt!==void 0&&(et&2||et&4)&&Nj(a,o,tt),_e=_e.next}while(_e!==j)}Zj($,o,a);break;case 1:if(!U&&(Mj(a,o),j=a.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=a.memoizedProps,j.state=a.memoizedState,j.componentWillUnmount()}catch(nt){W(a,o,nt)}Zj($,o,a);break;case 21:Zj($,o,a);break;case 22:a.mode&1?(U=(j=U)||a.memoizedState!==null,Zj($,o,a),U=j):Zj($,o,a);break;default:Zj($,o,a)}}function bk($){var o=$.updateQueue;if(o!==null){$.updateQueue=null;var a=$.stateNode;a===null&&(a=$.stateNode=new Lj),o.forEach(function(j){var _e=ck.bind(null,$,j);a.has(j)||(a.add(j),j.then(_e,_e))})}}function dk($,o){var a=o.deletions;if(a!==null)for(var j=0;j<a.length;j++){var _e=a[j];try{var et=$,tt=o,nt=tt;e:for(;nt!==null;){switch(nt.tag){case 5:X=nt.stateNode,Yj=!1;break e;case 3:X=nt.stateNode.containerInfo,Yj=!0;break e;case 4:X=nt.stateNode.containerInfo,Yj=!0;break e}nt=nt.return}if(X===null)throw Error(p$3(160));ak(et,tt,_e),X=null,Yj=!1;var rt=_e.alternate;rt!==null&&(rt.return=null),_e.return=null}catch(it){W(_e,o,it)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ek(o,$),o=o.sibling}function ek($,o){var a=$.alternate,j=$.flags;switch($.tag){case 0:case 11:case 14:case 15:if(dk(o,$),fk($),j&4){try{Qj(3,$,$.return),Rj(3,$)}catch(ft){W($,$.return,ft)}try{Qj(5,$,$.return)}catch(ft){W($,$.return,ft)}}break;case 1:dk(o,$),fk($),j&512&&a!==null&&Mj(a,a.return);break;case 5:if(dk(o,$),fk($),j&512&&a!==null&&Mj(a,a.return),$.flags&32){var _e=$.stateNode;try{ob(_e,"")}catch(ft){W($,$.return,ft)}}if(j&4&&(_e=$.stateNode,_e!=null)){var et=$.memoizedProps,tt=a!==null?a.memoizedProps:et,nt=$.type,rt=$.updateQueue;if($.updateQueue=null,rt!==null)try{nt==="input"&&et.type==="radio"&&et.name!=null&&ab(_e,et),vb(nt,tt);var it=vb(nt,et);for(tt=0;tt<rt.length;tt+=2){var ot=rt[tt],at=rt[tt+1];ot==="style"?sb(_e,at):ot==="dangerouslySetInnerHTML"?nb(_e,at):ot==="children"?ob(_e,at):ta(_e,ot,at,it)}switch(nt){case"input":bb(_e,et);break;case"textarea":ib(_e,et);break;case"select":var ct=_e._wrapperState.wasMultiple;_e._wrapperState.wasMultiple=!!et.multiple;var ut=et.value;ut!=null?fb(_e,!!et.multiple,ut,!1):ct!==!!et.multiple&&(et.defaultValue!=null?fb(_e,!!et.multiple,et.defaultValue,!0):fb(_e,!!et.multiple,et.multiple?[]:"",!1))}_e[Pf]=et}catch(ft){W($,$.return,ft)}}break;case 6:if(dk(o,$),fk($),j&4){if($.stateNode===null)throw Error(p$3(162));_e=$.stateNode,et=$.memoizedProps;try{_e.nodeValue=et}catch(ft){W($,$.return,ft)}}break;case 3:if(dk(o,$),fk($),j&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(ft){W($,$.return,ft)}break;case 4:dk(o,$),fk($);break;case 13:dk(o,$),fk($),_e=$.child,_e.flags&8192&&(et=_e.memoizedState!==null,_e.stateNode.isHidden=et,!et||_e.alternate!==null&&_e.alternate.memoizedState!==null||(gk=B())),j&4&&bk($);break;case 22:if(ot=a!==null&&a.memoizedState!==null,$.mode&1?(U=(it=U)||ot,dk(o,$),U=it):dk(o,$),fk($),j&8192){if(it=$.memoizedState!==null,($.stateNode.isHidden=it)&&!ot&&$.mode&1)for(V=$,ot=$.child;ot!==null;){for(at=V=ot;V!==null;){switch(ct=V,ut=ct.child,ct.tag){case 0:case 11:case 14:case 15:Qj(4,ct,ct.return);break;case 1:Mj(ct,ct.return);var dt=ct.stateNode;if(typeof dt.componentWillUnmount=="function"){j=ct,a=ct.return;try{o=j,dt.props=o.memoizedProps,dt.state=o.memoizedState,dt.componentWillUnmount()}catch(ft){W(j,a,ft)}}break;case 5:Mj(ct,ct.return);break;case 22:if(ct.memoizedState!==null){hk(at);continue}}ut!==null?(ut.return=ct,V=ut):hk(at)}ot=ot.sibling}e:for(ot=null,at=$;;){if(at.tag===5){if(ot===null){ot=at;try{_e=at.stateNode,it?(et=_e.style,typeof et.setProperty=="function"?et.setProperty("display","none","important"):et.display="none"):(nt=at.stateNode,rt=at.memoizedProps.style,tt=rt!=null&&rt.hasOwnProperty("display")?rt.display:null,nt.style.display=rb("display",tt))}catch(ft){W($,$.return,ft)}}}else if(at.tag===6){if(ot===null)try{at.stateNode.nodeValue=it?"":at.memoizedProps}catch(ft){W($,$.return,ft)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===$)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===$)break e;for(;at.sibling===null;){if(at.return===null||at.return===$)break e;ot===at&&(ot=null),at=at.return}ot===at&&(ot=null),at.sibling.return=at.return,at=at.sibling}}break;case 19:dk(o,$),fk($),j&4&&bk($);break;case 21:break;default:dk(o,$),fk($)}}function fk($){var o=$.flags;if(o&2){try{e:{for(var a=$.return;a!==null;){if(Uj(a)){var j=a;break e}a=a.return}throw Error(p$3(160))}switch(j.tag){case 5:var _e=j.stateNode;j.flags&32&&(ob(_e,""),j.flags&=-33);var et=Vj($);Xj($,et,_e);break;case 3:case 4:var tt=j.stateNode.containerInfo,nt=Vj($);Wj($,nt,tt);break;default:throw Error(p$3(161))}}catch(rt){W($,$.return,rt)}$.flags&=-3}o&4096&&($.flags&=-4097)}function ik($,o,a){V=$,jk($)}function jk($,o,a){for(var j=($.mode&1)!==0;V!==null;){var _e=V,et=_e.child;if(_e.tag===22&&j){var tt=_e.memoizedState!==null||Kj;if(!tt){var nt=_e.alternate,rt=nt!==null&&nt.memoizedState!==null||U;nt=Kj;var it=U;if(Kj=tt,(U=rt)&&!it)for(V=_e;V!==null;)tt=V,rt=tt.child,tt.tag===22&&tt.memoizedState!==null?kk(_e):rt!==null?(rt.return=tt,V=rt):kk(_e);for(;et!==null;)V=et,jk(et),et=et.sibling;V=_e,Kj=nt,U=it}lk($)}else _e.subtreeFlags&8772&&et!==null?(et.return=_e,V=et):lk($)}}function lk($){for(;V!==null;){var o=V;if(o.flags&8772){var a=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U||Rj(5,o);break;case 1:var j=o.stateNode;if(o.flags&4&&!U)if(a===null)j.componentDidMount();else{var _e=o.elementType===o.type?a.memoizedProps:Lg(o.type,a.memoizedProps);j.componentDidUpdate(_e,a.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var et=o.updateQueue;et!==null&&ih(o,et,j);break;case 3:var tt=o.updateQueue;if(tt!==null){if(a=null,o.child!==null)switch(o.child.tag){case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}ih(o,tt,a)}break;case 5:var nt=o.stateNode;if(a===null&&o.flags&4){a=nt;var rt=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":rt.autoFocus&&a.focus();break;case"img":rt.src&&(a.src=rt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var it=o.alternate;if(it!==null){var ot=it.memoizedState;if(ot!==null){var at=ot.dehydrated;at!==null&&bd(at)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$3(163))}U||o.flags&512&&Sj(o)}catch(ct){W(o,o.return,ct)}}if(o===$){V=null;break}if(a=o.sibling,a!==null){a.return=o.return,V=a;break}V=o.return}}function hk($){for(;V!==null;){var o=V;if(o===$){V=null;break}var a=o.sibling;if(a!==null){a.return=o.return,V=a;break}V=o.return}}function kk($){for(;V!==null;){var o=V;try{switch(o.tag){case 0:case 11:case 15:var a=o.return;try{Rj(4,o)}catch(rt){W(o,a,rt)}break;case 1:var j=o.stateNode;if(typeof j.componentDidMount=="function"){var _e=o.return;try{j.componentDidMount()}catch(rt){W(o,_e,rt)}}var et=o.return;try{Sj(o)}catch(rt){W(o,et,rt)}break;case 5:var tt=o.return;try{Sj(o)}catch(rt){W(o,tt,rt)}}}catch(rt){W(o,o.return,rt)}if(o===$){V=null;break}var nt=o.sibling;if(nt!==null){nt.return=o.return,V=nt;break}V=o.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$1=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K$1&6?B():Bk!==-1?Bk:Bk=B()}function lh($){return $.mode&1?K$1&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):($=C,$!==0||($=window.event,$=$===void 0?16:jd($.type)),$):1}function mh($,o,a,j){if(50<zk)throw zk=0,Ak=null,Error(p$3(185));Ac($,a,j),(!(K$1&2)||$!==R)&&($===R&&(!(K$1&2)&&(rk|=a),T===4&&Dk($,Z)),Ek($,j),a===1&&K$1===0&&!(o.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek($,o){var a=$.callbackNode;wc($,o);var j=uc($,$===R?Z:0);if(j===0)a!==null&&bc(a),$.callbackNode=null,$.callbackPriority=0;else if(o=j&-j,$.callbackPriority!==o){if(a!=null&&bc(a),o===1)$.tag===0?ig(Fk.bind(null,$)):hg(Fk.bind(null,$)),Jf(function(){!(K$1&6)&&jg()}),a=null;else{switch(Dc(j)){case 1:a=fc;break;case 4:a=gc;break;case 16:a=hc;break;case 536870912:a=jc;break;default:a=hc}a=Gk(a,Hk.bind(null,$))}$.callbackPriority=o,$.callbackNode=a}}function Hk($,o){if(Bk=-1,Ck=0,K$1&6)throw Error(p$3(327));var a=$.callbackNode;if(Ik()&&$.callbackNode!==a)return null;var j=uc($,$===R?Z:0);if(j===0)return null;if(j&30||j&$.expiredLanes||o)o=Jk($,j);else{o=j;var _e=K$1;K$1|=2;var et=Kk();(R!==$||Z!==o)&&(vk=null,Hj=B()+500,Lk($,o));do try{Mk();break}catch(nt){Nk($,nt)}while(1);Qg(),nk.current=et,K$1=_e,Y!==null?o=0:(R=null,Z=0,o=T)}if(o!==0){if(o===2&&(_e=xc($),_e!==0&&(j=_e,o=Ok($,_e))),o===1)throw a=qk,Lk($,0),Dk($,j),Ek($,B()),a;if(o===6)Dk($,j);else{if(_e=$.current.alternate,!(j&30)&&!Pk(_e)&&(o=Jk($,j),o===2&&(et=xc($),et!==0&&(j=et,o=Ok($,et))),o===1))throw a=qk,Lk($,0),Dk($,j),Ek($,B()),a;switch($.finishedWork=_e,$.finishedLanes=j,o){case 0:case 1:throw Error(p$3(345));case 2:Qk($,uk,vk);break;case 3:if(Dk($,j),(j&130023424)===j&&(o=gk+500-B(),10<o)){if(uc($,0)!==0)break;if(_e=$.suspendedLanes,(_e&j)!==j){L(),$.pingedLanes|=$.suspendedLanes&_e;break}$.timeoutHandle=Ff(Qk.bind(null,$,uk,vk),o);break}Qk($,uk,vk);break;case 4:if(Dk($,j),(j&4194240)===j)break;for(o=$.eventTimes,_e=-1;0<j;){var tt=31-oc(j);et=1<<tt,tt=o[tt],tt>_e&&(_e=tt),j&=~et}if(j=_e,j=B()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*mk(j/1960))-j,10<j){$.timeoutHandle=Ff(Qk.bind(null,$,uk,vk),j);break}Qk($,uk,vk);break;case 5:Qk($,uk,vk);break;default:throw Error(p$3(329))}}}return Ek($,B()),$.callbackNode===a?Hk.bind(null,$):null}function Ok($,o){var a=tk;return $.current.memoizedState.isDehydrated&&(Lk($,o).flags|=256),$=Jk($,o),$!==2&&(o=uk,uk=a,o!==null&&Gj(o)),$}function Gj($){uk===null?uk=$:uk.push.apply(uk,$)}function Pk($){for(var o=$;;){if(o.flags&16384){var a=o.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var j=0;j<a.length;j++){var _e=a[j],et=_e.getSnapshot;_e=_e.value;try{if(!He(et(),_e))return!1}catch{return!1}}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===$)break;for(;o.sibling===null;){if(o.return===null||o.return===$)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Dk($,o){for(o&=~sk,o&=~rk,$.suspendedLanes|=o,$.pingedLanes&=~o,$=$.expirationTimes;0<o;){var a=31-oc(o),j=1<<a;$[a]=-1,o&=~j}}function Fk($){if(K$1&6)throw Error(p$3(327));Ik();var o=uc($,0);if(!(o&1))return Ek($,B()),null;var a=Jk($,o);if($.tag!==0&&a===2){var j=xc($);j!==0&&(o=j,a=Ok($,j))}if(a===1)throw a=qk,Lk($,0),Dk($,o),Ek($,B()),a;if(a===6)throw Error(p$3(345));return $.finishedWork=$.current.alternate,$.finishedLanes=o,Qk($,uk,vk),Ek($,B()),null}function Rk($,o){var a=K$1;K$1|=1;try{return $(o)}finally{K$1=a,K$1===0&&(Hj=B()+500,fg&&jg())}}function Sk($){xk!==null&&xk.tag===0&&!(K$1&6)&&Ik();var o=K$1;K$1|=1;var a=pk.transition,j=C;try{if(pk.transition=null,C=1,$)return $()}finally{C=j,pk.transition=a,K$1=o,!(K$1&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk($,o){$.finishedWork=null,$.finishedLanes=0;var a=$.timeoutHandle;if(a!==-1&&($.timeoutHandle=-1,Gf(a)),Y!==null)for(a=Y.return;a!==null;){var j=a;switch(wg(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(j);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(j.type._context);break;case 22:case 23:Ij()}a=a.return}if(R=$,Y=$=wh($.current,null),Z=gj=o,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(o=0;o<Wg.length;o++)if(a=Wg[o],j=a.interleaved,j!==null){a.interleaved=null;var _e=j.next,et=a.pending;if(et!==null){var tt=et.next;et.next=_e,j.next=tt}a.pending=j}Wg=null}return $}function Nk($,o){do{var a=Y;try{if(Qg(),Ph.current=ai,Sh){for(var j=N.memoizedState;j!==null;){var _e=j.queue;_e!==null&&(_e.pending=null),j=j.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,a===null||a.return===null){T=1,qk=o,Y=null;break}e:{var et=$,tt=a.return,nt=a,rt=o;if(o=Z,nt.flags|=32768,rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var it=rt,ot=nt,at=ot.tag;if(!(ot.mode&1)&&(at===0||at===11||at===15)){var ct=ot.alternate;ct?(ot.updateQueue=ct.updateQueue,ot.memoizedState=ct.memoizedState,ot.lanes=ct.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var ut=Vi(tt);if(ut!==null){ut.flags&=-257,Wi(ut,tt,nt,et,o),ut.mode&1&&Ti(et,it,o),o=ut,rt=it;var dt=o.updateQueue;if(dt===null){var ft=new Set;ft.add(rt),o.updateQueue=ft}else dt.add(rt);break e}else{if(!(o&1)){Ti(et,it,o),uj();break e}rt=Error(p$3(426))}}else if(I&&nt.mode&1){var ht=Vi(tt);if(ht!==null){!(ht.flags&65536)&&(ht.flags|=256),Wi(ht,tt,nt,et,o),Jg(Ki(rt,nt));break e}}et=rt=Ki(rt,nt),T!==4&&(T=2),tk===null?tk=[et]:tk.push(et),et=tt;do{switch(et.tag){case 3:et.flags|=65536,o&=-o,et.lanes|=o;var pt=Oi(et,rt,o);fh(et,pt);break e;case 1:nt=rt;var yt=et.type,gt=et.stateNode;if(!(et.flags&128)&&(typeof yt.getDerivedStateFromError=="function"||gt!==null&&typeof gt.componentDidCatch=="function"&&(Si===null||!Si.has(gt)))){et.flags|=65536,o&=-o,et.lanes|=o;var bt=Ri(et,nt,o);fh(et,bt);break e}}et=et.return}while(et!==null)}Tk(a)}catch(At){o=At,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(1)}function Kk(){var $=nk.current;return nk.current=ai,$===null?ai:$}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk($,o){var a=K$1;K$1|=2;var j=Kk();(R!==$||Z!==o)&&(vk=null,Lk($,o));do try{Uk();break}catch(_e){Nk($,_e)}while(1);if(Qg(),K$1=a,nk.current=j,Y!==null)throw Error(p$3(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk($){var o=Wk($.alternate,$,gj);$.memoizedProps=$.pendingProps,o===null?Tk($):Y=o,ok.current=null}function Tk($){var o=$;do{var a=o.alternate;if($=o.return,o.flags&32768){if(a=Jj(a,o),a!==null){a.flags&=32767,Y=a;return}if($!==null)$.flags|=32768,$.subtreeFlags=0,$.deletions=null;else{T=6,Y=null;return}}else if(a=Fj(a,o,gj),a!==null){Y=a;return}if(o=o.sibling,o!==null){Y=o;return}Y=o=$}while(o!==null);T===0&&(T=5)}function Qk($,o,a){var j=C,_e=pk.transition;try{pk.transition=null,C=1,Xk($,o,a,j)}finally{pk.transition=_e,C=j}return null}function Xk($,o,a,j){do Ik();while(xk!==null);if(K$1&6)throw Error(p$3(327));a=$.finishedWork;var _e=$.finishedLanes;if(a===null)return null;if($.finishedWork=null,$.finishedLanes=0,a===$.current)throw Error(p$3(177));$.callbackNode=null,$.callbackPriority=0;var et=a.lanes|a.childLanes;if(Bc($,et),$===R&&(Y=R=null,Z=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),et=(a.flags&15990)!==0,a.subtreeFlags&15990||et){et=pk.transition,pk.transition=null;var tt=C;C=1;var nt=K$1;K$1|=4,ok.current=null,Pj($,a),ek(a,$),Oe(Df),dd=!!Cf,Df=Cf=null,$.current=a,ik(a),dc(),K$1=nt,C=tt,pk.transition=et}else $.current=a;if(wk&&(wk=!1,xk=$,yk=_e),et=$.pendingLanes,et===0&&(Si=null),mc(a.stateNode),Ek($,B()),o!==null)for(j=$.onRecoverableError,a=0;a<o.length;a++)_e=o[a],j(_e.value,{componentStack:_e.stack,digest:_e.digest});if(Pi)throw Pi=!1,$=Qi,Qi=null,$;return yk&1&&$.tag!==0&&Ik(),et=$.pendingLanes,et&1?$===Ak?zk++:(zk=0,Ak=$):zk=0,jg(),null}function Ik(){if(xk!==null){var $=Dc(yk),o=pk.transition,a=C;try{if(pk.transition=null,C=16>$?16:$,xk===null)var j=!1;else{if($=xk,xk=null,yk=0,K$1&6)throw Error(p$3(331));var _e=K$1;for(K$1|=4,V=$.current;V!==null;){var et=V,tt=et.child;if(V.flags&16){var nt=et.deletions;if(nt!==null){for(var rt=0;rt<nt.length;rt++){var it=nt[rt];for(V=it;V!==null;){var ot=V;switch(ot.tag){case 0:case 11:case 15:Qj(8,ot,et)}var at=ot.child;if(at!==null)at.return=ot,V=at;else for(;V!==null;){ot=V;var ct=ot.sibling,ut=ot.return;if(Tj(ot),ot===it){V=null;break}if(ct!==null){ct.return=ut,V=ct;break}V=ut}}}var dt=et.alternate;if(dt!==null){var ft=dt.child;if(ft!==null){dt.child=null;do{var ht=ft.sibling;ft.sibling=null,ft=ht}while(ft!==null)}}V=et}}if(et.subtreeFlags&2064&&tt!==null)tt.return=et,V=tt;else e:for(;V!==null;){if(et=V,et.flags&2048)switch(et.tag){case 0:case 11:case 15:Qj(9,et,et.return)}var pt=et.sibling;if(pt!==null){pt.return=et.return,V=pt;break e}V=et.return}}var yt=$.current;for(V=yt;V!==null;){tt=V;var gt=tt.child;if(tt.subtreeFlags&2064&&gt!==null)gt.return=tt,V=gt;else e:for(tt=yt;V!==null;){if(nt=V,nt.flags&2048)try{switch(nt.tag){case 0:case 11:case 15:Rj(9,nt)}}catch(At){W(nt,nt.return,At)}if(nt===tt){V=null;break e}var bt=nt.sibling;if(bt!==null){bt.return=nt.return,V=bt;break e}V=nt.return}}if(K$1=_e,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,$)}catch{}j=!0}return j}finally{C=a,pk.transition=o}}return!1}function Yk($,o,a){o=Ki(a,o),o=Oi($,o,1),$=dh($,o,1),o=L(),$!==null&&(Ac($,1,o),Ek($,o))}function W($,o,a){if($.tag===3)Yk($,$,a);else for(;o!==null;){if(o.tag===3){Yk(o,$,a);break}else if(o.tag===1){var j=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Si===null||!Si.has(j))){$=Ki(a,$),$=Ri(o,$,1),o=dh(o,$,1),$=L(),o!==null&&(Ac(o,1,$),Ek(o,$));break}}o=o.return}}function Ui($,o,a){var j=$.pingCache;j!==null&&j.delete(o),o=L(),$.pingedLanes|=$.suspendedLanes&a,R===$&&(Z&a)===a&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk($,0):sk|=a),Ek($,o)}function Zk($,o){o===0&&($.mode&1?(o=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):o=1);var a=L();$=Zg($,o),$!==null&&(Ac($,o,a),Ek($,a))}function vj($){var o=$.memoizedState,a=0;o!==null&&(a=o.retryLane),Zk($,a)}function ck($,o){var a=0;switch($.tag){case 13:var j=$.stateNode,_e=$.memoizedState;_e!==null&&(a=_e.retryLane);break;case 19:j=$.stateNode;break;default:throw Error(p$3(314))}j!==null&&j.delete(o),Zk($,a)}var Wk;Wk=function($,o,a){if($!==null)if($.memoizedProps!==o.pendingProps||Wf.current)Ug=!0;else{if(!($.lanes&a)&&!(o.flags&128))return Ug=!1,zj($,o,a);Ug=!!($.flags&131072)}else Ug=!1,I&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var j=o.type;jj($,o),$=o.pendingProps;var _e=Yf(o,H.current);Tg(o,a),_e=Xh(null,o,j,$,_e,a);var et=bi();return o.flags|=1,typeof _e=="object"&&_e!==null&&typeof _e.render=="function"&&_e.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(j)?(et=!0,cg(o)):et=!1,o.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,ah(o),_e.updater=nh,o.stateNode=_e,_e._reactInternals=o,rh$1(o,j,$,a),o=kj(null,o,j,!0,et,a)):(o.tag=0,I&&et&&vg(o),Yi(null,o,_e,a),o=o.child),o;case 16:j=o.elementType;e:{switch(jj($,o),$=o.pendingProps,_e=j._init,j=_e(j._payload),o.type=j,_e=o.tag=$k(j),$=Lg(j,$),_e){case 0:o=dj(null,o,j,$,a);break e;case 1:o=ij(null,o,j,$,a);break e;case 11:o=Zi(null,o,j,$,a);break e;case 14:o=aj(null,o,j,Lg(j.type,$),a);break e}throw Error(p$3(306,j,""))}return o;case 0:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Lg(j,_e),dj($,o,j,_e,a);case 1:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Lg(j,_e),ij($,o,j,_e,a);case 3:e:{if(lj(o),$===null)throw Error(p$3(387));j=o.pendingProps,et=o.memoizedState,_e=et.element,bh($,o),gh(o,j,null,a);var tt=o.memoizedState;if(j=tt.element,et.isDehydrated)if(et={element:j,isDehydrated:!1,cache:tt.cache,pendingSuspenseBoundaries:tt.pendingSuspenseBoundaries,transitions:tt.transitions},o.updateQueue.baseState=et,o.memoizedState=et,o.flags&256){_e=Ki(Error(p$3(423)),o),o=mj($,o,j,a,_e);break e}else if(j!==_e){_e=Ki(Error(p$3(424)),o),o=mj($,o,j,a,_e);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I=!0,zg=null,a=Ch(o,null,j,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),j===_e){o=$i($,o,a);break e}Yi($,o,j,a)}o=o.child}return o;case 5:return Kh$1(o),$===null&&Eg(o),j=o.type,_e=o.pendingProps,et=$!==null?$.memoizedProps:null,tt=_e.children,Ef(j,_e)?tt=null:et!==null&&Ef(j,et)&&(o.flags|=32),hj($,o),Yi($,o,tt,a),o.child;case 6:return $===null&&Eg(o),null;case 13:return pj($,o,a);case 4:return Ih(o,o.stateNode.containerInfo),j=o.pendingProps,$===null?o.child=Bh(o,null,j,a):Yi($,o,j,a),o.child;case 11:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Lg(j,_e),Zi($,o,j,_e,a);case 7:return Yi($,o,o.pendingProps,a),o.child;case 8:return Yi($,o,o.pendingProps.children,a),o.child;case 12:return Yi($,o,o.pendingProps.children,a),o.child;case 10:e:{if(j=o.type._context,_e=o.pendingProps,et=o.memoizedProps,tt=_e.value,G(Mg,j._currentValue),j._currentValue=tt,et!==null)if(He(et.value,tt)){if(et.children===_e.children&&!Wf.current){o=$i($,o,a);break e}}else for(et=o.child,et!==null&&(et.return=o);et!==null;){var nt=et.dependencies;if(nt!==null){tt=et.child;for(var rt=nt.firstContext;rt!==null;){if(rt.context===j){if(et.tag===1){rt=ch(-1,a&-a),rt.tag=2;var it=et.updateQueue;if(it!==null){it=it.shared;var ot=it.pending;ot===null?rt.next=rt:(rt.next=ot.next,ot.next=rt),it.pending=rt}}et.lanes|=a,rt=et.alternate,rt!==null&&(rt.lanes|=a),Sg(et.return,a,o),nt.lanes|=a;break}rt=rt.next}}else if(et.tag===10)tt=et.type===o.type?null:et.child;else if(et.tag===18){if(tt=et.return,tt===null)throw Error(p$3(341));tt.lanes|=a,nt=tt.alternate,nt!==null&&(nt.lanes|=a),Sg(tt,a,o),tt=et.sibling}else tt=et.child;if(tt!==null)tt.return=et;else for(tt=et;tt!==null;){if(tt===o){tt=null;break}if(et=tt.sibling,et!==null){et.return=tt.return,tt=et;break}tt=tt.return}et=tt}Yi($,o,_e.children,a),o=o.child}return o;case 9:return _e=o.type,j=o.pendingProps.children,Tg(o,a),_e=Vg(_e),j=j(_e),o.flags|=1,Yi($,o,j,a),o.child;case 14:return j=o.type,_e=Lg(j,o.pendingProps),_e=Lg(j.type,_e),aj($,o,j,_e,a);case 15:return cj($,o,o.type,o.pendingProps,a);case 17:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Lg(j,_e),jj($,o),o.tag=1,Zf(j)?($=!0,cg(o)):$=!1,Tg(o,a),ph(o,j,_e),rh$1(o,j,_e,a),kj(null,o,j,!0,$,a);case 19:return yj($,o,a);case 22:return ej($,o,a)}throw Error(p$3(156,o.tag))};function Gk($,o){return ac($,o)}function al($,o,a,j){this.tag=$,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg($,o,a,j){return new al($,o,a,j)}function bj($){return $=$.prototype,!(!$||!$.isReactComponent)}function $k($){if(typeof $=="function")return bj($)?1:0;if($!=null){if($=$.$$typeof,$===Da)return 11;if($===Ga)return 14}return 2}function wh($,o){var a=$.alternate;return a===null?(a=Bg($.tag,o,$.key,$.mode),a.elementType=$.elementType,a.type=$.type,a.stateNode=$.stateNode,a.alternate=$,$.alternate=a):(a.pendingProps=o,a.type=$.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=$.flags&14680064,a.childLanes=$.childLanes,a.lanes=$.lanes,a.child=$.child,a.memoizedProps=$.memoizedProps,a.memoizedState=$.memoizedState,a.updateQueue=$.updateQueue,o=$.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=$.sibling,a.index=$.index,a.ref=$.ref,a}function yh($,o,a,j,_e,et){var tt=2;if(j=$,typeof $=="function")bj($)&&(tt=1);else if(typeof $=="string")tt=5;else e:switch($){case ya:return Ah(a.children,_e,et,o);case za:tt=8,_e|=8;break;case Aa:return $=Bg(12,a,o,_e|2),$.elementType=Aa,$.lanes=et,$;case Ea:return $=Bg(13,a,o,_e),$.elementType=Ea,$.lanes=et,$;case Fa:return $=Bg(19,a,o,_e),$.elementType=Fa,$.lanes=et,$;case Ia:return qj(a,_e,et,o);default:if(typeof $=="object"&&$!==null)switch($.$$typeof){case Ba:tt=10;break e;case Ca:tt=9;break e;case Da:tt=11;break e;case Ga:tt=14;break e;case Ha:tt=16,j=null;break e}throw Error(p$3(130,$==null?$:typeof $,""))}return o=Bg(tt,a,o,_e),o.elementType=$,o.type=j,o.lanes=et,o}function Ah($,o,a,j){return $=Bg(7,$,j,o),$.lanes=a,$}function qj($,o,a,j){return $=Bg(22,$,j,o),$.elementType=Ia,$.lanes=a,$.stateNode={isHidden:!1},$}function xh($,o,a){return $=Bg(6,$,null,o),$.lanes=a,$}function zh($,o,a){return o=Bg(4,$.children!==null?$.children:[],$.key,o),o.lanes=a,o.stateNode={containerInfo:$.containerInfo,pendingChildren:null,implementation:$.implementation},o}function bl($,o,a,j,_e){this.tag=o,this.containerInfo=$,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=j,this.onRecoverableError=_e,this.mutableSourceEagerHydrationData=null}function cl($,o,a,j,_e,et,tt,nt,rt){return $=new bl($,o,a,nt,rt),o===1?(o=1,et===!0&&(o|=8)):o=0,et=Bg(3,null,null,o),$.current=et,et.stateNode=$,et.memoizedState={element:j,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(et),$}function dl($,o,a){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:j==null?null:""+j,children:$,containerInfo:o,implementation:a}}function el($){if(!$)return Vf;$=$._reactInternals;e:{if(Vb($)!==$||$.tag!==1)throw Error(p$3(170));var o=$;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$3(171))}if($.tag===1){var a=$.type;if(Zf(a))return bg($,a,o)}return o}function fl($,o,a,j,_e,et,tt,nt,rt){return $=cl(a,j,!0,$,_e,et,tt,nt,rt),$.context=el(null),a=$.current,j=L(),_e=lh(a),et=ch(j,_e),et.callback=o??null,dh(a,et,_e),$.current.lanes=_e,Ac($,_e,j),Ek($,j),$}function gl($,o,a,j){var _e=o.current,et=L(),tt=lh(_e);return a=el(a),o.context===null?o.context=a:o.pendingContext=a,o=ch(et,tt),o.payload={element:$},j=j===void 0?null:j,j!==null&&(o.callback=j),$=dh(_e,o,tt),$!==null&&(mh($,_e,tt,et),eh($,_e,tt)),tt}function hl($){if($=$.current,!$.child)return null;switch($.child.tag){case 5:return $.child.stateNode;default:return $.child.stateNode}}function il($,o){if($=$.memoizedState,$!==null&&$.dehydrated!==null){var a=$.retryLane;$.retryLane=a!==0&&a<o?a:o}}function jl($,o){il($,o),($=$.alternate)&&il($,o)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function($){console.error($)};function ml($){this._internalRoot=$}nl.prototype.render=ml.prototype.render=function($){var o=this._internalRoot;if(o===null)throw Error(p$3(409));gl($,o,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var $=this._internalRoot;if($!==null){this._internalRoot=null;var o=$.containerInfo;Sk(function(){gl(null,$,null,null)}),o[uf]=null}};function nl($){this._internalRoot=$}nl.prototype.unstable_scheduleHydration=function($){if($){var o=Hc();$={blockedOn:null,target:$,priority:o};for(var a=0;a<Qc.length&&o!==0&&o<Qc[a].priority;a++);Qc.splice(a,0,$),a===0&&Vc($)}};function ol($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11)}function pl($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11&&($.nodeType!==8||$.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl($,o,a,j,_e){if(_e){if(typeof j=="function"){var et=j;j=function(){var it=hl(tt);et.call(it)}}var tt=fl(o,j,$,0,null,!1,!1,"",ql);return $._reactRootContainer=tt,$[uf]=tt.current,sf($.nodeType===8?$.parentNode:$),Sk(),tt}for(;_e=$.lastChild;)$.removeChild(_e);if(typeof j=="function"){var nt=j;j=function(){var it=hl(rt);nt.call(it)}}var rt=cl($,0,!1,null,null,!1,!1,"",ql);return $._reactRootContainer=rt,$[uf]=rt.current,sf($.nodeType===8?$.parentNode:$),Sk(function(){gl(o,rt,a,j)}),rt}function sl($,o,a,j,_e){var et=a._reactRootContainer;if(et){var tt=et;if(typeof _e=="function"){var nt=_e;_e=function(){var rt=hl(tt);nt.call(rt)}}gl(o,tt,$,_e)}else tt=rl(a,o,$,_e,j);return hl(tt)}Ec=function($){switch($.tag){case 3:var o=$.stateNode;if(o.current.memoizedState.isDehydrated){var a=tc(o.pendingLanes);a!==0&&(Cc(o,a|1),Ek(o,B()),!(K$1&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var j=Zg($,1);if(j!==null){var _e=L();mh(j,$,1,_e)}}),jl($,1)}};Fc=function($){if($.tag===13){var o=Zg($,134217728);if(o!==null){var a=L();mh(o,$,134217728,a)}jl($,134217728)}};Gc=function($){if($.tag===13){var o=lh($),a=Zg($,o);if(a!==null){var j=L();mh(a,$,o,j)}jl($,o)}};Hc=function(){return C};Ic=function($,o){var a=C;try{return C=$,o()}finally{C=a}};yb=function($,o,a){switch(o){case"input":if(bb($,a),o=a.name,a.type==="radio"&&o!=null){for(a=$;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<a.length;o++){var j=a[o];if(j!==$&&j.form===$.form){var _e=Db(j);if(!_e)throw Error(p$3(90));Wa(j),bb(j,_e)}}}break;case"textarea":ib($,a);break;case"select":o=a.value,o!=null&&fb($,!!a.multiple,o,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function($){return $=Zb($),$===null?null:$.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function($,o){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(o))throw Error(p$3(200));return dl($,o,null,a)};reactDom_production_min.createRoot=function($,o){if(!ol($))throw Error(p$3(299));var a=!1,j="",_e=ll;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(j=o.identifierPrefix),o.onRecoverableError!==void 0&&(_e=o.onRecoverableError)),o=cl($,1,!1,null,null,a,!1,j,_e),$[uf]=o.current,sf($.nodeType===8?$.parentNode:$),new ml(o)};reactDom_production_min.findDOMNode=function($){if($==null)return null;if($.nodeType===1)return $;var o=$._reactInternals;if(o===void 0)throw typeof $.render=="function"?Error(p$3(188)):($=Object.keys($).join(","),Error(p$3(268,$)));return $=Zb(o),$=$===null?null:$.stateNode,$};reactDom_production_min.flushSync=function($){return Sk($)};reactDom_production_min.hydrate=function($,o,a){if(!pl(o))throw Error(p$3(200));return sl(null,$,o,!0,a)};reactDom_production_min.hydrateRoot=function($,o,a){if(!ol($))throw Error(p$3(405));var j=a!=null&&a.hydratedSources||null,_e=!1,et="",tt=ll;if(a!=null&&(a.unstable_strictMode===!0&&(_e=!0),a.identifierPrefix!==void 0&&(et=a.identifierPrefix),a.onRecoverableError!==void 0&&(tt=a.onRecoverableError)),o=fl(o,null,$,1,a??null,_e,!1,et,tt),$[uf]=o.current,sf($),j)for($=0;$<j.length;$++)a=j[$],_e=a._getVersion,_e=_e(a._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[a,_e]:o.mutableSourceEagerHydrationData.push(a,_e);return new nl(o)};reactDom_production_min.render=function($,o,a){if(!pl(o))throw Error(p$3(200));return sl(null,$,o,!1,a)};reactDom_production_min.unmountComponentAtNode=function($){if(!pl($))throw Error(p$3(40));return $._reactRootContainer?(Sk(function(){sl(null,null,$,!1,function(){$._reactRootContainer=null,$[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function($,o,a,j){if(!pl(a))throw Error(p$3(200));if($==null||$._reactInternals===void 0)throw Error(p$3(38));return sl($,o,a,!1,j)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function($){function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(a){console.error(a)}}o(),$.exports=reactDom_production_min})(reactDom);const ReactDOM=getDefaultExportFromCjs(reactDomExports);var createRoot$1,m$2=reactDomExports;createRoot$1=client$1.createRoot=m$2.createRoot,client$1.hydrateRoot=m$2.hydrateRoot;/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function($){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var j in a)Object.prototype.hasOwnProperty.call(a,j)&&($[j]=a[j])}return $},_extends$3.apply(this,arguments)}var Action;(function($){$.Pop="POP",$.Push="PUSH",$.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory($){$===void 0&&($={});function o(j,_e){let{pathname:et,search:tt,hash:nt}=j.location;return createLocation("",{pathname:et,search:tt,hash:nt},_e.state&&_e.state.usr||null,_e.state&&_e.state.key||"default")}function a(j,_e){return typeof _e=="string"?_e:createPath(_e)}return getUrlBasedHistory(o,a,null,$)}function invariant($,o){if($===!1||$===null||typeof $>"u")throw new Error(o)}function warning($,o){if(!$){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState($,o){return{usr:$.state,key:$.key,idx:o}}function createLocation($,o,a,j){return a===void 0&&(a=null),_extends$3({pathname:typeof $=="string"?$:$.pathname,search:"",hash:""},typeof o=="string"?parsePath(o):o,{state:a,key:o&&o.key||j||createKey()})}function createPath($){let{pathname:o="/",search:a="",hash:j=""}=$;return a&&a!=="?"&&(o+=a.charAt(0)==="?"?a:"?"+a),j&&j!=="#"&&(o+=j.charAt(0)==="#"?j:"#"+j),o}function parsePath($){let o={};if($){let a=$.indexOf("#");a>=0&&(o.hash=$.substr(a),$=$.substr(0,a));let j=$.indexOf("?");j>=0&&(o.search=$.substr(j),$=$.substr(0,j)),$&&(o.pathname=$)}return o}function getUrlBasedHistory($,o,a,j){j===void 0&&(j={});let{window:_e=document.defaultView,v5Compat:et=!1}=j,tt=_e.history,nt=Action.Pop,rt=null,it=ot();it==null&&(it=0,tt.replaceState(_extends$3({},tt.state,{idx:it}),""));function ot(){return(tt.state||{idx:null}).idx}function at(){nt=Action.Pop;let ht=ot(),pt=ht==null?null:ht-it;it=ht,rt&&rt({action:nt,location:ft.location,delta:pt})}function ct(ht,pt){nt=Action.Push;let yt=createLocation(ft.location,ht,pt);a&&a(yt,ht),it=ot()+1;let gt=getHistoryState(yt,it),bt=ft.createHref(yt);try{tt.pushState(gt,"",bt)}catch{_e.location.assign(bt)}et&&rt&&rt({action:nt,location:ft.location,delta:1})}function ut(ht,pt){nt=Action.Replace;let yt=createLocation(ft.location,ht,pt);a&&a(yt,ht),it=ot();let gt=getHistoryState(yt,it),bt=ft.createHref(yt);tt.replaceState(gt,"",bt),et&&rt&&rt({action:nt,location:ft.location,delta:0})}function dt(ht){let pt=_e.location.origin!=="null"?_e.location.origin:_e.location.href,yt=typeof ht=="string"?ht:createPath(ht);return invariant(pt,"No window.location.(origin|href) available to create URL for href: "+yt),new URL(yt,pt)}let ft={get action(){return nt},get location(){return $(_e,tt)},listen(ht){if(rt)throw new Error("A history only accepts one active listener");return _e.addEventListener(PopStateEventType,at),rt=ht,()=>{_e.removeEventListener(PopStateEventType,at),rt=null}},createHref(ht){return o(_e,ht)},createURL:dt,encodeLocation(ht){let pt=dt(ht);return{pathname:pt.pathname,search:pt.search,hash:pt.hash}},push:ct,replace:ut,go(ht){return tt.go(ht)}};return ft}var ResultType;(function($){$.data="data",$.deferred="deferred",$.redirect="redirect",$.error="error"})(ResultType||(ResultType={}));function matchRoutes($,o,a){a===void 0&&(a="/");let j=typeof o=="string"?parsePath(o):o,_e=stripBasename(j.pathname||"/",a);if(_e==null)return null;let et=flattenRoutes($);rankRouteBranches(et);let tt=null;for(let nt=0;tt==null&&nt<et.length;++nt)tt=matchRouteBranch(et[nt],safelyDecodeURI(_e));return tt}function flattenRoutes($,o,a,j){o===void 0&&(o=[]),a===void 0&&(a=[]),j===void 0&&(j="");let _e=(et,tt,nt)=>{let rt={relativePath:nt===void 0?et.path||"":nt,caseSensitive:et.caseSensitive===!0,childrenIndex:tt,route:et};rt.relativePath.startsWith("/")&&(invariant(rt.relativePath.startsWith(j),'Absolute route path "'+rt.relativePath+'" nested under path '+('"'+j+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),rt.relativePath=rt.relativePath.slice(j.length));let it=joinPaths([j,rt.relativePath]),ot=a.concat(rt);et.children&&et.children.length>0&&(invariant(et.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+it+'".')),flattenRoutes(et.children,o,ot,it)),!(et.path==null&&!et.index)&&o.push({path:it,score:computeScore(it,et.index),routesMeta:ot})};return $.forEach((et,tt)=>{var nt;if(et.path===""||!((nt=et.path)!=null&&nt.includes("?")))_e(et,tt);else for(let rt of explodeOptionalSegments(et.path))_e(et,tt,rt)}),o}function explodeOptionalSegments($){let o=$.split("/");if(o.length===0)return[];let[a,...j]=o,_e=a.endsWith("?"),et=a.replace(/\?$/,"");if(j.length===0)return _e?[et,""]:[et];let tt=explodeOptionalSegments(j.join("/")),nt=[];return nt.push(...tt.map(rt=>rt===""?et:[et,rt].join("/"))),_e&&nt.push(...tt),nt.map(rt=>$.startsWith("/")&&rt===""?"/":rt)}function rankRouteBranches($){$.sort((o,a)=>o.score!==a.score?a.score-o.score:compareIndexes(o.routesMeta.map(j=>j.childrenIndex),a.routesMeta.map(j=>j.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=$=>$==="*";function computeScore($,o){let a=$.split("/"),j=a.length;return a.some(isSplat)&&(j+=splatPenalty),o&&(j+=indexRouteValue),a.filter(_e=>!isSplat(_e)).reduce((_e,et)=>_e+(paramRe.test(et)?dynamicSegmentValue:et===""?emptySegmentValue:staticSegmentValue),j)}function compareIndexes($,o){return $.length===o.length&&$.slice(0,-1).every((j,_e)=>j===o[_e])?$[$.length-1]-o[o.length-1]:0}function matchRouteBranch($,o){let{routesMeta:a}=$,j={},_e="/",et=[];for(let tt=0;tt<a.length;++tt){let nt=a[tt],rt=tt===a.length-1,it=_e==="/"?o:o.slice(_e.length)||"/",ot=matchPath({path:nt.relativePath,caseSensitive:nt.caseSensitive,end:rt},it);if(!ot)return null;Object.assign(j,ot.params);let at=nt.route;et.push({params:j,pathname:joinPaths([_e,ot.pathname]),pathnameBase:normalizePathname(joinPaths([_e,ot.pathnameBase])),route:at}),ot.pathnameBase!=="/"&&(_e=joinPaths([_e,ot.pathnameBase]))}return et}function matchPath($,o){typeof $=="string"&&($={path:$,caseSensitive:!1,end:!0});let[a,j]=compilePath($.path,$.caseSensitive,$.end),_e=o.match(a);if(!_e)return null;let et=_e[0],tt=et.replace(/(.)\/+$/,"$1"),nt=_e.slice(1);return{params:j.reduce((it,ot,at)=>{if(ot==="*"){let ct=nt[at]||"";tt=et.slice(0,et.length-ct.length).replace(/(.)\/+$/,"$1")}return it[ot]=safelyDecodeURIComponent(nt[at]||"",ot),it},{}),pathname:et,pathnameBase:tt,pattern:$}}function compilePath($,o,a){o===void 0&&(o=!1),a===void 0&&(a=!0),warning($==="*"||!$.endsWith("*")||$.endsWith("/*"),'Route path "'+$+'" will be treated as if it were '+('"'+$.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+$.replace(/\*$/,"/*")+'".'));let j=[],_e="^"+$.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(tt,nt)=>(j.push(nt),"/([^\\/]+)"));return $.endsWith("*")?(j.push("*"),_e+=$==="*"||$==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?_e+="\\/*$":$!==""&&$!=="/"&&(_e+="(?:(?=\\/|$))"),[new RegExp(_e,o?void 0:"i"),j]}function safelyDecodeURI($){try{return decodeURI($)}catch(o){return warning(!1,'The URL path "'+$+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+o+").")),$}}function safelyDecodeURIComponent($,o){try{return decodeURIComponent($)}catch(a){return warning(!1,'The value for the URL param "'+o+'" will not be decoded because'+(' the string "'+$+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+a+").")),$}}function stripBasename($,o){if(o==="/")return $;if(!$.toLowerCase().startsWith(o.toLowerCase()))return null;let a=o.endsWith("/")?o.length-1:o.length,j=$.charAt(a);return j&&j!=="/"?null:$.slice(a)||"/"}function resolvePath($,o){o===void 0&&(o="/");let{pathname:a,search:j="",hash:_e=""}=typeof $=="string"?parsePath($):$;return{pathname:a?a.startsWith("/")?a:resolvePathname(a,o):o,search:normalizeSearch(j),hash:normalizeHash(_e)}}function resolvePathname($,o){let a=o.replace(/\/+$/,"").split("/");return $.split("/").forEach(_e=>{_e===".."?a.length>1&&a.pop():_e!=="."&&a.push(_e)}),a.length>1?a.join("/"):"/"}function getInvalidPathError($,o,a,j){return"Cannot include a '"+$+"' character in a manually specified "+("`to."+o+"` field ["+JSON.stringify(j)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches($){return $.filter((o,a)=>a===0||o.route.path&&o.route.path.length>0)}function resolveTo($,o,a,j){j===void 0&&(j=!1);let _e;typeof $=="string"?_e=parsePath($):(_e=_extends$3({},$),invariant(!_e.pathname||!_e.pathname.includes("?"),getInvalidPathError("?","pathname","search",_e)),invariant(!_e.pathname||!_e.pathname.includes("#"),getInvalidPathError("#","pathname","hash",_e)),invariant(!_e.search||!_e.search.includes("#"),getInvalidPathError("#","search","hash",_e)));let et=$===""||_e.pathname==="",tt=et?"/":_e.pathname,nt;if(j||tt==null)nt=a;else{let at=o.length-1;if(tt.startsWith("..")){let ct=tt.split("/");for(;ct[0]==="..";)ct.shift(),at-=1;_e.pathname=ct.join("/")}nt=at>=0?o[at]:"/"}let rt=resolvePath(_e,nt),it=tt&&tt!=="/"&&tt.endsWith("/"),ot=(et||tt===".")&&a.endsWith("/");return!rt.pathname.endsWith("/")&&(it||ot)&&(rt.pathname+="/"),rt}const joinPaths=$=>$.join("/").replace(/\/\/+/g,"/"),normalizePathname=$=>$.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=$=>!$||$==="?"?"":$.startsWith("?")?$:"?"+$,normalizeHash=$=>!$||$==="#"?"":$.startsWith("#")?$:"#"+$;function isRouteErrorResponse($){return $!=null&&typeof $.status=="number"&&typeof $.statusText=="string"&&typeof $.internal=="boolean"&&"data"in $}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function isPolyfill($,o){return $===o&&($!==0||1/$===1/o)||$!==$&&o!==o}const is$2=typeof Object.is=="function"?Object.is:isPolyfill,{useState,useEffect,useLayoutEffect,useDebugValue}=React$2;function useSyncExternalStore$2($,o,a){const j=o(),[{inst:_e},et]=useState({inst:{value:j,getSnapshot:o}});return useLayoutEffect(()=>{_e.value=j,_e.getSnapshot=o,checkIfSnapshotChanged(_e)&&et({inst:_e})},[$,j,o]),useEffect(()=>(checkIfSnapshotChanged(_e)&&et({inst:_e}),$(()=>{checkIfSnapshotChanged(_e)&&et({inst:_e})})),[$]),useDebugValue(j),j}function checkIfSnapshotChanged($){const o=$.getSnapshot,a=$.value;try{const j=o();return!is$2(a,j)}catch{return!0}}function useSyncExternalStore$1($,o,a){return o()}const canUseDOM$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServerEnvironment=!canUseDOM$1,shim=isServerEnvironment?useSyncExternalStore$1:useSyncExternalStore$2;"useSyncExternalStore"in React$2&&($=>$.useSyncExternalStore)(React$2);const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[]}),RouteErrorContext=reactExports.createContext(null);function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function($){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var j in a)Object.prototype.hasOwnProperty.call(a,j)&&($[j]=a[j])}return $},_extends$2.apply(this,arguments)}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant(!1);let{basename:$,navigator:o}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),{pathname:j}=useLocation(),_e=JSON.stringify(getPathContributingMatches(a).map(nt=>nt.pathnameBase)),et=reactExports.useRef(!1);return reactExports.useEffect(()=>{et.current=!0}),reactExports.useCallback(function(nt,rt){if(rt===void 0&&(rt={}),!et.current)return;if(typeof nt=="number"){o.go(nt);return}let it=resolveTo(nt,JSON.parse(_e),j,rt.relative==="path");$!=="/"&&(it.pathname=it.pathname==="/"?$:joinPaths([$,it.pathname])),(rt.replace?o.replace:o.push)(it,rt.state,rt)},[$,o,_e,j])}function useRoutes($,o){useInRouterContext()||invariant(!1);let{navigator:a}=reactExports.useContext(NavigationContext),j=reactExports.useContext(DataRouterStateContext),{matches:_e}=reactExports.useContext(RouteContext),et=_e[_e.length-1],tt=et?et.params:{};et&&et.pathname;let nt=et?et.pathnameBase:"/";et&&et.route;let rt=useLocation(),it;if(o){var ot;let ft=typeof o=="string"?parsePath(o):o;nt==="/"||(ot=ft.pathname)!=null&&ot.startsWith(nt)||invariant(!1),it=ft}else it=rt;let at=it.pathname||"/",ct=nt==="/"?at:at.slice(nt.length)||"/",ut=matchRoutes($,{pathname:ct}),dt=_renderMatches(ut&&ut.map(ft=>Object.assign({},ft,{params:Object.assign({},tt,ft.params),pathname:joinPaths([nt,a.encodeLocation?a.encodeLocation(ft.pathname).pathname:ft.pathname]),pathnameBase:ft.pathnameBase==="/"?nt:joinPaths([nt,a.encodeLocation?a.encodeLocation(ft.pathnameBase).pathname:ft.pathnameBase])})),_e,j||void 0);return o&&dt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},it),navigationType:Action.Pop}},dt):dt}function DefaultErrorComponent(){let $=useRouteError(),o=isRouteErrorResponse($)?$.status+" "+$.statusText:$ instanceof Error?$.message:JSON.stringify($),a=$ instanceof Error?$.stack:null,_e={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},et=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},o),a?reactExports.createElement("pre",{style:_e},a):null,et)}class RenderErrorBoundary extends reactExports.Component{constructor(o){super(o),this.state={location:o.location,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,a){return a.location!==o.location?{error:o.error,location:o.location}:{error:o.error||a.error,location:a.location}}componentDidCatch(o,a){console.error("React Router caught the following error during render",o,a)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute($){let{routeContext:o,match:a,children:j}=$,_e=reactExports.useContext(DataRouterContext);return _e&&_e.static&&_e.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(_e.staticContext._deepestRenderedBoundaryId=a.route.id),reactExports.createElement(RouteContext.Provider,{value:o},j)}function _renderMatches($,o,a){if(o===void 0&&(o=[]),$==null)if(a!=null&&a.errors)$=a.matches;else return null;let j=$,_e=a==null?void 0:a.errors;if(_e!=null){let et=j.findIndex(tt=>tt.route.id&&(_e==null?void 0:_e[tt.route.id]));et>=0||invariant(!1),j=j.slice(0,Math.min(j.length,et+1))}return j.reduceRight((et,tt,nt)=>{let rt=tt.route.id?_e==null?void 0:_e[tt.route.id]:null,it=null;a&&(tt.route.ErrorBoundary?it=reactExports.createElement(tt.route.ErrorBoundary,null):tt.route.errorElement?it=tt.route.errorElement:it=reactExports.createElement(DefaultErrorComponent,null));let ot=o.concat(j.slice(0,nt+1)),at=()=>{let ct=et;return rt?ct=it:tt.route.Component?ct=reactExports.createElement(tt.route.Component,null):tt.route.element&&(ct=tt.route.element),reactExports.createElement(RenderedRoute,{match:tt,routeContext:{outlet:et,matches:ot},children:ct})};return a&&(tt.route.ErrorBoundary||tt.route.errorElement||nt===0)?reactExports.createElement(RenderErrorBoundary,{location:a.location,component:it,error:rt,children:at(),routeContext:{outlet:null,matches:ot}}):at()},null)}var DataRouterHook$1;(function($){$.UseBlocker="useBlocker",$.UseRevalidator="useRevalidator"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function($){$.UseBlocker="useBlocker",$.UseLoaderData="useLoaderData",$.UseActionData="useActionData",$.UseRouteError="useRouteError",$.UseNavigation="useNavigation",$.UseRouteLoaderData="useRouteLoaderData",$.UseMatches="useMatches",$.UseRevalidator="useRevalidator"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterState($){let o=reactExports.useContext(DataRouterStateContext);return o||invariant(!1),o}function useRouteContext($){let o=reactExports.useContext(RouteContext);return o||invariant(!1),o}function useCurrentRouteId($){let o=useRouteContext(),a=o.matches[o.matches.length-1];return a.route.id||invariant(!1),a.route.id}function useRouteError(){var $;let o=reactExports.useContext(RouteErrorContext),a=useDataRouterState(DataRouterStateHook$1.UseRouteError),j=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return o||(($=a.errors)==null?void 0:$[j])}function Route($){invariant(!1)}function Router($){let{basename:o="/",children:a=null,location:j,navigationType:_e=Action.Pop,navigator:et,static:tt=!1}=$;useInRouterContext()&&invariant(!1);let nt=o.replace(/^\/*/,"/"),rt=reactExports.useMemo(()=>({basename:nt,navigator:et,static:tt}),[nt,et,tt]);typeof j=="string"&&(j=parsePath(j));let{pathname:it="/",search:ot="",hash:at="",state:ct=null,key:ut="default"}=j,dt=reactExports.useMemo(()=>{let ft=stripBasename(it,nt);return ft==null?null:{location:{pathname:ft,search:ot,hash:at,state:ct,key:ut},navigationType:_e}},[nt,it,ot,at,ct,ut,_e]);return dt==null?null:reactExports.createElement(NavigationContext.Provider,{value:rt},reactExports.createElement(LocationContext.Provider,{children:a,value:dt}))}function Routes($){let{children:o,location:a}=$,j=reactExports.useContext(DataRouterContext),_e=j&&!o?j.router.routes:createRoutesFromChildren(o);return useRoutes(_e,a)}var AwaitRenderStatus;(function($){$[$.pending=0]="pending",$[$.success=1]="success",$[$.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren($,o){o===void 0&&(o=[]);let a=[];return reactExports.Children.forEach($,(j,_e)=>{if(!reactExports.isValidElement(j))return;if(j.type===reactExports.Fragment){a.push.apply(a,createRoutesFromChildren(j.props.children,o));return}j.type!==Route&&invariant(!1),!j.props.index||!j.props.children||invariant(!1);let et=[...o,_e],tt={id:j.props.id||et.join("-"),caseSensitive:j.props.caseSensitive,element:j.props.element,Component:j.props.Component,index:j.props.index,path:j.props.path,loader:j.props.loader,action:j.props.action,errorElement:j.props.errorElement,ErrorBoundary:j.props.ErrorBoundary,hasErrorBoundary:j.props.ErrorBoundary!=null||j.props.errorElement!=null,shouldRevalidate:j.props.shouldRevalidate,handle:j.props.handle,lazy:j.props.lazy};j.props.children&&(tt.children=createRoutesFromChildren(j.props.children,et)),a.push(tt)}),a}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function BrowserRouter($){let{basename:o,children:a,window:j}=$,_e=reactExports.useRef();_e.current==null&&(_e.current=createBrowserHistory({window:j,v5Compat:!0}));let et=_e.current,[tt,nt]=reactExports.useState({action:et.action,location:et.location});return reactExports.useLayoutEffect(()=>et.listen(nt),[et]),reactExports.createElement(Router,{basename:o,children:a,location:tt.location,navigationType:tt.action,navigator:et})}var DataRouterHook;(function($){$.UseScrollRestoration="useScrollRestoration",$.UseSubmitImpl="useSubmitImpl",$.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function($){$.UseFetchers="useFetchers",$.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const App$1="";var bnExports={},bn={get exports(){return bnExports},set exports($){bnExports=$}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);(function($){(function(o,a){function j(kt,vt){if(!kt)throw new Error(vt||"Assertion failed")}function _e(kt,vt){kt.super_=vt;var St=function(){};St.prototype=vt.prototype,kt.prototype=new St,kt.prototype.constructor=kt}function et(kt,vt,St){if(et.isBN(kt))return kt;this.negative=0,this.words=null,this.length=0,this.red=null,kt!==null&&((vt==="le"||vt==="be")&&(St=vt,vt=10),this._init(kt||0,vt||10,St||"be"))}typeof o=="object"?o.exports=et:a.BN=et,et.BN=et,et.wordSize=26;var tt;try{typeof window<"u"&&typeof window.Buffer<"u"?tt=window.Buffer:tt=require$$0.Buffer}catch{}et.isBN=function(vt){return vt instanceof et?!0:vt!==null&&typeof vt=="object"&&vt.constructor.wordSize===et.wordSize&&Array.isArray(vt.words)},et.max=function(vt,St){return vt.cmp(St)>0?vt:St},et.min=function(vt,St){return vt.cmp(St)<0?vt:St},et.prototype._init=function(vt,St,Lt){if(typeof vt=="number")return this._initNumber(vt,St,Lt);if(typeof vt=="object")return this._initArray(vt,St,Lt);St==="hex"&&(St=16),j(St===(St|0)&&St>=2&&St<=36),vt=vt.toString().replace(/\s+/g,"");var zt=0;vt[0]==="-"&&(zt++,this.negative=1),zt<vt.length&&(St===16?this._parseHex(vt,zt,Lt):(this._parseBase(vt,St,zt),Lt==="le"&&this._initArray(this.toArray(),St,Lt)))},et.prototype._initNumber=function(vt,St,Lt){vt<0&&(this.negative=1,vt=-vt),vt<67108864?(this.words=[vt&67108863],this.length=1):vt<4503599627370496?(this.words=[vt&67108863,vt/67108864&67108863],this.length=2):(j(vt<9007199254740992),this.words=[vt&67108863,vt/67108864&67108863,1],this.length=3),Lt==="le"&&this._initArray(this.toArray(),St,Lt)},et.prototype._initArray=function(vt,St,Lt){if(j(typeof vt.length=="number"),vt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(vt.length/3),this.words=new Array(this.length);for(var zt=0;zt<this.length;zt++)this.words[zt]=0;var Rt,$t,Gt=0;if(Lt==="be")for(zt=vt.length-1,Rt=0;zt>=0;zt-=3)$t=vt[zt]|vt[zt-1]<<8|vt[zt-2]<<16,this.words[Rt]|=$t<<Gt&67108863,this.words[Rt+1]=$t>>>26-Gt&67108863,Gt+=24,Gt>=26&&(Gt-=26,Rt++);else if(Lt==="le")for(zt=0,Rt=0;zt<vt.length;zt+=3)$t=vt[zt]|vt[zt+1]<<8|vt[zt+2]<<16,this.words[Rt]|=$t<<Gt&67108863,this.words[Rt+1]=$t>>>26-Gt&67108863,Gt+=24,Gt>=26&&(Gt-=26,Rt++);return this._strip()};function nt(kt,vt){var St=kt.charCodeAt(vt);if(St>=48&&St<=57)return St-48;if(St>=65&&St<=70)return St-55;if(St>=97&&St<=102)return St-87;j(!1,"Invalid character in "+kt)}function rt(kt,vt,St){var Lt=nt(kt,St);return St-1>=vt&&(Lt|=nt(kt,St-1)<<4),Lt}et.prototype._parseHex=function(vt,St,Lt){this.length=Math.ceil((vt.length-St)/6),this.words=new Array(this.length);for(var zt=0;zt<this.length;zt++)this.words[zt]=0;var Rt=0,$t=0,Gt;if(Lt==="be")for(zt=vt.length-1;zt>=St;zt-=2)Gt=rt(vt,St,zt)<<Rt,this.words[$t]|=Gt&67108863,Rt>=18?(Rt-=18,$t+=1,this.words[$t]|=Gt>>>26):Rt+=8;else{var Ft=vt.length-St;for(zt=Ft%2===0?St+1:St;zt<vt.length;zt+=2)Gt=rt(vt,St,zt)<<Rt,this.words[$t]|=Gt&67108863,Rt>=18?(Rt-=18,$t+=1,this.words[$t]|=Gt>>>26):Rt+=8}this._strip()};function it(kt,vt,St,Lt){for(var zt=0,Rt=0,$t=Math.min(kt.length,St),Gt=vt;Gt<$t;Gt++){var Ft=kt.charCodeAt(Gt)-48;zt*=Lt,Ft>=49?Rt=Ft-49+10:Ft>=17?Rt=Ft-17+10:Rt=Ft,j(Ft>=0&&Rt<Lt,"Invalid character"),zt+=Rt}return zt}et.prototype._parseBase=function(vt,St,Lt){this.words=[0],this.length=1;for(var zt=0,Rt=1;Rt<=67108863;Rt*=St)zt++;zt--,Rt=Rt/St|0;for(var $t=vt.length-Lt,Gt=$t%zt,Ft=Math.min($t,$t-Gt)+Lt,wt=0,Ht=Lt;Ht<Ft;Ht+=zt)wt=it(vt,Ht,Ht+zt,St),this.imuln(Rt),this.words[0]+wt<67108864?this.words[0]+=wt:this._iaddn(wt);if(Gt!==0){var nn=1;for(wt=it(vt,Ht,vt.length,St),Ht=0;Ht<Gt;Ht++)nn*=St;this.imuln(nn),this.words[0]+wt<67108864?this.words[0]+=wt:this._iaddn(wt)}this._strip()},et.prototype.copy=function(vt){vt.words=new Array(this.length);for(var St=0;St<this.length;St++)vt.words[St]=this.words[St];vt.length=this.length,vt.negative=this.negative,vt.red=this.red};function ot(kt,vt){kt.words=vt.words,kt.length=vt.length,kt.negative=vt.negative,kt.red=vt.red}if(et.prototype._move=function(vt){ot(vt,this)},et.prototype.clone=function(){var vt=new et(null);return this.copy(vt),vt},et.prototype._expand=function(vt){for(;this.length<vt;)this.words[this.length++]=0;return this},et.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},et.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{et.prototype[Symbol.for("nodejs.util.inspect.custom")]=at}catch{et.prototype.inspect=at}else et.prototype.inspect=at;function at(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var ct=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ut=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],dt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];et.prototype.toString=function(vt,St){vt=vt||10,St=St|0||1;var Lt;if(vt===16||vt==="hex"){Lt="";for(var zt=0,Rt=0,$t=0;$t<this.length;$t++){var Gt=this.words[$t],Ft=((Gt<<zt|Rt)&16777215).toString(16);Rt=Gt>>>24-zt&16777215,zt+=2,zt>=26&&(zt-=26,$t--),Rt!==0||$t!==this.length-1?Lt=ct[6-Ft.length]+Ft+Lt:Lt=Ft+Lt}for(Rt!==0&&(Lt=Rt.toString(16)+Lt);Lt.length%St!==0;)Lt="0"+Lt;return this.negative!==0&&(Lt="-"+Lt),Lt}if(vt===(vt|0)&&vt>=2&&vt<=36){var wt=ut[vt],Ht=dt[vt];Lt="";var nn=this.clone();for(nn.negative=0;!nn.isZero();){var Dt=nn.modrn(Ht).toString(vt);nn=nn.idivn(Ht),nn.isZero()?Lt=Dt+Lt:Lt=ct[wt-Dt.length]+Dt+Lt}for(this.isZero()&&(Lt="0"+Lt);Lt.length%St!==0;)Lt="0"+Lt;return this.negative!==0&&(Lt="-"+Lt),Lt}j(!1,"Base should be between 2 and 36")},et.prototype.toNumber=function(){var vt=this.words[0];return this.length===2?vt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?vt+=4503599627370496+this.words[1]*67108864:this.length>2&&j(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-vt:vt},et.prototype.toJSON=function(){return this.toString(16,2)},tt&&(et.prototype.toBuffer=function(vt,St){return this.toArrayLike(tt,vt,St)}),et.prototype.toArray=function(vt,St){return this.toArrayLike(Array,vt,St)};var ft=function(vt,St){return vt.allocUnsafe?vt.allocUnsafe(St):new vt(St)};et.prototype.toArrayLike=function(vt,St,Lt){this._strip();var zt=this.byteLength(),Rt=Lt||Math.max(1,zt);j(zt<=Rt,"byte array longer than desired length"),j(Rt>0,"Requested array length <= 0");var $t=ft(vt,Rt),Gt=St==="le"?"LE":"BE";return this["_toArrayLike"+Gt]($t,zt),$t},et.prototype._toArrayLikeLE=function(vt,St){for(var Lt=0,zt=0,Rt=0,$t=0;Rt<this.length;Rt++){var Gt=this.words[Rt]<<$t|zt;vt[Lt++]=Gt&255,Lt<vt.length&&(vt[Lt++]=Gt>>8&255),Lt<vt.length&&(vt[Lt++]=Gt>>16&255),$t===6?(Lt<vt.length&&(vt[Lt++]=Gt>>24&255),zt=0,$t=0):(zt=Gt>>>24,$t+=2)}if(Lt<vt.length)for(vt[Lt++]=zt;Lt<vt.length;)vt[Lt++]=0},et.prototype._toArrayLikeBE=function(vt,St){for(var Lt=vt.length-1,zt=0,Rt=0,$t=0;Rt<this.length;Rt++){var Gt=this.words[Rt]<<$t|zt;vt[Lt--]=Gt&255,Lt>=0&&(vt[Lt--]=Gt>>8&255),Lt>=0&&(vt[Lt--]=Gt>>16&255),$t===6?(Lt>=0&&(vt[Lt--]=Gt>>24&255),zt=0,$t=0):(zt=Gt>>>24,$t+=2)}if(Lt>=0)for(vt[Lt--]=zt;Lt>=0;)vt[Lt--]=0},Math.clz32?et.prototype._countBits=function(vt){return 32-Math.clz32(vt)}:et.prototype._countBits=function(vt){var St=vt,Lt=0;return St>=4096&&(Lt+=13,St>>>=13),St>=64&&(Lt+=7,St>>>=7),St>=8&&(Lt+=4,St>>>=4),St>=2&&(Lt+=2,St>>>=2),Lt+St},et.prototype._zeroBits=function(vt){if(vt===0)return 26;var St=vt,Lt=0;return St&8191||(Lt+=13,St>>>=13),St&127||(Lt+=7,St>>>=7),St&15||(Lt+=4,St>>>=4),St&3||(Lt+=2,St>>>=2),St&1||Lt++,Lt},et.prototype.bitLength=function(){var vt=this.words[this.length-1],St=this._countBits(vt);return(this.length-1)*26+St};function ht(kt){for(var vt=new Array(kt.bitLength()),St=0;St<vt.length;St++){var Lt=St/26|0,zt=St%26;vt[St]=kt.words[Lt]>>>zt&1}return vt}et.prototype.zeroBits=function(){if(this.isZero())return 0;for(var vt=0,St=0;St<this.length;St++){var Lt=this._zeroBits(this.words[St]);if(vt+=Lt,Lt!==26)break}return vt},et.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},et.prototype.toTwos=function(vt){return this.negative!==0?this.abs().inotn(vt).iaddn(1):this.clone()},et.prototype.fromTwos=function(vt){return this.testn(vt-1)?this.notn(vt).iaddn(1).ineg():this.clone()},et.prototype.isNeg=function(){return this.negative!==0},et.prototype.neg=function(){return this.clone().ineg()},et.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},et.prototype.iuor=function(vt){for(;this.length<vt.length;)this.words[this.length++]=0;for(var St=0;St<vt.length;St++)this.words[St]=this.words[St]|vt.words[St];return this._strip()},et.prototype.ior=function(vt){return j((this.negative|vt.negative)===0),this.iuor(vt)},et.prototype.or=function(vt){return this.length>vt.length?this.clone().ior(vt):vt.clone().ior(this)},et.prototype.uor=function(vt){return this.length>vt.length?this.clone().iuor(vt):vt.clone().iuor(this)},et.prototype.iuand=function(vt){var St;this.length>vt.length?St=vt:St=this;for(var Lt=0;Lt<St.length;Lt++)this.words[Lt]=this.words[Lt]&vt.words[Lt];return this.length=St.length,this._strip()},et.prototype.iand=function(vt){return j((this.negative|vt.negative)===0),this.iuand(vt)},et.prototype.and=function(vt){return this.length>vt.length?this.clone().iand(vt):vt.clone().iand(this)},et.prototype.uand=function(vt){return this.length>vt.length?this.clone().iuand(vt):vt.clone().iuand(this)},et.prototype.iuxor=function(vt){var St,Lt;this.length>vt.length?(St=this,Lt=vt):(St=vt,Lt=this);for(var zt=0;zt<Lt.length;zt++)this.words[zt]=St.words[zt]^Lt.words[zt];if(this!==St)for(;zt<St.length;zt++)this.words[zt]=St.words[zt];return this.length=St.length,this._strip()},et.prototype.ixor=function(vt){return j((this.negative|vt.negative)===0),this.iuxor(vt)},et.prototype.xor=function(vt){return this.length>vt.length?this.clone().ixor(vt):vt.clone().ixor(this)},et.prototype.uxor=function(vt){return this.length>vt.length?this.clone().iuxor(vt):vt.clone().iuxor(this)},et.prototype.inotn=function(vt){j(typeof vt=="number"&&vt>=0);var St=Math.ceil(vt/26)|0,Lt=vt%26;this._expand(St),Lt>0&&St--;for(var zt=0;zt<St;zt++)this.words[zt]=~this.words[zt]&67108863;return Lt>0&&(this.words[zt]=~this.words[zt]&67108863>>26-Lt),this._strip()},et.prototype.notn=function(vt){return this.clone().inotn(vt)},et.prototype.setn=function(vt,St){j(typeof vt=="number"&&vt>=0);var Lt=vt/26|0,zt=vt%26;return this._expand(Lt+1),St?this.words[Lt]=this.words[Lt]|1<<zt:this.words[Lt]=this.words[Lt]&~(1<<zt),this._strip()},et.prototype.iadd=function(vt){var St;if(this.negative!==0&&vt.negative===0)return this.negative=0,St=this.isub(vt),this.negative^=1,this._normSign();if(this.negative===0&&vt.negative!==0)return vt.negative=0,St=this.isub(vt),vt.negative=1,St._normSign();var Lt,zt;this.length>vt.length?(Lt=this,zt=vt):(Lt=vt,zt=this);for(var Rt=0,$t=0;$t<zt.length;$t++)St=(Lt.words[$t]|0)+(zt.words[$t]|0)+Rt,this.words[$t]=St&67108863,Rt=St>>>26;for(;Rt!==0&&$t<Lt.length;$t++)St=(Lt.words[$t]|0)+Rt,this.words[$t]=St&67108863,Rt=St>>>26;if(this.length=Lt.length,Rt!==0)this.words[this.length]=Rt,this.length++;else if(Lt!==this)for(;$t<Lt.length;$t++)this.words[$t]=Lt.words[$t];return this},et.prototype.add=function(vt){var St;return vt.negative!==0&&this.negative===0?(vt.negative=0,St=this.sub(vt),vt.negative^=1,St):vt.negative===0&&this.negative!==0?(this.negative=0,St=vt.sub(this),this.negative=1,St):this.length>vt.length?this.clone().iadd(vt):vt.clone().iadd(this)},et.prototype.isub=function(vt){if(vt.negative!==0){vt.negative=0;var St=this.iadd(vt);return vt.negative=1,St._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(vt),this.negative=1,this._normSign();var Lt=this.cmp(vt);if(Lt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var zt,Rt;Lt>0?(zt=this,Rt=vt):(zt=vt,Rt=this);for(var $t=0,Gt=0;Gt<Rt.length;Gt++)St=(zt.words[Gt]|0)-(Rt.words[Gt]|0)+$t,$t=St>>26,this.words[Gt]=St&67108863;for(;$t!==0&&Gt<zt.length;Gt++)St=(zt.words[Gt]|0)+$t,$t=St>>26,this.words[Gt]=St&67108863;if($t===0&&Gt<zt.length&&zt!==this)for(;Gt<zt.length;Gt++)this.words[Gt]=zt.words[Gt];return this.length=Math.max(this.length,Gt),zt!==this&&(this.negative=1),this._strip()},et.prototype.sub=function(vt){return this.clone().isub(vt)};function pt(kt,vt,St){St.negative=vt.negative^kt.negative;var Lt=kt.length+vt.length|0;St.length=Lt,Lt=Lt-1|0;var zt=kt.words[0]|0,Rt=vt.words[0]|0,$t=zt*Rt,Gt=$t&67108863,Ft=$t/67108864|0;St.words[0]=Gt;for(var wt=1;wt<Lt;wt++){for(var Ht=Ft>>>26,nn=Ft&67108863,Dt=Math.min(wt,vt.length-1),Jt=Math.max(0,wt-kt.length+1);Jt<=Dt;Jt++){var on=wt-Jt|0;zt=kt.words[on]|0,Rt=vt.words[Jt]|0,$t=zt*Rt+nn,Ht+=$t/67108864|0,nn=$t&67108863}St.words[wt]=nn|0,Ft=Ht|0}return Ft!==0?St.words[wt]=Ft|0:St.length--,St._strip()}var yt=function(vt,St,Lt){var zt=vt.words,Rt=St.words,$t=Lt.words,Gt=0,Ft,wt,Ht,nn=zt[0]|0,Dt=nn&8191,Jt=nn>>>13,on=zt[1]|0,sn=on&8191,dn=on>>>13,mn=zt[2]|0,ln=mn&8191,tn=mn>>>13,cn=zt[3]|0,pn=cn&8191,Mn=cn>>>13,In=zt[4]|0,Rn=In&8191,Ln=In>>>13,Fn=zt[5]|0,Un=Fn&8191,Nn=Fn>>>13,Xt=zt[6]|0,jt=Xt&8191,un=Xt>>>13,Tn=zt[7]|0,Bn=Tn&8191,Ot=Tn>>>13,Mt=zt[8]|0,Et=Mt&8191,Ut=Mt>>>13,Qt=zt[9]|0,Wt=Qt&8191,qt=Qt>>>13,_n=Rt[0]|0,En=_n&8191,Pn=_n>>>13,Hn=Rt[1]|0,On=Hn&8191,rn=Hn>>>13,wn=Rt[2]|0,Cn=wn&8191,Dn=wn>>>13,Wn=Rt[3]|0,Jn=Wn&8191,er=Wn>>>13,Er=Rt[4]|0,hr=Er&8191,Yn=Er>>>13,Pr=Rt[5]|0,cr=Pr&8191,_r=Pr>>>13,po=Rt[6]|0,br=po&8191,vr=po>>>13,Yt=Rt[7]|0,fn=Yt&8191,vn=Yt>>>13,gn=Rt[8]|0,xn=gn&8191,$n=gn>>>13,Qn=Rt[9]|0,Vn=Qn&8191,jn=Qn>>>13;Lt.negative=vt.negative^St.negative,Lt.length=19,Ft=Math.imul(Dt,En),wt=Math.imul(Dt,Pn),wt=wt+Math.imul(Jt,En)|0,Ht=Math.imul(Jt,Pn);var ir=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(ir>>>26)|0,ir&=67108863,Ft=Math.imul(sn,En),wt=Math.imul(sn,Pn),wt=wt+Math.imul(dn,En)|0,Ht=Math.imul(dn,Pn),Ft=Ft+Math.imul(Dt,On)|0,wt=wt+Math.imul(Dt,rn)|0,wt=wt+Math.imul(Jt,On)|0,Ht=Ht+Math.imul(Jt,rn)|0;var tr=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(tr>>>26)|0,tr&=67108863,Ft=Math.imul(ln,En),wt=Math.imul(ln,Pn),wt=wt+Math.imul(tn,En)|0,Ht=Math.imul(tn,Pn),Ft=Ft+Math.imul(sn,On)|0,wt=wt+Math.imul(sn,rn)|0,wt=wt+Math.imul(dn,On)|0,Ht=Ht+Math.imul(dn,rn)|0,Ft=Ft+Math.imul(Dt,Cn)|0,wt=wt+Math.imul(Dt,Dn)|0,wt=wt+Math.imul(Jt,Cn)|0,Ht=Ht+Math.imul(Jt,Dn)|0;var nr=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(nr>>>26)|0,nr&=67108863,Ft=Math.imul(pn,En),wt=Math.imul(pn,Pn),wt=wt+Math.imul(Mn,En)|0,Ht=Math.imul(Mn,Pn),Ft=Ft+Math.imul(ln,On)|0,wt=wt+Math.imul(ln,rn)|0,wt=wt+Math.imul(tn,On)|0,Ht=Ht+Math.imul(tn,rn)|0,Ft=Ft+Math.imul(sn,Cn)|0,wt=wt+Math.imul(sn,Dn)|0,wt=wt+Math.imul(dn,Cn)|0,Ht=Ht+Math.imul(dn,Dn)|0,Ft=Ft+Math.imul(Dt,Jn)|0,wt=wt+Math.imul(Dt,er)|0,wt=wt+Math.imul(Jt,Jn)|0,Ht=Ht+Math.imul(Jt,er)|0;var xr=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(xr>>>26)|0,xr&=67108863,Ft=Math.imul(Rn,En),wt=Math.imul(Rn,Pn),wt=wt+Math.imul(Ln,En)|0,Ht=Math.imul(Ln,Pn),Ft=Ft+Math.imul(pn,On)|0,wt=wt+Math.imul(pn,rn)|0,wt=wt+Math.imul(Mn,On)|0,Ht=Ht+Math.imul(Mn,rn)|0,Ft=Ft+Math.imul(ln,Cn)|0,wt=wt+Math.imul(ln,Dn)|0,wt=wt+Math.imul(tn,Cn)|0,Ht=Ht+Math.imul(tn,Dn)|0,Ft=Ft+Math.imul(sn,Jn)|0,wt=wt+Math.imul(sn,er)|0,wt=wt+Math.imul(dn,Jn)|0,Ht=Ht+Math.imul(dn,er)|0,Ft=Ft+Math.imul(Dt,hr)|0,wt=wt+Math.imul(Dt,Yn)|0,wt=wt+Math.imul(Jt,hr)|0,Ht=Ht+Math.imul(Jt,Yn)|0;var Cr=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,Ft=Math.imul(Un,En),wt=Math.imul(Un,Pn),wt=wt+Math.imul(Nn,En)|0,Ht=Math.imul(Nn,Pn),Ft=Ft+Math.imul(Rn,On)|0,wt=wt+Math.imul(Rn,rn)|0,wt=wt+Math.imul(Ln,On)|0,Ht=Ht+Math.imul(Ln,rn)|0,Ft=Ft+Math.imul(pn,Cn)|0,wt=wt+Math.imul(pn,Dn)|0,wt=wt+Math.imul(Mn,Cn)|0,Ht=Ht+Math.imul(Mn,Dn)|0,Ft=Ft+Math.imul(ln,Jn)|0,wt=wt+Math.imul(ln,er)|0,wt=wt+Math.imul(tn,Jn)|0,Ht=Ht+Math.imul(tn,er)|0,Ft=Ft+Math.imul(sn,hr)|0,wt=wt+Math.imul(sn,Yn)|0,wt=wt+Math.imul(dn,hr)|0,Ht=Ht+Math.imul(dn,Yn)|0,Ft=Ft+Math.imul(Dt,cr)|0,wt=wt+Math.imul(Dt,_r)|0,wt=wt+Math.imul(Jt,cr)|0,Ht=Ht+Math.imul(Jt,_r)|0;var Kr=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,Ft=Math.imul(jt,En),wt=Math.imul(jt,Pn),wt=wt+Math.imul(un,En)|0,Ht=Math.imul(un,Pn),Ft=Ft+Math.imul(Un,On)|0,wt=wt+Math.imul(Un,rn)|0,wt=wt+Math.imul(Nn,On)|0,Ht=Ht+Math.imul(Nn,rn)|0,Ft=Ft+Math.imul(Rn,Cn)|0,wt=wt+Math.imul(Rn,Dn)|0,wt=wt+Math.imul(Ln,Cn)|0,Ht=Ht+Math.imul(Ln,Dn)|0,Ft=Ft+Math.imul(pn,Jn)|0,wt=wt+Math.imul(pn,er)|0,wt=wt+Math.imul(Mn,Jn)|0,Ht=Ht+Math.imul(Mn,er)|0,Ft=Ft+Math.imul(ln,hr)|0,wt=wt+Math.imul(ln,Yn)|0,wt=wt+Math.imul(tn,hr)|0,Ht=Ht+Math.imul(tn,Yn)|0,Ft=Ft+Math.imul(sn,cr)|0,wt=wt+Math.imul(sn,_r)|0,wt=wt+Math.imul(dn,cr)|0,Ht=Ht+Math.imul(dn,_r)|0,Ft=Ft+Math.imul(Dt,br)|0,wt=wt+Math.imul(Dt,vr)|0,wt=wt+Math.imul(Jt,br)|0,Ht=Ht+Math.imul(Jt,vr)|0;var _i=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(_i>>>26)|0,_i&=67108863,Ft=Math.imul(Bn,En),wt=Math.imul(Bn,Pn),wt=wt+Math.imul(Ot,En)|0,Ht=Math.imul(Ot,Pn),Ft=Ft+Math.imul(jt,On)|0,wt=wt+Math.imul(jt,rn)|0,wt=wt+Math.imul(un,On)|0,Ht=Ht+Math.imul(un,rn)|0,Ft=Ft+Math.imul(Un,Cn)|0,wt=wt+Math.imul(Un,Dn)|0,wt=wt+Math.imul(Nn,Cn)|0,Ht=Ht+Math.imul(Nn,Dn)|0,Ft=Ft+Math.imul(Rn,Jn)|0,wt=wt+Math.imul(Rn,er)|0,wt=wt+Math.imul(Ln,Jn)|0,Ht=Ht+Math.imul(Ln,er)|0,Ft=Ft+Math.imul(pn,hr)|0,wt=wt+Math.imul(pn,Yn)|0,wt=wt+Math.imul(Mn,hr)|0,Ht=Ht+Math.imul(Mn,Yn)|0,Ft=Ft+Math.imul(ln,cr)|0,wt=wt+Math.imul(ln,_r)|0,wt=wt+Math.imul(tn,cr)|0,Ht=Ht+Math.imul(tn,_r)|0,Ft=Ft+Math.imul(sn,br)|0,wt=wt+Math.imul(sn,vr)|0,wt=wt+Math.imul(dn,br)|0,Ht=Ht+Math.imul(dn,vr)|0,Ft=Ft+Math.imul(Dt,fn)|0,wt=wt+Math.imul(Dt,vn)|0,wt=wt+Math.imul(Jt,fn)|0,Ht=Ht+Math.imul(Jt,vn)|0;var wr=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(wr>>>26)|0,wr&=67108863,Ft=Math.imul(Et,En),wt=Math.imul(Et,Pn),wt=wt+Math.imul(Ut,En)|0,Ht=Math.imul(Ut,Pn),Ft=Ft+Math.imul(Bn,On)|0,wt=wt+Math.imul(Bn,rn)|0,wt=wt+Math.imul(Ot,On)|0,Ht=Ht+Math.imul(Ot,rn)|0,Ft=Ft+Math.imul(jt,Cn)|0,wt=wt+Math.imul(jt,Dn)|0,wt=wt+Math.imul(un,Cn)|0,Ht=Ht+Math.imul(un,Dn)|0,Ft=Ft+Math.imul(Un,Jn)|0,wt=wt+Math.imul(Un,er)|0,wt=wt+Math.imul(Nn,Jn)|0,Ht=Ht+Math.imul(Nn,er)|0,Ft=Ft+Math.imul(Rn,hr)|0,wt=wt+Math.imul(Rn,Yn)|0,wt=wt+Math.imul(Ln,hr)|0,Ht=Ht+Math.imul(Ln,Yn)|0,Ft=Ft+Math.imul(pn,cr)|0,wt=wt+Math.imul(pn,_r)|0,wt=wt+Math.imul(Mn,cr)|0,Ht=Ht+Math.imul(Mn,_r)|0,Ft=Ft+Math.imul(ln,br)|0,wt=wt+Math.imul(ln,vr)|0,wt=wt+Math.imul(tn,br)|0,Ht=Ht+Math.imul(tn,vr)|0,Ft=Ft+Math.imul(sn,fn)|0,wt=wt+Math.imul(sn,vn)|0,wt=wt+Math.imul(dn,fn)|0,Ht=Ht+Math.imul(dn,vn)|0,Ft=Ft+Math.imul(Dt,xn)|0,wt=wt+Math.imul(Dt,$n)|0,wt=wt+Math.imul(Jt,xn)|0,Ht=Ht+Math.imul(Jt,$n)|0;var sr=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(sr>>>26)|0,sr&=67108863,Ft=Math.imul(Wt,En),wt=Math.imul(Wt,Pn),wt=wt+Math.imul(qt,En)|0,Ht=Math.imul(qt,Pn),Ft=Ft+Math.imul(Et,On)|0,wt=wt+Math.imul(Et,rn)|0,wt=wt+Math.imul(Ut,On)|0,Ht=Ht+Math.imul(Ut,rn)|0,Ft=Ft+Math.imul(Bn,Cn)|0,wt=wt+Math.imul(Bn,Dn)|0,wt=wt+Math.imul(Ot,Cn)|0,Ht=Ht+Math.imul(Ot,Dn)|0,Ft=Ft+Math.imul(jt,Jn)|0,wt=wt+Math.imul(jt,er)|0,wt=wt+Math.imul(un,Jn)|0,Ht=Ht+Math.imul(un,er)|0,Ft=Ft+Math.imul(Un,hr)|0,wt=wt+Math.imul(Un,Yn)|0,wt=wt+Math.imul(Nn,hr)|0,Ht=Ht+Math.imul(Nn,Yn)|0,Ft=Ft+Math.imul(Rn,cr)|0,wt=wt+Math.imul(Rn,_r)|0,wt=wt+Math.imul(Ln,cr)|0,Ht=Ht+Math.imul(Ln,_r)|0,Ft=Ft+Math.imul(pn,br)|0,wt=wt+Math.imul(pn,vr)|0,wt=wt+Math.imul(Mn,br)|0,Ht=Ht+Math.imul(Mn,vr)|0,Ft=Ft+Math.imul(ln,fn)|0,wt=wt+Math.imul(ln,vn)|0,wt=wt+Math.imul(tn,fn)|0,Ht=Ht+Math.imul(tn,vn)|0,Ft=Ft+Math.imul(sn,xn)|0,wt=wt+Math.imul(sn,$n)|0,wt=wt+Math.imul(dn,xn)|0,Ht=Ht+Math.imul(dn,$n)|0,Ft=Ft+Math.imul(Dt,Vn)|0,wt=wt+Math.imul(Dt,jn)|0,wt=wt+Math.imul(Jt,Vn)|0,Ht=Ht+Math.imul(Jt,jn)|0;var mo=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(mo>>>26)|0,mo&=67108863,Ft=Math.imul(Wt,On),wt=Math.imul(Wt,rn),wt=wt+Math.imul(qt,On)|0,Ht=Math.imul(qt,rn),Ft=Ft+Math.imul(Et,Cn)|0,wt=wt+Math.imul(Et,Dn)|0,wt=wt+Math.imul(Ut,Cn)|0,Ht=Ht+Math.imul(Ut,Dn)|0,Ft=Ft+Math.imul(Bn,Jn)|0,wt=wt+Math.imul(Bn,er)|0,wt=wt+Math.imul(Ot,Jn)|0,Ht=Ht+Math.imul(Ot,er)|0,Ft=Ft+Math.imul(jt,hr)|0,wt=wt+Math.imul(jt,Yn)|0,wt=wt+Math.imul(un,hr)|0,Ht=Ht+Math.imul(un,Yn)|0,Ft=Ft+Math.imul(Un,cr)|0,wt=wt+Math.imul(Un,_r)|0,wt=wt+Math.imul(Nn,cr)|0,Ht=Ht+Math.imul(Nn,_r)|0,Ft=Ft+Math.imul(Rn,br)|0,wt=wt+Math.imul(Rn,vr)|0,wt=wt+Math.imul(Ln,br)|0,Ht=Ht+Math.imul(Ln,vr)|0,Ft=Ft+Math.imul(pn,fn)|0,wt=wt+Math.imul(pn,vn)|0,wt=wt+Math.imul(Mn,fn)|0,Ht=Ht+Math.imul(Mn,vn)|0,Ft=Ft+Math.imul(ln,xn)|0,wt=wt+Math.imul(ln,$n)|0,wt=wt+Math.imul(tn,xn)|0,Ht=Ht+Math.imul(tn,$n)|0,Ft=Ft+Math.imul(sn,Vn)|0,wt=wt+Math.imul(sn,jn)|0,wt=wt+Math.imul(dn,Vn)|0,Ht=Ht+Math.imul(dn,jn)|0;var Sr=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,Ft=Math.imul(Wt,Cn),wt=Math.imul(Wt,Dn),wt=wt+Math.imul(qt,Cn)|0,Ht=Math.imul(qt,Dn),Ft=Ft+Math.imul(Et,Jn)|0,wt=wt+Math.imul(Et,er)|0,wt=wt+Math.imul(Ut,Jn)|0,Ht=Ht+Math.imul(Ut,er)|0,Ft=Ft+Math.imul(Bn,hr)|0,wt=wt+Math.imul(Bn,Yn)|0,wt=wt+Math.imul(Ot,hr)|0,Ht=Ht+Math.imul(Ot,Yn)|0,Ft=Ft+Math.imul(jt,cr)|0,wt=wt+Math.imul(jt,_r)|0,wt=wt+Math.imul(un,cr)|0,Ht=Ht+Math.imul(un,_r)|0,Ft=Ft+Math.imul(Un,br)|0,wt=wt+Math.imul(Un,vr)|0,wt=wt+Math.imul(Nn,br)|0,Ht=Ht+Math.imul(Nn,vr)|0,Ft=Ft+Math.imul(Rn,fn)|0,wt=wt+Math.imul(Rn,vn)|0,wt=wt+Math.imul(Ln,fn)|0,Ht=Ht+Math.imul(Ln,vn)|0,Ft=Ft+Math.imul(pn,xn)|0,wt=wt+Math.imul(pn,$n)|0,wt=wt+Math.imul(Mn,xn)|0,Ht=Ht+Math.imul(Mn,$n)|0,Ft=Ft+Math.imul(ln,Vn)|0,wt=wt+Math.imul(ln,jn)|0,wt=wt+Math.imul(tn,Vn)|0,Ht=Ht+Math.imul(tn,jn)|0;var eo=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(eo>>>26)|0,eo&=67108863,Ft=Math.imul(Wt,Jn),wt=Math.imul(Wt,er),wt=wt+Math.imul(qt,Jn)|0,Ht=Math.imul(qt,er),Ft=Ft+Math.imul(Et,hr)|0,wt=wt+Math.imul(Et,Yn)|0,wt=wt+Math.imul(Ut,hr)|0,Ht=Ht+Math.imul(Ut,Yn)|0,Ft=Ft+Math.imul(Bn,cr)|0,wt=wt+Math.imul(Bn,_r)|0,wt=wt+Math.imul(Ot,cr)|0,Ht=Ht+Math.imul(Ot,_r)|0,Ft=Ft+Math.imul(jt,br)|0,wt=wt+Math.imul(jt,vr)|0,wt=wt+Math.imul(un,br)|0,Ht=Ht+Math.imul(un,vr)|0,Ft=Ft+Math.imul(Un,fn)|0,wt=wt+Math.imul(Un,vn)|0,wt=wt+Math.imul(Nn,fn)|0,Ht=Ht+Math.imul(Nn,vn)|0,Ft=Ft+Math.imul(Rn,xn)|0,wt=wt+Math.imul(Rn,$n)|0,wt=wt+Math.imul(Ln,xn)|0,Ht=Ht+Math.imul(Ln,$n)|0,Ft=Ft+Math.imul(pn,Vn)|0,wt=wt+Math.imul(pn,jn)|0,wt=wt+Math.imul(Mn,Vn)|0,Ht=Ht+Math.imul(Mn,jn)|0;var xo=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(xo>>>26)|0,xo&=67108863,Ft=Math.imul(Wt,hr),wt=Math.imul(Wt,Yn),wt=wt+Math.imul(qt,hr)|0,Ht=Math.imul(qt,Yn),Ft=Ft+Math.imul(Et,cr)|0,wt=wt+Math.imul(Et,_r)|0,wt=wt+Math.imul(Ut,cr)|0,Ht=Ht+Math.imul(Ut,_r)|0,Ft=Ft+Math.imul(Bn,br)|0,wt=wt+Math.imul(Bn,vr)|0,wt=wt+Math.imul(Ot,br)|0,Ht=Ht+Math.imul(Ot,vr)|0,Ft=Ft+Math.imul(jt,fn)|0,wt=wt+Math.imul(jt,vn)|0,wt=wt+Math.imul(un,fn)|0,Ht=Ht+Math.imul(un,vn)|0,Ft=Ft+Math.imul(Un,xn)|0,wt=wt+Math.imul(Un,$n)|0,wt=wt+Math.imul(Nn,xn)|0,Ht=Ht+Math.imul(Nn,$n)|0,Ft=Ft+Math.imul(Rn,Vn)|0,wt=wt+Math.imul(Rn,jn)|0,wt=wt+Math.imul(Ln,Vn)|0,Ht=Ht+Math.imul(Ln,jn)|0;var Ur=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,Ft=Math.imul(Wt,cr),wt=Math.imul(Wt,_r),wt=wt+Math.imul(qt,cr)|0,Ht=Math.imul(qt,_r),Ft=Ft+Math.imul(Et,br)|0,wt=wt+Math.imul(Et,vr)|0,wt=wt+Math.imul(Ut,br)|0,Ht=Ht+Math.imul(Ut,vr)|0,Ft=Ft+Math.imul(Bn,fn)|0,wt=wt+Math.imul(Bn,vn)|0,wt=wt+Math.imul(Ot,fn)|0,Ht=Ht+Math.imul(Ot,vn)|0,Ft=Ft+Math.imul(jt,xn)|0,wt=wt+Math.imul(jt,$n)|0,wt=wt+Math.imul(un,xn)|0,Ht=Ht+Math.imul(un,$n)|0,Ft=Ft+Math.imul(Un,Vn)|0,wt=wt+Math.imul(Un,jn)|0,wt=wt+Math.imul(Nn,Vn)|0,Ht=Ht+Math.imul(Nn,jn)|0;var Gr=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,Ft=Math.imul(Wt,br),wt=Math.imul(Wt,vr),wt=wt+Math.imul(qt,br)|0,Ht=Math.imul(qt,vr),Ft=Ft+Math.imul(Et,fn)|0,wt=wt+Math.imul(Et,vn)|0,wt=wt+Math.imul(Ut,fn)|0,Ht=Ht+Math.imul(Ut,vn)|0,Ft=Ft+Math.imul(Bn,xn)|0,wt=wt+Math.imul(Bn,$n)|0,wt=wt+Math.imul(Ot,xn)|0,Ht=Ht+Math.imul(Ot,$n)|0,Ft=Ft+Math.imul(jt,Vn)|0,wt=wt+Math.imul(jt,jn)|0,wt=wt+Math.imul(un,Vn)|0,Ht=Ht+Math.imul(un,jn)|0;var rr=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(rr>>>26)|0,rr&=67108863,Ft=Math.imul(Wt,fn),wt=Math.imul(Wt,vn),wt=wt+Math.imul(qt,fn)|0,Ht=Math.imul(qt,vn),Ft=Ft+Math.imul(Et,xn)|0,wt=wt+Math.imul(Et,$n)|0,wt=wt+Math.imul(Ut,xn)|0,Ht=Ht+Math.imul(Ut,$n)|0,Ft=Ft+Math.imul(Bn,Vn)|0,wt=wt+Math.imul(Bn,jn)|0,wt=wt+Math.imul(Ot,Vn)|0,Ht=Ht+Math.imul(Ot,jn)|0;var dr=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(dr>>>26)|0,dr&=67108863,Ft=Math.imul(Wt,xn),wt=Math.imul(Wt,$n),wt=wt+Math.imul(qt,xn)|0,Ht=Math.imul(qt,$n),Ft=Ft+Math.imul(Et,Vn)|0,wt=wt+Math.imul(Et,jn)|0,wt=wt+Math.imul(Ut,Vn)|0,Ht=Ht+Math.imul(Ut,jn)|0;var zr=(Gt+Ft|0)+((wt&8191)<<13)|0;Gt=(Ht+(wt>>>13)|0)+(zr>>>26)|0,zr&=67108863,Ft=Math.imul(Wt,Vn),wt=Math.imul(Wt,jn),wt=wt+Math.imul(qt,Vn)|0,Ht=Math.imul(qt,jn);var pr=(Gt+Ft|0)+((wt&8191)<<13)|0;return Gt=(Ht+(wt>>>13)|0)+(pr>>>26)|0,pr&=67108863,$t[0]=ir,$t[1]=tr,$t[2]=nr,$t[3]=xr,$t[4]=Cr,$t[5]=Kr,$t[6]=_i,$t[7]=wr,$t[8]=sr,$t[9]=mo,$t[10]=Sr,$t[11]=eo,$t[12]=xo,$t[13]=Ur,$t[14]=Gr,$t[15]=rr,$t[16]=dr,$t[17]=zr,$t[18]=pr,Gt!==0&&($t[19]=Gt,Lt.length++),Lt};Math.imul||(yt=pt);function gt(kt,vt,St){St.negative=vt.negative^kt.negative,St.length=kt.length+vt.length;for(var Lt=0,zt=0,Rt=0;Rt<St.length-1;Rt++){var $t=zt;zt=0;for(var Gt=Lt&67108863,Ft=Math.min(Rt,vt.length-1),wt=Math.max(0,Rt-kt.length+1);wt<=Ft;wt++){var Ht=Rt-wt,nn=kt.words[Ht]|0,Dt=vt.words[wt]|0,Jt=nn*Dt,on=Jt&67108863;$t=$t+(Jt/67108864|0)|0,on=on+Gt|0,Gt=on&67108863,$t=$t+(on>>>26)|0,zt+=$t>>>26,$t&=67108863}St.words[Rt]=Gt,Lt=$t,$t=zt}return Lt!==0?St.words[Rt]=Lt:St.length--,St._strip()}function bt(kt,vt,St){return gt(kt,vt,St)}et.prototype.mulTo=function(vt,St){var Lt,zt=this.length+vt.length;return this.length===10&&vt.length===10?Lt=yt(this,vt,St):zt<63?Lt=pt(this,vt,St):zt<1024?Lt=gt(this,vt,St):Lt=bt(this,vt,St),Lt},et.prototype.mul=function(vt){var St=new et(null);return St.words=new Array(this.length+vt.length),this.mulTo(vt,St)},et.prototype.mulf=function(vt){var St=new et(null);return St.words=new Array(this.length+vt.length),bt(this,vt,St)},et.prototype.imul=function(vt){return this.clone().mulTo(vt,this)},et.prototype.imuln=function(vt){var St=vt<0;St&&(vt=-vt),j(typeof vt=="number"),j(vt<67108864);for(var Lt=0,zt=0;zt<this.length;zt++){var Rt=(this.words[zt]|0)*vt,$t=(Rt&67108863)+(Lt&67108863);Lt>>=26,Lt+=Rt/67108864|0,Lt+=$t>>>26,this.words[zt]=$t&67108863}return Lt!==0&&(this.words[zt]=Lt,this.length++),St?this.ineg():this},et.prototype.muln=function(vt){return this.clone().imuln(vt)},et.prototype.sqr=function(){return this.mul(this)},et.prototype.isqr=function(){return this.imul(this.clone())},et.prototype.pow=function(vt){var St=ht(vt);if(St.length===0)return new et(1);for(var Lt=this,zt=0;zt<St.length&&St[zt]===0;zt++,Lt=Lt.sqr());if(++zt<St.length)for(var Rt=Lt.sqr();zt<St.length;zt++,Rt=Rt.sqr())St[zt]!==0&&(Lt=Lt.mul(Rt));return Lt},et.prototype.iushln=function(vt){j(typeof vt=="number"&&vt>=0);var St=vt%26,Lt=(vt-St)/26,zt=67108863>>>26-St<<26-St,Rt;if(St!==0){var $t=0;for(Rt=0;Rt<this.length;Rt++){var Gt=this.words[Rt]&zt,Ft=(this.words[Rt]|0)-Gt<<St;this.words[Rt]=Ft|$t,$t=Gt>>>26-St}$t&&(this.words[Rt]=$t,this.length++)}if(Lt!==0){for(Rt=this.length-1;Rt>=0;Rt--)this.words[Rt+Lt]=this.words[Rt];for(Rt=0;Rt<Lt;Rt++)this.words[Rt]=0;this.length+=Lt}return this._strip()},et.prototype.ishln=function(vt){return j(this.negative===0),this.iushln(vt)},et.prototype.iushrn=function(vt,St,Lt){j(typeof vt=="number"&&vt>=0);var zt;St?zt=(St-St%26)/26:zt=0;var Rt=vt%26,$t=Math.min((vt-Rt)/26,this.length),Gt=67108863^67108863>>>Rt<<Rt,Ft=Lt;if(zt-=$t,zt=Math.max(0,zt),Ft){for(var wt=0;wt<$t;wt++)Ft.words[wt]=this.words[wt];Ft.length=$t}if($t!==0)if(this.length>$t)for(this.length-=$t,wt=0;wt<this.length;wt++)this.words[wt]=this.words[wt+$t];else this.words[0]=0,this.length=1;var Ht=0;for(wt=this.length-1;wt>=0&&(Ht!==0||wt>=zt);wt--){var nn=this.words[wt]|0;this.words[wt]=Ht<<26-Rt|nn>>>Rt,Ht=nn&Gt}return Ft&&Ht!==0&&(Ft.words[Ft.length++]=Ht),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},et.prototype.ishrn=function(vt,St,Lt){return j(this.negative===0),this.iushrn(vt,St,Lt)},et.prototype.shln=function(vt){return this.clone().ishln(vt)},et.prototype.ushln=function(vt){return this.clone().iushln(vt)},et.prototype.shrn=function(vt){return this.clone().ishrn(vt)},et.prototype.ushrn=function(vt){return this.clone().iushrn(vt)},et.prototype.testn=function(vt){j(typeof vt=="number"&&vt>=0);var St=vt%26,Lt=(vt-St)/26,zt=1<<St;if(this.length<=Lt)return!1;var Rt=this.words[Lt];return!!(Rt&zt)},et.prototype.imaskn=function(vt){j(typeof vt=="number"&&vt>=0);var St=vt%26,Lt=(vt-St)/26;if(j(this.negative===0,"imaskn works only with positive numbers"),this.length<=Lt)return this;if(St!==0&&Lt++,this.length=Math.min(Lt,this.length),St!==0){var zt=67108863^67108863>>>St<<St;this.words[this.length-1]&=zt}return this._strip()},et.prototype.maskn=function(vt){return this.clone().imaskn(vt)},et.prototype.iaddn=function(vt){return j(typeof vt=="number"),j(vt<67108864),vt<0?this.isubn(-vt):this.negative!==0?this.length===1&&(this.words[0]|0)<=vt?(this.words[0]=vt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(vt),this.negative=1,this):this._iaddn(vt)},et.prototype._iaddn=function(vt){this.words[0]+=vt;for(var St=0;St<this.length&&this.words[St]>=67108864;St++)this.words[St]-=67108864,St===this.length-1?this.words[St+1]=1:this.words[St+1]++;return this.length=Math.max(this.length,St+1),this},et.prototype.isubn=function(vt){if(j(typeof vt=="number"),j(vt<67108864),vt<0)return this.iaddn(-vt);if(this.negative!==0)return this.negative=0,this.iaddn(vt),this.negative=1,this;if(this.words[0]-=vt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var St=0;St<this.length&&this.words[St]<0;St++)this.words[St]+=67108864,this.words[St+1]-=1;return this._strip()},et.prototype.addn=function(vt){return this.clone().iaddn(vt)},et.prototype.subn=function(vt){return this.clone().isubn(vt)},et.prototype.iabs=function(){return this.negative=0,this},et.prototype.abs=function(){return this.clone().iabs()},et.prototype._ishlnsubmul=function(vt,St,Lt){var zt=vt.length+Lt,Rt;this._expand(zt);var $t,Gt=0;for(Rt=0;Rt<vt.length;Rt++){$t=(this.words[Rt+Lt]|0)+Gt;var Ft=(vt.words[Rt]|0)*St;$t-=Ft&67108863,Gt=($t>>26)-(Ft/67108864|0),this.words[Rt+Lt]=$t&67108863}for(;Rt<this.length-Lt;Rt++)$t=(this.words[Rt+Lt]|0)+Gt,Gt=$t>>26,this.words[Rt+Lt]=$t&67108863;if(Gt===0)return this._strip();for(j(Gt===-1),Gt=0,Rt=0;Rt<this.length;Rt++)$t=-(this.words[Rt]|0)+Gt,Gt=$t>>26,this.words[Rt]=$t&67108863;return this.negative=1,this._strip()},et.prototype._wordDiv=function(vt,St){var Lt=this.length-vt.length,zt=this.clone(),Rt=vt,$t=Rt.words[Rt.length-1]|0,Gt=this._countBits($t);Lt=26-Gt,Lt!==0&&(Rt=Rt.ushln(Lt),zt.iushln(Lt),$t=Rt.words[Rt.length-1]|0);var Ft=zt.length-Rt.length,wt;if(St!=="mod"){wt=new et(null),wt.length=Ft+1,wt.words=new Array(wt.length);for(var Ht=0;Ht<wt.length;Ht++)wt.words[Ht]=0}var nn=zt.clone()._ishlnsubmul(Rt,1,Ft);nn.negative===0&&(zt=nn,wt&&(wt.words[Ft]=1));for(var Dt=Ft-1;Dt>=0;Dt--){var Jt=(zt.words[Rt.length+Dt]|0)*67108864+(zt.words[Rt.length+Dt-1]|0);for(Jt=Math.min(Jt/$t|0,67108863),zt._ishlnsubmul(Rt,Jt,Dt);zt.negative!==0;)Jt--,zt.negative=0,zt._ishlnsubmul(Rt,1,Dt),zt.isZero()||(zt.negative^=1);wt&&(wt.words[Dt]=Jt)}return wt&&wt._strip(),zt._strip(),St!=="div"&&Lt!==0&&zt.iushrn(Lt),{div:wt||null,mod:zt}},et.prototype.divmod=function(vt,St,Lt){if(j(!vt.isZero()),this.isZero())return{div:new et(0),mod:new et(0)};var zt,Rt,$t;return this.negative!==0&&vt.negative===0?($t=this.neg().divmod(vt,St),St!=="mod"&&(zt=$t.div.neg()),St!=="div"&&(Rt=$t.mod.neg(),Lt&&Rt.negative!==0&&Rt.iadd(vt)),{div:zt,mod:Rt}):this.negative===0&&vt.negative!==0?($t=this.divmod(vt.neg(),St),St!=="mod"&&(zt=$t.div.neg()),{div:zt,mod:$t.mod}):this.negative&vt.negative?($t=this.neg().divmod(vt.neg(),St),St!=="div"&&(Rt=$t.mod.neg(),Lt&&Rt.negative!==0&&Rt.isub(vt)),{div:$t.div,mod:Rt}):vt.length>this.length||this.cmp(vt)<0?{div:new et(0),mod:this}:vt.length===1?St==="div"?{div:this.divn(vt.words[0]),mod:null}:St==="mod"?{div:null,mod:new et(this.modrn(vt.words[0]))}:{div:this.divn(vt.words[0]),mod:new et(this.modrn(vt.words[0]))}:this._wordDiv(vt,St)},et.prototype.div=function(vt){return this.divmod(vt,"div",!1).div},et.prototype.mod=function(vt){return this.divmod(vt,"mod",!1).mod},et.prototype.umod=function(vt){return this.divmod(vt,"mod",!0).mod},et.prototype.divRound=function(vt){var St=this.divmod(vt);if(St.mod.isZero())return St.div;var Lt=St.div.negative!==0?St.mod.isub(vt):St.mod,zt=vt.ushrn(1),Rt=vt.andln(1),$t=Lt.cmp(zt);return $t<0||Rt===1&&$t===0?St.div:St.div.negative!==0?St.div.isubn(1):St.div.iaddn(1)},et.prototype.modrn=function(vt){var St=vt<0;St&&(vt=-vt),j(vt<=67108863);for(var Lt=(1<<26)%vt,zt=0,Rt=this.length-1;Rt>=0;Rt--)zt=(Lt*zt+(this.words[Rt]|0))%vt;return St?-zt:zt},et.prototype.modn=function(vt){return this.modrn(vt)},et.prototype.idivn=function(vt){var St=vt<0;St&&(vt=-vt),j(vt<=67108863);for(var Lt=0,zt=this.length-1;zt>=0;zt--){var Rt=(this.words[zt]|0)+Lt*67108864;this.words[zt]=Rt/vt|0,Lt=Rt%vt}return this._strip(),St?this.ineg():this},et.prototype.divn=function(vt){return this.clone().idivn(vt)},et.prototype.egcd=function(vt){j(vt.negative===0),j(!vt.isZero());var St=this,Lt=vt.clone();St.negative!==0?St=St.umod(vt):St=St.clone();for(var zt=new et(1),Rt=new et(0),$t=new et(0),Gt=new et(1),Ft=0;St.isEven()&&Lt.isEven();)St.iushrn(1),Lt.iushrn(1),++Ft;for(var wt=Lt.clone(),Ht=St.clone();!St.isZero();){for(var nn=0,Dt=1;!(St.words[0]&Dt)&&nn<26;++nn,Dt<<=1);if(nn>0)for(St.iushrn(nn);nn-- >0;)(zt.isOdd()||Rt.isOdd())&&(zt.iadd(wt),Rt.isub(Ht)),zt.iushrn(1),Rt.iushrn(1);for(var Jt=0,on=1;!(Lt.words[0]&on)&&Jt<26;++Jt,on<<=1);if(Jt>0)for(Lt.iushrn(Jt);Jt-- >0;)($t.isOdd()||Gt.isOdd())&&($t.iadd(wt),Gt.isub(Ht)),$t.iushrn(1),Gt.iushrn(1);St.cmp(Lt)>=0?(St.isub(Lt),zt.isub($t),Rt.isub(Gt)):(Lt.isub(St),$t.isub(zt),Gt.isub(Rt))}return{a:$t,b:Gt,gcd:Lt.iushln(Ft)}},et.prototype._invmp=function(vt){j(vt.negative===0),j(!vt.isZero());var St=this,Lt=vt.clone();St.negative!==0?St=St.umod(vt):St=St.clone();for(var zt=new et(1),Rt=new et(0),$t=Lt.clone();St.cmpn(1)>0&&Lt.cmpn(1)>0;){for(var Gt=0,Ft=1;!(St.words[0]&Ft)&&Gt<26;++Gt,Ft<<=1);if(Gt>0)for(St.iushrn(Gt);Gt-- >0;)zt.isOdd()&&zt.iadd($t),zt.iushrn(1);for(var wt=0,Ht=1;!(Lt.words[0]&Ht)&&wt<26;++wt,Ht<<=1);if(wt>0)for(Lt.iushrn(wt);wt-- >0;)Rt.isOdd()&&Rt.iadd($t),Rt.iushrn(1);St.cmp(Lt)>=0?(St.isub(Lt),zt.isub(Rt)):(Lt.isub(St),Rt.isub(zt))}var nn;return St.cmpn(1)===0?nn=zt:nn=Rt,nn.cmpn(0)<0&&nn.iadd(vt),nn},et.prototype.gcd=function(vt){if(this.isZero())return vt.abs();if(vt.isZero())return this.abs();var St=this.clone(),Lt=vt.clone();St.negative=0,Lt.negative=0;for(var zt=0;St.isEven()&&Lt.isEven();zt++)St.iushrn(1),Lt.iushrn(1);do{for(;St.isEven();)St.iushrn(1);for(;Lt.isEven();)Lt.iushrn(1);var Rt=St.cmp(Lt);if(Rt<0){var $t=St;St=Lt,Lt=$t}else if(Rt===0||Lt.cmpn(1)===0)break;St.isub(Lt)}while(!0);return Lt.iushln(zt)},et.prototype.invm=function(vt){return this.egcd(vt).a.umod(vt)},et.prototype.isEven=function(){return(this.words[0]&1)===0},et.prototype.isOdd=function(){return(this.words[0]&1)===1},et.prototype.andln=function(vt){return this.words[0]&vt},et.prototype.bincn=function(vt){j(typeof vt=="number");var St=vt%26,Lt=(vt-St)/26,zt=1<<St;if(this.length<=Lt)return this._expand(Lt+1),this.words[Lt]|=zt,this;for(var Rt=zt,$t=Lt;Rt!==0&&$t<this.length;$t++){var Gt=this.words[$t]|0;Gt+=Rt,Rt=Gt>>>26,Gt&=67108863,this.words[$t]=Gt}return Rt!==0&&(this.words[$t]=Rt,this.length++),this},et.prototype.isZero=function(){return this.length===1&&this.words[0]===0},et.prototype.cmpn=function(vt){var St=vt<0;if(this.negative!==0&&!St)return-1;if(this.negative===0&&St)return 1;this._strip();var Lt;if(this.length>1)Lt=1;else{St&&(vt=-vt),j(vt<=67108863,"Number is too big");var zt=this.words[0]|0;Lt=zt===vt?0:zt<vt?-1:1}return this.negative!==0?-Lt|0:Lt},et.prototype.cmp=function(vt){if(this.negative!==0&&vt.negative===0)return-1;if(this.negative===0&&vt.negative!==0)return 1;var St=this.ucmp(vt);return this.negative!==0?-St|0:St},et.prototype.ucmp=function(vt){if(this.length>vt.length)return 1;if(this.length<vt.length)return-1;for(var St=0,Lt=this.length-1;Lt>=0;Lt--){var zt=this.words[Lt]|0,Rt=vt.words[Lt]|0;if(zt!==Rt){zt<Rt?St=-1:zt>Rt&&(St=1);break}}return St},et.prototype.gtn=function(vt){return this.cmpn(vt)===1},et.prototype.gt=function(vt){return this.cmp(vt)===1},et.prototype.gten=function(vt){return this.cmpn(vt)>=0},et.prototype.gte=function(vt){return this.cmp(vt)>=0},et.prototype.ltn=function(vt){return this.cmpn(vt)===-1},et.prototype.lt=function(vt){return this.cmp(vt)===-1},et.prototype.lten=function(vt){return this.cmpn(vt)<=0},et.prototype.lte=function(vt){return this.cmp(vt)<=0},et.prototype.eqn=function(vt){return this.cmpn(vt)===0},et.prototype.eq=function(vt){return this.cmp(vt)===0},et.red=function(vt){return new Kt(vt)},et.prototype.toRed=function(vt){return j(!this.red,"Already a number in reduction context"),j(this.negative===0,"red works only with positives"),vt.convertTo(this)._forceRed(vt)},et.prototype.fromRed=function(){return j(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},et.prototype._forceRed=function(vt){return this.red=vt,this},et.prototype.forceRed=function(vt){return j(!this.red,"Already a number in reduction context"),this._forceRed(vt)},et.prototype.redAdd=function(vt){return j(this.red,"redAdd works only with red numbers"),this.red.add(this,vt)},et.prototype.redIAdd=function(vt){return j(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,vt)},et.prototype.redSub=function(vt){return j(this.red,"redSub works only with red numbers"),this.red.sub(this,vt)},et.prototype.redISub=function(vt){return j(this.red,"redISub works only with red numbers"),this.red.isub(this,vt)},et.prototype.redShl=function(vt){return j(this.red,"redShl works only with red numbers"),this.red.shl(this,vt)},et.prototype.redMul=function(vt){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,vt),this.red.mul(this,vt)},et.prototype.redIMul=function(vt){return j(this.red,"redMul works only with red numbers"),this.red._verify2(this,vt),this.red.imul(this,vt)},et.prototype.redSqr=function(){return j(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},et.prototype.redISqr=function(){return j(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},et.prototype.redSqrt=function(){return j(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},et.prototype.redInvm=function(){return j(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},et.prototype.redNeg=function(){return j(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},et.prototype.redPow=function(vt){return j(this.red&&!vt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,vt)};var At={k256:null,p224:null,p192:null,p25519:null};function Tt(kt,vt){this.name=kt,this.p=new et(vt,16),this.n=this.p.bitLength(),this.k=new et(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Tt.prototype._tmp=function(){var vt=new et(null);return vt.words=new Array(Math.ceil(this.n/13)),vt},Tt.prototype.ireduce=function(vt){var St=vt,Lt;do this.split(St,this.tmp),St=this.imulK(St),St=St.iadd(this.tmp),Lt=St.bitLength();while(Lt>this.n);var zt=Lt<this.n?-1:St.ucmp(this.p);return zt===0?(St.words[0]=0,St.length=1):zt>0?St.isub(this.p):St.strip!==void 0?St.strip():St._strip(),St},Tt.prototype.split=function(vt,St){vt.iushrn(this.n,0,St)},Tt.prototype.imulK=function(vt){return vt.imul(this.k)};function Pt(){Tt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}_e(Pt,Tt),Pt.prototype.split=function(vt,St){for(var Lt=4194303,zt=Math.min(vt.length,9),Rt=0;Rt<zt;Rt++)St.words[Rt]=vt.words[Rt];if(St.length=zt,vt.length<=9){vt.words[0]=0,vt.length=1;return}var $t=vt.words[9];for(St.words[St.length++]=$t&Lt,Rt=10;Rt<vt.length;Rt++){var Gt=vt.words[Rt]|0;vt.words[Rt-10]=(Gt&Lt)<<4|$t>>>22,$t=Gt}$t>>>=22,vt.words[Rt-10]=$t,$t===0&&vt.length>10?vt.length-=10:vt.length-=9},Pt.prototype.imulK=function(vt){vt.words[vt.length]=0,vt.words[vt.length+1]=0,vt.length+=2;for(var St=0,Lt=0;Lt<vt.length;Lt++){var zt=vt.words[Lt]|0;St+=zt*977,vt.words[Lt]=St&67108863,St=zt*64+(St/67108864|0)}return vt.words[vt.length-1]===0&&(vt.length--,vt.words[vt.length-1]===0&&vt.length--),vt};function Ct(){Tt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}_e(Ct,Tt);function It(){Tt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}_e(It,Tt);function Vt(){Tt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}_e(Vt,Tt),Vt.prototype.imulK=function(vt){for(var St=0,Lt=0;Lt<vt.length;Lt++){var zt=(vt.words[Lt]|0)*19+St,Rt=zt&67108863;zt>>>=26,vt.words[Lt]=Rt,St=zt}return St!==0&&(vt.words[vt.length++]=St),vt},et._prime=function(vt){if(At[vt])return At[vt];var St;if(vt==="k256")St=new Pt;else if(vt==="p224")St=new Ct;else if(vt==="p192")St=new It;else if(vt==="p25519")St=new Vt;else throw new Error("Unknown prime "+vt);return At[vt]=St,St};function Kt(kt){if(typeof kt=="string"){var vt=et._prime(kt);this.m=vt.p,this.prime=vt}else j(kt.gtn(1),"modulus must be greater than 1"),this.m=kt,this.prime=null}Kt.prototype._verify1=function(vt){j(vt.negative===0,"red works only with positives"),j(vt.red,"red works only with red numbers")},Kt.prototype._verify2=function(vt,St){j((vt.negative|St.negative)===0,"red works only with positives"),j(vt.red&&vt.red===St.red,"red works only with red numbers")},Kt.prototype.imod=function(vt){return this.prime?this.prime.ireduce(vt)._forceRed(this):(ot(vt,vt.umod(this.m)._forceRed(this)),vt)},Kt.prototype.neg=function(vt){return vt.isZero()?vt.clone():this.m.sub(vt)._forceRed(this)},Kt.prototype.add=function(vt,St){this._verify2(vt,St);var Lt=vt.add(St);return Lt.cmp(this.m)>=0&&Lt.isub(this.m),Lt._forceRed(this)},Kt.prototype.iadd=function(vt,St){this._verify2(vt,St);var Lt=vt.iadd(St);return Lt.cmp(this.m)>=0&&Lt.isub(this.m),Lt},Kt.prototype.sub=function(vt,St){this._verify2(vt,St);var Lt=vt.sub(St);return Lt.cmpn(0)<0&&Lt.iadd(this.m),Lt._forceRed(this)},Kt.prototype.isub=function(vt,St){this._verify2(vt,St);var Lt=vt.isub(St);return Lt.cmpn(0)<0&&Lt.iadd(this.m),Lt},Kt.prototype.shl=function(vt,St){return this._verify1(vt),this.imod(vt.ushln(St))},Kt.prototype.imul=function(vt,St){return this._verify2(vt,St),this.imod(vt.imul(St))},Kt.prototype.mul=function(vt,St){return this._verify2(vt,St),this.imod(vt.mul(St))},Kt.prototype.isqr=function(vt){return this.imul(vt,vt.clone())},Kt.prototype.sqr=function(vt){return this.mul(vt,vt)},Kt.prototype.sqrt=function(vt){if(vt.isZero())return vt.clone();var St=this.m.andln(3);if(j(St%2===1),St===3){var Lt=this.m.add(new et(1)).iushrn(2);return this.pow(vt,Lt)}for(var zt=this.m.subn(1),Rt=0;!zt.isZero()&&zt.andln(1)===0;)Rt++,zt.iushrn(1);j(!zt.isZero());var $t=new et(1).toRed(this),Gt=$t.redNeg(),Ft=this.m.subn(1).iushrn(1),wt=this.m.bitLength();for(wt=new et(2*wt*wt).toRed(this);this.pow(wt,Ft).cmp(Gt)!==0;)wt.redIAdd(Gt);for(var Ht=this.pow(wt,zt),nn=this.pow(vt,zt.addn(1).iushrn(1)),Dt=this.pow(vt,zt),Jt=Rt;Dt.cmp($t)!==0;){for(var on=Dt,sn=0;on.cmp($t)!==0;sn++)on=on.redSqr();j(sn<Jt);var dn=this.pow(Ht,new et(1).iushln(Jt-sn-1));nn=nn.redMul(dn),Ht=dn.redSqr(),Dt=Dt.redMul(Ht),Jt=sn}return nn},Kt.prototype.invm=function(vt){var St=vt._invmp(this.m);return St.negative!==0?(St.negative=0,this.imod(St).redNeg()):this.imod(St)},Kt.prototype.pow=function(vt,St){if(St.isZero())return new et(1).toRed(this);if(St.cmpn(1)===0)return vt.clone();var Lt=4,zt=new Array(1<<Lt);zt[0]=new et(1).toRed(this),zt[1]=vt;for(var Rt=2;Rt<zt.length;Rt++)zt[Rt]=this.mul(zt[Rt-1],vt);var $t=zt[0],Gt=0,Ft=0,wt=St.bitLength()%26;for(wt===0&&(wt=26),Rt=St.length-1;Rt>=0;Rt--){for(var Ht=St.words[Rt],nn=wt-1;nn>=0;nn--){var Dt=Ht>>nn&1;if($t!==zt[0]&&($t=this.sqr($t)),Dt===0&&Gt===0){Ft=0;continue}Gt<<=1,Gt|=Dt,Ft++,!(Ft!==Lt&&(Rt!==0||nn!==0))&&($t=this.mul($t,zt[Gt]),Ft=0,Gt=0)}wt=26}return $t},Kt.prototype.convertTo=function(vt){var St=vt.umod(this.m);return St===vt?St.clone():St},Kt.prototype.convertFrom=function(vt){var St=vt.clone();return St.red=null,St},et.mont=function(vt){return new en(vt)};function en(kt){Kt.call(this,kt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new et(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_e(en,Kt),en.prototype.convertTo=function(vt){return this.imod(vt.ushln(this.shift))},en.prototype.convertFrom=function(vt){var St=this.imod(vt.mul(this.rinv));return St.red=null,St},en.prototype.imul=function(vt,St){if(vt.isZero()||St.isZero())return vt.words[0]=0,vt.length=1,vt;var Lt=vt.imul(St),zt=Lt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Rt=Lt.isub(zt).iushrn(this.shift),$t=Rt;return Rt.cmp(this.m)>=0?$t=Rt.isub(this.m):Rt.cmpn(0)<0&&($t=Rt.iadd(this.m)),$t._forceRed(this)},en.prototype.mul=function(vt,St){if(vt.isZero()||St.isZero())return new et(0)._forceRed(this);var Lt=vt.mul(St),zt=Lt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Rt=Lt.isub(zt).iushrn(this.shift),$t=Rt;return Rt.cmp(this.m)>=0?$t=Rt.isub(this.m):Rt.cmpn(0)<0&&($t=Rt.iadd(this.m)),$t._forceRed(this)},en.prototype.invm=function(vt){var St=this.imod(vt._invmp(this.m).mul(this.r2));return St._forceRed(this)}})($,commonjsGlobal)})(bn);const BN$1=bnExports,version$h="logger/5.7.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const $=[];if(["NFD","NFC","NFKD","NFKC"].forEach(o=>{try{if("test".normalize(o)!=="test")throw new Error("bad normalize")}catch{$.push(o)}}),$.length)throw new Error("missing "+$.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch($){return $.message}return null}const _normalizeError=_checkNormalize();var LogLevel;(function($){$.DEBUG="DEBUG",$.INFO="INFO",$.WARNING="WARNING",$.ERROR="ERROR",$.OFF="OFF"})(LogLevel||(LogLevel={}));var ErrorCode;(function($){$.UNKNOWN_ERROR="UNKNOWN_ERROR",$.NOT_IMPLEMENTED="NOT_IMPLEMENTED",$.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",$.NETWORK_ERROR="NETWORK_ERROR",$.SERVER_ERROR="SERVER_ERROR",$.TIMEOUT="TIMEOUT",$.BUFFER_OVERRUN="BUFFER_OVERRUN",$.NUMERIC_FAULT="NUMERIC_FAULT",$.MISSING_NEW="MISSING_NEW",$.INVALID_ARGUMENT="INVALID_ARGUMENT",$.MISSING_ARGUMENT="MISSING_ARGUMENT",$.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",$.CALL_EXCEPTION="CALL_EXCEPTION",$.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",$.NONCE_EXPIRED="NONCE_EXPIRED",$.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",$.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",$.TRANSACTION_REPLACED="TRANSACTION_REPLACED",$.ACTION_REJECTED="ACTION_REJECTED"})(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(o){Object.defineProperty(this,"version",{enumerable:!0,value:o,writable:!1})}_log(o,a){const j=o.toLowerCase();LogLevels[j]==null&&this.throwArgumentError("invalid log level name","logLevel",o),!(_logLevel>LogLevels[j])&&console.log.apply(console,a)}debug(...o){this._log(Logger.levels.DEBUG,o)}info(...o){this._log(Logger.levels.INFO,o)}warn(...o){this._log(Logger.levels.WARNING,o)}makeError(o,a,j){if(_censorErrors)return this.makeError("censored error",a,{});a||(a=Logger.errors.UNKNOWN_ERROR),j||(j={});const _e=[];Object.keys(j).forEach(rt=>{const it=j[rt];try{if(it instanceof Uint8Array){let ot="";for(let at=0;at<it.length;at++)ot+=HEX[it[at]>>4],ot+=HEX[it[at]&15];_e.push(rt+"=Uint8Array(0x"+ot+")")}else _e.push(rt+"="+JSON.stringify(it))}catch{_e.push(rt+"="+JSON.stringify(j[rt].toString()))}}),_e.push(`code=${a}`),_e.push(`version=${this.version}`);const et=o;let tt="";switch(a){case ErrorCode.NUMERIC_FAULT:{tt="NUMERIC_FAULT";const rt=o;switch(rt){case"overflow":case"underflow":case"division-by-zero":tt+="-"+rt;break;case"negative-power":case"negative-width":tt+="-unsupported";break;case"unbound-bitwise-result":tt+="-unbound-result";break}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:tt=a;break}tt&&(o+=" [ See: https://links.ethers.org/v5-errors-"+tt+" ]"),_e.length&&(o+=" ("+_e.join(", ")+")");const nt=new Error(o);return nt.reason=et,nt.code=a,Object.keys(j).forEach(function(rt){nt[rt]=j[rt]}),nt}throwError(o,a,j){throw this.makeError(o,a,j)}throwArgumentError(o,a,j){return this.throwError(o,Logger.errors.INVALID_ARGUMENT,{argument:a,value:j})}assert(o,a,j,_e){o||this.throwError(a,j,_e)}assertArgument(o,a,j,_e){o||this.throwArgumentError(a,j,_e)}checkNormalize(o){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(o,a){typeof o=="number"&&(a==null&&(a="value not safe"),(o<0||o>=9007199254740991)&&this.throwError(a,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:o}),o%1&&this.throwError(a,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:o}))}checkArgumentCount(o,a,j){j?j=": "+j:j="",o<a&&this.throwError("missing argument"+j,Logger.errors.MISSING_ARGUMENT,{count:o,expectedCount:a}),o>a&&this.throwError("too many arguments"+j,Logger.errors.UNEXPECTED_ARGUMENT,{count:o,expectedCount:a})}checkNew(o,a){(o===Object||o==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:a.name})}checkAbstract(o,a){o===a?this.throwError("cannot instantiate abstract class "+JSON.stringify(a.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:o.name,operation:"new"}):(o===Object||o==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:a.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger(version$h)),_globalLogger}static setCensorship(o,a){if(!o&&a&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!o)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!o,_permanentCensorErrors=!!a}static setLogLevel(o){const a=LogLevels[o.toLowerCase()];if(a==null){Logger.globalLogger().warn("invalid log level - "+o);return}_logLevel=a}static from(o){return new Logger(o)}}Logger.errors=ErrorCode;Logger.levels=LogLevel;const version$g="bytes/5.7.0",logger$o=new Logger(version$g);function isHexable($){return!!$.toHexString}function addSlice($){return $.slice||($.slice=function(){const o=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply($,o)))}),$}function isBytesLike($){return isHexString($)&&!($.length%2)||isBytes$2($)}function isInteger($){return typeof $=="number"&&$==$&&$%1===0}function isBytes$2($){if($==null)return!1;if($.constructor===Uint8Array)return!0;if(typeof $=="string"||!isInteger($.length)||$.length<0)return!1;for(let o=0;o<$.length;o++){const a=$[o];if(!isInteger(a)||a<0||a>=256)return!1}return!0}function arrayify($,o){if(o||(o={}),typeof $=="number"){logger$o.checkSafeUint53($,"invalid arrayify value");const a=[];for(;$;)a.unshift($&255),$=parseInt(String($/256));return a.length===0&&a.push(0),addSlice(new Uint8Array(a))}if(o.allowMissingPrefix&&typeof $=="string"&&$.substring(0,2)!=="0x"&&($="0x"+$),isHexable($)&&($=$.toHexString()),isHexString($)){let a=$.substring(2);a.length%2&&(o.hexPad==="left"?a="0"+a:o.hexPad==="right"?a+="0":logger$o.throwArgumentError("hex data is odd-length","value",$));const j=[];for(let _e=0;_e<a.length;_e+=2)j.push(parseInt(a.substring(_e,_e+2),16));return addSlice(new Uint8Array(j))}return isBytes$2($)?addSlice(new Uint8Array($)):logger$o.throwArgumentError("invalid arrayify value","value",$)}function concat$3($){const o=$.map(_e=>arrayify(_e)),a=o.reduce((_e,et)=>_e+et.length,0),j=new Uint8Array(a);return o.reduce((_e,et)=>(j.set(et,_e),_e+et.length),0),addSlice(j)}function stripZeros($){let o=arrayify($);if(o.length===0)return o;let a=0;for(;a<o.length&&o[a]===0;)a++;return a&&(o=o.slice(a)),o}function zeroPad($,o){$=arrayify($),$.length>o&&logger$o.throwArgumentError("value out of range","value",arguments[0]);const a=new Uint8Array(o);return a.set($,o-$.length),addSlice(a)}function isHexString($,o){return!(typeof $!="string"||!$.match(/^0x[0-9A-Fa-f]*$/)||o&&$.length!==2+2*o)}const HexCharacters="0123456789abcdef";function hexlify($,o){if(o||(o={}),typeof $=="number"){logger$o.checkSafeUint53($,"invalid hexlify value");let a="";for(;$;)a=HexCharacters[$&15]+a,$=Math.floor($/16);return a.length?(a.length%2&&(a="0"+a),"0x"+a):"0x00"}if(typeof $=="bigint")return $=$.toString(16),$.length%2?"0x0"+$:"0x"+$;if(o.allowMissingPrefix&&typeof $=="string"&&$.substring(0,2)!=="0x"&&($="0x"+$),isHexable($))return $.toHexString();if(isHexString($))return $.length%2&&(o.hexPad==="left"?$="0x0"+$.substring(2):o.hexPad==="right"?$+="0":logger$o.throwArgumentError("hex data is odd-length","value",$)),$.toLowerCase();if(isBytes$2($)){let a="0x";for(let j=0;j<$.length;j++){let _e=$[j];a+=HexCharacters[(_e&240)>>4]+HexCharacters[_e&15]}return a}return logger$o.throwArgumentError("invalid hexlify value","value",$)}function hexDataLength($){if(typeof $!="string")$=hexlify($);else if(!isHexString($)||$.length%2)return null;return($.length-2)/2}function hexDataSlice($,o,a){return typeof $!="string"?$=hexlify($):(!isHexString($)||$.length%2)&&logger$o.throwArgumentError("invalid hexData","value",$),o=2+2*o,a!=null?"0x"+$.substring(o,2+2*a):"0x"+$.substring(o)}function hexConcat($){let o="0x";return $.forEach(a=>{o+=hexlify(a).substring(2)}),o}function hexValue($){const o=hexStripZeros(hexlify($,{hexPad:"left"}));return o==="0x"?"0x0":o}function hexStripZeros($){typeof $!="string"&&($=hexlify($)),isHexString($)||logger$o.throwArgumentError("invalid hex string","value",$),$=$.substring(2);let o=0;for(;o<$.length&&$[o]==="0";)o++;return"0x"+$.substring(o)}function hexZeroPad($,o){for(typeof $!="string"?$=hexlify($):isHexString($)||logger$o.throwArgumentError("invalid hex string","value",$),$.length>2*o+2&&logger$o.throwArgumentError("value out of range","value",arguments[1]);$.length<2*o+2;)$="0x0"+$.substring(2);return $}function splitSignature($){const o={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike($)){let a=arrayify($);a.length===64?(o.v=27+(a[32]>>7),a[32]&=127,o.r=hexlify(a.slice(0,32)),o.s=hexlify(a.slice(32,64))):a.length===65?(o.r=hexlify(a.slice(0,32)),o.s=hexlify(a.slice(32,64)),o.v=a[64]):logger$o.throwArgumentError("invalid signature string","signature",$),o.v<27&&(o.v===0||o.v===1?o.v+=27:logger$o.throwArgumentError("signature invalid v byte","signature",$)),o.recoveryParam=1-o.v%2,o.recoveryParam&&(a[32]|=128),o._vs=hexlify(a.slice(32,64))}else{if(o.r=$.r,o.s=$.s,o.v=$.v,o.recoveryParam=$.recoveryParam,o._vs=$._vs,o._vs!=null){const _e=zeroPad(arrayify(o._vs),32);o._vs=hexlify(_e);const et=_e[0]>=128?1:0;o.recoveryParam==null?o.recoveryParam=et:o.recoveryParam!==et&&logger$o.throwArgumentError("signature recoveryParam mismatch _vs","signature",$),_e[0]&=127;const tt=hexlify(_e);o.s==null?o.s=tt:o.s!==tt&&logger$o.throwArgumentError("signature v mismatch _vs","signature",$)}if(o.recoveryParam==null)o.v==null?logger$o.throwArgumentError("signature missing v and recoveryParam","signature",$):o.v===0||o.v===1?o.recoveryParam=o.v:o.recoveryParam=1-o.v%2;else if(o.v==null)o.v=27+o.recoveryParam;else{const _e=o.v===0||o.v===1?o.v:1-o.v%2;o.recoveryParam!==_e&&logger$o.throwArgumentError("signature recoveryParam mismatch v","signature",$)}o.r==null||!isHexString(o.r)?logger$o.throwArgumentError("signature missing or invalid r","signature",$):o.r=hexZeroPad(o.r,32),o.s==null||!isHexString(o.s)?logger$o.throwArgumentError("signature missing or invalid s","signature",$):o.s=hexZeroPad(o.s,32);const a=arrayify(o.s);a[0]>=128&&logger$o.throwArgumentError("signature s out of range","signature",$),o.recoveryParam&&(a[0]|=128);const j=hexlify(a);o._vs&&(isHexString(o._vs)||logger$o.throwArgumentError("signature invalid _vs","signature",$),o._vs=hexZeroPad(o._vs,32)),o._vs==null?o._vs=j:o._vs!==j&&logger$o.throwArgumentError("signature _vs mismatch v and s","signature",$)}return o.yParityAndS=o._vs,o.compact=o.r+o.yParityAndS.substring(2),o}const version$f="bignumber/5.7.0";var BN=BN$1.BN;const logger$n=new Logger(version$f),_constructorGuard$3={},MAX_SAFE=9007199254740991;function isBigNumberish($){return $!=null&&(BigNumber.isBigNumber($)||typeof $=="number"&&$%1===0||typeof $=="string"&&!!$.match(/^-?[0-9]+$/)||isHexString($)||typeof $=="bigint"||isBytes$2($))}let _warnedToStringRadix=!1;class BigNumber{constructor(o,a){o!==_constructorGuard$3&&logger$n.throwError("cannot call constructor directly; use BigNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=a,this._isBigNumber=!0,Object.freeze(this)}fromTwos(o){return toBigNumber(toBN(this).fromTwos(o))}toTwos(o){return toBigNumber(toBN(this).toTwos(o))}abs(){return this._hex[0]==="-"?BigNumber.from(this._hex.substring(1)):this}add(o){return toBigNumber(toBN(this).add(toBN(o)))}sub(o){return toBigNumber(toBN(this).sub(toBN(o)))}div(o){return BigNumber.from(o).isZero()&&throwFault$1("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(o)))}mul(o){return toBigNumber(toBN(this).mul(toBN(o)))}mod(o){const a=toBN(o);return a.isNeg()&&throwFault$1("division-by-zero","mod"),toBigNumber(toBN(this).umod(a))}pow(o){const a=toBN(o);return a.isNeg()&&throwFault$1("negative-power","pow"),toBigNumber(toBN(this).pow(a))}and(o){const a=toBN(o);return(this.isNegative()||a.isNeg())&&throwFault$1("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(a))}or(o){const a=toBN(o);return(this.isNegative()||a.isNeg())&&throwFault$1("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(a))}xor(o){const a=toBN(o);return(this.isNegative()||a.isNeg())&&throwFault$1("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(a))}mask(o){return(this.isNegative()||o<0)&&throwFault$1("negative-width","mask"),toBigNumber(toBN(this).maskn(o))}shl(o){return(this.isNegative()||o<0)&&throwFault$1("negative-width","shl"),toBigNumber(toBN(this).shln(o))}shr(o){return(this.isNegative()||o<0)&&throwFault$1("negative-width","shr"),toBigNumber(toBN(this).shrn(o))}eq(o){return toBN(this).eq(toBN(o))}lt(o){return toBN(this).lt(toBN(o))}lte(o){return toBN(this).lte(toBN(o))}gt(o){return toBN(this).gt(toBN(o))}gte(o){return toBN(this).gte(toBN(o))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch{throwFault$1("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$n.throwError("this platform does not support BigInt",Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$n.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$n.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger.errors.UNEXPECTED_ARGUMENT,{}):logger$n.throwError("BigNumber.toString does not accept parameters",Logger.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}toHexString(){return this._hex}toJSON(o){return{type:"BigNumber",hex:this.toHexString()}}static from(o){if(o instanceof BigNumber)return o;if(typeof o=="string")return o.match(/^-?0x[0-9a-f]+$/i)?new BigNumber(_constructorGuard$3,toHex$1(o)):o.match(/^-?[0-9]+$/)?new BigNumber(_constructorGuard$3,toHex$1(new BN(o))):logger$n.throwArgumentError("invalid BigNumber string","value",o);if(typeof o=="number")return o%1&&throwFault$1("underflow","BigNumber.from",o),(o>=MAX_SAFE||o<=-MAX_SAFE)&&throwFault$1("overflow","BigNumber.from",o),BigNumber.from(String(o));const a=o;if(typeof a=="bigint")return BigNumber.from(a.toString());if(isBytes$2(a))return BigNumber.from(hexlify(a));if(a)if(a.toHexString){const j=a.toHexString();if(typeof j=="string")return BigNumber.from(j)}else{let j=a._hex;if(j==null&&a.type==="BigNumber"&&(j=a.hex),typeof j=="string"&&(isHexString(j)||j[0]==="-"&&isHexString(j.substring(1))))return BigNumber.from(j)}return logger$n.throwArgumentError("invalid BigNumber value","value",o)}static isBigNumber(o){return!!(o&&o._isBigNumber)}}function toHex$1($){if(typeof $!="string")return toHex$1($.toString(16));if($[0]==="-")return $=$.substring(1),$[0]==="-"&&logger$n.throwArgumentError("invalid hex","value",$),$=toHex$1($),$==="0x00"?$:"-"+$;if($.substring(0,2)!=="0x"&&($="0x"+$),$==="0x")return"0x00";for($.length%2&&($="0x0"+$.substring(2));$.length>4&&$.substring(0,4)==="0x00";)$="0x"+$.substring(4);return $}function toBigNumber($){return BigNumber.from(toHex$1($))}function toBN($){const o=BigNumber.from($).toHexString();return o[0]==="-"?new BN("-"+o.substring(3),16):new BN(o.substring(2),16)}function throwFault$1($,o,a){const j={fault:$,operation:o};return a!=null&&(j.value=a),logger$n.throwError($,Logger.errors.NUMERIC_FAULT,j)}function _base36To16($){return new BN($,36).toString(16)}const logger$m=new Logger(version$f),_constructorGuard$2={},Zero$2=BigNumber.from(0),NegativeOne$2=BigNumber.from(-1);function throwFault($,o,a,j){const _e={fault:o,operation:a};return j!==void 0&&(_e.value=j),logger$m.throwError($,Logger.errors.NUMERIC_FAULT,_e)}let zeros="0";for(;zeros.length<256;)zeros+=zeros;function getMultiplier($){if(typeof $!="number")try{$=BigNumber.from($).toNumber()}catch{}return typeof $=="number"&&$>=0&&$<=256&&!($%1)?"1"+zeros.substring(0,$):logger$m.throwArgumentError("invalid decimal size","decimals",$)}function formatFixed($,o){o==null&&(o=0);const a=getMultiplier(o);$=BigNumber.from($);const j=$.lt(Zero$2);j&&($=$.mul(NegativeOne$2));let _e=$.mod(a).toString();for(;_e.length<a.length-1;)_e="0"+_e;_e=_e.match(/^([0-9]*[1-9]|0)(0*)/)[1];const et=$.div(a).toString();return a.length===1?$=et:$=et+"."+_e,j&&($="-"+$),$}function parseFixed($,o){o==null&&(o=0);const a=getMultiplier(o);(typeof $!="string"||!$.match(/^-?[0-9.]+$/))&&logger$m.throwArgumentError("invalid decimal value","value",$);const j=$.substring(0,1)==="-";j&&($=$.substring(1)),$==="."&&logger$m.throwArgumentError("missing value","value",$);const _e=$.split(".");_e.length>2&&logger$m.throwArgumentError("too many decimal points","value",$);let et=_e[0],tt=_e[1];for(et||(et="0"),tt||(tt="0");tt[tt.length-1]==="0";)tt=tt.substring(0,tt.length-1);for(tt.length>a.length-1&&throwFault("fractional component exceeds decimals","underflow","parseFixed"),tt===""&&(tt="0");tt.length<a.length-1;)tt+="0";const nt=BigNumber.from(et),rt=BigNumber.from(tt);let it=nt.mul(a).add(rt);return j&&(it=it.mul(NegativeOne$2)),it}class FixedFormat{constructor(o,a,j,_e){o!==_constructorGuard$2&&logger$m.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=a,this.width=j,this.decimals=_e,this.name=(a?"":"u")+"fixed"+String(j)+"x"+String(_e),this._multiplier=getMultiplier(_e),Object.freeze(this)}static from(o){if(o instanceof FixedFormat)return o;typeof o=="number"&&(o=`fixed128x${o}`);let a=!0,j=128,_e=18;if(typeof o=="string"){if(o!=="fixed")if(o==="ufixed")a=!1;else{const et=o.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);et||logger$m.throwArgumentError("invalid fixed format","format",o),a=et[1]!=="u",j=parseInt(et[2]),_e=parseInt(et[3])}}else if(o){const et=(tt,nt,rt)=>o[tt]==null?rt:(typeof o[tt]!==nt&&logger$m.throwArgumentError("invalid fixed format ("+tt+" not "+nt+")","format."+tt,o[tt]),o[tt]);a=et("signed","boolean",a),j=et("width","number",j),_e=et("decimals","number",_e)}return j%8&&logger$m.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",j),_e>80&&logger$m.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",_e),new FixedFormat(_constructorGuard$2,a,j,_e)}}class FixedNumber{constructor(o,a,j,_e){o!==_constructorGuard$2&&logger$m.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=_e,this._hex=a,this._value=j,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(o){this.format.name!==o.format.name&&logger$m.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",o)}addUnsafe(o){this._checkFormat(o);const a=parseFixed(this._value,this.format.decimals),j=parseFixed(o._value,o.format.decimals);return FixedNumber.fromValue(a.add(j),this.format.decimals,this.format)}subUnsafe(o){this._checkFormat(o);const a=parseFixed(this._value,this.format.decimals),j=parseFixed(o._value,o.format.decimals);return FixedNumber.fromValue(a.sub(j),this.format.decimals,this.format)}mulUnsafe(o){this._checkFormat(o);const a=parseFixed(this._value,this.format.decimals),j=parseFixed(o._value,o.format.decimals);return FixedNumber.fromValue(a.mul(j).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(o){this._checkFormat(o);const a=parseFixed(this._value,this.format.decimals),j=parseFixed(o._value,o.format.decimals);return FixedNumber.fromValue(a.mul(this.format._multiplier).div(j),this.format.decimals,this.format)}floor(){const o=this.toString().split(".");o.length===1&&o.push("0");let a=FixedNumber.from(o[0],this.format);const j=!o[1].match(/^(0*)$/);return this.isNegative()&&j&&(a=a.subUnsafe(ONE.toFormat(a.format))),a}ceiling(){const o=this.toString().split(".");o.length===1&&o.push("0");let a=FixedNumber.from(o[0],this.format);const j=!o[1].match(/^(0*)$/);return!this.isNegative()&&j&&(a=a.addUnsafe(ONE.toFormat(a.format))),a}round(o){o==null&&(o=0);const a=this.toString().split(".");if(a.length===1&&a.push("0"),(o<0||o>80||o%1)&&logger$m.throwArgumentError("invalid decimal count","decimals",o),a[1].length<=o)return this;const j=FixedNumber.from("1"+zeros.substring(0,o),this.format),_e=BUMP.toFormat(this.format);return this.mulUnsafe(j).addUnsafe(_e).floor().divUnsafe(j)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(o){if(o==null)return this._hex;o%8&&logger$m.throwArgumentError("invalid byte width","width",o);const a=BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(o).toHexString();return hexZeroPad(a,o/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(o){return FixedNumber.fromString(this._value,o)}static fromValue(o,a,j){return j==null&&a!=null&&!isBigNumberish(a)&&(j=a,a=null),a==null&&(a=0),j==null&&(j="fixed"),FixedNumber.fromString(formatFixed(o,a),FixedFormat.from(j))}static fromString(o,a){a==null&&(a="fixed");const j=FixedFormat.from(a),_e=parseFixed(o,j.decimals);!j.signed&&_e.lt(Zero$2)&&throwFault("unsigned value cannot be negative","overflow","value",o);let et=null;j.signed?et=_e.toTwos(j.width).toHexString():(et=_e.toHexString(),et=hexZeroPad(et,j.width/8));const tt=formatFixed(_e,j.decimals);return new FixedNumber(_constructorGuard$2,et,tt,j)}static fromBytes(o,a){a==null&&(a="fixed");const j=FixedFormat.from(a);if(arrayify(o).length>j.width/8)throw new Error("overflow");let _e=BigNumber.from(o);j.signed&&(_e=_e.fromTwos(j.width));const et=_e.toTwos((j.signed?0:1)+j.width).toHexString(),tt=formatFixed(_e,j.decimals);return new FixedNumber(_constructorGuard$2,et,tt,j)}static from(o,a){if(typeof o=="string")return FixedNumber.fromString(o,a);if(isBytes$2(o))return FixedNumber.fromBytes(o,a);try{return FixedNumber.fromValue(o,0,a)}catch(j){if(j.code!==Logger.errors.INVALID_ARGUMENT)throw j}return logger$m.throwArgumentError("invalid FixedNumber value","value",o)}static isFixedNumber(o){return!!(o&&o._isFixedNumber)}}const ONE=FixedNumber.from(1),BUMP=FixedNumber.from("0.5"),version$e="properties/5.7.0";var __awaiter$8=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function nt(ot){try{it(j.next(ot))}catch(at){tt(at)}}function rt(ot){try{it(j.throw(ot))}catch(at){tt(at)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(nt,rt)}it((j=j.apply($,o||[])).next())})};const logger$l=new Logger(version$e);function defineReadOnly($,o,a){Object.defineProperty($,o,{enumerable:!0,value:a,writable:!1})}function getStatic($,o){for(let a=0;a<32;a++){if($[o])return $[o];if(!$.prototype||typeof $.prototype!="object")break;$=Object.getPrototypeOf($.prototype).constructor}return null}function resolveProperties($){return __awaiter$8(this,void 0,void 0,function*(){const o=Object.keys($).map(j=>{const _e=$[j];return Promise.resolve(_e).then(et=>({key:j,value:et}))});return(yield Promise.all(o)).reduce((j,_e)=>(j[_e.key]=_e.value,j),{})})}function checkProperties($,o){(!$||typeof $!="object")&&logger$l.throwArgumentError("invalid object","object",$),Object.keys($).forEach(a=>{o[a]||logger$l.throwArgumentError("invalid object key - "+a,"transaction:"+a,$)})}function shallowCopy($){const o={};for(const a in $)o[a]=$[a];return o}const opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen($){if($==null||opaque[typeof $])return!0;if(Array.isArray($)||typeof $=="object"){if(!Object.isFrozen($))return!1;const o=Object.keys($);for(let a=0;a<o.length;a++){let j=null;try{j=$[o[a]]}catch{continue}if(!_isFrozen(j))return!1}return!0}return logger$l.throwArgumentError(`Cannot deepCopy ${typeof $}`,"object",$)}function _deepCopy($){if(_isFrozen($))return $;if(Array.isArray($))return Object.freeze($.map(o=>deepCopy(o)));if(typeof $=="object"){const o={};for(const a in $){const j=$[a];j!==void 0&&defineReadOnly(o,a,deepCopy(j))}return o}return logger$l.throwArgumentError(`Cannot deepCopy ${typeof $}`,"object",$)}function deepCopy($){return _deepCopy($)}class Description{constructor(o){for(const a in o)this[a]=deepCopy(o[a])}}const version$d="abi/5.7.0",logger$k=new Logger(version$d),_constructorGuard$1={};let ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier($,o){if($==="bytes"||$==="string"){if(ModifiersBytes[o])return!0}else if($==="address"){if(o==="payable")return!0}else if(($.indexOf("[")>=0||$==="tuple")&&ModifiersNest[o])return!0;return(ModifiersBytes[o]||o==="payable")&&logger$k.throwArgumentError("invalid modifier","name",o),!1}function parseParamType($,o){let a=$;function j(nt){logger$k.throwArgumentError(`unexpected character at position ${nt}`,"param",$)}$=$.replace(/\s/g," ");function _e(nt){let rt={type:"",name:"",parent:nt,state:{allowType:!0}};return o&&(rt.indexed=!1),rt}let et={type:"",name:"",state:{allowType:!0}},tt=et;for(let nt=0;nt<$.length;nt++){let rt=$[nt];switch(rt){case"(":tt.state.allowType&&tt.type===""?tt.type="tuple":tt.state.allowParams||j(nt),tt.state.allowType=!1,tt.type=verifyType(tt.type),tt.components=[_e(tt)],tt=tt.components[0];break;case")":delete tt.state,tt.name==="indexed"&&(o||j(nt),tt.indexed=!0,tt.name=""),checkModifier(tt.type,tt.name)&&(tt.name=""),tt.type=verifyType(tt.type);let it=tt;tt=tt.parent,tt||j(nt),delete it.parent,tt.state.allowParams=!1,tt.state.allowName=!0,tt.state.allowArray=!0;break;case",":delete tt.state,tt.name==="indexed"&&(o||j(nt),tt.indexed=!0,tt.name=""),checkModifier(tt.type,tt.name)&&(tt.name=""),tt.type=verifyType(tt.type);let ot=_e(tt.parent);tt.parent.components.push(ot),delete tt.parent,tt=ot;break;case" ":tt.state.allowType&&tt.type!==""&&(tt.type=verifyType(tt.type),delete tt.state.allowType,tt.state.allowName=!0,tt.state.allowParams=!0),tt.state.allowName&&tt.name!==""&&(tt.name==="indexed"?(o||j(nt),tt.indexed&&j(nt),tt.indexed=!0,tt.name=""):checkModifier(tt.type,tt.name)?tt.name="":tt.state.allowName=!1);break;case"[":tt.state.allowArray||j(nt),tt.type+=rt,tt.state.allowArray=!1,tt.state.allowName=!1,tt.state.readArray=!0;break;case"]":tt.state.readArray||j(nt),tt.type+=rt,tt.state.readArray=!1,tt.state.allowArray=!0,tt.state.allowName=!0;break;default:tt.state.allowType?(tt.type+=rt,tt.state.allowParams=!0,tt.state.allowArray=!0):tt.state.allowName?(tt.name+=rt,delete tt.state.allowArray):tt.state.readArray?tt.type+=rt:j(nt)}}return tt.parent&&logger$k.throwArgumentError("unexpected eof","param",$),delete et.state,tt.name==="indexed"?(o||j(a.length-7),tt.indexed&&j(a.length-7),tt.indexed=!0,tt.name=""):checkModifier(tt.type,tt.name)&&(tt.name=""),et.type=verifyType(et.type),et}function populate($,o){for(let a in o)defineReadOnly($,a,o[a])}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(o,a){o!==_constructorGuard$1&&logger$k.throwError("use fromString",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,a);let j=this.type.match(paramTypeArray);j?populate(this,{arrayLength:parseInt(j[2]||"-1"),arrayChildren:ParamType.fromObject({type:j[1],components:this.components}),baseType:"array"}):populate(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(o){if(o||(o=FormatTypes.sighash),FormatTypes[o]||logger$k.throwArgumentError("invalid format type","format",o),o===FormatTypes.json){let j={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(j.indexed=this.indexed),this.components&&(j.components=this.components.map(_e=>JSON.parse(_e.format(o)))),JSON.stringify(j)}let a="";return this.baseType==="array"?(a+=this.arrayChildren.format(o),a+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(o!==FormatTypes.sighash&&(a+=this.type),a+="("+this.components.map(j=>j.format(o)).join(o===FormatTypes.full?", ":",")+")"):a+=this.type,o!==FormatTypes.sighash&&(this.indexed===!0&&(a+=" indexed"),o===FormatTypes.full&&this.name&&(a+=" "+this.name)),a}static from(o,a){return typeof o=="string"?ParamType.fromString(o,a):ParamType.fromObject(o)}static fromObject(o){return ParamType.isParamType(o)?o:new ParamType(_constructorGuard$1,{name:o.name||null,type:verifyType(o.type),indexed:o.indexed==null?null:!!o.indexed,components:o.components?o.components.map(ParamType.fromObject):null})}static fromString(o,a){function j(_e){return ParamType.fromObject({name:_e.name,type:_e.type,indexed:_e.indexed,components:_e.components})}return j(parseParamType(o,!!a))}static isParamType(o){return!!(o!=null&&o._isParamType)}}function parseParams($,o){return splitNesting($).map(a=>ParamType.fromString(a,o))}class Fragment{constructor(o,a){o!==_constructorGuard$1&&logger$k.throwError("use a static from method",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,a),this._isFragment=!0,Object.freeze(this)}static from(o){return Fragment.isFragment(o)?o:typeof o=="string"?Fragment.fromString(o):Fragment.fromObject(o)}static fromObject(o){if(Fragment.isFragment(o))return o;switch(o.type){case"function":return FunctionFragment.fromObject(o);case"event":return EventFragment.fromObject(o);case"constructor":return ConstructorFragment.fromObject(o);case"error":return ErrorFragment.fromObject(o);case"fallback":case"receive":return null}return logger$k.throwArgumentError("invalid fragment object","value",o)}static fromString(o){return o=o.replace(/\s/g," "),o=o.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),o=o.trim(),o.split(" ")[0]==="event"?EventFragment.fromString(o.substring(5).trim()):o.split(" ")[0]==="function"?FunctionFragment.fromString(o.substring(8).trim()):o.split("(")[0].trim()==="constructor"?ConstructorFragment.fromString(o.trim()):o.split(" ")[0]==="error"?ErrorFragment.fromString(o.substring(5).trim()):logger$k.throwArgumentError("unsupported fragment","value",o)}static isFragment(o){return!!(o&&o._isFragment)}}class EventFragment extends Fragment{format(o){if(o||(o=FormatTypes.sighash),FormatTypes[o]||logger$k.throwArgumentError("invalid format type","format",o),o===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(j=>JSON.parse(j.format(o)))});let a="";return o!==FormatTypes.sighash&&(a+="event "),a+=this.name+"("+this.inputs.map(j=>j.format(o)).join(o===FormatTypes.full?", ":",")+") ",o!==FormatTypes.sighash&&this.anonymous&&(a+="anonymous "),a.trim()}static from(o){return typeof o=="string"?EventFragment.fromString(o):EventFragment.fromObject(o)}static fromObject(o){if(EventFragment.isEventFragment(o))return o;o.type!=="event"&&logger$k.throwArgumentError("invalid event object","value",o);const a={name:verifyIdentifier(o.name),anonymous:o.anonymous,inputs:o.inputs?o.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard$1,a)}static fromString(o){let a=o.match(regexParen);a||logger$k.throwArgumentError("invalid event string","value",o);let j=!1;return a[3].split(" ").forEach(_e=>{switch(_e.trim()){case"anonymous":j=!0;break;case"":break;default:logger$k.warn("unknown modifier: "+_e)}}),EventFragment.fromObject({name:a[1].trim(),anonymous:j,inputs:parseParams(a[2],!0),type:"event"})}static isEventFragment(o){return o&&o._isFragment&&o.type==="event"}}function parseGas($,o){o.gas=null;let a=$.split("@");return a.length!==1?(a.length>2&&logger$k.throwArgumentError("invalid human-readable ABI signature","value",$),a[1].match(/^[0-9]+$/)||logger$k.throwArgumentError("invalid human-readable ABI signature gas","value",$),o.gas=BigNumber.from(a[1]),a[0]):$}function parseModifiers($,o){o.constant=!1,o.payable=!1,o.stateMutability="nonpayable",$.split(" ").forEach(a=>{switch(a.trim()){case"constant":o.constant=!0;break;case"payable":o.payable=!0,o.stateMutability="payable";break;case"nonpayable":o.payable=!1,o.stateMutability="nonpayable";break;case"pure":o.constant=!0,o.stateMutability="pure";break;case"view":o.constant=!0,o.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+a)}})}function verifyState($){let o={constant:!1,payable:!0,stateMutability:"payable"};return $.stateMutability!=null?(o.stateMutability=$.stateMutability,o.constant=o.stateMutability==="view"||o.stateMutability==="pure",$.constant!=null&&!!$.constant!==o.constant&&logger$k.throwArgumentError("cannot have constant function with mutability "+o.stateMutability,"value",$),o.payable=o.stateMutability==="payable",$.payable!=null&&!!$.payable!==o.payable&&logger$k.throwArgumentError("cannot have payable function with mutability "+o.stateMutability,"value",$)):$.payable!=null?(o.payable=!!$.payable,$.constant==null&&!o.payable&&$.type!=="constructor"&&logger$k.throwArgumentError("unable to determine stateMutability","value",$),o.constant=!!$.constant,o.constant?o.stateMutability="view":o.stateMutability=o.payable?"payable":"nonpayable",o.payable&&o.constant&&logger$k.throwArgumentError("cannot have constant payable function","value",$)):$.constant!=null?(o.constant=!!$.constant,o.payable=!o.constant,o.stateMutability=o.constant?"view":"payable"):$.type!=="constructor"&&logger$k.throwArgumentError("unable to determine stateMutability","value",$),o}class ConstructorFragment extends Fragment{format(o){if(o||(o=FormatTypes.sighash),FormatTypes[o]||logger$k.throwArgumentError("invalid format type","format",o),o===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(j=>JSON.parse(j.format(o)))});o===FormatTypes.sighash&&logger$k.throwError("cannot format a constructor for sighash",Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let a="constructor("+this.inputs.map(j=>j.format(o)).join(o===FormatTypes.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(a+=this.stateMutability+" "),a.trim()}static from(o){return typeof o=="string"?ConstructorFragment.fromString(o):ConstructorFragment.fromObject(o)}static fromObject(o){if(ConstructorFragment.isConstructorFragment(o))return o;o.type!=="constructor"&&logger$k.throwArgumentError("invalid constructor object","value",o);let a=verifyState(o);a.constant&&logger$k.throwArgumentError("constructor cannot be constant","value",o);const j={name:null,type:o.type,inputs:o.inputs?o.inputs.map(ParamType.fromObject):[],payable:a.payable,stateMutability:a.stateMutability,gas:o.gas?BigNumber.from(o.gas):null};return new ConstructorFragment(_constructorGuard$1,j)}static fromString(o){let a={type:"constructor"};o=parseGas(o,a);let j=o.match(regexParen);return(!j||j[1].trim()!=="constructor")&&logger$k.throwArgumentError("invalid constructor string","value",o),a.inputs=parseParams(j[2].trim(),!1),parseModifiers(j[3].trim(),a),ConstructorFragment.fromObject(a)}static isConstructorFragment(o){return o&&o._isFragment&&o.type==="constructor"}}class FunctionFragment extends ConstructorFragment{format(o){if(o||(o=FormatTypes.sighash),FormatTypes[o]||logger$k.throwArgumentError("invalid format type","format",o),o===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(j=>JSON.parse(j.format(o))),outputs:this.outputs.map(j=>JSON.parse(j.format(o)))});let a="";return o!==FormatTypes.sighash&&(a+="function "),a+=this.name+"("+this.inputs.map(j=>j.format(o)).join(o===FormatTypes.full?", ":",")+") ",o!==FormatTypes.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(a+=this.stateMutability+" "):this.constant&&(a+="view "),this.outputs&&this.outputs.length&&(a+="returns ("+this.outputs.map(j=>j.format(o)).join(", ")+") "),this.gas!=null&&(a+="@"+this.gas.toString()+" ")),a.trim()}static from(o){return typeof o=="string"?FunctionFragment.fromString(o):FunctionFragment.fromObject(o)}static fromObject(o){if(FunctionFragment.isFunctionFragment(o))return o;o.type!=="function"&&logger$k.throwArgumentError("invalid function object","value",o);let a=verifyState(o);const j={type:o.type,name:verifyIdentifier(o.name),constant:a.constant,inputs:o.inputs?o.inputs.map(ParamType.fromObject):[],outputs:o.outputs?o.outputs.map(ParamType.fromObject):[],payable:a.payable,stateMutability:a.stateMutability,gas:o.gas?BigNumber.from(o.gas):null};return new FunctionFragment(_constructorGuard$1,j)}static fromString(o){let a={type:"function"};o=parseGas(o,a);let j=o.split(" returns ");j.length>2&&logger$k.throwArgumentError("invalid function string","value",o);let _e=j[0].match(regexParen);if(_e||logger$k.throwArgumentError("invalid function signature","value",o),a.name=_e[1].trim(),a.name&&verifyIdentifier(a.name),a.inputs=parseParams(_e[2],!1),parseModifiers(_e[3].trim(),a),j.length>1){let et=j[1].match(regexParen);(et[1].trim()!=""||et[3].trim()!="")&&logger$k.throwArgumentError("unexpected tokens","value",o),a.outputs=parseParams(et[2],!1)}else a.outputs=[];return FunctionFragment.fromObject(a)}static isFunctionFragment(o){return o&&o._isFragment&&o.type==="function"}}function checkForbidden($){const o=$.format();return(o==="Error(string)"||o==="Panic(uint256)")&&logger$k.throwArgumentError(`cannot specify user defined ${o} error`,"fragment",$),$}class ErrorFragment extends Fragment{format(o){if(o||(o=FormatTypes.sighash),FormatTypes[o]||logger$k.throwArgumentError("invalid format type","format",o),o===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(j=>JSON.parse(j.format(o)))});let a="";return o!==FormatTypes.sighash&&(a+="error "),a+=this.name+"("+this.inputs.map(j=>j.format(o)).join(o===FormatTypes.full?", ":",")+") ",a.trim()}static from(o){return typeof o=="string"?ErrorFragment.fromString(o):ErrorFragment.fromObject(o)}static fromObject(o){if(ErrorFragment.isErrorFragment(o))return o;o.type!=="error"&&logger$k.throwArgumentError("invalid error object","value",o);const a={type:o.type,name:verifyIdentifier(o.name),inputs:o.inputs?o.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard$1,a))}static fromString(o){let a={type:"error"},j=o.match(regexParen);return j||logger$k.throwArgumentError("invalid error signature","value",o),a.name=j[1].trim(),a.name&&verifyIdentifier(a.name),a.inputs=parseParams(j[2],!1),checkForbidden(ErrorFragment.fromObject(a))}static isErrorFragment(o){return o&&o._isFragment&&o.type==="error"}}function verifyType($){return $.match(/^uint($|[^1-9])/)?$="uint256"+$.substring(4):$.match(/^int($|[^1-9])/)&&($="int256"+$.substring(3)),$}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier($){return(!$||!$.match(regexIdentifier))&&logger$k.throwArgumentError(`invalid identifier "${$}"`,"value",$),$}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting($){$=$.trim();let o=[],a="",j=0;for(let _e=0;_e<$.length;_e++){let et=$[_e];et===","&&j===0?(o.push(a),a=""):(a+=et,et==="("?j++:et===")"&&(j--,j===-1&&logger$k.throwArgumentError("unbalanced parenthesis","value",$)))}return a&&o.push(a),o}const logger$j=new Logger(version$d);function checkResultErrors($){const o=[],a=function(j,_e){if(Array.isArray(_e))for(let et in _e){const tt=j.slice();tt.push(et);try{a(tt,_e[et])}catch(nt){o.push({path:tt,error:nt})}}};return a([],$),o}class Coder{constructor(o,a,j,_e){this.name=o,this.type=a,this.localName=j,this.dynamic=_e}_throwError(o,a){logger$j.throwArgumentError(o,this.localName,a)}}let Writer$2=class{constructor(o){defineReadOnly(this,"wordSize",o||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(o)}get data(){return hexConcat(this._data)}get length(){return this._dataLength}_writeData(o){return this._data.push(o),this._dataLength+=o.length,o.length}appendWriter(o){return this._writeData(concat$3(o._data))}writeBytes(o){let a=arrayify(o);const j=a.length%this.wordSize;return j&&(a=concat$3([a,this._padding.slice(j)])),this._writeData(a)}_getValue(o){let a=arrayify(BigNumber.from(o));return a.length>this.wordSize&&logger$j.throwError("value out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:a.length}),a.length%this.wordSize&&(a=concat$3([this._padding.slice(a.length%this.wordSize),a])),a}writeValue(o){return this._writeData(this._getValue(o))}writeUpdatableValue(){const o=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,a=>{this._data[o]=this._getValue(a)}}},Reader$2=class ju{constructor(o,a,j,_e){defineReadOnly(this,"_data",arrayify(o)),defineReadOnly(this,"wordSize",a||32),defineReadOnly(this,"_coerceFunc",j),defineReadOnly(this,"allowLoose",_e),this._offset=0}get data(){return hexlify(this._data)}get consumed(){return this._offset}static coerce(o,a){let j=o.match("^u?int([0-9]+)$");return j&&parseInt(j[1])<=48&&(a=a.toNumber()),a}coerce(o,a){return this._coerceFunc?this._coerceFunc(o,a):ju.coerce(o,a)}_peekBytes(o,a,j){let _e=Math.ceil(a/this.wordSize)*this.wordSize;return this._offset+_e>this._data.length&&(this.allowLoose&&j&&this._offset+a<=this._data.length?_e=a:logger$j.throwError("data out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+_e})),this._data.slice(this._offset,this._offset+_e)}subReader(o){return new ju(this._data.slice(this._offset+o),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(o,a){let j=this._peekBytes(0,o,!!a);return this._offset+=j.length,j.slice(0,o)}readValue(){return BigNumber.from(this.readBytes(this.wordSize))}};var sha3Exports={},sha3$1={get exports(){return sha3Exports},set exports($){sha3Exports=$}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function($){(function(){var o="input is invalid type",a="finalize already called",j=typeof window=="object",_e=j?window:{};_e.JS_SHA3_NO_WINDOW&&(j=!1);var et=!j&&typeof self=="object",tt=!_e.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;tt?_e=commonjsGlobal:et&&(_e=self);var nt=!_e.JS_SHA3_NO_COMMON_JS&&!0&&$.exports,rt=!_e.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",it="0123456789abcdef".split(""),ot=[31,7936,2031616,520093696],at=[4,1024,262144,67108864],ct=[1,256,65536,16777216],ut=[6,1536,393216,100663296],dt=[0,8,16,24],ft=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],ht=[224,256,384,512],pt=[128,256],yt=["hex","buffer","arrayBuffer","array","digest"],gt={128:168,256:136};(_e.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Dt){return Object.prototype.toString.call(Dt)==="[object Array]"}),rt&&(_e.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Dt){return typeof Dt=="object"&&Dt.buffer&&Dt.buffer.constructor===ArrayBuffer});for(var bt=function(Dt,Jt,on){return function(sn){return new wt(Dt,Jt,Dt).update(sn)[on]()}},At=function(Dt,Jt,on){return function(sn,dn){return new wt(Dt,Jt,dn).update(sn)[on]()}},Tt=function(Dt,Jt,on){return function(sn,dn,mn,ln){return vt["cshake"+Dt].update(sn,dn,mn,ln)[on]()}},Pt=function(Dt,Jt,on){return function(sn,dn,mn,ln){return vt["kmac"+Dt].update(sn,dn,mn,ln)[on]()}},Ct=function(Dt,Jt,on,sn){for(var dn=0;dn<yt.length;++dn){var mn=yt[dn];Dt[mn]=Jt(on,sn,mn)}return Dt},It=function(Dt,Jt){var on=bt(Dt,Jt,"hex");return on.create=function(){return new wt(Dt,Jt,Dt)},on.update=function(sn){return on.create().update(sn)},Ct(on,bt,Dt,Jt)},Vt=function(Dt,Jt){var on=At(Dt,Jt,"hex");return on.create=function(sn){return new wt(Dt,Jt,sn)},on.update=function(sn,dn){return on.create(dn).update(sn)},Ct(on,At,Dt,Jt)},Kt=function(Dt,Jt){var on=gt[Dt],sn=Tt(Dt,Jt,"hex");return sn.create=function(dn,mn,ln){return!mn&&!ln?vt["shake"+Dt].create(dn):new wt(Dt,Jt,dn).bytepad([mn,ln],on)},sn.update=function(dn,mn,ln,tn){return sn.create(mn,ln,tn).update(dn)},Ct(sn,Tt,Dt,Jt)},en=function(Dt,Jt){var on=gt[Dt],sn=Pt(Dt,Jt,"hex");return sn.create=function(dn,mn,ln){return new Ht(Dt,Jt,mn).bytepad(["KMAC",ln],on).bytepad([dn],on)},sn.update=function(dn,mn,ln,tn){return sn.create(dn,ln,tn).update(mn)},Ct(sn,Pt,Dt,Jt)},kt=[{name:"keccak",padding:ct,bits:ht,createMethod:It},{name:"sha3",padding:ut,bits:ht,createMethod:It},{name:"shake",padding:ot,bits:pt,createMethod:Vt},{name:"cshake",padding:at,bits:pt,createMethod:Kt},{name:"kmac",padding:at,bits:pt,createMethod:en}],vt={},St=[],Lt=0;Lt<kt.length;++Lt)for(var zt=kt[Lt],Rt=zt.bits,$t=0;$t<Rt.length;++$t){var Gt=zt.name+"_"+Rt[$t];if(St.push(Gt),vt[Gt]=zt.createMethod(Rt[$t],zt.padding),zt.name!=="sha3"){var Ft=zt.name+Rt[$t];St.push(Ft),vt[Ft]=vt[Gt]}}function wt(Dt,Jt,on){this.blocks=[],this.s=[],this.padding=Jt,this.outputBits=on,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(Dt<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=on>>5,this.extraBytes=(on&31)>>3;for(var sn=0;sn<50;++sn)this.s[sn]=0}wt.prototype.update=function(Dt){if(this.finalized)throw new Error(a);var Jt,on=typeof Dt;if(on!=="string"){if(on==="object"){if(Dt===null)throw new Error(o);if(rt&&Dt.constructor===ArrayBuffer)Dt=new Uint8Array(Dt);else if(!Array.isArray(Dt)&&(!rt||!ArrayBuffer.isView(Dt)))throw new Error(o)}else throw new Error(o);Jt=!0}for(var sn=this.blocks,dn=this.byteCount,mn=Dt.length,ln=this.blockCount,tn=0,cn=this.s,pn,Mn;tn<mn;){if(this.reset)for(this.reset=!1,sn[0]=this.block,pn=1;pn<ln+1;++pn)sn[pn]=0;if(Jt)for(pn=this.start;tn<mn&&pn<dn;++tn)sn[pn>>2]|=Dt[tn]<<dt[pn++&3];else for(pn=this.start;tn<mn&&pn<dn;++tn)Mn=Dt.charCodeAt(tn),Mn<128?sn[pn>>2]|=Mn<<dt[pn++&3]:Mn<2048?(sn[pn>>2]|=(192|Mn>>6)<<dt[pn++&3],sn[pn>>2]|=(128|Mn&63)<<dt[pn++&3]):Mn<55296||Mn>=57344?(sn[pn>>2]|=(224|Mn>>12)<<dt[pn++&3],sn[pn>>2]|=(128|Mn>>6&63)<<dt[pn++&3],sn[pn>>2]|=(128|Mn&63)<<dt[pn++&3]):(Mn=65536+((Mn&1023)<<10|Dt.charCodeAt(++tn)&1023),sn[pn>>2]|=(240|Mn>>18)<<dt[pn++&3],sn[pn>>2]|=(128|Mn>>12&63)<<dt[pn++&3],sn[pn>>2]|=(128|Mn>>6&63)<<dt[pn++&3],sn[pn>>2]|=(128|Mn&63)<<dt[pn++&3]);if(this.lastByteIndex=pn,pn>=dn){for(this.start=pn-dn,this.block=sn[ln],pn=0;pn<ln;++pn)cn[pn]^=sn[pn];nn(cn),this.reset=!0}else this.start=pn}return this},wt.prototype.encode=function(Dt,Jt){var on=Dt&255,sn=1,dn=[on];for(Dt=Dt>>8,on=Dt&255;on>0;)dn.unshift(on),Dt=Dt>>8,on=Dt&255,++sn;return Jt?dn.push(sn):dn.unshift(sn),this.update(dn),dn.length},wt.prototype.encodeString=function(Dt){var Jt,on=typeof Dt;if(on!=="string"){if(on==="object"){if(Dt===null)throw new Error(o);if(rt&&Dt.constructor===ArrayBuffer)Dt=new Uint8Array(Dt);else if(!Array.isArray(Dt)&&(!rt||!ArrayBuffer.isView(Dt)))throw new Error(o)}else throw new Error(o);Jt=!0}var sn=0,dn=Dt.length;if(Jt)sn=dn;else for(var mn=0;mn<Dt.length;++mn){var ln=Dt.charCodeAt(mn);ln<128?sn+=1:ln<2048?sn+=2:ln<55296||ln>=57344?sn+=3:(ln=65536+((ln&1023)<<10|Dt.charCodeAt(++mn)&1023),sn+=4)}return sn+=this.encode(sn*8),this.update(Dt),sn},wt.prototype.bytepad=function(Dt,Jt){for(var on=this.encode(Jt),sn=0;sn<Dt.length;++sn)on+=this.encodeString(Dt[sn]);var dn=Jt-on%Jt,mn=[];return mn.length=dn,this.update(mn),this},wt.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Dt=this.blocks,Jt=this.lastByteIndex,on=this.blockCount,sn=this.s;if(Dt[Jt>>2]|=this.padding[Jt&3],this.lastByteIndex===this.byteCount)for(Dt[0]=Dt[on],Jt=1;Jt<on+1;++Jt)Dt[Jt]=0;for(Dt[on-1]|=2147483648,Jt=0;Jt<on;++Jt)sn[Jt]^=Dt[Jt];nn(sn)}},wt.prototype.toString=wt.prototype.hex=function(){this.finalize();for(var Dt=this.blockCount,Jt=this.s,on=this.outputBlocks,sn=this.extraBytes,dn=0,mn=0,ln="",tn;mn<on;){for(dn=0;dn<Dt&&mn<on;++dn,++mn)tn=Jt[dn],ln+=it[tn>>4&15]+it[tn&15]+it[tn>>12&15]+it[tn>>8&15]+it[tn>>20&15]+it[tn>>16&15]+it[tn>>28&15]+it[tn>>24&15];mn%Dt===0&&(nn(Jt),dn=0)}return sn&&(tn=Jt[dn],ln+=it[tn>>4&15]+it[tn&15],sn>1&&(ln+=it[tn>>12&15]+it[tn>>8&15]),sn>2&&(ln+=it[tn>>20&15]+it[tn>>16&15])),ln},wt.prototype.arrayBuffer=function(){this.finalize();var Dt=this.blockCount,Jt=this.s,on=this.outputBlocks,sn=this.extraBytes,dn=0,mn=0,ln=this.outputBits>>3,tn;sn?tn=new ArrayBuffer(on+1<<2):tn=new ArrayBuffer(ln);for(var cn=new Uint32Array(tn);mn<on;){for(dn=0;dn<Dt&&mn<on;++dn,++mn)cn[mn]=Jt[dn];mn%Dt===0&&nn(Jt)}return sn&&(cn[dn]=Jt[dn],tn=tn.slice(0,ln)),tn},wt.prototype.buffer=wt.prototype.arrayBuffer,wt.prototype.digest=wt.prototype.array=function(){this.finalize();for(var Dt=this.blockCount,Jt=this.s,on=this.outputBlocks,sn=this.extraBytes,dn=0,mn=0,ln=[],tn,cn;mn<on;){for(dn=0;dn<Dt&&mn<on;++dn,++mn)tn=mn<<2,cn=Jt[dn],ln[tn]=cn&255,ln[tn+1]=cn>>8&255,ln[tn+2]=cn>>16&255,ln[tn+3]=cn>>24&255;mn%Dt===0&&nn(Jt)}return sn&&(tn=mn<<2,cn=Jt[dn],ln[tn]=cn&255,sn>1&&(ln[tn+1]=cn>>8&255),sn>2&&(ln[tn+2]=cn>>16&255)),ln};function Ht(Dt,Jt,on){wt.call(this,Dt,Jt,on)}Ht.prototype=new wt,Ht.prototype.finalize=function(){return this.encode(this.outputBits,!0),wt.prototype.finalize.call(this)};var nn=function(Dt){var Jt,on,sn,dn,mn,ln,tn,cn,pn,Mn,In,Rn,Ln,Fn,Un,Nn,Xt,jt,un,Tn,Bn,Ot,Mt,Et,Ut,Qt,Wt,qt,_n,En,Pn,Hn,On,rn,wn,Cn,Dn,Wn,Jn,er,Er,hr,Yn,Pr,cr,_r,po,br,vr,Yt,fn,vn,gn,xn,$n,Qn,Vn,jn,ir,tr,nr,xr,Cr;for(sn=0;sn<48;sn+=2)dn=Dt[0]^Dt[10]^Dt[20]^Dt[30]^Dt[40],mn=Dt[1]^Dt[11]^Dt[21]^Dt[31]^Dt[41],ln=Dt[2]^Dt[12]^Dt[22]^Dt[32]^Dt[42],tn=Dt[3]^Dt[13]^Dt[23]^Dt[33]^Dt[43],cn=Dt[4]^Dt[14]^Dt[24]^Dt[34]^Dt[44],pn=Dt[5]^Dt[15]^Dt[25]^Dt[35]^Dt[45],Mn=Dt[6]^Dt[16]^Dt[26]^Dt[36]^Dt[46],In=Dt[7]^Dt[17]^Dt[27]^Dt[37]^Dt[47],Rn=Dt[8]^Dt[18]^Dt[28]^Dt[38]^Dt[48],Ln=Dt[9]^Dt[19]^Dt[29]^Dt[39]^Dt[49],Jt=Rn^(ln<<1|tn>>>31),on=Ln^(tn<<1|ln>>>31),Dt[0]^=Jt,Dt[1]^=on,Dt[10]^=Jt,Dt[11]^=on,Dt[20]^=Jt,Dt[21]^=on,Dt[30]^=Jt,Dt[31]^=on,Dt[40]^=Jt,Dt[41]^=on,Jt=dn^(cn<<1|pn>>>31),on=mn^(pn<<1|cn>>>31),Dt[2]^=Jt,Dt[3]^=on,Dt[12]^=Jt,Dt[13]^=on,Dt[22]^=Jt,Dt[23]^=on,Dt[32]^=Jt,Dt[33]^=on,Dt[42]^=Jt,Dt[43]^=on,Jt=ln^(Mn<<1|In>>>31),on=tn^(In<<1|Mn>>>31),Dt[4]^=Jt,Dt[5]^=on,Dt[14]^=Jt,Dt[15]^=on,Dt[24]^=Jt,Dt[25]^=on,Dt[34]^=Jt,Dt[35]^=on,Dt[44]^=Jt,Dt[45]^=on,Jt=cn^(Rn<<1|Ln>>>31),on=pn^(Ln<<1|Rn>>>31),Dt[6]^=Jt,Dt[7]^=on,Dt[16]^=Jt,Dt[17]^=on,Dt[26]^=Jt,Dt[27]^=on,Dt[36]^=Jt,Dt[37]^=on,Dt[46]^=Jt,Dt[47]^=on,Jt=Mn^(dn<<1|mn>>>31),on=In^(mn<<1|dn>>>31),Dt[8]^=Jt,Dt[9]^=on,Dt[18]^=Jt,Dt[19]^=on,Dt[28]^=Jt,Dt[29]^=on,Dt[38]^=Jt,Dt[39]^=on,Dt[48]^=Jt,Dt[49]^=on,Fn=Dt[0],Un=Dt[1],_r=Dt[11]<<4|Dt[10]>>>28,po=Dt[10]<<4|Dt[11]>>>28,qt=Dt[20]<<3|Dt[21]>>>29,_n=Dt[21]<<3|Dt[20]>>>29,tr=Dt[31]<<9|Dt[30]>>>23,nr=Dt[30]<<9|Dt[31]>>>23,hr=Dt[40]<<18|Dt[41]>>>14,Yn=Dt[41]<<18|Dt[40]>>>14,rn=Dt[2]<<1|Dt[3]>>>31,wn=Dt[3]<<1|Dt[2]>>>31,Nn=Dt[13]<<12|Dt[12]>>>20,Xt=Dt[12]<<12|Dt[13]>>>20,br=Dt[22]<<10|Dt[23]>>>22,vr=Dt[23]<<10|Dt[22]>>>22,En=Dt[33]<<13|Dt[32]>>>19,Pn=Dt[32]<<13|Dt[33]>>>19,xr=Dt[42]<<2|Dt[43]>>>30,Cr=Dt[43]<<2|Dt[42]>>>30,xn=Dt[5]<<30|Dt[4]>>>2,$n=Dt[4]<<30|Dt[5]>>>2,Cn=Dt[14]<<6|Dt[15]>>>26,Dn=Dt[15]<<6|Dt[14]>>>26,jt=Dt[25]<<11|Dt[24]>>>21,un=Dt[24]<<11|Dt[25]>>>21,Yt=Dt[34]<<15|Dt[35]>>>17,fn=Dt[35]<<15|Dt[34]>>>17,Hn=Dt[45]<<29|Dt[44]>>>3,On=Dt[44]<<29|Dt[45]>>>3,Et=Dt[6]<<28|Dt[7]>>>4,Ut=Dt[7]<<28|Dt[6]>>>4,Qn=Dt[17]<<23|Dt[16]>>>9,Vn=Dt[16]<<23|Dt[17]>>>9,Wn=Dt[26]<<25|Dt[27]>>>7,Jn=Dt[27]<<25|Dt[26]>>>7,Tn=Dt[36]<<21|Dt[37]>>>11,Bn=Dt[37]<<21|Dt[36]>>>11,vn=Dt[47]<<24|Dt[46]>>>8,gn=Dt[46]<<24|Dt[47]>>>8,Pr=Dt[8]<<27|Dt[9]>>>5,cr=Dt[9]<<27|Dt[8]>>>5,Qt=Dt[18]<<20|Dt[19]>>>12,Wt=Dt[19]<<20|Dt[18]>>>12,jn=Dt[29]<<7|Dt[28]>>>25,ir=Dt[28]<<7|Dt[29]>>>25,er=Dt[38]<<8|Dt[39]>>>24,Er=Dt[39]<<8|Dt[38]>>>24,Ot=Dt[48]<<14|Dt[49]>>>18,Mt=Dt[49]<<14|Dt[48]>>>18,Dt[0]=Fn^~Nn&jt,Dt[1]=Un^~Xt&un,Dt[10]=Et^~Qt&qt,Dt[11]=Ut^~Wt&_n,Dt[20]=rn^~Cn&Wn,Dt[21]=wn^~Dn&Jn,Dt[30]=Pr^~_r&br,Dt[31]=cr^~po&vr,Dt[40]=xn^~Qn&jn,Dt[41]=$n^~Vn&ir,Dt[2]=Nn^~jt&Tn,Dt[3]=Xt^~un&Bn,Dt[12]=Qt^~qt&En,Dt[13]=Wt^~_n&Pn,Dt[22]=Cn^~Wn&er,Dt[23]=Dn^~Jn&Er,Dt[32]=_r^~br&Yt,Dt[33]=po^~vr&fn,Dt[42]=Qn^~jn&tr,Dt[43]=Vn^~ir&nr,Dt[4]=jt^~Tn&Ot,Dt[5]=un^~Bn&Mt,Dt[14]=qt^~En&Hn,Dt[15]=_n^~Pn&On,Dt[24]=Wn^~er&hr,Dt[25]=Jn^~Er&Yn,Dt[34]=br^~Yt&vn,Dt[35]=vr^~fn&gn,Dt[44]=jn^~tr&xr,Dt[45]=ir^~nr&Cr,Dt[6]=Tn^~Ot&Fn,Dt[7]=Bn^~Mt&Un,Dt[16]=En^~Hn&Et,Dt[17]=Pn^~On&Ut,Dt[26]=er^~hr&rn,Dt[27]=Er^~Yn&wn,Dt[36]=Yt^~vn&Pr,Dt[37]=fn^~gn&cr,Dt[46]=tr^~xr&xn,Dt[47]=nr^~Cr&$n,Dt[8]=Ot^~Fn&Nn,Dt[9]=Mt^~Un&Xt,Dt[18]=Hn^~Et&Qt,Dt[19]=On^~Ut&Wt,Dt[28]=hr^~rn&Cn,Dt[29]=Yn^~wn&Dn,Dt[38]=vn^~Pr&_r,Dt[39]=gn^~cr&po,Dt[48]=xr^~xn&Qn,Dt[49]=Cr^~$n&Vn,Dt[0]^=ft[sn],Dt[1]^=ft[sn+1]};if(nt)$.exports=vt;else for(Lt=0;Lt<St.length;++Lt)_e[St[Lt]]=vt[St[Lt]]})()})(sha3$1);const sha3=sha3Exports;function keccak256($){return"0x"+sha3.keccak_256(arrayify($))}const version$c="rlp/5.7.0",logger$i=new Logger(version$c);function arrayifyInteger($){const o=[];for(;$;)o.unshift($&255),$>>=8;return o}function unarrayifyInteger($,o,a){let j=0;for(let _e=0;_e<a;_e++)j=j*256+$[o+_e];return j}function _encode($){if(Array.isArray($)){let j=[];if($.forEach(function(et){j=j.concat(_encode(et))}),j.length<=55)return j.unshift(192+j.length),j;const _e=arrayifyInteger(j.length);return _e.unshift(247+_e.length),_e.concat(j)}isBytesLike($)||logger$i.throwArgumentError("RLP object must be BytesLike","object",$);const o=Array.prototype.slice.call(arrayify($));if(o.length===1&&o[0]<=127)return o;if(o.length<=55)return o.unshift(128+o.length),o;const a=arrayifyInteger(o.length);return a.unshift(183+a.length),a.concat(o)}function encode$c($){return hexlify(_encode($))}function _decodeChildren($,o,a,j){const _e=[];for(;a<o+1+j;){const et=_decode($,a);_e.push(et.result),a+=et.consumed,a>o+1+j&&logger$i.throwError("child data too short",Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+j,result:_e}}function _decode($,o){if($.length===0&&logger$i.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{}),$[o]>=248){const a=$[o]-247;o+1+a>$.length&&logger$i.throwError("data short segment too short",Logger.errors.BUFFER_OVERRUN,{});const j=unarrayifyInteger($,o+1,a);return o+1+a+j>$.length&&logger$i.throwError("data long segment too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren($,o,o+1+a,a+j)}else if($[o]>=192){const a=$[o]-192;return o+1+a>$.length&&logger$i.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren($,o,o+1,a)}else if($[o]>=184){const a=$[o]-183;o+1+a>$.length&&logger$i.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const j=unarrayifyInteger($,o+1,a);o+1+a+j>$.length&&logger$i.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const _e=hexlify($.slice(o+1+a,o+1+a+j));return{consumed:1+a+j,result:_e}}else if($[o]>=128){const a=$[o]-128;o+1+a>$.length&&logger$i.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{});const j=hexlify($.slice(o+1,o+1+a));return{consumed:1+a,result:j}}return{consumed:1,result:hexlify($[o])}}function decode$e($){const o=arrayify($),a=_decode(o,0);return a.consumed!==o.length&&logger$i.throwArgumentError("invalid rlp data","data",$),a.result}const version$b="address/5.7.0",logger$h=new Logger(version$b);function getChecksumAddress($){isHexString($,20)||logger$h.throwArgumentError("invalid address","address",$),$=$.toLowerCase();const o=$.substring(2).split(""),a=new Uint8Array(40);for(let _e=0;_e<40;_e++)a[_e]=o[_e].charCodeAt(0);const j=arrayify(keccak256(a));for(let _e=0;_e<40;_e+=2)j[_e>>1]>>4>=8&&(o[_e]=o[_e].toUpperCase()),(j[_e>>1]&15)>=8&&(o[_e+1]=o[_e+1].toUpperCase());return"0x"+o.join("")}const MAX_SAFE_INTEGER=9007199254740991;function log10($){return Math.log10?Math.log10($):Math.log($)/Math.LN10}const ibanLookup={};for(let $=0;$<10;$++)ibanLookup[String($)]=String($);for(let $=0;$<26;$++)ibanLookup[String.fromCharCode(65+$)]=String(10+$);const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER));function ibanChecksum($){$=$.toUpperCase(),$=$.substring(4)+$.substring(0,2)+"00";let o=$.split("").map(j=>ibanLookup[j]).join("");for(;o.length>=safeDigits;){let j=o.substring(0,safeDigits);o=parseInt(j,10)%97+o.substring(j.length)}let a=String(98-parseInt(o,10)%97);for(;a.length<2;)a="0"+a;return a}function getAddress($){let o=null;if(typeof $!="string"&&logger$h.throwArgumentError("invalid address","address",$),$.match(/^(0x)?[0-9a-fA-F]{40}$/))$.substring(0,2)!=="0x"&&($="0x"+$),o=getChecksumAddress($),$.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&o!==$&&logger$h.throwArgumentError("bad address checksum","address",$);else if($.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for($.substring(2,4)!==ibanChecksum($)&&logger$h.throwArgumentError("bad icap checksum","address",$),o=_base36To16($.substring(4));o.length<40;)o="0"+o;o=getChecksumAddress("0x"+o)}else logger$h.throwArgumentError("invalid address","address",$);return o}function getContractAddress($){let o=null;try{o=getAddress($.from)}catch{logger$h.throwArgumentError("missing from address","transaction",$)}const a=stripZeros(arrayify(BigNumber.from($.nonce).toHexString()));return getAddress(hexDataSlice(keccak256(encode$c([o,a])),12))}class AddressCoder extends Coder{constructor(o){super("address","address",o,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(o,a){try{a=getAddress(a)}catch(j){this._throwError(j.message,a)}return o.writeValue(a)}decode(o){return getAddress(hexZeroPad(o.readValue().toHexString(),20))}}class AnonymousCoder extends Coder{constructor(o){super(o.name,o.type,void 0,o.dynamic),this.coder=o}defaultValue(){return this.coder.defaultValue()}encode(o,a){return this.coder.encode(o,a)}decode(o){return this.coder.decode(o)}}const logger$g=new Logger(version$d);function pack$1($,o,a){let j=null;if(Array.isArray(a))j=a;else if(a&&typeof a=="object"){let rt={};j=o.map(it=>{const ot=it.localName;return ot||logger$g.throwError("cannot encode object for signature with missing names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:it,value:a}),rt[ot]&&logger$g.throwError("cannot encode object for signature with duplicate names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:it,value:a}),rt[ot]=!0,a[ot]})}else logger$g.throwArgumentError("invalid tuple value","tuple",a);o.length!==j.length&&logger$g.throwArgumentError("types/value length mismatch","tuple",a);let _e=new Writer$2($.wordSize),et=new Writer$2($.wordSize),tt=[];o.forEach((rt,it)=>{let ot=j[it];if(rt.dynamic){let at=et.length;rt.encode(et,ot);let ct=_e.writeUpdatableValue();tt.push(ut=>{ct(ut+at)})}else rt.encode(_e,ot)}),tt.forEach(rt=>{rt(_e.length)});let nt=$.appendWriter(_e);return nt+=$.appendWriter(et),nt}function unpack($,o){let a=[],j=$.subReader(0);o.forEach(et=>{let tt=null;if(et.dynamic){let nt=$.readValue(),rt=j.subReader(nt.toNumber());try{tt=et.decode(rt)}catch(it){if(it.code===Logger.errors.BUFFER_OVERRUN)throw it;tt=it,tt.baseType=et.name,tt.name=et.localName,tt.type=et.type}}else try{tt=et.decode($)}catch(nt){if(nt.code===Logger.errors.BUFFER_OVERRUN)throw nt;tt=nt,tt.baseType=et.name,tt.name=et.localName,tt.type=et.type}tt!=null&&a.push(tt)});const _e=o.reduce((et,tt)=>{const nt=tt.localName;return nt&&(et[nt]||(et[nt]=0),et[nt]++),et},{});o.forEach((et,tt)=>{let nt=et.localName;if(!nt||_e[nt]!==1||(nt==="length"&&(nt="_length"),a[nt]!=null))return;const rt=a[tt];rt instanceof Error?Object.defineProperty(a,nt,{enumerable:!0,get:()=>{throw rt}}):a[nt]=rt});for(let et=0;et<a.length;et++){const tt=a[et];tt instanceof Error&&Object.defineProperty(a,et,{enumerable:!0,get:()=>{throw tt}})}return Object.freeze(a)}class ArrayCoder extends Coder{constructor(o,a,j){const _e=o.type+"["+(a>=0?a:"")+"]",et=a===-1||o.dynamic;super("array",_e,j,et),this.coder=o,this.length=a}defaultValue(){const o=this.coder.defaultValue(),a=[];for(let j=0;j<this.length;j++)a.push(o);return a}encode(o,a){Array.isArray(a)||this._throwError("expected array value",a);let j=this.length;j===-1&&(j=a.length,o.writeValue(a.length)),logger$g.checkArgumentCount(a.length,j,"coder array"+(this.localName?" "+this.localName:""));let _e=[];for(let et=0;et<a.length;et++)_e.push(this.coder);return pack$1(o,_e,a)}decode(o){let a=this.length;a===-1&&(a=o.readValue().toNumber(),a*32>o._data.length&&logger$g.throwError("insufficient data length",Logger.errors.BUFFER_OVERRUN,{length:o._data.length,count:a}));let j=[];for(let _e=0;_e<a;_e++)j.push(new AnonymousCoder(this.coder));return o.coerce(this.name,unpack(o,j))}}class BooleanCoder extends Coder{constructor(o){super("bool","bool",o,!1)}defaultValue(){return!1}encode(o,a){return o.writeValue(a?1:0)}decode(o){return o.coerce(this.type,!o.readValue().isZero())}}class DynamicBytesCoder extends Coder{constructor(o,a){super(o,o,a,!0)}defaultValue(){return"0x"}encode(o,a){a=arrayify(a);let j=o.writeValue(a.length);return j+=o.writeBytes(a),j}decode(o){return o.readBytes(o.readValue().toNumber(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(o){super("bytes",o)}decode(o){return o.coerce(this.name,hexlify(super.decode(o)))}}class FixedBytesCoder extends Coder{constructor(o,a){let j="bytes"+String(o);super(j,j,a,!1),this.size=o}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(o,a){let j=arrayify(a);return j.length!==this.size&&this._throwError("incorrect data length",a),o.writeBytes(j)}decode(o){return o.coerce(this.name,hexlify(o.readBytes(this.size)))}}class NullCoder extends Coder{constructor(o){super("null","",o,!1)}defaultValue(){return null}encode(o,a){return a!=null&&this._throwError("not null",a),o.writeBytes([])}decode(o){return o.readBytes(0),o.coerce(this.name,null)}}const AddressZero="0x0000000000000000000000000000000000000000",NegativeOne$1=BigNumber.from(-1),Zero$1=BigNumber.from(0),One$1=BigNumber.from(1),MaxUint256$1=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),HashZero="0x0000000000000000000000000000000000000000000000000000000000000000";class NumberCoder extends Coder{constructor(o,a,j){const _e=(a?"int":"uint")+o*8;super(_e,_e,j,!1),this.size=o,this.signed=a}defaultValue(){return 0}encode(o,a){let j=BigNumber.from(a),_e=MaxUint256$1.mask(o.wordSize*8);if(this.signed){let et=_e.mask(this.size*8-1);(j.gt(et)||j.lt(et.add(One$1).mul(NegativeOne$1)))&&this._throwError("value out-of-bounds",a)}else(j.lt(Zero$1)||j.gt(_e.mask(this.size*8)))&&this._throwError("value out-of-bounds",a);return j=j.toTwos(this.size*8).mask(this.size*8),this.signed&&(j=j.fromTwos(this.size*8).toTwos(8*o.wordSize)),o.writeValue(j)}decode(o){let a=o.readValue().mask(this.size*8);return this.signed&&(a=a.fromTwos(this.size*8)),o.coerce(this.name,a)}}const version$a="strings/5.7.0",logger$f=new Logger(version$a);var UnicodeNormalizationForm;(function($){$.current="",$.NFC="NFC",$.NFD="NFD",$.NFKC="NFKC",$.NFKD="NFKD"})(UnicodeNormalizationForm||(UnicodeNormalizationForm={}));var Utf8ErrorReason;(function($){$.UNEXPECTED_CONTINUE="unexpected continuation byte",$.BAD_PREFIX="bad codepoint prefix",$.OVERRUN="string overrun",$.MISSING_CONTINUE="missing continuation byte",$.OUT_OF_RANGE="out of UTF-8 range",$.UTF16_SURROGATE="UTF-16 surrogate",$.OVERLONG="overlong representation"})(Utf8ErrorReason||(Utf8ErrorReason={}));function errorFunc($,o,a,j,_e){return logger$f.throwArgumentError(`invalid codepoint at offset ${o}; ${$}`,"bytes",a)}function ignoreFunc($,o,a,j,_e){if($===Utf8ErrorReason.BAD_PREFIX||$===Utf8ErrorReason.UNEXPECTED_CONTINUE){let et=0;for(let tt=o+1;tt<a.length&&a[tt]>>6===2;tt++)et++;return et}return $===Utf8ErrorReason.OVERRUN?a.length-o-1:0}function replaceFunc($,o,a,j,_e){return $===Utf8ErrorReason.OVERLONG?(j.push(_e),0):(j.push(65533),ignoreFunc($,o,a))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints($,o){o==null&&(o=Utf8ErrorFuncs.error),$=arrayify($);const a=[];let j=0;for(;j<$.length;){const _e=$[j++];if(!(_e>>7)){a.push(_e);continue}let et=null,tt=null;if((_e&224)===192)et=1,tt=127;else if((_e&240)===224)et=2,tt=2047;else if((_e&248)===240)et=3,tt=65535;else{(_e&192)===128?j+=o(Utf8ErrorReason.UNEXPECTED_CONTINUE,j-1,$,a):j+=o(Utf8ErrorReason.BAD_PREFIX,j-1,$,a);continue}if(j-1+et>=$.length){j+=o(Utf8ErrorReason.OVERRUN,j-1,$,a);continue}let nt=_e&(1<<8-et-1)-1;for(let rt=0;rt<et;rt++){let it=$[j];if((it&192)!=128){j+=o(Utf8ErrorReason.MISSING_CONTINUE,j,$,a),nt=null;break}nt=nt<<6|it&63,j++}if(nt!==null){if(nt>1114111){j+=o(Utf8ErrorReason.OUT_OF_RANGE,j-1-et,$,a,nt);continue}if(nt>=55296&&nt<=57343){j+=o(Utf8ErrorReason.UTF16_SURROGATE,j-1-et,$,a,nt);continue}if(nt<=tt){j+=o(Utf8ErrorReason.OVERLONG,j-1-et,$,a,nt);continue}a.push(nt)}}return a}function toUtf8Bytes($,o=UnicodeNormalizationForm.current){o!=UnicodeNormalizationForm.current&&(logger$f.checkNormalize(),$=$.normalize(o));let a=[];for(let j=0;j<$.length;j++){const _e=$.charCodeAt(j);if(_e<128)a.push(_e);else if(_e<2048)a.push(_e>>6|192),a.push(_e&63|128);else if((_e&64512)==55296){j++;const et=$.charCodeAt(j);if(j>=$.length||(et&64512)!==56320)throw new Error("invalid utf-8 string");const tt=65536+((_e&1023)<<10)+(et&1023);a.push(tt>>18|240),a.push(tt>>12&63|128),a.push(tt>>6&63|128),a.push(tt&63|128)}else a.push(_e>>12|224),a.push(_e>>6&63|128),a.push(_e&63|128)}return arrayify(a)}function _toUtf8String($){return $.map(o=>o<=65535?String.fromCharCode(o):(o-=65536,String.fromCharCode((o>>10&1023)+55296,(o&1023)+56320))).join("")}function toUtf8String($,o){return _toUtf8String(getUtf8CodePoints($,o))}function toUtf8CodePoints($,o=UnicodeNormalizationForm.current){return getUtf8CodePoints(toUtf8Bytes($,o))}class StringCoder extends DynamicBytesCoder{constructor(o){super("string",o)}defaultValue(){return""}encode(o,a){return super.encode(o,toUtf8Bytes(a))}decode(o){return toUtf8String(super.decode(o))}}class TupleCoder extends Coder{constructor(o,a){let j=!1;const _e=[];o.forEach(tt=>{tt.dynamic&&(j=!0),_e.push(tt.type)});const et="tuple("+_e.join(",")+")";super("tuple",et,a,j),this.coders=o}defaultValue(){const o=[];this.coders.forEach(j=>{o.push(j.defaultValue())});const a=this.coders.reduce((j,_e)=>{const et=_e.localName;return et&&(j[et]||(j[et]=0),j[et]++),j},{});return this.coders.forEach((j,_e)=>{let et=j.localName;!et||a[et]!==1||(et==="length"&&(et="_length"),o[et]==null&&(o[et]=o[_e]))}),Object.freeze(o)}encode(o,a){return pack$1(o,this.coders,a)}decode(o){return o.coerce(this.name,unpack(o,this.coders))}}const logger$e=new Logger(version$d),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(o){defineReadOnly(this,"coerceFunc",o||null)}_getCoder(o){switch(o.baseType){case"address":return new AddressCoder(o.name);case"bool":return new BooleanCoder(o.name);case"string":return new StringCoder(o.name);case"bytes":return new BytesCoder(o.name);case"array":return new ArrayCoder(this._getCoder(o.arrayChildren),o.arrayLength,o.name);case"tuple":return new TupleCoder((o.components||[]).map(j=>this._getCoder(j)),o.name);case"":return new NullCoder(o.name)}let a=o.type.match(paramTypeNumber);if(a){let j=parseInt(a[2]||"256");return(j===0||j>256||j%8!==0)&&logger$e.throwArgumentError("invalid "+a[1]+" bit length","param",o),new NumberCoder(j/8,a[1]==="int",o.name)}if(a=o.type.match(paramTypeBytes),a){let j=parseInt(a[1]);return(j===0||j>32)&&logger$e.throwArgumentError("invalid bytes length","param",o),new FixedBytesCoder(j,o.name)}return logger$e.throwArgumentError("invalid type","type",o.type)}_getWordSize(){return 32}_getReader(o,a){return new Reader$2(o,this._getWordSize(),this.coerceFunc,a)}_getWriter(){return new Writer$2(this._getWordSize())}getDefaultValue(o){const a=o.map(_e=>this._getCoder(ParamType.from(_e)));return new TupleCoder(a,"_").defaultValue()}encode(o,a){o.length!==a.length&&logger$e.throwError("types/values length mismatch",Logger.errors.INVALID_ARGUMENT,{count:{types:o.length,values:a.length},value:{types:o,values:a}});const j=o.map(tt=>this._getCoder(ParamType.from(tt))),_e=new TupleCoder(j,"_"),et=this._getWriter();return _e.encode(et,a),et.data}decode(o,a,j){const _e=o.map(tt=>this._getCoder(ParamType.from(tt)));return new TupleCoder(_e,"_").decode(this._getReader(arrayify(a),j))}}const defaultAbiCoder=new AbiCoder;function id$1($){return keccak256(toUtf8Bytes($))}const version$9="hash/5.7.0";function decode$d($){$=atob($);const o=[];for(let a=0;a<$.length;a++)o.push($.charCodeAt(a));return arrayify(o)}function encode$b($){$=arrayify($);let o="";for(let a=0;a<$.length;a++)o+=String.fromCharCode($[a]);return btoa(o)}function flat$1($,o){o==null&&(o=1);const a=[],j=a.forEach,_e=function(et,tt){j.call(et,function(nt){tt>0&&Array.isArray(nt)?_e(nt,tt-1):a.push(nt)})};return _e($,o),a}function fromEntries($){const o={};for(let a=0;a<$.length;a++){const j=$[a];o[j[0]]=j[1]}return o}function decode_arithmetic($){let o=0;function a(){return $[o++]<<8|$[o++]}let j=a(),_e=1,et=[0,1];for(let At=1;At<j;At++)et.push(_e+=a());let tt=a(),nt=o;o+=tt;let rt=0,it=0;function ot(){return rt==0&&(it=it<<8|$[o++],rt=8),it>>--rt&1}const at=31,ct=Math.pow(2,at),ut=ct>>>1,dt=ut>>1,ft=ct-1;let ht=0;for(let At=0;At<at;At++)ht=ht<<1|ot();let pt=[],yt=0,gt=ct;for(;;){let At=Math.floor(((ht-yt+1)*_e-1)/gt),Tt=0,Pt=j;for(;Pt-Tt>1;){let Vt=Tt+Pt>>>1;At<et[Vt]?Pt=Vt:Tt=Vt}if(Tt==0)break;pt.push(Tt);let Ct=yt+Math.floor(gt*et[Tt]/_e),It=yt+Math.floor(gt*et[Tt+1]/_e)-1;for(;!((Ct^It)&ut);)ht=ht<<1&ft|ot(),Ct=Ct<<1&ft,It=It<<1&ft|1;for(;Ct&~It&dt;)ht=ht&ut|ht<<1&ft>>>1|ot(),Ct=Ct<<1^ut,It=(It^ut)<<1|ut|1;yt=Ct,gt=1+It-Ct}let bt=j-4;return pt.map(At=>{switch(At-bt){case 3:return bt+65792+($[nt++]<<16|$[nt++]<<8|$[nt++]);case 2:return bt+256+($[nt++]<<8|$[nt++]);case 1:return bt+$[nt++];default:return At-1}})}function read_payload($){let o=0;return()=>$[o++]}function read_compressed_payload($){return read_payload(decode_arithmetic($))}function signed($){return $&1?~$>>1:$>>1}function read_counts($,o){let a=Array($);for(let j=0;j<$;j++)a[j]=1+o();return a}function read_ascending($,o){let a=Array($);for(let j=0,_e=-1;j<$;j++)a[j]=_e+=1+o();return a}function read_deltas($,o){let a=Array($);for(let j=0,_e=0;j<$;j++)a[j]=_e+=signed(o());return a}function read_member_array($,o){let a=read_ascending($(),$),j=$(),_e=read_ascending(j,$),et=read_counts(j,$);for(let tt=0;tt<j;tt++)for(let nt=0;nt<et[tt];nt++)a.push(_e[tt]+nt);return o?a.map(tt=>o[tt]):a}function read_mapped_map($){let o=[];for(;;){let a=$();if(a==0)break;o.push(read_linear_table(a,$))}for(;;){let a=$()-1;if(a<0)break;o.push(read_replacement_table(a,$))}return fromEntries(flat$1(o))}function read_zero_terminated_array($){let o=[];for(;;){let a=$();if(a==0)break;o.push(a)}return o}function read_transposed($,o,a){let j=Array($).fill(void 0).map(()=>[]);for(let _e=0;_e<o;_e++)read_deltas($,a).forEach((et,tt)=>j[tt].push(et));return j}function read_linear_table($,o){let a=1+o(),j=o(),_e=read_zero_terminated_array(o),et=read_transposed(_e.length,1+$,o);return flat$1(et.map((tt,nt)=>{const rt=tt[0],it=tt.slice(1);return Array(_e[nt]).fill(void 0).map((ot,at)=>{let ct=at*j;return[rt+at*a,it.map(ut=>ut+ct)]})}))}function read_replacement_table($,o){let a=1+o();return read_transposed(a,1+$,o).map(_e=>[_e[0],_e.slice(1)])}function read_emoji_trie($){let o=read_member_array($).sort((j,_e)=>j-_e);return a();function a(){let j=[];for(;;){let it=read_member_array($,o);if(it.length==0)break;j.push({set:new Set(it),node:a()})}j.sort((it,ot)=>ot.set.size-it.set.size);let _e=$(),et=_e%3;_e=_e/3|0;let tt=!!(_e&1);_e>>=1;let nt=_e==1,rt=_e==2;return{branches:j,valid:et,fe0f:tt,save:nt,check:rt}}}function getData(){return read_compressed_payload(decode$d("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const r$3=getData(),VALID=new Set(read_member_array(r$3)),IGNORED=new Set(read_member_array(r$3)),MAPPED=read_mapped_map(r$3),EMOJI_ROOT=read_emoji_trie(r$3),HYPHEN=45,UNDERSCORE=95;function explode_cp($){return toUtf8CodePoints($)}function filter_fe0f($){return $.filter(o=>o!=65039)}function ens_normalize_post_check($){for(let o of $.split(".")){let a=explode_cp(o);try{for(let j=a.lastIndexOf(UNDERSCORE)-1;j>=0;j--)if(a[j]!==UNDERSCORE)throw new Error("underscore only allowed at start");if(a.length>=4&&a.every(j=>j<128)&&a[2]===HYPHEN&&a[3]===HYPHEN)throw new Error("invalid label extension")}catch(j){throw new Error(`Invalid label "${o}": ${j.message}`)}}return $}function ens_normalize($){return ens_normalize_post_check(normalize$1($,filter_fe0f))}function normalize$1($,o){let a=explode_cp($).reverse(),j=[];for(;a.length;){let _e=consume_emoji_reversed(a);if(_e){j.push(...o(_e));continue}let et=a.pop();if(VALID.has(et)){j.push(et);continue}if(IGNORED.has(et))continue;let tt=MAPPED[et];if(tt){j.push(...tt);continue}throw new Error(`Disallowed codepoint: 0x${et.toString(16).toUpperCase()}`)}return ens_normalize_post_check(nfc(String.fromCodePoint(...j)))}function nfc($){return $.normalize("NFC")}function consume_emoji_reversed($,o){var a;let j=EMOJI_ROOT,_e,et,tt=[],nt=$.length;for(o&&(o.length=0);nt;){let rt=$[--nt];if(j=(a=j.branches.find(it=>it.set.has(rt)))===null||a===void 0?void 0:a.node,!j)break;if(j.save)et=rt;else if(j.check&&rt===et)break;tt.push(rt),j.fe0f&&(tt.push(65039),nt>0&&$[nt-1]==65039&&nt--),j.valid&&(_e=tt.slice(),j.valid==2&&_e.splice(1,1),o&&o.push(...$.slice(nt).reverse()),$.length=nt)}return _e}const logger$d=new Logger(version$9),Zeros=new Uint8Array(32);Zeros.fill(0);function checkComponent($){if($.length===0)throw new Error("invalid ENS name; empty component");return $}function ensNameSplit($){const o=toUtf8Bytes(ens_normalize($)),a=[];if($.length===0)return a;let j=0;for(let _e=0;_e<o.length;_e++)o[_e]===46&&(a.push(checkComponent(o.slice(j,_e))),j=_e+1);if(j>=o.length)throw new Error("invalid ENS name; empty component");return a.push(checkComponent(o.slice(j))),a}function namehash($){typeof $!="string"&&logger$d.throwArgumentError("invalid ENS name; not a string","name",$);let o=Zeros;const a=ensNameSplit($);for(;a.length;)o=keccak256(concat$3([o,keccak256(a.pop())]));return hexlify(o)}function dnsEncode($){return hexlify(concat$3(ensNameSplit($).map(o=>{if(o.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const a=new Uint8Array(o.length+1);return a.set(o,1),a[0]=a.length-1,a})))+"00"}var __awaiter$7=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function nt(ot){try{it(j.next(ot))}catch(at){tt(at)}}function rt(ot){try{it(j.throw(ot))}catch(at){tt(at)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(nt,rt)}it((j=j.apply($,o||[])).next())})};const logger$c=new Logger(version$9),padding$1=new Uint8Array(32);padding$1.fill(0);const NegativeOne=BigNumber.from(-1),Zero=BigNumber.from(0),One=BigNumber.from(1),MaxUint256=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight($){const o=arrayify($),a=o.length%32;return a?hexConcat([o,padding$1.slice(a)]):hexlify(o)}const hexTrue=hexZeroPad(One.toHexString(),32),hexFalse=hexZeroPad(Zero.toHexString(),32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString($){return function(o){return typeof o!="string"&&logger$c.throwArgumentError(`invalid domain value for ${JSON.stringify($)}`,`domain.${$}`,o),o}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function($){try{return BigNumber.from($).toString()}catch{}return logger$c.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",$)},verifyingContract:function($){try{return getAddress($).toLowerCase()}catch{}return logger$c.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",$)},salt:function($){try{const o=arrayify($);if(o.length!==32)throw new Error("bad length");return hexlify(o)}catch{}return logger$c.throwArgumentError('invalid domain value "salt"',"domain.salt",$)}};function getBaseEncoder($){{const o=$.match(/^(u?)int(\d*)$/);if(o){const a=o[1]==="",j=parseInt(o[2]||"256");(j%8!==0||j>256||o[2]&&o[2]!==String(j))&&logger$c.throwArgumentError("invalid numeric width","type",$);const _e=MaxUint256.mask(a?j-1:j),et=a?_e.add(One).mul(NegativeOne):Zero;return function(tt){const nt=BigNumber.from(tt);return(nt.lt(et)||nt.gt(_e))&&logger$c.throwArgumentError(`value out-of-bounds for ${$}`,"value",tt),hexZeroPad(nt.toTwos(256).toHexString(),32)}}}{const o=$.match(/^bytes(\d+)$/);if(o){const a=parseInt(o[1]);return(a===0||a>32||o[1]!==String(a))&&logger$c.throwArgumentError("invalid bytes width","type",$),function(j){return arrayify(j).length!==a&&logger$c.throwArgumentError(`invalid length for ${$}`,"value",j),hexPadRight(j)}}}switch($){case"address":return function(o){return hexZeroPad(getAddress(o),32)};case"bool":return function(o){return o?hexTrue:hexFalse};case"bytes":return function(o){return keccak256(o)};case"string":return function(o){return id$1(o)}}return null}function encodeType($,o){return`${$}(${o.map(({name:a,type:j})=>j+" "+a).join(",")})`}class TypedDataEncoder{constructor(o){defineReadOnly(this,"types",Object.freeze(deepCopy(o))),defineReadOnly(this,"_encoderCache",{}),defineReadOnly(this,"_types",{});const a={},j={},_e={};Object.keys(o).forEach(nt=>{a[nt]={},j[nt]=[],_e[nt]={}});for(const nt in o){const rt={};o[nt].forEach(it=>{rt[it.name]&&logger$c.throwArgumentError(`duplicate variable name ${JSON.stringify(it.name)} in ${JSON.stringify(nt)}`,"types",o),rt[it.name]=!0;const ot=it.type.match(/^([^\x5b]*)(\x5b|$)/)[1];ot===nt&&logger$c.throwArgumentError(`circular type reference to ${JSON.stringify(ot)}`,"types",o),!getBaseEncoder(ot)&&(j[ot]||logger$c.throwArgumentError(`unknown type ${JSON.stringify(ot)}`,"types",o),j[ot].push(nt),a[nt][ot]=!0)})}const et=Object.keys(j).filter(nt=>j[nt].length===0);et.length===0?logger$c.throwArgumentError("missing primary type","types",o):et.length>1&&logger$c.throwArgumentError(`ambiguous primary types or unused types: ${et.map(nt=>JSON.stringify(nt)).join(", ")}`,"types",o),defineReadOnly(this,"primaryType",et[0]);function tt(nt,rt){rt[nt]&&logger$c.throwArgumentError(`circular type reference to ${JSON.stringify(nt)}`,"types",o),rt[nt]=!0,Object.keys(a[nt]).forEach(it=>{j[it]&&(tt(it,rt),Object.keys(rt).forEach(ot=>{_e[ot][it]=!0}))}),delete rt[nt]}tt(this.primaryType,{});for(const nt in _e){const rt=Object.keys(_e[nt]);rt.sort(),this._types[nt]=encodeType(nt,o[nt])+rt.map(it=>encodeType(it,o[it])).join("")}}getEncoder(o){let a=this._encoderCache[o];return a||(a=this._encoderCache[o]=this._getEncoder(o)),a}_getEncoder(o){{const _e=getBaseEncoder(o);if(_e)return _e}const a=o.match(/^(.*)(\x5b(\d*)\x5d)$/);if(a){const _e=a[1],et=this.getEncoder(_e),tt=parseInt(a[3]);return nt=>{tt>=0&&nt.length!==tt&&logger$c.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",nt);let rt=nt.map(et);return this._types[_e]&&(rt=rt.map(keccak256)),keccak256(hexConcat(rt))}}const j=this.types[o];if(j){const _e=id$1(this._types[o]);return et=>{const tt=j.map(({name:nt,type:rt})=>{const it=this.getEncoder(rt)(et[nt]);return this._types[rt]?keccak256(it):it});return tt.unshift(_e),hexConcat(tt)}}return logger$c.throwArgumentError(`unknown type: ${o}`,"type",o)}encodeType(o){const a=this._types[o];return a||logger$c.throwArgumentError(`unknown type: ${JSON.stringify(o)}`,"name",o),a}encodeData(o,a){return this.getEncoder(o)(a)}hashStruct(o,a){return keccak256(this.encodeData(o,a))}encode(o){return this.encodeData(this.primaryType,o)}hash(o){return this.hashStruct(this.primaryType,o)}_visit(o,a,j){if(getBaseEncoder(o))return j(o,a);const _e=o.match(/^(.*)(\x5b(\d*)\x5d)$/);if(_e){const tt=_e[1],nt=parseInt(_e[3]);return nt>=0&&a.length!==nt&&logger$c.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a),a.map(rt=>this._visit(tt,rt,j))}const et=this.types[o];return et?et.reduce((tt,{name:nt,type:rt})=>(tt[nt]=this._visit(rt,a[nt],j),tt),{}):logger$c.throwArgumentError(`unknown type: ${o}`,"type",o)}visit(o,a){return this._visit(this.primaryType,o,a)}static from(o){return new TypedDataEncoder(o)}static getPrimaryType(o){return TypedDataEncoder.from(o).primaryType}static hashStruct(o,a,j){return TypedDataEncoder.from(a).hashStruct(o,j)}static hashDomain(o){const a=[];for(const j in o){const _e=domainFieldTypes[j];_e||logger$c.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(j)}`,"domain",o),a.push({name:j,type:_e})}return a.sort((j,_e)=>domainFieldNames.indexOf(j.name)-domainFieldNames.indexOf(_e.name)),TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:a},o)}static encode(o,a,j){return hexConcat(["0x1901",TypedDataEncoder.hashDomain(o),TypedDataEncoder.from(a).hash(j)])}static hash(o,a,j){return keccak256(TypedDataEncoder.encode(o,a,j))}static resolveNames(o,a,j,_e){return __awaiter$7(this,void 0,void 0,function*(){o=shallowCopy(o);const et={};o.verifyingContract&&!isHexString(o.verifyingContract,20)&&(et[o.verifyingContract]="0x");const tt=TypedDataEncoder.from(a);tt.visit(j,(nt,rt)=>(nt==="address"&&!isHexString(rt,20)&&(et[rt]="0x"),rt));for(const nt in et)et[nt]=yield _e(nt);return o.verifyingContract&&et[o.verifyingContract]&&(o.verifyingContract=et[o.verifyingContract]),j=tt.visit(j,(nt,rt)=>nt==="address"&&et[rt]?et[rt]:rt),{domain:o,value:j}})}static getPayload(o,a,j){TypedDataEncoder.hashDomain(o);const _e={},et=[];domainFieldNames.forEach(rt=>{const it=o[rt];it!=null&&(_e[rt]=domainChecks[rt](it),et.push({name:rt,type:domainFieldTypes[rt]}))});const tt=TypedDataEncoder.from(a),nt=shallowCopy(a);return nt.EIP712Domain?logger$c.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",a):nt.EIP712Domain=et,tt.encode(j),{types:nt,domain:_e,primaryType:tt.primaryType,message:tt.visit(j,(rt,it)=>{if(rt.match(/^bytes(\d*)/))return hexlify(arrayify(it));if(rt.match(/^u?int/))return BigNumber.from(it).toString();switch(rt){case"address":return it.toLowerCase();case"bool":return!!it;case"string":return typeof it!="string"&&logger$c.throwArgumentError("invalid string","value",it),it}return logger$c.throwArgumentError("unsupported type","type",rt)})}}}const logger$b=new Logger(version$d);class LogDescription extends Description{}class TransactionDescription extends Description{}class ErrorDescription extends Description{}class Indexed extends Description{static isIndexed(o){return!!(o&&o._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError($,o){const a=new Error(`deferred error during ABI decoding triggered accessing ${$}`);return a.error=o,a}class Interface{constructor(o){let a=[];typeof o=="string"?a=JSON.parse(o):a=o,defineReadOnly(this,"fragments",a.map(j=>Fragment.from(j)).filter(j=>j!=null)),defineReadOnly(this,"_abiCoder",getStatic(new.target,"getAbiCoder")()),defineReadOnly(this,"functions",{}),defineReadOnly(this,"errors",{}),defineReadOnly(this,"events",{}),defineReadOnly(this,"structs",{}),this.fragments.forEach(j=>{let _e=null;switch(j.type){case"constructor":if(this.deploy){logger$b.warn("duplicate definition - constructor");return}defineReadOnly(this,"deploy",j);return;case"function":_e=this.functions;break;case"event":_e=this.events;break;case"error":_e=this.errors;break;default:return}let et=j.format();if(_e[et]){logger$b.warn("duplicate definition - "+et);return}_e[et]=j}),this.deploy||defineReadOnly(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly(this,"_isInterface",!0)}format(o){o||(o=FormatTypes.full),o===FormatTypes.sighash&&logger$b.throwArgumentError("interface does not support formatting sighash","format",o);const a=this.fragments.map(j=>j.format(o));return o===FormatTypes.json?JSON.stringify(a.map(j=>JSON.parse(j))):a}static getAbiCoder(){return defaultAbiCoder}static getAddress(o){return getAddress(o)}static getSighash(o){return hexDataSlice(id$1(o.format()),0,4)}static getEventTopic(o){return id$1(o.format())}getFunction(o){if(isHexString(o)){for(const j in this.functions)if(o===this.getSighash(j))return this.functions[j];logger$b.throwArgumentError("no matching function","sighash",o)}if(o.indexOf("(")===-1){const j=o.trim(),_e=Object.keys(this.functions).filter(et=>et.split("(")[0]===j);return _e.length===0?logger$b.throwArgumentError("no matching function","name",j):_e.length>1&&logger$b.throwArgumentError("multiple matching functions","name",j),this.functions[_e[0]]}const a=this.functions[FunctionFragment.fromString(o).format()];return a||logger$b.throwArgumentError("no matching function","signature",o),a}getEvent(o){if(isHexString(o)){const j=o.toLowerCase();for(const _e in this.events)if(j===this.getEventTopic(_e))return this.events[_e];logger$b.throwArgumentError("no matching event","topichash",j)}if(o.indexOf("(")===-1){const j=o.trim(),_e=Object.keys(this.events).filter(et=>et.split("(")[0]===j);return _e.length===0?logger$b.throwArgumentError("no matching event","name",j):_e.length>1&&logger$b.throwArgumentError("multiple matching events","name",j),this.events[_e[0]]}const a=this.events[EventFragment.fromString(o).format()];return a||logger$b.throwArgumentError("no matching event","signature",o),a}getError(o){if(isHexString(o)){const j=getStatic(this.constructor,"getSighash");for(const _e in this.errors){const et=this.errors[_e];if(o===j(et))return this.errors[_e]}logger$b.throwArgumentError("no matching error","sighash",o)}if(o.indexOf("(")===-1){const j=o.trim(),_e=Object.keys(this.errors).filter(et=>et.split("(")[0]===j);return _e.length===0?logger$b.throwArgumentError("no matching error","name",j):_e.length>1&&logger$b.throwArgumentError("multiple matching errors","name",j),this.errors[_e[0]]}const a=this.errors[FunctionFragment.fromString(o).format()];return a||logger$b.throwArgumentError("no matching error","signature",o),a}getSighash(o){if(typeof o=="string")try{o=this.getFunction(o)}catch(a){try{o=this.getError(o)}catch{throw a}}return getStatic(this.constructor,"getSighash")(o)}getEventTopic(o){return typeof o=="string"&&(o=this.getEvent(o)),getStatic(this.constructor,"getEventTopic")(o)}_decodeParams(o,a){return this._abiCoder.decode(o,a)}_encodeParams(o,a){return this._abiCoder.encode(o,a)}encodeDeploy(o){return this._encodeParams(this.deploy.inputs,o||[])}decodeErrorResult(o,a){typeof o=="string"&&(o=this.getError(o));const j=arrayify(a);return hexlify(j.slice(0,4))!==this.getSighash(o)&&logger$b.throwArgumentError(`data signature does not match error ${o.name}.`,"data",hexlify(j)),this._decodeParams(o.inputs,j.slice(4))}encodeErrorResult(o,a){return typeof o=="string"&&(o=this.getError(o)),hexlify(concat$3([this.getSighash(o),this._encodeParams(o.inputs,a||[])]))}decodeFunctionData(o,a){typeof o=="string"&&(o=this.getFunction(o));const j=arrayify(a);return hexlify(j.slice(0,4))!==this.getSighash(o)&&logger$b.throwArgumentError(`data signature does not match function ${o.name}.`,"data",hexlify(j)),this._decodeParams(o.inputs,j.slice(4))}encodeFunctionData(o,a){return typeof o=="string"&&(o=this.getFunction(o)),hexlify(concat$3([this.getSighash(o),this._encodeParams(o.inputs,a||[])]))}decodeFunctionResult(o,a){typeof o=="string"&&(o=this.getFunction(o));let j=arrayify(a),_e=null,et="",tt=null,nt=null,rt=null;switch(j.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(o.outputs,j)}catch{}break;case 4:{const it=hexlify(j.slice(0,4)),ot=BuiltinErrors[it];if(ot)tt=this._abiCoder.decode(ot.inputs,j.slice(4)),nt=ot.name,rt=ot.signature,ot.reason&&(_e=tt[0]),nt==="Error"?et=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(tt[0])}`:nt==="Panic"&&(et=`; VM Exception while processing transaction: reverted with panic code ${tt[0]}`);else try{const at=this.getError(it);tt=this._abiCoder.decode(at.inputs,j.slice(4)),nt=at.name,rt=at.format()}catch{}break}}return logger$b.throwError("call revert exception"+et,Logger.errors.CALL_EXCEPTION,{method:o.format(),data:hexlify(a),errorArgs:tt,errorName:nt,errorSignature:rt,reason:_e})}encodeFunctionResult(o,a){return typeof o=="string"&&(o=this.getFunction(o)),hexlify(this._abiCoder.encode(o.outputs,a||[]))}encodeFilterTopics(o,a){typeof o=="string"&&(o=this.getEvent(o)),a.length>o.inputs.length&&logger$b.throwError("too many arguments for "+o.format(),Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:a});let j=[];o.anonymous||j.push(this.getEventTopic(o));const _e=(et,tt)=>et.type==="string"?id$1(tt):et.type==="bytes"?keccak256(hexlify(tt)):(et.type==="bool"&&typeof tt=="boolean"&&(tt=tt?"0x01":"0x00"),et.type.match(/^u?int/)&&(tt=BigNumber.from(tt).toHexString()),et.type==="address"&&this._abiCoder.encode(["address"],[tt]),hexZeroPad(hexlify(tt),32));for(a.forEach((et,tt)=>{let nt=o.inputs[tt];if(!nt.indexed){et!=null&&logger$b.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+nt.name,et);return}et==null?j.push(null):nt.baseType==="array"||nt.baseType==="tuple"?logger$b.throwArgumentError("filtering with tuples or arrays not supported","contract."+nt.name,et):Array.isArray(et)?j.push(et.map(rt=>_e(nt,rt))):j.push(_e(nt,et))});j.length&&j[j.length-1]===null;)j.pop();return j}encodeEventLog(o,a){typeof o=="string"&&(o=this.getEvent(o));const j=[],_e=[],et=[];return o.anonymous||j.push(this.getEventTopic(o)),a.length!==o.inputs.length&&logger$b.throwArgumentError("event arguments/values mismatch","values",a),o.inputs.forEach((tt,nt)=>{const rt=a[nt];if(tt.indexed)if(tt.type==="string")j.push(id$1(rt));else if(tt.type==="bytes")j.push(keccak256(rt));else{if(tt.baseType==="tuple"||tt.baseType==="array")throw new Error("not implemented");j.push(this._abiCoder.encode([tt.type],[rt]))}else _e.push(tt),et.push(rt)}),{data:this._abiCoder.encode(_e,et),topics:j}}decodeEventLog(o,a,j){if(typeof o=="string"&&(o=this.getEvent(o)),j!=null&&!o.anonymous){let ct=this.getEventTopic(o);(!isHexString(j[0],32)||j[0].toLowerCase()!==ct)&&logger$b.throwError("fragment/topic mismatch",Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:ct,value:j[0]}),j=j.slice(1)}let _e=[],et=[],tt=[];o.inputs.forEach((ct,ut)=>{ct.indexed?ct.type==="string"||ct.type==="bytes"||ct.baseType==="tuple"||ct.baseType==="array"?(_e.push(ParamType.fromObject({type:"bytes32",name:ct.name})),tt.push(!0)):(_e.push(ct),tt.push(!1)):(et.push(ct),tt.push(!1))});let nt=j!=null?this._abiCoder.decode(_e,concat$3(j)):null,rt=this._abiCoder.decode(et,a,!0),it=[],ot=0,at=0;o.inputs.forEach((ct,ut)=>{if(ct.indexed)if(nt==null)it[ut]=new Indexed({_isIndexed:!0,hash:null});else if(tt[ut])it[ut]=new Indexed({_isIndexed:!0,hash:nt[at++]});else try{it[ut]=nt[at++]}catch(dt){it[ut]=dt}else try{it[ut]=rt[ot++]}catch(dt){it[ut]=dt}if(ct.name&&it[ct.name]==null){const dt=it[ut];dt instanceof Error?Object.defineProperty(it,ct.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(ct.name)}`,dt)}}):it[ct.name]=dt}});for(let ct=0;ct<it.length;ct++){const ut=it[ct];ut instanceof Error&&Object.defineProperty(it,ct,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${ct}`,ut)}})}return Object.freeze(it)}parseTransaction(o){let a=this.getFunction(o.data.substring(0,10).toLowerCase());return a?new TransactionDescription({args:this._abiCoder.decode(a.inputs,"0x"+o.data.substring(10)),functionFragment:a,name:a.name,signature:a.format(),sighash:this.getSighash(a),value:BigNumber.from(o.value||"0")}):null}parseLog(o){let a=this.getEvent(o.topics[0]);return!a||a.anonymous?null:new LogDescription({eventFragment:a,name:a.name,signature:a.format(),topic:this.getEventTopic(a),args:this.decodeEventLog(a,o.data,o.topics)})}parseError(o){const a=hexlify(o);let j=this.getError(a.substring(0,10).toLowerCase());return j?new ErrorDescription({args:this._abiCoder.decode(j.inputs,"0x"+a.substring(10)),errorFragment:j,name:j.name,signature:j.format(),sighash:this.getSighash(j)}):null}static isInterface(o){return!!(o&&o._isInterface)}}const version$8="abstract-provider/5.7.0";var __awaiter$6=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function nt(ot){try{it(j.next(ot))}catch(at){tt(at)}}function rt(ot){try{it(j.throw(ot))}catch(at){tt(at)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(nt,rt)}it((j=j.apply($,o||[])).next())})};const logger$a=new Logger(version$8);class ForkEvent extends Description{static isForkEvent(o){return!!(o&&o._isForkEvent)}}let Provider$1=class Sm{constructor(){logger$a.checkAbstract(new.target,Sm),defineReadOnly(this,"_isProvider",!0)}getFeeData(){return __awaiter$6(this,void 0,void 0,function*(){const{block:o,gasPrice:a}=yield resolveProperties({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(tt=>null)});let j=null,_e=null,et=null;return o&&o.baseFeePerGas&&(j=o.baseFeePerGas,et=BigNumber.from("1500000000"),_e=o.baseFeePerGas.mul(2).add(et)),{lastBaseFeePerGas:j,maxFeePerGas:_e,maxPriorityFeePerGas:et,gasPrice:a}})}addListener(o,a){return this.on(o,a)}removeListener(o,a){return this.off(o,a)}static isProvider(o){return!!(o&&o._isProvider)}};const version$7="abstract-signer/5.7.0";var __awaiter$5=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function nt(ot){try{it(j.next(ot))}catch(at){tt(at)}}function rt(ot){try{it(j.throw(ot))}catch(at){tt(at)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(nt,rt)}it((j=j.apply($,o||[])).next())})};const logger$9=new Logger(version$7),allowedTransactionKeys$1=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger$9.checkAbstract(new.target,Signer),defineReadOnly(this,"_isSigner",!0)}getBalance(o){return __awaiter$5(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),o)})}getTransactionCount(o){return __awaiter$5(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),o)})}estimateGas(o){return __awaiter$5(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const a=yield resolveProperties(this.checkTransaction(o));return yield this.provider.estimateGas(a)})}call(o,a){return __awaiter$5(this,void 0,void 0,function*(){this._checkProvider("call");const j=yield resolveProperties(this.checkTransaction(o));return yield this.provider.call(j,a)})}sendTransaction(o){return __awaiter$5(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const a=yield this.populateTransaction(o),j=yield this.signTransaction(a);return yield this.provider.sendTransaction(j)})}getChainId(){return __awaiter$5(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return __awaiter$5(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return __awaiter$5(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(o){return __awaiter$5(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(o)})}checkTransaction(o){for(const j in o)allowedTransactionKeys$1.indexOf(j)===-1&&logger$9.throwArgumentError("invalid transaction key: "+j,"transaction",o);const a=shallowCopy(o);return a.from==null?a.from=this.getAddress():a.from=Promise.all([Promise.resolve(a.from),this.getAddress()]).then(j=>(j[0].toLowerCase()!==j[1].toLowerCase()&&logger$9.throwArgumentError("from address mismatch","transaction",o),j[0])),a}populateTransaction(o){return __awaiter$5(this,void 0,void 0,function*(){const a=yield resolveProperties(this.checkTransaction(o));a.to!=null&&(a.to=Promise.resolve(a.to).then(_e=>__awaiter$5(this,void 0,void 0,function*(){if(_e==null)return null;const et=yield this.resolveName(_e);return et==null&&logger$9.throwArgumentError("provided ENS name resolves to null","tx.to",_e),et})),a.to.catch(_e=>{}));const j=a.maxFeePerGas!=null||a.maxPriorityFeePerGas!=null;if(a.gasPrice!=null&&(a.type===2||j)?logger$9.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",o):(a.type===0||a.type===1)&&j&&logger$9.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",o),(a.type===2||a.type==null)&&a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)a.type=2;else if(a.type===0||a.type===1)a.gasPrice==null&&(a.gasPrice=this.getGasPrice());else{const _e=yield this.getFeeData();if(a.type==null)if(_e.maxFeePerGas!=null&&_e.maxPriorityFeePerGas!=null)if(a.type=2,a.gasPrice!=null){const et=a.gasPrice;delete a.gasPrice,a.maxFeePerGas=et,a.maxPriorityFeePerGas=et}else a.maxFeePerGas==null&&(a.maxFeePerGas=_e.maxFeePerGas),a.maxPriorityFeePerGas==null&&(a.maxPriorityFeePerGas=_e.maxPriorityFeePerGas);else _e.gasPrice!=null?(j&&logger$9.throwError("network does not support EIP-1559",Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),a.gasPrice==null&&(a.gasPrice=_e.gasPrice),a.type=0):logger$9.throwError("failed to get consistent fee data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else a.type===2&&(a.maxFeePerGas==null&&(a.maxFeePerGas=_e.maxFeePerGas),a.maxPriorityFeePerGas==null&&(a.maxPriorityFeePerGas=_e.maxPriorityFeePerGas))}return a.nonce==null&&(a.nonce=this.getTransactionCount("pending")),a.gasLimit==null&&(a.gasLimit=this.estimateGas(a).catch(_e=>{if(forwardErrors.indexOf(_e.code)>=0)throw _e;return logger$9.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:_e,tx:a})})),a.chainId==null?a.chainId=this.getChainId():a.chainId=Promise.all([Promise.resolve(a.chainId),this.getChainId()]).then(_e=>(_e[1]!==0&&_e[0]!==_e[1]&&logger$9.throwArgumentError("chainId address mismatch","transaction",o),_e[0])),yield resolveProperties(a)})}_checkProvider(o){this.provider||logger$9.throwError("missing provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:o||"_checkProvider"})}static isSigner(o){return!!(o&&o._isSigner)}}class VoidSigner extends Signer{constructor(o,a){super(),defineReadOnly(this,"address",o),defineReadOnly(this,"provider",a||null)}getAddress(){return Promise.resolve(this.address)}_fail(o,a){return Promise.resolve().then(()=>{logger$9.throwError(o,Logger.errors.UNSUPPORTED_OPERATION,{operation:a})})}signMessage(o){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(o){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(o,a,j){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(o){return new VoidSigner(this.address,o)}}var hash$1={},utils$9={},minimalisticAssert$1=assert$b;function assert$b($,o){if(!$)throw new Error(o||"Assertion failed")}assert$b.equal=function(o,a,j){if(o!=a)throw new Error(j||"Assertion failed: "+o+" != "+a)};var inherits_browserExports={},inherits_browser$1={get exports(){return inherits_browserExports},set exports($){inherits_browserExports=$}};typeof Object.create=="function"?inherits_browser$1.exports=function(o,a){a&&(o.super_=a,o.prototype=Object.create(a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$1.exports=function(o,a){if(a){o.super_=a;var j=function(){};j.prototype=a.prototype,o.prototype=new j,o.prototype.constructor=o}};var assert$a=minimalisticAssert$1,inherits$1=inherits_browserExports;utils$9.inherits=inherits$1;function isSurrogatePair($,o){return($.charCodeAt(o)&64512)!==55296||o<0||o+1>=$.length?!1:($.charCodeAt(o+1)&64512)===56320}function toArray($,o){if(Array.isArray($))return $.slice();if(!$)return[];var a=[];if(typeof $=="string")if(o){if(o==="hex")for($=$.replace(/[^a-z0-9]+/ig,""),$.length%2!==0&&($="0"+$),_e=0;_e<$.length;_e+=2)a.push(parseInt($[_e]+$[_e+1],16))}else for(var j=0,_e=0;_e<$.length;_e++){var et=$.charCodeAt(_e);et<128?a[j++]=et:et<2048?(a[j++]=et>>6|192,a[j++]=et&63|128):isSurrogatePair($,_e)?(et=65536+((et&1023)<<10)+($.charCodeAt(++_e)&1023),a[j++]=et>>18|240,a[j++]=et>>12&63|128,a[j++]=et>>6&63|128,a[j++]=et&63|128):(a[j++]=et>>12|224,a[j++]=et>>6&63|128,a[j++]=et&63|128)}else for(_e=0;_e<$.length;_e++)a[_e]=$[_e]|0;return a}utils$9.toArray=toArray;function toHex($){for(var o="",a=0;a<$.length;a++)o+=zero2($[a].toString(16));return o}utils$9.toHex=toHex;function htonl($){var o=$>>>24|$>>>8&65280|$<<8&16711680|($&255)<<24;return o>>>0}utils$9.htonl=htonl;function toHex32($,o){for(var a="",j=0;j<$.length;j++){var _e=$[j];o==="little"&&(_e=htonl(_e)),a+=zero8(_e.toString(16))}return a}utils$9.toHex32=toHex32;function zero2($){return $.length===1?"0"+$:$}utils$9.zero2=zero2;function zero8($){return $.length===7?"0"+$:$.length===6?"00"+$:$.length===5?"000"+$:$.length===4?"0000"+$:$.length===3?"00000"+$:$.length===2?"000000"+$:$.length===1?"0000000"+$:$}utils$9.zero8=zero8;function join32($,o,a,j){var _e=a-o;assert$a(_e%4===0);for(var et=new Array(_e/4),tt=0,nt=o;tt<et.length;tt++,nt+=4){var rt;j==="big"?rt=$[nt]<<24|$[nt+1]<<16|$[nt+2]<<8|$[nt+3]:rt=$[nt+3]<<24|$[nt+2]<<16|$[nt+1]<<8|$[nt],et[tt]=rt>>>0}return et}utils$9.join32=join32;function split32($,o){for(var a=new Array($.length*4),j=0,_e=0;j<$.length;j++,_e+=4){var et=$[j];o==="big"?(a[_e]=et>>>24,a[_e+1]=et>>>16&255,a[_e+2]=et>>>8&255,a[_e+3]=et&255):(a[_e+3]=et>>>24,a[_e+2]=et>>>16&255,a[_e+1]=et>>>8&255,a[_e]=et&255)}return a}utils$9.split32=split32;function rotr32$1($,o){return $>>>o|$<<32-o}utils$9.rotr32=rotr32$1;function rotl32$2($,o){return $<<o|$>>>32-o}utils$9.rotl32=rotl32$2;function sum32$3($,o){return $+o>>>0}utils$9.sum32=sum32$3;function sum32_3$1($,o,a){return $+o+a>>>0}utils$9.sum32_3=sum32_3$1;function sum32_4$2($,o,a,j){return $+o+a+j>>>0}utils$9.sum32_4=sum32_4$2;function sum32_5$2($,o,a,j,_e){return $+o+a+j+_e>>>0}utils$9.sum32_5=sum32_5$2;function sum64$1($,o,a,j){var _e=$[o],et=$[o+1],tt=j+et>>>0,nt=(tt<j?1:0)+a+_e;$[o]=nt>>>0,$[o+1]=tt}utils$9.sum64=sum64$1;function sum64_hi$1($,o,a,j){var _e=o+j>>>0,et=(_e<o?1:0)+$+a;return et>>>0}utils$9.sum64_hi=sum64_hi$1;function sum64_lo$1($,o,a,j){var _e=o+j;return _e>>>0}utils$9.sum64_lo=sum64_lo$1;function sum64_4_hi$1($,o,a,j,_e,et,tt,nt){var rt=0,it=o;it=it+j>>>0,rt+=it<o?1:0,it=it+et>>>0,rt+=it<et?1:0,it=it+nt>>>0,rt+=it<nt?1:0;var ot=$+a+_e+tt+rt;return ot>>>0}utils$9.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1($,o,a,j,_e,et,tt,nt){var rt=o+j+et+nt;return rt>>>0}utils$9.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1($,o,a,j,_e,et,tt,nt,rt,it){var ot=0,at=o;at=at+j>>>0,ot+=at<o?1:0,at=at+et>>>0,ot+=at<et?1:0,at=at+nt>>>0,ot+=at<nt?1:0,at=at+it>>>0,ot+=at<it?1:0;var ct=$+a+_e+tt+rt+ot;return ct>>>0}utils$9.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1($,o,a,j,_e,et,tt,nt,rt,it){var ot=o+j+et+nt+it;return ot>>>0}utils$9.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1($,o,a){var j=o<<32-a|$>>>a;return j>>>0}utils$9.rotr64_hi=rotr64_hi$1;function rotr64_lo$1($,o,a){var j=$<<32-a|o>>>a;return j>>>0}utils$9.rotr64_lo=rotr64_lo$1;function shr64_hi$1($,o,a){return $>>>a}utils$9.shr64_hi=shr64_hi$1;function shr64_lo$1($,o,a){var j=$<<32-a|o>>>a;return j>>>0}utils$9.shr64_lo=shr64_lo$1;var common$8={},utils$8=utils$9,assert$9=minimalisticAssert$1;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$8.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(o,a){if(o=utils$8.toArray(o,a),this.pending?this.pending=this.pending.concat(o):this.pending=o,this.pendingTotal+=o.length,this.pending.length>=this._delta8){o=this.pending;var j=o.length%this._delta8;this.pending=o.slice(o.length-j,o.length),this.pending.length===0&&(this.pending=null),o=utils$8.join32(o,0,o.length-j,this.endian);for(var _e=0;_e<o.length;_e+=this._delta32)this._update(o,_e,_e+this._delta32)}return this};BlockHash$4.prototype.digest=function(o){return this.update(this._pad()),assert$9(this.pending===null),this._digest(o)};BlockHash$4.prototype._pad=function(){var o=this.pendingTotal,a=this._delta8,j=a-(o+this.padLength)%a,_e=new Array(j+this.padLength);_e[0]=128;for(var et=1;et<j;et++)_e[et]=0;if(o<<=3,this.endian==="big"){for(var tt=8;tt<this.padLength;tt++)_e[et++]=0;_e[et++]=0,_e[et++]=0,_e[et++]=0,_e[et++]=0,_e[et++]=o>>>24&255,_e[et++]=o>>>16&255,_e[et++]=o>>>8&255,_e[et++]=o&255}else for(_e[et++]=o&255,_e[et++]=o>>>8&255,_e[et++]=o>>>16&255,_e[et++]=o>>>24&255,_e[et++]=0,_e[et++]=0,_e[et++]=0,_e[et++]=0,tt=8;tt<this.padLength;tt++)_e[et++]=0;return _e};var sha$1={},common$7={},utils$7=utils$9,rotr32=utils$7.rotr32;function ft_1$1($,o,a,j){if($===0)return ch32$1(o,a,j);if($===1||$===3)return p32(o,a,j);if($===2)return maj32$1(o,a,j)}common$7.ft_1=ft_1$1;function ch32$1($,o,a){return $&o^~$&a}common$7.ch32=ch32$1;function maj32$1($,o,a){return $&o^$&a^o&a}common$7.maj32=maj32$1;function p32($,o,a){return $^o^a}common$7.p32=p32;function s0_256$1($){return rotr32($,2)^rotr32($,13)^rotr32($,22)}common$7.s0_256=s0_256$1;function s1_256$1($){return rotr32($,6)^rotr32($,11)^rotr32($,25)}common$7.s1_256=s1_256$1;function g0_256$1($){return rotr32($,7)^rotr32($,18)^$>>>3}common$7.g0_256=g0_256$1;function g1_256$1($){return rotr32($,17)^rotr32($,19)^$>>>10}common$7.g1_256=g1_256$1;var utils$6=utils$9,common$6=common$8,shaCommon$1=common$7,rotl32$1=utils$6.rotl32,sum32$2=utils$6.sum32,sum32_5$1=utils$6.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$6.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$6.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(o,a){for(var j=this.W,_e=0;_e<16;_e++)j[_e]=o[a+_e];for(;_e<j.length;_e++)j[_e]=rotl32$1(j[_e-3]^j[_e-8]^j[_e-14]^j[_e-16],1);var et=this.h[0],tt=this.h[1],nt=this.h[2],rt=this.h[3],it=this.h[4];for(_e=0;_e<j.length;_e++){var ot=~~(_e/20),at=sum32_5$1(rotl32$1(et,5),ft_1(ot,tt,nt,rt),it,j[_e],sha1_K[ot]);it=rt,rt=nt,nt=rotl32$1(tt,30),tt=et,et=at}this.h[0]=sum32$2(this.h[0],et),this.h[1]=sum32$2(this.h[1],tt),this.h[2]=sum32$2(this.h[2],nt),this.h[3]=sum32$2(this.h[3],rt),this.h[4]=sum32$2(this.h[4],it)};SHA1.prototype._digest=function(o){return o==="hex"?utils$6.toHex32(this.h,"big"):utils$6.split32(this.h,"big")};var utils$5=utils$9,common$5=common$8,shaCommon=common$7,assert$8=minimalisticAssert$1,sum32$1=utils$5.sum32,sum32_4$1=utils$5.sum32_4,sum32_5=utils$5.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$5.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$5.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512;SHA256$1.outSize=256;SHA256$1.hmacStrength=192;SHA256$1.padLength=64;SHA256$1.prototype._update=function(o,a){for(var j=this.W,_e=0;_e<16;_e++)j[_e]=o[a+_e];for(;_e<j.length;_e++)j[_e]=sum32_4$1(g1_256(j[_e-2]),j[_e-7],g0_256(j[_e-15]),j[_e-16]);var et=this.h[0],tt=this.h[1],nt=this.h[2],rt=this.h[3],it=this.h[4],ot=this.h[5],at=this.h[6],ct=this.h[7];for(assert$8(this.k.length===j.length),_e=0;_e<j.length;_e++){var ut=sum32_5(ct,s1_256(it),ch32(it,ot,at),this.k[_e],j[_e]),dt=sum32$1(s0_256(et),maj32(et,tt,nt));ct=at,at=ot,ot=it,it=sum32$1(rt,ut),rt=nt,nt=tt,tt=et,et=sum32$1(ut,dt)}this.h[0]=sum32$1(this.h[0],et),this.h[1]=sum32$1(this.h[1],tt),this.h[2]=sum32$1(this.h[2],nt),this.h[3]=sum32$1(this.h[3],rt),this.h[4]=sum32$1(this.h[4],it),this.h[5]=sum32$1(this.h[5],ot),this.h[6]=sum32$1(this.h[6],at),this.h[7]=sum32$1(this.h[7],ct)};SHA256$1.prototype._digest=function(o){return o==="hex"?utils$5.toHex32(this.h,"big"):utils$5.split32(this.h,"big")};var utils$4=utils$9,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$4.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function(o){return o==="hex"?utils$4.toHex32(this.h.slice(0,7),"big"):utils$4.split32(this.h.slice(0,7),"big")};var utils$3=utils$9,common$4=common$8,assert$7=minimalisticAssert$1,rotr64_hi=utils$3.rotr64_hi,rotr64_lo=utils$3.rotr64_lo,shr64_hi=utils$3.shr64_hi,shr64_lo=utils$3.shr64_lo,sum64=utils$3.sum64,sum64_hi=utils$3.sum64_hi,sum64_lo=utils$3.sum64_lo,sum64_4_hi=utils$3.sum64_4_hi,sum64_4_lo=utils$3.sum64_4_lo,sum64_5_hi=utils$3.sum64_5_hi,sum64_5_lo=utils$3.sum64_5_lo,BlockHash$1=common$4.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$3.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024;SHA512$1.outSize=512;SHA512$1.hmacStrength=192;SHA512$1.padLength=128;SHA512$1.prototype._prepareBlock=function(o,a){for(var j=this.W,_e=0;_e<32;_e++)j[_e]=o[a+_e];for(;_e<j.length;_e+=2){var et=g1_512_hi(j[_e-4],j[_e-3]),tt=g1_512_lo(j[_e-4],j[_e-3]),nt=j[_e-14],rt=j[_e-13],it=g0_512_hi(j[_e-30],j[_e-29]),ot=g0_512_lo(j[_e-30],j[_e-29]),at=j[_e-32],ct=j[_e-31];j[_e]=sum64_4_hi(et,tt,nt,rt,it,ot,at,ct),j[_e+1]=sum64_4_lo(et,tt,nt,rt,it,ot,at,ct)}};SHA512$1.prototype._update=function(o,a){this._prepareBlock(o,a);var j=this.W,_e=this.h[0],et=this.h[1],tt=this.h[2],nt=this.h[3],rt=this.h[4],it=this.h[5],ot=this.h[6],at=this.h[7],ct=this.h[8],ut=this.h[9],dt=this.h[10],ft=this.h[11],ht=this.h[12],pt=this.h[13],yt=this.h[14],gt=this.h[15];assert$7(this.k.length===j.length);for(var bt=0;bt<j.length;bt+=2){var At=yt,Tt=gt,Pt=s1_512_hi(ct,ut),Ct=s1_512_lo(ct,ut),It=ch64_hi(ct,ut,dt,ft,ht),Vt=ch64_lo(ct,ut,dt,ft,ht,pt),Kt=this.k[bt],en=this.k[bt+1],kt=j[bt],vt=j[bt+1],St=sum64_5_hi(At,Tt,Pt,Ct,It,Vt,Kt,en,kt,vt),Lt=sum64_5_lo(At,Tt,Pt,Ct,It,Vt,Kt,en,kt,vt);At=s0_512_hi(_e,et),Tt=s0_512_lo(_e,et),Pt=maj64_hi(_e,et,tt,nt,rt),Ct=maj64_lo(_e,et,tt,nt,rt,it);var zt=sum64_hi(At,Tt,Pt,Ct),Rt=sum64_lo(At,Tt,Pt,Ct);yt=ht,gt=pt,ht=dt,pt=ft,dt=ct,ft=ut,ct=sum64_hi(ot,at,St,Lt),ut=sum64_lo(at,at,St,Lt),ot=rt,at=it,rt=tt,it=nt,tt=_e,nt=et,_e=sum64_hi(St,Lt,zt,Rt),et=sum64_lo(St,Lt,zt,Rt)}sum64(this.h,0,_e,et),sum64(this.h,2,tt,nt),sum64(this.h,4,rt,it),sum64(this.h,6,ot,at),sum64(this.h,8,ct,ut),sum64(this.h,10,dt,ft),sum64(this.h,12,ht,pt),sum64(this.h,14,yt,gt)};SHA512$1.prototype._digest=function(o){return o==="hex"?utils$3.toHex32(this.h,"big"):utils$3.split32(this.h,"big")};function ch64_hi($,o,a,j,_e){var et=$&a^~$&_e;return et<0&&(et+=4294967296),et}function ch64_lo($,o,a,j,_e,et){var tt=o&j^~o&et;return tt<0&&(tt+=4294967296),tt}function maj64_hi($,o,a,j,_e){var et=$&a^$&_e^a&_e;return et<0&&(et+=4294967296),et}function maj64_lo($,o,a,j,_e,et){var tt=o&j^o&et^j&et;return tt<0&&(tt+=4294967296),tt}function s0_512_hi($,o){var a=rotr64_hi($,o,28),j=rotr64_hi(o,$,2),_e=rotr64_hi(o,$,7),et=a^j^_e;return et<0&&(et+=4294967296),et}function s0_512_lo($,o){var a=rotr64_lo($,o,28),j=rotr64_lo(o,$,2),_e=rotr64_lo(o,$,7),et=a^j^_e;return et<0&&(et+=4294967296),et}function s1_512_hi($,o){var a=rotr64_hi($,o,14),j=rotr64_hi($,o,18),_e=rotr64_hi(o,$,9),et=a^j^_e;return et<0&&(et+=4294967296),et}function s1_512_lo($,o){var a=rotr64_lo($,o,14),j=rotr64_lo($,o,18),_e=rotr64_lo(o,$,9),et=a^j^_e;return et<0&&(et+=4294967296),et}function g0_512_hi($,o){var a=rotr64_hi($,o,1),j=rotr64_hi($,o,8),_e=shr64_hi($,o,7),et=a^j^_e;return et<0&&(et+=4294967296),et}function g0_512_lo($,o){var a=rotr64_lo($,o,1),j=rotr64_lo($,o,8),_e=shr64_lo($,o,7),et=a^j^_e;return et<0&&(et+=4294967296),et}function g1_512_hi($,o){var a=rotr64_hi($,o,19),j=rotr64_hi(o,$,29),_e=shr64_hi($,o,6),et=a^j^_e;return et<0&&(et+=4294967296),et}function g1_512_lo($,o){var a=rotr64_lo($,o,19),j=rotr64_lo(o,$,29),_e=shr64_lo($,o,6),et=a^j^_e;return et<0&&(et+=4294967296),et}var utils$2=utils$9,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$2.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function(o){return o==="hex"?utils$2.toHex32(this.h.slice(0,12),"big"):utils$2.split32(this.h.slice(0,12),"big")};sha$1.sha1=_1;sha$1.sha224=_224;sha$1.sha256=_256;sha$1.sha384=_384;sha$1.sha512=_512;var ripemd={},utils$1=utils$9,common$3=common$8,rotl32=utils$1.rotl32,sum32=utils$1.sum32,sum32_3=utils$1.sum32_3,sum32_4=utils$1.sum32_4,BlockHash=common$3.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$1.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function(o,a){for(var j=this.h[0],_e=this.h[1],et=this.h[2],tt=this.h[3],nt=this.h[4],rt=j,it=_e,ot=et,at=tt,ct=nt,ut=0;ut<80;ut++){var dt=sum32(rotl32(sum32_4(j,f$2(ut,_e,et,tt),o[r$2[ut]+a],K(ut)),s[ut]),nt);j=nt,nt=tt,tt=rotl32(et,10),et=_e,_e=dt,dt=sum32(rotl32(sum32_4(rt,f$2(79-ut,it,ot,at),o[rh[ut]+a],Kh(ut)),sh[ut]),ct),rt=ct,ct=at,at=rotl32(ot,10),ot=it,it=dt}dt=sum32_3(this.h[1],et,at),this.h[1]=sum32_3(this.h[2],tt,ct),this.h[2]=sum32_3(this.h[3],nt,rt),this.h[3]=sum32_3(this.h[4],j,it),this.h[4]=sum32_3(this.h[0],_e,ot),this.h[0]=dt};RIPEMD160.prototype._digest=function(o){return o==="hex"?utils$1.toHex32(this.h,"little"):utils$1.split32(this.h,"little")};function f$2($,o,a,j){return $<=15?o^a^j:$<=31?o&a|~o&j:$<=47?(o|~a)^j:$<=63?o&j|a&~j:o^(a|~j)}function K($){return $<=15?0:$<=31?1518500249:$<=47?1859775393:$<=63?2400959708:2840853838}function Kh($){return $<=15?1352829926:$<=31?1548603684:$<=47?1836072691:$<=63?2053994217:0}var r$2=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils=utils$9,assert$6=minimalisticAssert$1;function Hmac($,o,a){if(!(this instanceof Hmac))return new Hmac($,o,a);this.Hash=$,this.blockSize=$.blockSize/8,this.outSize=$.outSize/8,this.inner=null,this.outer=null,this._init(utils.toArray(o,a))}var hmac=Hmac;Hmac.prototype._init=function(o){o.length>this.blockSize&&(o=new this.Hash().update(o).digest()),assert$6(o.length<=this.blockSize);for(var a=o.length;a<this.blockSize;a++)o.push(0);for(a=0;a<o.length;a++)o[a]^=54;for(this.inner=new this.Hash().update(o),a=0;a<o.length;a++)o[a]^=106;this.outer=new this.Hash().update(o)};Hmac.prototype.update=function(o,a){return this.inner.update(o,a),this};Hmac.prototype.digest=function(o){return this.outer.update(this.inner.digest()),this.outer.digest(o)};(function($){var o=$;o.utils=utils$9,o.common=common$8,o.sha=sha$1,o.ripemd=ripemd,o.hmac=hmac,o.sha1=o.sha.sha1,o.sha256=o.sha.sha256,o.sha224=o.sha.sha224,o.sha384=o.sha.sha384,o.sha512=o.sha.sha512,o.ripemd160=o.ripemd.ripemd160})(hash$1);function createCommonjsModule($,o,a){return a={path:o,exports:{},require:function(j,_e){return commonjsRequire(j,_e??a.path)}},$(a,a.exports),a.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert=assert;function assert($,o){if(!$)throw new Error(o||"Assertion failed")}assert.equal=function(o,a,j){if(o!=a)throw new Error(j||"Assertion failed: "+o+" != "+a)};var utils_1=createCommonjsModule(function($,o){var a=o;function j(tt,nt){if(Array.isArray(tt))return tt.slice();if(!tt)return[];var rt=[];if(typeof tt!="string"){for(var it=0;it<tt.length;it++)rt[it]=tt[it]|0;return rt}if(nt==="hex"){tt=tt.replace(/[^a-z0-9]+/ig,""),tt.length%2!==0&&(tt="0"+tt);for(var it=0;it<tt.length;it+=2)rt.push(parseInt(tt[it]+tt[it+1],16))}else for(var it=0;it<tt.length;it++){var ot=tt.charCodeAt(it),at=ot>>8,ct=ot&255;at?rt.push(at,ct):rt.push(ct)}return rt}a.toArray=j;function _e(tt){return tt.length===1?"0"+tt:tt}a.zero2=_e;function et(tt){for(var nt="",rt=0;rt<tt.length;rt++)nt+=_e(tt[rt].toString(16));return nt}a.toHex=et,a.encode=function(nt,rt){return rt==="hex"?et(nt):nt}}),utils_1$1=createCommonjsModule(function($,o){var a=o;a.assert=minimalisticAssert,a.toArray=utils_1.toArray,a.zero2=utils_1.zero2,a.toHex=utils_1.toHex,a.encode=utils_1.encode;function j(rt,it,ot){var at=new Array(Math.max(rt.bitLength(),ot)+1);at.fill(0);for(var ct=1<<it+1,ut=rt.clone(),dt=0;dt<at.length;dt++){var ft,ht=ut.andln(ct-1);ut.isOdd()?(ht>(ct>>1)-1?ft=(ct>>1)-ht:ft=ht,ut.isubn(ft)):ft=0,at[dt]=ft,ut.iushrn(1)}return at}a.getNAF=j;function _e(rt,it){var ot=[[],[]];rt=rt.clone(),it=it.clone();for(var at=0,ct=0,ut;rt.cmpn(-at)>0||it.cmpn(-ct)>0;){var dt=rt.andln(3)+at&3,ft=it.andln(3)+ct&3;dt===3&&(dt=-1),ft===3&&(ft=-1);var ht;dt&1?(ut=rt.andln(7)+at&7,(ut===3||ut===5)&&ft===2?ht=-dt:ht=dt):ht=0,ot[0].push(ht);var pt;ft&1?(ut=it.andln(7)+ct&7,(ut===3||ut===5)&&dt===2?pt=-ft:pt=ft):pt=0,ot[1].push(pt),2*at===ht+1&&(at=1-at),2*ct===pt+1&&(ct=1-ct),rt.iushrn(1),it.iushrn(1)}return ot}a.getJSF=_e;function et(rt,it,ot){var at="_"+it;rt.prototype[it]=function(){return this[at]!==void 0?this[at]:this[at]=ot.call(this)}}a.cachedProperty=et;function tt(rt){return typeof rt=="string"?a.toArray(rt,"hex"):rt}a.parseBytes=tt;function nt(rt){return new BN$1(rt,"hex","le")}a.intFromLE=nt}),getNAF=utils_1$1.getNAF,getJSF=utils_1$1.getJSF,assert$1=utils_1$1.assert;function BaseCurve($,o){this.type=$,this.p=new BN$1(o.p,16),this.red=o.prime?BN$1.red(o.prime):BN$1.mont(this.p),this.zero=new BN$1(0).toRed(this.red),this.one=new BN$1(1).toRed(this.red),this.two=new BN$1(2).toRed(this.red),this.n=o.n&&new BN$1(o.n,16),this.g=o.g&&this.pointFromJSON(o.g,o.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var a=this.n&&this.p.div(this.n);!a||a.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$1=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function(o,a){assert$1(o.precomputed);var j=o._getDoubles(),_e=getNAF(a,1,this._bitLength),et=(1<<j.step+1)-(j.step%2===0?2:1);et/=3;var tt=[],nt,rt;for(nt=0;nt<_e.length;nt+=j.step){rt=0;for(var it=nt+j.step-1;it>=nt;it--)rt=(rt<<1)+_e[it];tt.push(rt)}for(var ot=this.jpoint(null,null,null),at=this.jpoint(null,null,null),ct=et;ct>0;ct--){for(nt=0;nt<tt.length;nt++)rt=tt[nt],rt===ct?at=at.mixedAdd(j.points[nt]):rt===-ct&&(at=at.mixedAdd(j.points[nt].neg()));ot=ot.add(at)}return ot.toP()};BaseCurve.prototype._wnafMul=function(o,a){var j=4,_e=o._getNAFPoints(j);j=_e.wnd;for(var et=_e.points,tt=getNAF(a,j,this._bitLength),nt=this.jpoint(null,null,null),rt=tt.length-1;rt>=0;rt--){for(var it=0;rt>=0&&tt[rt]===0;rt--)it++;if(rt>=0&&it++,nt=nt.dblp(it),rt<0)break;var ot=tt[rt];assert$1(ot!==0),o.type==="affine"?ot>0?nt=nt.mixedAdd(et[ot-1>>1]):nt=nt.mixedAdd(et[-ot-1>>1].neg()):ot>0?nt=nt.add(et[ot-1>>1]):nt=nt.add(et[-ot-1>>1].neg())}return o.type==="affine"?nt.toP():nt};BaseCurve.prototype._wnafMulAdd=function(o,a,j,_e,et){var tt=this._wnafT1,nt=this._wnafT2,rt=this._wnafT3,it=0,ot,at,ct;for(ot=0;ot<_e;ot++){ct=a[ot];var ut=ct._getNAFPoints(o);tt[ot]=ut.wnd,nt[ot]=ut.points}for(ot=_e-1;ot>=1;ot-=2){var dt=ot-1,ft=ot;if(tt[dt]!==1||tt[ft]!==1){rt[dt]=getNAF(j[dt],tt[dt],this._bitLength),rt[ft]=getNAF(j[ft],tt[ft],this._bitLength),it=Math.max(rt[dt].length,it),it=Math.max(rt[ft].length,it);continue}var ht=[a[dt],null,null,a[ft]];a[dt].y.cmp(a[ft].y)===0?(ht[1]=a[dt].add(a[ft]),ht[2]=a[dt].toJ().mixedAdd(a[ft].neg())):a[dt].y.cmp(a[ft].y.redNeg())===0?(ht[1]=a[dt].toJ().mixedAdd(a[ft]),ht[2]=a[dt].add(a[ft].neg())):(ht[1]=a[dt].toJ().mixedAdd(a[ft]),ht[2]=a[dt].toJ().mixedAdd(a[ft].neg()));var pt=[-3,-1,-5,-7,0,7,5,1,3],yt=getJSF(j[dt],j[ft]);for(it=Math.max(yt[0].length,it),rt[dt]=new Array(it),rt[ft]=new Array(it),at=0;at<it;at++){var gt=yt[0][at]|0,bt=yt[1][at]|0;rt[dt][at]=pt[(gt+1)*3+(bt+1)],rt[ft][at]=0,nt[dt]=ht}}var At=this.jpoint(null,null,null),Tt=this._wnafT4;for(ot=it;ot>=0;ot--){for(var Pt=0;ot>=0;){var Ct=!0;for(at=0;at<_e;at++)Tt[at]=rt[at][ot]|0,Tt[at]!==0&&(Ct=!1);if(!Ct)break;Pt++,ot--}if(ot>=0&&Pt++,At=At.dblp(Pt),ot<0)break;for(at=0;at<_e;at++){var It=Tt[at];It!==0&&(It>0?ct=nt[at][It-1>>1]:It<0&&(ct=nt[at][-It-1>>1].neg()),ct.type==="affine"?At=At.mixedAdd(ct):At=At.add(ct))}}for(ot=0;ot<_e;ot++)nt[ot]=null;return et?At:At.toP()};function BasePoint($,o){this.curve=$,this.type=o,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function(){throw new Error("Not implemented")};BasePoint.prototype.validate=function(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function(o,a){o=utils_1$1.toArray(o,a);var j=this.p.byteLength();if((o[0]===4||o[0]===6||o[0]===7)&&o.length-1===2*j){o[0]===6?assert$1(o[o.length-1]%2===0):o[0]===7&&assert$1(o[o.length-1]%2===1);var _e=this.point(o.slice(1,1+j),o.slice(1+j,1+2*j));return _e}else if((o[0]===2||o[0]===3)&&o.length-1===j)return this.pointFromX(o.slice(1,1+j),o[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function(o){return this.encode(o,!0)};BasePoint.prototype._encode=function(o){var a=this.curve.p.byteLength(),j=this.getX().toArray("be",a);return o?[this.getY().isEven()?2:3].concat(j):[4].concat(j,this.getY().toArray("be",a))};BasePoint.prototype.encode=function(o,a){return utils_1$1.encode(this._encode(a),o)};BasePoint.prototype.precompute=function(o){if(this.precomputed)return this;var a={doubles:null,naf:null,beta:null};return a.naf=this._getNAFPoints(8),a.doubles=this._getDoubles(4,o),a.beta=this._getBeta(),this.precomputed=a,this};BasePoint.prototype._hasDoubles=function(o){if(!this.precomputed)return!1;var a=this.precomputed.doubles;return a?a.points.length>=Math.ceil((o.bitLength()+1)/a.step):!1};BasePoint.prototype._getDoubles=function(o,a){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var j=[this],_e=this,et=0;et<a;et+=o){for(var tt=0;tt<o;tt++)_e=_e.dbl();j.push(_e)}return{step:o,points:j}};BasePoint.prototype._getNAFPoints=function(o){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var a=[this],j=(1<<o)-1,_e=j===1?null:this.dbl(),et=1;et<j;et++)a[et]=a[et-1].add(_e);return{wnd:o,points:a}};BasePoint.prototype._getBeta=function(){return null};BasePoint.prototype.dblp=function(o){for(var a=this,j=0;j<o;j++)a=a.dbl();return a};var inherits_browser=createCommonjsModule(function($){typeof Object.create=="function"?$.exports=function(a,j){j&&(a.super_=j,a.prototype=Object.create(j.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:$.exports=function(a,j){if(j){a.super_=j;var _e=function(){};_e.prototype=j.prototype,a.prototype=new _e,a.prototype.constructor=a}}}),assert$2=utils_1$1.assert;function ShortCurve($){base$1.call(this,"short",$),this.a=new BN$1($.a,16).toRed(this.red),this.b=new BN$1($.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism($),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser(ShortCurve,base$1);var short_1=ShortCurve;ShortCurve.prototype._getEndomorphism=function(o){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var a,j;if(o.beta)a=new BN$1(o.beta,16).toRed(this.red);else{var _e=this._getEndoRoots(this.p);a=_e[0].cmp(_e[1])<0?_e[0]:_e[1],a=a.toRed(this.red)}if(o.lambda)j=new BN$1(o.lambda,16);else{var et=this._getEndoRoots(this.n);this.g.mul(et[0]).x.cmp(this.g.x.redMul(a))===0?j=et[0]:(j=et[1],assert$2(this.g.mul(j).x.cmp(this.g.x.redMul(a))===0))}var tt;return o.basis?tt=o.basis.map(function(nt){return{a:new BN$1(nt.a,16),b:new BN$1(nt.b,16)}}):tt=this._getEndoBasis(j),{beta:a,lambda:j,basis:tt}}};ShortCurve.prototype._getEndoRoots=function(o){var a=o===this.p?this.red:BN$1.mont(o),j=new BN$1(2).toRed(a).redInvm(),_e=j.redNeg(),et=new BN$1(3).toRed(a).redNeg().redSqrt().redMul(j),tt=_e.redAdd(et).fromRed(),nt=_e.redSub(et).fromRed();return[tt,nt]};ShortCurve.prototype._getEndoBasis=function(o){for(var a=this.n.ushrn(Math.floor(this.n.bitLength()/2)),j=o,_e=this.n.clone(),et=new BN$1(1),tt=new BN$1(0),nt=new BN$1(0),rt=new BN$1(1),it,ot,at,ct,ut,dt,ft,ht=0,pt,yt;j.cmpn(0)!==0;){var gt=_e.div(j);pt=_e.sub(gt.mul(j)),yt=nt.sub(gt.mul(et));var bt=rt.sub(gt.mul(tt));if(!at&&pt.cmp(a)<0)it=ft.neg(),ot=et,at=pt.neg(),ct=yt;else if(at&&++ht===2)break;ft=pt,_e=j,j=pt,nt=et,et=yt,rt=tt,tt=bt}ut=pt.neg(),dt=yt;var At=at.sqr().add(ct.sqr()),Tt=ut.sqr().add(dt.sqr());return Tt.cmp(At)>=0&&(ut=it,dt=ot),at.negative&&(at=at.neg(),ct=ct.neg()),ut.negative&&(ut=ut.neg(),dt=dt.neg()),[{a:at,b:ct},{a:ut,b:dt}]};ShortCurve.prototype._endoSplit=function(o){var a=this.endo.basis,j=a[0],_e=a[1],et=_e.b.mul(o).divRound(this.n),tt=j.b.neg().mul(o).divRound(this.n),nt=et.mul(j.a),rt=tt.mul(_e.a),it=et.mul(j.b),ot=tt.mul(_e.b),at=o.sub(nt).sub(rt),ct=it.add(ot).neg();return{k1:at,k2:ct}};ShortCurve.prototype.pointFromX=function(o,a){o=new BN$1(o,16),o.red||(o=o.toRed(this.red));var j=o.redSqr().redMul(o).redIAdd(o.redMul(this.a)).redIAdd(this.b),_e=j.redSqrt();if(_e.redSqr().redSub(j).cmp(this.zero)!==0)throw new Error("invalid point");var et=_e.fromRed().isOdd();return(a&&!et||!a&&et)&&(_e=_e.redNeg()),this.point(o,_e)};ShortCurve.prototype.validate=function(o){if(o.inf)return!0;var a=o.x,j=o.y,_e=this.a.redMul(a),et=a.redSqr().redMul(a).redIAdd(_e).redIAdd(this.b);return j.redSqr().redISub(et).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function(o,a,j){for(var _e=this._endoWnafT1,et=this._endoWnafT2,tt=0;tt<o.length;tt++){var nt=this._endoSplit(a[tt]),rt=o[tt],it=rt._getBeta();nt.k1.negative&&(nt.k1.ineg(),rt=rt.neg(!0)),nt.k2.negative&&(nt.k2.ineg(),it=it.neg(!0)),_e[tt*2]=rt,_e[tt*2+1]=it,et[tt*2]=nt.k1,et[tt*2+1]=nt.k2}for(var ot=this._wnafMulAdd(1,_e,et,tt*2,j),at=0;at<tt*2;at++)_e[at]=null,et[at]=null;return ot};function Point($,o,a,j){base$1.BasePoint.call(this,$,"affine"),o===null&&a===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$1(o,16),this.y=new BN$1(a,16),j&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits_browser(Point,base$1.BasePoint);ShortCurve.prototype.point=function(o,a,j){return new Point(this,o,a,j)};ShortCurve.prototype.pointFromJSON=function(o,a){return Point.fromJSON(this,o,a)};Point.prototype._getBeta=function(){if(this.curve.endo){var o=this.precomputed;if(o&&o.beta)return o.beta;var a=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(o){var j=this.curve,_e=function(et){return j.point(et.x.redMul(j.endo.beta),et.y)};o.beta=a,a.precomputed={beta:null,naf:o.naf&&{wnd:o.naf.wnd,points:o.naf.points.map(_e)},doubles:o.doubles&&{step:o.doubles.step,points:o.doubles.points.map(_e)}}}return a}};Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point.fromJSON=function(o,a,j){typeof a=="string"&&(a=JSON.parse(a));var _e=o.point(a[0],a[1],j);if(!a[2])return _e;function et(nt){return o.point(nt[0],nt[1],j)}var tt=a[2];return _e.precomputed={beta:null,doubles:tt.doubles&&{step:tt.doubles.step,points:[_e].concat(tt.doubles.points.map(et))},naf:tt.naf&&{wnd:tt.naf.wnd,points:[_e].concat(tt.naf.points.map(et))}},_e};Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function(){return this.inf};Point.prototype.add=function(o){if(this.inf)return o;if(o.inf)return this;if(this.eq(o))return this.dbl();if(this.neg().eq(o))return this.curve.point(null,null);if(this.x.cmp(o.x)===0)return this.curve.point(null,null);var a=this.y.redSub(o.y);a.cmpn(0)!==0&&(a=a.redMul(this.x.redSub(o.x).redInvm()));var j=a.redSqr().redISub(this.x).redISub(o.x),_e=a.redMul(this.x.redSub(j)).redISub(this.y);return this.curve.point(j,_e)};Point.prototype.dbl=function(){if(this.inf)return this;var o=this.y.redAdd(this.y);if(o.cmpn(0)===0)return this.curve.point(null,null);var a=this.curve.a,j=this.x.redSqr(),_e=o.redInvm(),et=j.redAdd(j).redIAdd(j).redIAdd(a).redMul(_e),tt=et.redSqr().redISub(this.x.redAdd(this.x)),nt=et.redMul(this.x.redSub(tt)).redISub(this.y);return this.curve.point(tt,nt)};Point.prototype.getX=function(){return this.x.fromRed()};Point.prototype.getY=function(){return this.y.fromRed()};Point.prototype.mul=function(o){return o=new BN$1(o,16),this.isInfinity()?this:this._hasDoubles(o)?this.curve._fixedNafMul(this,o):this.curve.endo?this.curve._endoWnafMulAdd([this],[o]):this.curve._wnafMul(this,o)};Point.prototype.mulAdd=function(o,a,j){var _e=[this,a],et=[o,j];return this.curve.endo?this.curve._endoWnafMulAdd(_e,et):this.curve._wnafMulAdd(1,_e,et,2)};Point.prototype.jmulAdd=function(o,a,j){var _e=[this,a],et=[o,j];return this.curve.endo?this.curve._endoWnafMulAdd(_e,et,!0):this.curve._wnafMulAdd(1,_e,et,2,!0)};Point.prototype.eq=function(o){return this===o||this.inf===o.inf&&(this.inf||this.x.cmp(o.x)===0&&this.y.cmp(o.y)===0)};Point.prototype.neg=function(o){if(this.inf)return this;var a=this.curve.point(this.x,this.y.redNeg());if(o&&this.precomputed){var j=this.precomputed,_e=function(et){return et.neg()};a.precomputed={naf:j.naf&&{wnd:j.naf.wnd,points:j.naf.points.map(_e)},doubles:j.doubles&&{step:j.doubles.step,points:j.doubles.points.map(_e)}}}return a};Point.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var o=this.curve.jpoint(this.x,this.y,this.curve.one);return o};function JPoint($,o,a,j){base$1.BasePoint.call(this,$,"jacobian"),o===null&&a===null&&j===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$1(0)):(this.x=new BN$1(o,16),this.y=new BN$1(a,16),this.z=new BN$1(j,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits_browser(JPoint,base$1.BasePoint);ShortCurve.prototype.jpoint=function(o,a,j){return new JPoint(this,o,a,j)};JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var o=this.z.redInvm(),a=o.redSqr(),j=this.x.redMul(a),_e=this.y.redMul(a).redMul(o);return this.curve.point(j,_e)};JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function(o){if(this.isInfinity())return o;if(o.isInfinity())return this;var a=o.z.redSqr(),j=this.z.redSqr(),_e=this.x.redMul(a),et=o.x.redMul(j),tt=this.y.redMul(a.redMul(o.z)),nt=o.y.redMul(j.redMul(this.z)),rt=_e.redSub(et),it=tt.redSub(nt);if(rt.cmpn(0)===0)return it.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ot=rt.redSqr(),at=ot.redMul(rt),ct=_e.redMul(ot),ut=it.redSqr().redIAdd(at).redISub(ct).redISub(ct),dt=it.redMul(ct.redISub(ut)).redISub(tt.redMul(at)),ft=this.z.redMul(o.z).redMul(rt);return this.curve.jpoint(ut,dt,ft)};JPoint.prototype.mixedAdd=function(o){if(this.isInfinity())return o.toJ();if(o.isInfinity())return this;var a=this.z.redSqr(),j=this.x,_e=o.x.redMul(a),et=this.y,tt=o.y.redMul(a).redMul(this.z),nt=j.redSub(_e),rt=et.redSub(tt);if(nt.cmpn(0)===0)return rt.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var it=nt.redSqr(),ot=it.redMul(nt),at=j.redMul(it),ct=rt.redSqr().redIAdd(ot).redISub(at).redISub(at),ut=rt.redMul(at.redISub(ct)).redISub(et.redMul(ot)),dt=this.z.redMul(nt);return this.curve.jpoint(ct,ut,dt)};JPoint.prototype.dblp=function(o){if(o===0)return this;if(this.isInfinity())return this;if(!o)return this.dbl();var a;if(this.curve.zeroA||this.curve.threeA){var j=this;for(a=0;a<o;a++)j=j.dbl();return j}var _e=this.curve.a,et=this.curve.tinv,tt=this.x,nt=this.y,rt=this.z,it=rt.redSqr().redSqr(),ot=nt.redAdd(nt);for(a=0;a<o;a++){var at=tt.redSqr(),ct=ot.redSqr(),ut=ct.redSqr(),dt=at.redAdd(at).redIAdd(at).redIAdd(_e.redMul(it)),ft=tt.redMul(ct),ht=dt.redSqr().redISub(ft.redAdd(ft)),pt=ft.redISub(ht),yt=dt.redMul(pt);yt=yt.redIAdd(yt).redISub(ut);var gt=ot.redMul(rt);a+1<o&&(it=it.redMul(ut)),tt=ht,rt=gt,ot=yt}return this.curve.jpoint(tt,ot.redMul(et),rt)};JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function(){var o,a,j;if(this.zOne){var _e=this.x.redSqr(),et=this.y.redSqr(),tt=et.redSqr(),nt=this.x.redAdd(et).redSqr().redISub(_e).redISub(tt);nt=nt.redIAdd(nt);var rt=_e.redAdd(_e).redIAdd(_e),it=rt.redSqr().redISub(nt).redISub(nt),ot=tt.redIAdd(tt);ot=ot.redIAdd(ot),ot=ot.redIAdd(ot),o=it,a=rt.redMul(nt.redISub(it)).redISub(ot),j=this.y.redAdd(this.y)}else{var at=this.x.redSqr(),ct=this.y.redSqr(),ut=ct.redSqr(),dt=this.x.redAdd(ct).redSqr().redISub(at).redISub(ut);dt=dt.redIAdd(dt);var ft=at.redAdd(at).redIAdd(at),ht=ft.redSqr(),pt=ut.redIAdd(ut);pt=pt.redIAdd(pt),pt=pt.redIAdd(pt),o=ht.redISub(dt).redISub(dt),a=ft.redMul(dt.redISub(o)).redISub(pt),j=this.y.redMul(this.z),j=j.redIAdd(j)}return this.curve.jpoint(o,a,j)};JPoint.prototype._threeDbl=function(){var o,a,j;if(this.zOne){var _e=this.x.redSqr(),et=this.y.redSqr(),tt=et.redSqr(),nt=this.x.redAdd(et).redSqr().redISub(_e).redISub(tt);nt=nt.redIAdd(nt);var rt=_e.redAdd(_e).redIAdd(_e).redIAdd(this.curve.a),it=rt.redSqr().redISub(nt).redISub(nt);o=it;var ot=tt.redIAdd(tt);ot=ot.redIAdd(ot),ot=ot.redIAdd(ot),a=rt.redMul(nt.redISub(it)).redISub(ot),j=this.y.redAdd(this.y)}else{var at=this.z.redSqr(),ct=this.y.redSqr(),ut=this.x.redMul(ct),dt=this.x.redSub(at).redMul(this.x.redAdd(at));dt=dt.redAdd(dt).redIAdd(dt);var ft=ut.redIAdd(ut);ft=ft.redIAdd(ft);var ht=ft.redAdd(ft);o=dt.redSqr().redISub(ht),j=this.y.redAdd(this.z).redSqr().redISub(ct).redISub(at);var pt=ct.redSqr();pt=pt.redIAdd(pt),pt=pt.redIAdd(pt),pt=pt.redIAdd(pt),a=dt.redMul(ft.redISub(o)).redISub(pt)}return this.curve.jpoint(o,a,j)};JPoint.prototype._dbl=function(){var o=this.curve.a,a=this.x,j=this.y,_e=this.z,et=_e.redSqr().redSqr(),tt=a.redSqr(),nt=j.redSqr(),rt=tt.redAdd(tt).redIAdd(tt).redIAdd(o.redMul(et)),it=a.redAdd(a);it=it.redIAdd(it);var ot=it.redMul(nt),at=rt.redSqr().redISub(ot.redAdd(ot)),ct=ot.redISub(at),ut=nt.redSqr();ut=ut.redIAdd(ut),ut=ut.redIAdd(ut),ut=ut.redIAdd(ut);var dt=rt.redMul(ct).redISub(ut),ft=j.redAdd(j).redMul(_e);return this.curve.jpoint(at,dt,ft)};JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var o=this.x.redSqr(),a=this.y.redSqr(),j=this.z.redSqr(),_e=a.redSqr(),et=o.redAdd(o).redIAdd(o),tt=et.redSqr(),nt=this.x.redAdd(a).redSqr().redISub(o).redISub(_e);nt=nt.redIAdd(nt),nt=nt.redAdd(nt).redIAdd(nt),nt=nt.redISub(tt);var rt=nt.redSqr(),it=_e.redIAdd(_e);it=it.redIAdd(it),it=it.redIAdd(it),it=it.redIAdd(it);var ot=et.redIAdd(nt).redSqr().redISub(tt).redISub(rt).redISub(it),at=a.redMul(ot);at=at.redIAdd(at),at=at.redIAdd(at);var ct=this.x.redMul(rt).redISub(at);ct=ct.redIAdd(ct),ct=ct.redIAdd(ct);var ut=this.y.redMul(ot.redMul(it.redISub(ot)).redISub(nt.redMul(rt)));ut=ut.redIAdd(ut),ut=ut.redIAdd(ut),ut=ut.redIAdd(ut);var dt=this.z.redAdd(nt).redSqr().redISub(j).redISub(rt);return this.curve.jpoint(ct,ut,dt)};JPoint.prototype.mul=function(o,a){return o=new BN$1(o,a),this.curve._wnafMul(this,o)};JPoint.prototype.eq=function(o){if(o.type==="affine")return this.eq(o.toJ());if(this===o)return!0;var a=this.z.redSqr(),j=o.z.redSqr();if(this.x.redMul(j).redISub(o.x.redMul(a)).cmpn(0)!==0)return!1;var _e=a.redMul(this.z),et=j.redMul(o.z);return this.y.redMul(et).redISub(o.y.redMul(_e)).cmpn(0)===0};JPoint.prototype.eqXToP=function(o){var a=this.z.redSqr(),j=o.toRed(this.curve.red).redMul(a);if(this.x.cmp(j)===0)return!0;for(var _e=o.clone(),et=this.curve.redN.redMul(a);;){if(_e.iadd(this.curve.n),_e.cmp(this.curve.p)>=0)return!1;if(j.redIAdd(et),this.x.cmp(j)===0)return!0}};JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var curve_1=createCommonjsModule(function($,o){var a=o;a.base=base$1,a.short=short_1,a.mont=null,a.edwards=null}),curves_1=createCommonjsModule(function($,o){var a=o,j=utils_1$1.assert;function _e(nt){nt.type==="short"?this.curve=new curve_1.short(nt):nt.type==="edwards"?this.curve=new curve_1.edwards(nt):this.curve=new curve_1.mont(nt),this.g=this.curve.g,this.n=this.curve.n,this.hash=nt.hash,j(this.g.validate(),"Invalid curve"),j(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}a.PresetCurve=_e;function et(nt,rt){Object.defineProperty(a,nt,{configurable:!0,enumerable:!0,get:function(){var it=new _e(rt);return Object.defineProperty(a,nt,{configurable:!0,enumerable:!0,value:it}),it}})}et("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$1.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),et("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$1.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),et("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$1.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),et("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$1.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),et("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$1.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),et("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$1.sha256,gRed:!1,g:["9"]}),et("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$1.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var tt;try{tt=null.crash()}catch{tt=void 0}et("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$1.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",tt]})});function HmacDRBG($){if(!(this instanceof HmacDRBG))return new HmacDRBG($);this.hash=$.hash,this.predResist=!!$.predResist,this.outLen=this.hash.outSize,this.minEntropy=$.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var o=utils_1.toArray($.entropy,$.entropyEnc||"hex"),a=utils_1.toArray($.nonce,$.nonceEnc||"hex"),j=utils_1.toArray($.pers,$.persEnc||"hex");minimalisticAssert(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(o,a,j)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function(o,a,j){var _e=o.concat(a).concat(j);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var et=0;et<this.V.length;et++)this.K[et]=0,this.V[et]=1;this._update(_e),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function(){return new hash$1.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function(o){var a=this._hmac().update(this.V).update([0]);o&&(a=a.update(o)),this.K=a.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG.prototype.reseed=function(o,a,j,_e){typeof a!="string"&&(_e=j,j=a,a=null),o=utils_1.toArray(o,a),j=utils_1.toArray(j,_e),minimalisticAssert(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(j||[])),this._reseed=1};HmacDRBG.prototype.generate=function(o,a,j,_e){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof a!="string"&&(_e=j,j=a,a=null),j&&(j=utils_1.toArray(j,_e||"hex"),this._update(j));for(var et=[];et.length<o;)this.V=this._hmac().update(this.V).digest(),et=et.concat(this.V);var tt=et.slice(0,o);return this._update(j),this._reseed++,utils_1.encode(tt,a)};var assert$3=utils_1$1.assert;function KeyPair($,o){this.ec=$,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}var key=KeyPair;KeyPair.fromPublic=function(o,a,j){return a instanceof KeyPair?a:new KeyPair(o,{pub:a,pubEnc:j})};KeyPair.fromPrivate=function(o,a,j){return a instanceof KeyPair?a:new KeyPair(o,{priv:a,privEnc:j})};KeyPair.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair.prototype.getPublic=function(o,a){return typeof o=="string"&&(a=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,o):this.pub};KeyPair.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv};KeyPair.prototype._importPrivate=function(o,a){this.priv=new BN$1(o,a||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function(o,a){if(o.x||o.y){this.ec.curve.type==="mont"?assert$3(o.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$3(o.x&&o.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(o.x,o.y);return}this.pub=this.ec.curve.decodePoint(o,a)};KeyPair.prototype.derive=function(o){return o.validate()||assert$3(o.validate(),"public point not validated"),o.mul(this.priv).getX()};KeyPair.prototype.sign=function(o,a,j){return this.ec.sign(o,this,a,j)};KeyPair.prototype.verify=function(o,a){return this.ec.verify(o,a,this)};KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4=utils_1$1.assert;function Signature($,o){if($ instanceof Signature)return $;this._importDER($,o)||(assert$4($.r&&$.s,"Signature without r or s"),this.r=new BN$1($.r,16),this.s=new BN$1($.s,16),$.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=$.recoveryParam)}var signature=Signature;function Position(){this.place=0}function getLength($,o){var a=$[o.place++];if(!(a&128))return a;var j=a&15;if(j===0||j>4)return!1;for(var _e=0,et=0,tt=o.place;et<j;et++,tt++)_e<<=8,_e|=$[tt],_e>>>=0;return _e<=127?!1:(o.place=tt,_e)}function rmPadding($){for(var o=0,a=$.length-1;!$[o]&&!($[o+1]&128)&&o<a;)o++;return o===0?$:$.slice(o)}Signature.prototype._importDER=function(o,a){o=utils_1$1.toArray(o,a);var j=new Position;if(o[j.place++]!==48)return!1;var _e=getLength(o,j);if(_e===!1||_e+j.place!==o.length||o[j.place++]!==2)return!1;var et=getLength(o,j);if(et===!1)return!1;var tt=o.slice(j.place,et+j.place);if(j.place+=et,o[j.place++]!==2)return!1;var nt=getLength(o,j);if(nt===!1||o.length!==nt+j.place)return!1;var rt=o.slice(j.place,nt+j.place);if(tt[0]===0)if(tt[1]&128)tt=tt.slice(1);else return!1;if(rt[0]===0)if(rt[1]&128)rt=rt.slice(1);else return!1;return this.r=new BN$1(tt),this.s=new BN$1(rt),this.recoveryParam=null,!0};function constructLength($,o){if(o<128){$.push(o);return}var a=1+(Math.log(o)/Math.LN2>>>3);for($.push(a|128);--a;)$.push(o>>>(a<<3)&255);$.push(o)}Signature.prototype.toDER=function(o){var a=this.r.toArray(),j=this.s.toArray();for(a[0]&128&&(a=[0].concat(a)),j[0]&128&&(j=[0].concat(j)),a=rmPadding(a),j=rmPadding(j);!j[0]&&!(j[1]&128);)j=j.slice(1);var _e=[2];constructLength(_e,a.length),_e=_e.concat(a),_e.push(2),constructLength(_e,j.length);var et=_e.concat(j),tt=[48];return constructLength(tt,et.length),tt=tt.concat(et),utils_1$1.encode(tt,o)};var rand=function(){throw new Error("unsupported")},assert$5=utils_1$1.assert;function EC($){if(!(this instanceof EC))return new EC($);typeof $=="string"&&(assert$5(Object.prototype.hasOwnProperty.call(curves_1,$),"Unknown curve "+$),$=curves_1[$]),$ instanceof curves_1.PresetCurve&&($={curve:$}),this.curve=$.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=$.curve.g,this.g.precompute($.curve.n.bitLength()+1),this.hash=$.hash||$.curve.hash}var ec=EC;EC.prototype.keyPair=function(o){return new key(this,o)};EC.prototype.keyFromPrivate=function(o,a){return key.fromPrivate(this,o,a)};EC.prototype.keyFromPublic=function(o,a){return key.fromPublic(this,o,a)};EC.prototype.genKeyPair=function(o){o||(o={});for(var a=new hmacDrbg({hash:this.hash,pers:o.pers,persEnc:o.persEnc||"utf8",entropy:o.entropy||rand(this.hash.hmacStrength),entropyEnc:o.entropy&&o.entropyEnc||"utf8",nonce:this.n.toArray()}),j=this.n.byteLength(),_e=this.n.sub(new BN$1(2));;){var et=new BN$1(a.generate(j));if(!(et.cmp(_e)>0))return et.iaddn(1),this.keyFromPrivate(et)}};EC.prototype._truncateToN=function(o,a){var j=o.byteLength()*8-this.n.bitLength();return j>0&&(o=o.ushrn(j)),!a&&o.cmp(this.n)>=0?o.sub(this.n):o};EC.prototype.sign=function(o,a,j,_e){typeof j=="object"&&(_e=j,j=null),_e||(_e={}),a=this.keyFromPrivate(a,j),o=this._truncateToN(new BN$1(o,16));for(var et=this.n.byteLength(),tt=a.getPrivate().toArray("be",et),nt=o.toArray("be",et),rt=new hmacDrbg({hash:this.hash,entropy:tt,nonce:nt,pers:_e.pers,persEnc:_e.persEnc||"utf8"}),it=this.n.sub(new BN$1(1)),ot=0;;ot++){var at=_e.k?_e.k(ot):new BN$1(rt.generate(this.n.byteLength()));if(at=this._truncateToN(at,!0),!(at.cmpn(1)<=0||at.cmp(it)>=0)){var ct=this.g.mul(at);if(!ct.isInfinity()){var ut=ct.getX(),dt=ut.umod(this.n);if(dt.cmpn(0)!==0){var ft=at.invm(this.n).mul(dt.mul(a.getPrivate()).iadd(o));if(ft=ft.umod(this.n),ft.cmpn(0)!==0){var ht=(ct.getY().isOdd()?1:0)|(ut.cmp(dt)!==0?2:0);return _e.canonical&&ft.cmp(this.nh)>0&&(ft=this.n.sub(ft),ht^=1),new signature({r:dt,s:ft,recoveryParam:ht})}}}}}};EC.prototype.verify=function(o,a,j,_e){o=this._truncateToN(new BN$1(o,16)),j=this.keyFromPublic(j,_e),a=new signature(a,"hex");var et=a.r,tt=a.s;if(et.cmpn(1)<0||et.cmp(this.n)>=0||tt.cmpn(1)<0||tt.cmp(this.n)>=0)return!1;var nt=tt.invm(this.n),rt=nt.mul(o).umod(this.n),it=nt.mul(et).umod(this.n),ot;return this.curve._maxwellTrick?(ot=this.g.jmulAdd(rt,j.getPublic(),it),ot.isInfinity()?!1:ot.eqXToP(et)):(ot=this.g.mulAdd(rt,j.getPublic(),it),ot.isInfinity()?!1:ot.getX().umod(this.n).cmp(et)===0)};EC.prototype.recoverPubKey=function($,o,a,j){assert$5((3&a)===a,"The recovery param is more than two bits"),o=new signature(o,j);var _e=this.n,et=new BN$1($),tt=o.r,nt=o.s,rt=a&1,it=a>>1;if(tt.cmp(this.curve.p.umod(this.curve.n))>=0&&it)throw new Error("Unable to find sencond key candinate");it?tt=this.curve.pointFromX(tt.add(this.curve.n),rt):tt=this.curve.pointFromX(tt,rt);var ot=o.r.invm(_e),at=_e.sub(et).mul(ot).umod(_e),ct=nt.mul(ot).umod(_e);return this.g.mulAdd(at,tt,ct)};EC.prototype.getKeyRecoveryParam=function($,o,a,j){if(o=new signature(o,j),o.recoveryParam!==null)return o.recoveryParam;for(var _e=0;_e<4;_e++){var et;try{et=this.recoverPubKey($,o,_e)}catch{continue}if(et.eq(a))return _e}throw new Error("Unable to find valid recovery factor")};var elliptic_1=createCommonjsModule(function($,o){var a=o;a.version="6.5.4",a.utils=utils_1$1,a.rand=function(){throw new Error("unsupported")},a.curve=curve_1,a.curves=curves_1,a.ec=ec,a.eddsa=null}),EC$1=elliptic_1.ec;const version$6="signing-key/5.7.0",logger$8=new Logger(version$6);let _curve=null;function getCurve(){return _curve||(_curve=new EC$1("secp256k1")),_curve}class SigningKey{constructor(o){defineReadOnly(this,"curve","secp256k1"),defineReadOnly(this,"privateKey",hexlify(o)),hexDataLength(this.privateKey)!==32&&logger$8.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const a=getCurve().keyFromPrivate(arrayify(this.privateKey));defineReadOnly(this,"publicKey","0x"+a.getPublic(!1,"hex")),defineReadOnly(this,"compressedPublicKey","0x"+a.getPublic(!0,"hex")),defineReadOnly(this,"_isSigningKey",!0)}_addPoint(o){const a=getCurve().keyFromPublic(arrayify(this.publicKey)),j=getCurve().keyFromPublic(arrayify(o));return"0x"+a.pub.add(j.pub).encodeCompressed("hex")}signDigest(o){const a=getCurve().keyFromPrivate(arrayify(this.privateKey)),j=arrayify(o);j.length!==32&&logger$8.throwArgumentError("bad digest length","digest",o);const _e=a.sign(j,{canonical:!0});return splitSignature({recoveryParam:_e.recoveryParam,r:hexZeroPad("0x"+_e.r.toString(16),32),s:hexZeroPad("0x"+_e.s.toString(16),32)})}computeSharedSecret(o){const a=getCurve().keyFromPrivate(arrayify(this.privateKey)),j=getCurve().keyFromPublic(arrayify(computePublicKey(o)));return hexZeroPad("0x"+a.derive(j.getPublic()).toString(16),32)}static isSigningKey(o){return!!(o&&o._isSigningKey)}}function recoverPublicKey($,o){const a=splitSignature(o),j={r:arrayify(a.r),s:arrayify(a.s)};return"0x"+getCurve().recoverPubKey(arrayify($),j,a.recoveryParam).encode("hex",!1)}function computePublicKey($,o){const a=arrayify($);if(a.length===32){const j=new SigningKey(a);return o?"0x"+getCurve().keyFromPrivate(a).getPublic(!0,"hex"):j.publicKey}else{if(a.length===33)return o?hexlify(a):"0x"+getCurve().keyFromPublic(a).getPublic(!1,"hex");if(a.length===65)return o?"0x"+getCurve().keyFromPublic(a).getPublic(!0,"hex"):hexlify(a)}return logger$8.throwArgumentError("invalid public or private key","key","[REDACTED]")}const version$5="transactions/5.7.0",logger$7=new Logger(version$5);var TransactionTypes;(function($){$[$.legacy=0]="legacy",$[$.eip2930=1]="eip2930",$[$.eip1559=2]="eip1559"})(TransactionTypes||(TransactionTypes={}));function handleAddress($){return $==="0x"?null:getAddress($)}function handleNumber($){return $==="0x"?Zero$1:BigNumber.from($)}function computeAddress($){const o=computePublicKey($);return getAddress(hexDataSlice(keccak256(hexDataSlice(o,1)),12))}function recoverAddress($,o){return computeAddress(recoverPublicKey(arrayify($),o))}function formatNumber($,o){const a=stripZeros(BigNumber.from($).toHexString());return a.length>32&&logger$7.throwArgumentError("invalid length for "+o,"transaction:"+o,$),a}function accessSetify($,o){return{address:getAddress($),storageKeys:(o||[]).map((a,j)=>(hexDataLength(a)!==32&&logger$7.throwArgumentError("invalid access list storageKey",`accessList[${$}:${j}]`,a),a.toLowerCase()))}}function accessListify($){if(Array.isArray($))return $.map((a,j)=>Array.isArray(a)?(a.length>2&&logger$7.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${j}]`,a),accessSetify(a[0],a[1])):accessSetify(a.address,a.storageKeys));const o=Object.keys($).map(a=>{const j=$[a].reduce((_e,et)=>(_e[et]=!0,_e),{});return accessSetify(a,Object.keys(j).sort())});return o.sort((a,j)=>a.address.localeCompare(j.address)),o}function formatAccessList($){return accessListify($).map(o=>[o.address,o.storageKeys])}function _serializeEip1559($,o){if($.gasPrice!=null){const j=BigNumber.from($.gasPrice),_e=BigNumber.from($.maxFeePerGas||0);j.eq(_e)||logger$7.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:j,maxFeePerGas:_e})}const a=[formatNumber($.chainId||0,"chainId"),formatNumber($.nonce||0,"nonce"),formatNumber($.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber($.maxFeePerGas||0,"maxFeePerGas"),formatNumber($.gasLimit||0,"gasLimit"),$.to!=null?getAddress($.to):"0x",formatNumber($.value||0,"value"),$.data||"0x",formatAccessList($.accessList||[])];if(o){const j=splitSignature(o);a.push(formatNumber(j.recoveryParam,"recoveryParam")),a.push(stripZeros(j.r)),a.push(stripZeros(j.s))}return hexConcat(["0x02",encode$c(a)])}function _serializeEip2930($,o){const a=[formatNumber($.chainId||0,"chainId"),formatNumber($.nonce||0,"nonce"),formatNumber($.gasPrice||0,"gasPrice"),formatNumber($.gasLimit||0,"gasLimit"),$.to!=null?getAddress($.to):"0x",formatNumber($.value||0,"value"),$.data||"0x",formatAccessList($.accessList||[])];if(o){const j=splitSignature(o);a.push(formatNumber(j.recoveryParam,"recoveryParam")),a.push(stripZeros(j.r)),a.push(stripZeros(j.s))}return hexConcat(["0x01",encode$c(a)])}function _parseEipSignature($,o,a){try{const j=handleNumber(o[0]).toNumber();if(j!==0&&j!==1)throw new Error("bad recid");$.v=j}catch{logger$7.throwArgumentError("invalid v for transaction type: 1","v",o[0])}$.r=hexZeroPad(o[1],32),$.s=hexZeroPad(o[2],32);try{const j=keccak256(a($));$.from=recoverAddress(j,{r:$.r,s:$.s,recoveryParam:$.v})}catch{}}function _parseEip1559($){const o=decode$e($.slice(1));o.length!==9&&o.length!==12&&logger$7.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify($));const a=handleNumber(o[2]),j=handleNumber(o[3]),_e={type:2,chainId:handleNumber(o[0]).toNumber(),nonce:handleNumber(o[1]).toNumber(),maxPriorityFeePerGas:a,maxFeePerGas:j,gasPrice:null,gasLimit:handleNumber(o[4]),to:handleAddress(o[5]),value:handleNumber(o[6]),data:o[7],accessList:accessListify(o[8])};return o.length===9||(_e.hash=keccak256($),_parseEipSignature(_e,o.slice(9),_serializeEip1559)),_e}function _parseEip2930($){const o=decode$e($.slice(1));o.length!==8&&o.length!==11&&logger$7.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify($));const a={type:1,chainId:handleNumber(o[0]).toNumber(),nonce:handleNumber(o[1]).toNumber(),gasPrice:handleNumber(o[2]),gasLimit:handleNumber(o[3]),to:handleAddress(o[4]),value:handleNumber(o[5]),data:o[6],accessList:accessListify(o[7])};return o.length===8||(a.hash=keccak256($),_parseEipSignature(a,o.slice(8),_serializeEip2930)),a}function _parse($){const o=decode$e($);o.length!==9&&o.length!==6&&logger$7.throwArgumentError("invalid raw transaction","rawTransaction",$);const a={nonce:handleNumber(o[0]).toNumber(),gasPrice:handleNumber(o[1]),gasLimit:handleNumber(o[2]),to:handleAddress(o[3]),value:handleNumber(o[4]),data:o[5],chainId:0};if(o.length===6)return a;try{a.v=BigNumber.from(o[6]).toNumber()}catch{return a}if(a.r=hexZeroPad(o[7],32),a.s=hexZeroPad(o[8],32),BigNumber.from(a.r).isZero()&&BigNumber.from(a.s).isZero())a.chainId=a.v,a.v=0;else{a.chainId=Math.floor((a.v-35)/2),a.chainId<0&&(a.chainId=0);let j=a.v-27;const _e=o.slice(0,6);a.chainId!==0&&(_e.push(hexlify(a.chainId)),_e.push("0x"),_e.push("0x"),j-=a.chainId*2+8);const et=keccak256(encode$c(_e));try{a.from=recoverAddress(et,{r:hexlify(a.r),s:hexlify(a.s),recoveryParam:j})}catch{}a.hash=keccak256($)}return a.type=null,a}function parse$1($){const o=arrayify($);if(o[0]>127)return _parse(o);switch(o[0]){case 1:return _parseEip2930(o);case 2:return _parseEip1559(o)}return logger$7.throwError(`unsupported transaction type: ${o[0]}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:o[0]})}const version$4="contracts/5.7.0";var __awaiter$4=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function nt(ot){try{it(j.next(ot))}catch(at){tt(at)}}function rt(ot){try{it(j.throw(ot))}catch(at){tt(at)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(nt,rt)}it((j=j.apply($,o||[])).next())})};const logger$6=new Logger(version$4);function resolveName($,o){return __awaiter$4(this,void 0,void 0,function*(){const a=yield o;typeof a!="string"&&logger$6.throwArgumentError("invalid address or ENS name","name",a);try{return getAddress(a)}catch{}$||logger$6.throwError("a provider or signer is needed to resolve ENS names",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const j=yield $.resolveName(a);return j==null&&logger$6.throwArgumentError("resolver or addr is not configured for ENS name","name",a),j})}function resolveAddresses($,o,a){return __awaiter$4(this,void 0,void 0,function*(){return Array.isArray(a)?yield Promise.all(a.map((j,_e)=>resolveAddresses($,Array.isArray(o)?o[_e]:o[j.name],j))):a.type==="address"?yield resolveName($,o):a.type==="tuple"?yield resolveAddresses($,o,a.components):a.baseType==="array"?Array.isArray(o)?yield Promise.all(o.map(j=>resolveAddresses($,j,a.arrayChildren))):Promise.reject(logger$6.makeError("invalid value for array",Logger.errors.INVALID_ARGUMENT,{argument:"value",value:o})):o})}function populateTransaction($,o,a){return __awaiter$4(this,void 0,void 0,function*(){let j={};a.length===o.inputs.length+1&&typeof a[a.length-1]=="object"&&(j=shallowCopy(a.pop())),logger$6.checkArgumentCount(a.length,o.inputs.length,"passed to contract"),$.signer?j.from?j.from=resolveProperties({override:resolveName($.signer,j.from),signer:$.signer.getAddress()}).then(it=>__awaiter$4(this,void 0,void 0,function*(){return getAddress(it.signer)!==it.override&&logger$6.throwError("Contract with a Signer cannot override from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),it.override})):j.from=$.signer.getAddress():j.from&&(j.from=resolveName($.provider,j.from));const _e=yield resolveProperties({args:resolveAddresses($.signer||$.provider,a,o.inputs),address:$.resolvedAddress,overrides:resolveProperties(j)||{}}),et=$.interface.encodeFunctionData(o,_e.args),tt={data:et,to:_e.address},nt=_e.overrides;if(nt.nonce!=null&&(tt.nonce=BigNumber.from(nt.nonce).toNumber()),nt.gasLimit!=null&&(tt.gasLimit=BigNumber.from(nt.gasLimit)),nt.gasPrice!=null&&(tt.gasPrice=BigNumber.from(nt.gasPrice)),nt.maxFeePerGas!=null&&(tt.maxFeePerGas=BigNumber.from(nt.maxFeePerGas)),nt.maxPriorityFeePerGas!=null&&(tt.maxPriorityFeePerGas=BigNumber.from(nt.maxPriorityFeePerGas)),nt.from!=null&&(tt.from=nt.from),nt.type!=null&&(tt.type=nt.type),nt.accessList!=null&&(tt.accessList=accessListify(nt.accessList)),tt.gasLimit==null&&o.gas!=null){let it=21e3;const ot=arrayify(et);for(let at=0;at<ot.length;at++)it+=4,ot[at]&&(it+=64);tt.gasLimit=BigNumber.from(o.gas).add(it)}if(nt.value){const it=BigNumber.from(nt.value);!it.isZero()&&!o.payable&&logger$6.throwError("non-payable method cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:j.value}),tt.value=it}nt.customData&&(tt.customData=shallowCopy(nt.customData)),nt.ccipReadEnabled&&(tt.ccipReadEnabled=!!nt.ccipReadEnabled),delete j.nonce,delete j.gasLimit,delete j.gasPrice,delete j.from,delete j.value,delete j.type,delete j.accessList,delete j.maxFeePerGas,delete j.maxPriorityFeePerGas,delete j.customData,delete j.ccipReadEnabled;const rt=Object.keys(j).filter(it=>j[it]!=null);return rt.length&&logger$6.throwError(`cannot override ${rt.map(it=>JSON.stringify(it)).join(",")}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:rt}),tt})}function buildPopulate($,o){return function(...a){return populateTransaction($,o,a)}}function buildEstimate($,o){const a=$.signer||$.provider;return function(...j){return __awaiter$4(this,void 0,void 0,function*(){a||logger$6.throwError("estimate require a provider or signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const _e=yield populateTransaction($,o,j);return yield a.estimateGas(_e)})}}function addContractWait($,o){const a=o.wait.bind(o);o.wait=j=>a(j).then(_e=>(_e.events=_e.logs.map(et=>{let tt=deepCopy(et),nt=null;try{nt=$.interface.parseLog(et)}catch{}return nt&&(tt.args=nt.args,tt.decode=(rt,it)=>$.interface.decodeEventLog(nt.eventFragment,rt,it),tt.event=nt.name,tt.eventSignature=nt.signature),tt.removeListener=()=>$.provider,tt.getBlock=()=>$.provider.getBlock(_e.blockHash),tt.getTransaction=()=>$.provider.getTransaction(_e.transactionHash),tt.getTransactionReceipt=()=>Promise.resolve(_e),tt}),_e))}function buildCall($,o,a){const j=$.signer||$.provider;return function(..._e){return __awaiter$4(this,void 0,void 0,function*(){let et;if(_e.length===o.inputs.length+1&&typeof _e[_e.length-1]=="object"){const rt=shallowCopy(_e.pop());rt.blockTag!=null&&(et=yield rt.blockTag),delete rt.blockTag,_e.push(rt)}$.deployTransaction!=null&&(yield $._deployed(et));const tt=yield populateTransaction($,o,_e),nt=yield j.call(tt,et);try{let rt=$.interface.decodeFunctionResult(o,nt);return a&&o.outputs.length===1&&(rt=rt[0]),rt}catch(rt){throw rt.code===Logger.errors.CALL_EXCEPTION&&(rt.address=$.address,rt.args=_e,rt.transaction=tt),rt}})}}function buildSend($,o){return function(...a){return __awaiter$4(this,void 0,void 0,function*(){$.signer||logger$6.throwError("sending a transaction requires a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),$.deployTransaction!=null&&(yield $._deployed());const j=yield populateTransaction($,o,a),_e=yield $.signer.sendTransaction(j);return addContractWait($,_e),_e})}}function buildDefault($,o,a){return o.constant?buildCall($,o,a):buildSend($,o)}function getEventTag$1($){return $.address&&($.topics==null||$.topics.length===0)?"*":($.address||"*")+"@"+($.topics?$.topics.map(o=>Array.isArray(o)?o.join("|"):o).join(":"):"")}class RunningEvent{constructor(o,a){defineReadOnly(this,"tag",o),defineReadOnly(this,"filter",a),this._listeners=[]}addListener(o,a){this._listeners.push({listener:o,once:a})}removeListener(o){let a=!1;this._listeners=this._listeners.filter(j=>a||j.listener!==o?!0:(a=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(o=>o.listener)}listenerCount(){return this._listeners.length}run(o){const a=this.listenerCount();return this._listeners=this._listeners.filter(j=>{const _e=o.slice();return setTimeout(()=>{j.listener.apply(this,_e)},0),!j.once}),a}prepareEvent(o){}getEmit(o){return[o]}}class ErrorRunningEvent extends RunningEvent{constructor(){super("error",null)}}class FragmentRunningEvent extends RunningEvent{constructor(o,a,j,_e){const et={address:o};let tt=a.getEventTopic(j);_e?(tt!==_e[0]&&logger$6.throwArgumentError("topic mismatch","topics",_e),et.topics=_e.slice()):et.topics=[tt],super(getEventTag$1(et),et),defineReadOnly(this,"address",o),defineReadOnly(this,"interface",a),defineReadOnly(this,"fragment",j)}prepareEvent(o){super.prepareEvent(o),o.event=this.fragment.name,o.eventSignature=this.fragment.format(),o.decode=(a,j)=>this.interface.decodeEventLog(this.fragment,a,j);try{o.args=this.interface.decodeEventLog(this.fragment,o.data,o.topics)}catch(a){o.args=null,o.decodeError=a}}getEmit(o){const a=checkResultErrors(o.args);if(a.length)throw a[0].error;const j=(o.args||[]).slice();return j.push(o),j}}class WildcardRunningEvent extends RunningEvent{constructor(o,a){super("*",{address:o}),defineReadOnly(this,"address",o),defineReadOnly(this,"interface",a)}prepareEvent(o){super.prepareEvent(o);try{const a=this.interface.parseLog(o);o.event=a.name,o.eventSignature=a.signature,o.decode=(j,_e)=>this.interface.decodeEventLog(a.eventFragment,j,_e),o.args=a.args}catch{}}}class BaseContract{constructor(o,a,j){defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(a)),j==null?(defineReadOnly(this,"provider",null),defineReadOnly(this,"signer",null)):Signer.isSigner(j)?(defineReadOnly(this,"provider",j.provider||null),defineReadOnly(this,"signer",j)):Provider$1.isProvider(j)?(defineReadOnly(this,"provider",j),defineReadOnly(this,"signer",null)):logger$6.throwArgumentError("invalid signer or provider","signerOrProvider",j),defineReadOnly(this,"callStatic",{}),defineReadOnly(this,"estimateGas",{}),defineReadOnly(this,"functions",{}),defineReadOnly(this,"populateTransaction",{}),defineReadOnly(this,"filters",{});{const tt={};Object.keys(this.interface.events).forEach(nt=>{const rt=this.interface.events[nt];defineReadOnly(this.filters,nt,(...it)=>({address:this.address,topics:this.interface.encodeFilterTopics(rt,it)})),tt[rt.name]||(tt[rt.name]=[]),tt[rt.name].push(nt)}),Object.keys(tt).forEach(nt=>{const rt=tt[nt];rt.length===1?defineReadOnly(this.filters,nt,this.filters[rt[0]]):logger$6.warn(`Duplicate definition of ${nt} (${rt.join(", ")})`)})}if(defineReadOnly(this,"_runningEvents",{}),defineReadOnly(this,"_wrappedEmits",{}),o==null&&logger$6.throwArgumentError("invalid contract address or ENS name","addressOrName",o),defineReadOnly(this,"address",o),this.provider)defineReadOnly(this,"resolvedAddress",resolveName(this.provider,o));else try{defineReadOnly(this,"resolvedAddress",Promise.resolve(getAddress(o)))}catch{logger$6.throwError("provider is required to use ENS name as contract address",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(tt=>{});const _e={},et={};Object.keys(this.interface.functions).forEach(tt=>{const nt=this.interface.functions[tt];if(et[tt]){logger$6.warn(`Duplicate ABI entry for ${JSON.stringify(tt)}`);return}et[tt]=!0;{const rt=nt.name;_e[`%${rt}`]||(_e[`%${rt}`]=[]),_e[`%${rt}`].push(tt)}this[tt]==null&&defineReadOnly(this,tt,buildDefault(this,nt,!0)),this.functions[tt]==null&&defineReadOnly(this.functions,tt,buildDefault(this,nt,!1)),this.callStatic[tt]==null&&defineReadOnly(this.callStatic,tt,buildCall(this,nt,!0)),this.populateTransaction[tt]==null&&defineReadOnly(this.populateTransaction,tt,buildPopulate(this,nt)),this.estimateGas[tt]==null&&defineReadOnly(this.estimateGas,tt,buildEstimate(this,nt))}),Object.keys(_e).forEach(tt=>{const nt=_e[tt];if(nt.length>1)return;tt=tt.substring(1);const rt=nt[0];try{this[tt]==null&&defineReadOnly(this,tt,this[rt])}catch{}this.functions[tt]==null&&defineReadOnly(this.functions,tt,this.functions[rt]),this.callStatic[tt]==null&&defineReadOnly(this.callStatic,tt,this.callStatic[rt]),this.populateTransaction[tt]==null&&defineReadOnly(this.populateTransaction,tt,this.populateTransaction[rt]),this.estimateGas[tt]==null&&defineReadOnly(this.estimateGas,tt,this.estimateGas[rt])})}static getContractAddress(o){return getContractAddress(o)}static getInterface(o){return Interface.isInterface(o)?o:new Interface(o)}deployed(){return this._deployed()}_deployed(o){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,o).then(a=>(a==="0x"&&logger$6.throwError("contract not deployed",Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(o){this.signer||logger$6.throwError("sending a transactions require a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const a=shallowCopy(o||{});return["from","to"].forEach(function(j){a[j]!=null&&logger$6.throwError("cannot override "+j,Logger.errors.UNSUPPORTED_OPERATION,{operation:j})}),a.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(a))}connect(o){typeof o=="string"&&(o=new VoidSigner(o,this.provider));const a=new this.constructor(this.address,this.interface,o);return this.deployTransaction&&defineReadOnly(a,"deployTransaction",this.deployTransaction),a}attach(o){return new this.constructor(o,this.interface,this.signer||this.provider)}static isIndexed(o){return Indexed.isIndexed(o)}_normalizeRunningEvent(o){return this._runningEvents[o.tag]?this._runningEvents[o.tag]:o}_getRunningEvent(o){if(typeof o=="string"){if(o==="error")return this._normalizeRunningEvent(new ErrorRunningEvent);if(o==="event")return this._normalizeRunningEvent(new RunningEvent("event",null));if(o==="*")return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface));const a=this.interface.getEvent(o);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,a))}if(o.topics&&o.topics.length>0){try{const j=o.topics[0];if(typeof j!="string")throw new Error("invalid topic");const _e=this.interface.getEvent(j);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,_e,o.topics))}catch{}const a={address:this.address,topics:o.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag$1(a),a))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}_checkRunningEvents(o){if(o.listenerCount()===0){delete this._runningEvents[o.tag];const a=this._wrappedEmits[o.tag];a&&o.filter&&(this.provider.off(o.filter,a),delete this._wrappedEmits[o.tag])}}_wrapEvent(o,a,j){const _e=deepCopy(a);return _e.removeListener=()=>{j&&(o.removeListener(j),this._checkRunningEvents(o))},_e.getBlock=()=>this.provider.getBlock(a.blockHash),_e.getTransaction=()=>this.provider.getTransaction(a.transactionHash),_e.getTransactionReceipt=()=>this.provider.getTransactionReceipt(a.transactionHash),o.prepareEvent(_e),_e}_addEventListener(o,a,j){if(this.provider||logger$6.throwError("events require a provider or a signer with a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),o.addListener(a,j),this._runningEvents[o.tag]=o,!this._wrappedEmits[o.tag]){const _e=et=>{let tt=this._wrapEvent(o,et,a);if(tt.decodeError==null)try{const nt=o.getEmit(tt);this.emit(o.filter,...nt)}catch(nt){tt.decodeError=nt.error}o.filter!=null&&this.emit("event",tt),tt.decodeError!=null&&this.emit("error",tt.decodeError,tt)};this._wrappedEmits[o.tag]=_e,o.filter!=null&&this.provider.on(o.filter,_e)}}queryFilter(o,a,j){const _e=this._getRunningEvent(o),et=shallowCopy(_e.filter);return typeof a=="string"&&isHexString(a,32)?(j!=null&&logger$6.throwArgumentError("cannot specify toBlock with blockhash","toBlock",j),et.blockHash=a):(et.fromBlock=a??0,et.toBlock=j??"latest"),this.provider.getLogs(et).then(tt=>tt.map(nt=>this._wrapEvent(_e,nt,null)))}on(o,a){return this._addEventListener(this._getRunningEvent(o),a,!1),this}once(o,a){return this._addEventListener(this._getRunningEvent(o),a,!0),this}emit(o,...a){if(!this.provider)return!1;const j=this._getRunningEvent(o),_e=j.run(a)>0;return this._checkRunningEvents(j),_e}listenerCount(o){return this.provider?o==null?Object.keys(this._runningEvents).reduce((a,j)=>a+this._runningEvents[j].listenerCount(),0):this._getRunningEvent(o).listenerCount():0}listeners(o){if(!this.provider)return[];if(o==null){const a=[];for(let j in this._runningEvents)this._runningEvents[j].listeners().forEach(_e=>{a.push(_e)});return a}return this._getRunningEvent(o).listeners()}removeAllListeners(o){if(!this.provider)return this;if(o==null){for(const j in this._runningEvents){const _e=this._runningEvents[j];_e.removeAllListeners(),this._checkRunningEvents(_e)}return this}const a=this._getRunningEvent(o);return a.removeAllListeners(),this._checkRunningEvents(a),this}off(o,a){if(!this.provider)return this;const j=this._getRunningEvent(o);return j.removeListener(a),this._checkRunningEvents(j),this}removeListener(o,a){return this.off(o,a)}}class Contract extends BaseContract{}class BaseX{constructor(o){defineReadOnly(this,"alphabet",o),defineReadOnly(this,"base",o.length),defineReadOnly(this,"_alphabetMap",{}),defineReadOnly(this,"_leader",o.charAt(0));for(let a=0;a<o.length;a++)this._alphabetMap[o.charAt(a)]=a}encode(o){let a=arrayify(o);if(a.length===0)return"";let j=[0];for(let et=0;et<a.length;++et){let tt=a[et];for(let nt=0;nt<j.length;++nt)tt+=j[nt]<<8,j[nt]=tt%this.base,tt=tt/this.base|0;for(;tt>0;)j.push(tt%this.base),tt=tt/this.base|0}let _e="";for(let et=0;a[et]===0&&et<a.length-1;++et)_e+=this._leader;for(let et=j.length-1;et>=0;--et)_e+=this.alphabet[j[et]];return _e}decode(o){if(typeof o!="string")throw new TypeError("Expected String");let a=[];if(o.length===0)return new Uint8Array(a);a.push(0);for(let j=0;j<o.length;j++){let _e=this._alphabetMap[o[j]];if(_e===void 0)throw new Error("Non-base"+this.base+" character");let et=_e;for(let tt=0;tt<a.length;++tt)et+=a[tt]*this.base,a[tt]=et&255,et>>=8;for(;et>0;)a.push(et&255),et>>=8}for(let j=0;o[j]===this._leader&&j<o.length-1;++j)a.push(0);return arrayify(new Uint8Array(a.reverse()))}}new BaseX("abcdefghijklmnopqrstuvwxyz234567");const Base58=new BaseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function sha256$1($){return"0x"+hash$1.sha256().update(arrayify($)).digest("hex")}const version$3="networks/5.7.1",logger$5=new Logger(version$3);function isRenetworkable($){return $&&typeof $.renetwork=="function"}function ethDefaultProvider($){const o=function(a,j){j==null&&(j={});const _e=[];if(a.InfuraProvider&&j.infura!=="-")try{_e.push(new a.InfuraProvider($,j.infura))}catch{}if(a.EtherscanProvider&&j.etherscan!=="-")try{_e.push(new a.EtherscanProvider($,j.etherscan))}catch{}if(a.AlchemyProvider&&j.alchemy!=="-")try{_e.push(new a.AlchemyProvider($,j.alchemy))}catch{}if(a.PocketProvider&&j.pocket!=="-"){const et=["goerli","ropsten","rinkeby","sepolia"];try{const tt=new a.PocketProvider($,j.pocket);tt.network&&et.indexOf(tt.network.name)===-1&&_e.push(tt)}catch{}}if(a.CloudflareProvider&&j.cloudflare!=="-")try{_e.push(new a.CloudflareProvider($))}catch{}if(a.AnkrProvider&&j.ankr!=="-")try{const et=["ropsten"],tt=new a.AnkrProvider($,j.ankr);tt.network&&et.indexOf(tt.network.name)===-1&&_e.push(tt)}catch{}if(_e.length===0)return null;if(a.FallbackProvider){let et=1;return j.quorum!=null?et=j.quorum:$==="homestead"&&(et=2),new a.FallbackProvider(_e,et)}return _e[0]};return o.renetwork=function(a){return ethDefaultProvider(a)},o}function etcDefaultProvider($,o){const a=function(j,_e){return j.JsonRpcProvider?new j.JsonRpcProvider($,o):null};return a.renetwork=function(j){return etcDefaultProvider($,j)},a}const homestead={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ethDefaultProvider("homestead")},ropsten={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ethDefaultProvider("ropsten")},classicMordor={chainId:63,name:"classicMordor",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/mordor","classicMordor")},networks={unspecified:{chainId:0,name:"unspecified"},homestead,mainnet:homestead,morden:{chainId:2,name:"morden"},ropsten,testnet:ropsten,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ethDefaultProvider("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ethDefaultProvider("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ethDefaultProvider("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:ethDefaultProvider("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor,classicTestnet:classicMordor,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ethDefaultProvider("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ethDefaultProvider("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function getNetwork($){if($==null)return null;if(typeof $=="number"){for(const j in networks){const _e=networks[j];if(_e.chainId===$)return{name:_e.name,chainId:_e.chainId,ensAddress:_e.ensAddress||null,_defaultProvider:_e._defaultProvider||null}}return{chainId:$,name:"unknown"}}if(typeof $=="string"){const j=networks[$];return j==null?null:{name:j.name,chainId:j.chainId,ensAddress:j.ensAddress,_defaultProvider:j._defaultProvider||null}}const o=networks[$.name];if(!o)return typeof $.chainId!="number"&&logger$5.throwArgumentError("invalid network chainId","network",$),$;$.chainId!==0&&$.chainId!==o.chainId&&logger$5.throwArgumentError("network chainId mismatch","network",$);let a=$._defaultProvider||null;return a==null&&o._defaultProvider&&(isRenetworkable(o._defaultProvider)?a=o._defaultProvider.renetwork($):a=o._defaultProvider),{name:$.name,chainId:o.chainId,ensAddress:$.ensAddress||o.ensAddress||null,_defaultProvider:a}}const version$2="web/5.7.1";var __awaiter$3=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function nt(ot){try{it(j.next(ot))}catch(at){tt(at)}}function rt(ot){try{it(j.throw(ot))}catch(at){tt(at)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(nt,rt)}it((j=j.apply($,o||[])).next())})};function getUrl($,o){return __awaiter$3(this,void 0,void 0,function*(){o==null&&(o={});const a={method:o.method||"GET",headers:o.headers||{},body:o.body||void 0};if(o.skipFetchSetup!==!0&&(a.mode="cors",a.cache="no-cache",a.credentials="same-origin",a.redirect="follow",a.referrer="client"),o.fetchOptions!=null){const tt=o.fetchOptions;tt.mode&&(a.mode=tt.mode),tt.cache&&(a.cache=tt.cache),tt.credentials&&(a.credentials=tt.credentials),tt.redirect&&(a.redirect=tt.redirect),tt.referrer&&(a.referrer=tt.referrer)}const j=yield fetch($,a),_e=yield j.arrayBuffer(),et={};return j.headers.forEach?j.headers.forEach((tt,nt)=>{et[nt.toLowerCase()]=tt}):j.headers.keys().forEach(tt=>{et[tt.toLowerCase()]=j.headers.get(tt)}),{headers:et,statusCode:j.status,statusMessage:j.statusText,body:arrayify(new Uint8Array(_e))}})}var __awaiter$2=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function nt(ot){try{it(j.next(ot))}catch(at){tt(at)}}function rt(ot){try{it(j.throw(ot))}catch(at){tt(at)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(nt,rt)}it((j=j.apply($,o||[])).next())})};const logger$4=new Logger(version$2);function staller($){return new Promise(o=>{setTimeout(o,$)})}function bodyify($,o){if($==null)return null;if(typeof $=="string")return $;if(isBytesLike($)){if(o&&(o.split("/")[0]==="text"||o.split(";")[0].trim()==="application/json"))try{return toUtf8String($)}catch{}return hexlify($)}return $}function unpercent($){return toUtf8Bytes($.replace(/%([0-9a-f][0-9a-f])/gi,(o,a)=>String.fromCharCode(parseInt(a,16))))}function _fetchData($,o,a){const j=typeof $=="object"&&$.throttleLimit!=null?$.throttleLimit:12;logger$4.assertArgument(j>0&&j%1===0,"invalid connection throttle limit","connection.throttleLimit",j);const _e=typeof $=="object"?$.throttleCallback:null,et=typeof $=="object"&&typeof $.throttleSlotInterval=="number"?$.throttleSlotInterval:100;logger$4.assertArgument(et>0&&et%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",et);const tt=typeof $=="object"?!!$.errorPassThrough:!1,nt={};let rt=null;const it={method:"GET"};let ot=!1,at=2*60*1e3;if(typeof $=="string")rt=$;else if(typeof $=="object"){if(($==null||$.url==null)&&logger$4.throwArgumentError("missing URL","connection.url",$),rt=$.url,typeof $.timeout=="number"&&$.timeout>0&&(at=$.timeout),$.headers)for(const pt in $.headers)nt[pt.toLowerCase()]={key:pt,value:String($.headers[pt])},["if-none-match","if-modified-since"].indexOf(pt.toLowerCase())>=0&&(ot=!0);if(it.allowGzip=!!$.allowGzip,$.user!=null&&$.password!=null){rt.substring(0,6)!=="https:"&&$.allowInsecureAuthentication!==!0&&logger$4.throwError("basic authentication requires a secure https url",Logger.errors.INVALID_ARGUMENT,{argument:"url",url:rt,user:$.user,password:"[REDACTED]"});const pt=$.user+":"+$.password;nt.authorization={key:"Authorization",value:"Basic "+encode$b(toUtf8Bytes(pt))}}$.skipFetchSetup!=null&&(it.skipFetchSetup=!!$.skipFetchSetup),$.fetchOptions!=null&&(it.fetchOptions=shallowCopy($.fetchOptions))}const ct=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),ut=rt?rt.match(ct):null;if(ut)try{const pt={statusCode:200,statusMessage:"OK",headers:{"content-type":ut[1]||"text/plain"},body:ut[2]?decode$d(ut[3]):unpercent(ut[3])};let yt=pt.body;return a&&(yt=a(pt.body,pt)),Promise.resolve(yt)}catch(pt){logger$4.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(ut[1],ut[2]),error:pt,requestBody:null,requestMethod:"GET",url:rt})}o&&(it.method="POST",it.body=o,nt["content-type"]==null&&(nt["content-type"]={key:"Content-Type",value:"application/octet-stream"}),nt["content-length"]==null&&(nt["content-length"]={key:"Content-Length",value:String(o.length)}));const dt={};Object.keys(nt).forEach(pt=>{const yt=nt[pt];dt[yt.key]=yt.value}),it.headers=dt;const ft=function(){let pt=null;return{promise:new Promise(function(bt,At){at&&(pt=setTimeout(()=>{pt!=null&&(pt=null,At(logger$4.makeError("timeout",Logger.errors.TIMEOUT,{requestBody:bodyify(it.body,dt["content-type"]),requestMethod:it.method,timeout:at,url:rt})))},at))}),cancel:function(){pt!=null&&(clearTimeout(pt),pt=null)}}}(),ht=function(){return __awaiter$2(this,void 0,void 0,function*(){for(let pt=0;pt<j;pt++){let yt=null;try{if(yt=yield getUrl(rt,it),pt<j){if(yt.statusCode===301||yt.statusCode===302){const bt=yt.headers.location||"";if(it.method==="GET"&&bt.match(/^https:/)){rt=yt.headers.location;continue}}else if(yt.statusCode===429){let bt=!0;if(_e&&(bt=yield _e(pt,rt)),bt){let At=0;const Tt=yt.headers["retry-after"];typeof Tt=="string"&&Tt.match(/^[1-9][0-9]*$/)?At=parseInt(Tt)*1e3:At=et*parseInt(String(Math.random()*Math.pow(2,pt))),yield staller(At);continue}}}}catch(bt){yt=bt.response,yt==null&&(ft.cancel(),logger$4.throwError("missing response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(it.body,dt["content-type"]),requestMethod:it.method,serverError:bt,url:rt}))}let gt=yt.body;if(ot&&yt.statusCode===304?gt=null:!tt&&(yt.statusCode<200||yt.statusCode>=300)&&(ft.cancel(),logger$4.throwError("bad response",Logger.errors.SERVER_ERROR,{status:yt.statusCode,headers:yt.headers,body:bodyify(gt,yt.headers?yt.headers["content-type"]:null),requestBody:bodyify(it.body,dt["content-type"]),requestMethod:it.method,url:rt})),a)try{const bt=yield a(gt,yt);return ft.cancel(),bt}catch(bt){if(bt.throttleRetry&&pt<j){let At=!0;if(_e&&(At=yield _e(pt,rt)),At){const Tt=et*parseInt(String(Math.random()*Math.pow(2,pt)));yield staller(Tt);continue}}ft.cancel(),logger$4.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(gt,yt.headers?yt.headers["content-type"]:null),error:bt,requestBody:bodyify(it.body,dt["content-type"]),requestMethod:it.method,url:rt})}return ft.cancel(),gt}return logger$4.throwError("failed response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(it.body,dt["content-type"]),requestMethod:it.method,url:rt})})}();return Promise.race([ft.promise,ht])}function fetchJson($,o,a){let j=(et,tt)=>{let nt=null;if(et!=null)try{nt=JSON.parse(toUtf8String(et))}catch(rt){logger$4.throwError("invalid JSON",Logger.errors.SERVER_ERROR,{body:et,error:rt})}return a&&(nt=a(nt,tt)),nt},_e=null;if(o!=null){_e=toUtf8Bytes(o);const et=typeof $=="string"?{url:$}:shallowCopy($);et.headers?Object.keys(et.headers).filter(nt=>nt.toLowerCase()==="content-type").length!==0||(et.headers=shallowCopy(et.headers),et.headers["content-type"]="application/json"):et.headers={"content-type":"application/json"},$=et}return _fetchData($,_e,j)}function poll($,o){return o||(o={}),o=shallowCopy(o),o.floor==null&&(o.floor=0),o.ceiling==null&&(o.ceiling=1e4),o.interval==null&&(o.interval=250),new Promise(function(a,j){let _e=null,et=!1;const tt=()=>et?!1:(et=!0,_e&&clearTimeout(_e),!0);o.timeout&&(_e=setTimeout(()=>{tt()&&j(new Error("timeout"))},o.timeout));const nt=o.retryLimit;let rt=0;function it(){return $().then(function(ot){if(ot!==void 0)tt()&&a(ot);else if(o.oncePoll)o.oncePoll.once("poll",it);else if(o.onceBlock)o.onceBlock.once("block",it);else if(!et){if(rt++,rt>nt){tt()&&j(new Error("retry limit reached"));return}let at=o.interval*parseInt(String(Math.random()*Math.pow(2,rt)));at<o.floor&&(at=o.floor),at>o.ceiling&&(at=o.ceiling),setTimeout(it,at)}return null},function(ot){tt()&&j(ot)})}it()})}var ALPHABET="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={};for(var z$1=0;z$1<ALPHABET.length;z$1++){var x$1=ALPHABET.charAt(z$1);if(ALPHABET_MAP[x$1]!==void 0)throw new TypeError(x$1+" is ambiguous");ALPHABET_MAP[x$1]=z$1}function polymodStep($){var o=$>>25;return($&33554431)<<5^-(o>>0&1)&996825010^-(o>>1&1)&642813549^-(o>>2&1)&513874426^-(o>>3&1)&1027748829^-(o>>4&1)&705979059}function prefixChk($){for(var o=1,a=0;a<$.length;++a){var j=$.charCodeAt(a);if(j<33||j>126)return"Invalid prefix ("+$+")";o=polymodStep(o)^j>>5}for(o=polymodStep(o),a=0;a<$.length;++a){var _e=$.charCodeAt(a);o=polymodStep(o)^_e&31}return o}function encode$a($,o,a){if(a=a||90,$.length+7+o.length>a)throw new TypeError("Exceeds length limit");$=$.toLowerCase();var j=prefixChk($);if(typeof j=="string")throw new Error(j);for(var _e=$+"1",et=0;et<o.length;++et){var tt=o[et];if(tt>>5)throw new Error("Non 5-bit word");j=polymodStep(j)^tt,_e+=ALPHABET.charAt(tt)}for(et=0;et<6;++et)j=polymodStep(j);for(j^=1,et=0;et<6;++et){var nt=j>>(5-et)*5&31;_e+=ALPHABET.charAt(nt)}return _e}function __decode($,o){if(o=o||90,$.length<8)return $+" too short";if($.length>o)return"Exceeds length limit";var a=$.toLowerCase(),j=$.toUpperCase();if($!==a&&$!==j)return"Mixed-case string "+$;$=a;var _e=$.lastIndexOf("1");if(_e===-1)return"No separator character for "+$;if(_e===0)return"Missing prefix for "+$;var et=$.slice(0,_e),tt=$.slice(_e+1);if(tt.length<6)return"Data too short";var nt=prefixChk(et);if(typeof nt=="string")return nt;for(var rt=[],it=0;it<tt.length;++it){var ot=tt.charAt(it),at=ALPHABET_MAP[ot];if(at===void 0)return"Unknown character "+ot;nt=polymodStep(nt)^at,!(it+6>=tt.length)&&rt.push(at)}return nt!==1?"Invalid checksum for "+$:{prefix:et,words:rt}}function decodeUnsafe(){var $=__decode.apply(null,arguments);if(typeof $=="object")return $}function decode$c($){var o=__decode.apply(null,arguments);if(typeof o=="object")return o;throw new Error(o)}function convert($,o,a,j){for(var _e=0,et=0,tt=(1<<a)-1,nt=[],rt=0;rt<$.length;++rt)for(_e=_e<<o|$[rt],et+=o;et>=a;)et-=a,nt.push(_e>>et&tt);if(j)et>0&&nt.push(_e<<a-et&tt);else{if(et>=o)return"Excess padding";if(_e<<a-et&tt)return"Non-zero padding"}return nt}function toWordsUnsafe($){var o=convert($,8,5,!0);if(Array.isArray(o))return o}function toWords($){var o=convert($,8,5,!0);if(Array.isArray(o))return o;throw new Error(o)}function fromWordsUnsafe($){var o=convert($,5,8,!1);if(Array.isArray(o))return o}function fromWords($){var o=convert($,5,8,!1);if(Array.isArray(o))return o;throw new Error(o)}var bech32={decodeUnsafe,decode:decode$c,encode:encode$a,toWordsUnsafe,toWords,fromWordsUnsafe,fromWords};const version$1="providers/5.7.2",logger$3=new Logger(version$1);class Formatter{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const o={},a=this.address.bind(this),j=this.bigNumber.bind(this),_e=this.blockTag.bind(this),et=this.data.bind(this),tt=this.hash.bind(this),nt=this.hex.bind(this),rt=this.number.bind(this),it=this.type.bind(this),ot=at=>this.data(at,!0);return o.transaction={hash:tt,type:it,accessList:Formatter.allowNull(this.accessList.bind(this),null),blockHash:Formatter.allowNull(tt,null),blockNumber:Formatter.allowNull(rt,null),transactionIndex:Formatter.allowNull(rt,null),confirmations:Formatter.allowNull(rt,null),from:a,gasPrice:Formatter.allowNull(j),maxPriorityFeePerGas:Formatter.allowNull(j),maxFeePerGas:Formatter.allowNull(j),gasLimit:j,to:Formatter.allowNull(a,null),value:j,nonce:rt,data:et,r:Formatter.allowNull(this.uint256),s:Formatter.allowNull(this.uint256),v:Formatter.allowNull(rt),creates:Formatter.allowNull(a,null),raw:Formatter.allowNull(et)},o.transactionRequest={from:Formatter.allowNull(a),nonce:Formatter.allowNull(rt),gasLimit:Formatter.allowNull(j),gasPrice:Formatter.allowNull(j),maxPriorityFeePerGas:Formatter.allowNull(j),maxFeePerGas:Formatter.allowNull(j),to:Formatter.allowNull(a),value:Formatter.allowNull(j),data:Formatter.allowNull(ot),type:Formatter.allowNull(rt),accessList:Formatter.allowNull(this.accessList.bind(this),null)},o.receiptLog={transactionIndex:rt,blockNumber:rt,transactionHash:tt,address:a,topics:Formatter.arrayOf(tt),data:et,logIndex:rt,blockHash:tt},o.receipt={to:Formatter.allowNull(this.address,null),from:Formatter.allowNull(this.address,null),contractAddress:Formatter.allowNull(a,null),transactionIndex:rt,root:Formatter.allowNull(nt),gasUsed:j,logsBloom:Formatter.allowNull(et),blockHash:tt,transactionHash:tt,logs:Formatter.arrayOf(this.receiptLog.bind(this)),blockNumber:rt,confirmations:Formatter.allowNull(rt,null),cumulativeGasUsed:j,effectiveGasPrice:Formatter.allowNull(j),status:Formatter.allowNull(rt),type:it},o.block={hash:Formatter.allowNull(tt),parentHash:tt,number:rt,timestamp:rt,nonce:Formatter.allowNull(nt),difficulty:this.difficulty.bind(this),gasLimit:j,gasUsed:j,miner:Formatter.allowNull(a),extraData:et,transactions:Formatter.allowNull(Formatter.arrayOf(tt)),baseFeePerGas:Formatter.allowNull(j)},o.blockWithTransactions=shallowCopy(o.block),o.blockWithTransactions.transactions=Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this))),o.filter={fromBlock:Formatter.allowNull(_e,void 0),toBlock:Formatter.allowNull(_e,void 0),blockHash:Formatter.allowNull(tt,void 0),address:Formatter.allowNull(a,void 0),topics:Formatter.allowNull(this.topics.bind(this),void 0)},o.filterLog={blockNumber:Formatter.allowNull(rt),blockHash:Formatter.allowNull(tt),transactionIndex:rt,removed:Formatter.allowNull(this.boolean.bind(this)),address:a,data:Formatter.allowFalsish(et,"0x"),topics:Formatter.arrayOf(tt),transactionHash:tt,logIndex:rt},o}accessList(o){return accessListify(o||[])}number(o){return o==="0x"?0:BigNumber.from(o).toNumber()}type(o){return o==="0x"||o==null?0:BigNumber.from(o).toNumber()}bigNumber(o){return BigNumber.from(o)}boolean(o){if(typeof o=="boolean")return o;if(typeof o=="string"){if(o=o.toLowerCase(),o==="true")return!0;if(o==="false")return!1}throw new Error("invalid boolean - "+o)}hex(o,a){return typeof o=="string"&&(!a&&o.substring(0,2)!=="0x"&&(o="0x"+o),isHexString(o))?o.toLowerCase():logger$3.throwArgumentError("invalid hash","value",o)}data(o,a){const j=this.hex(o,a);if(j.length%2!==0)throw new Error("invalid data; odd-length - "+o);return j}address(o){return getAddress(o)}callAddress(o){if(!isHexString(o,32))return null;const a=getAddress(hexDataSlice(o,12));return a===AddressZero?null:a}contractAddress(o){return getContractAddress(o)}blockTag(o){if(o==null)return"latest";if(o==="earliest")return"0x0";switch(o){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return o}if(typeof o=="number"||isHexString(o))return hexValue(o);throw new Error("invalid blockTag")}hash(o,a){const j=this.hex(o,a);return hexDataLength(j)!==32?logger$3.throwArgumentError("invalid hash","value",o):j}difficulty(o){if(o==null)return null;const a=BigNumber.from(o);try{return a.toNumber()}catch{}return null}uint256(o){if(!isHexString(o))throw new Error("invalid uint256");return hexZeroPad(o,32)}_block(o,a){o.author!=null&&o.miner==null&&(o.miner=o.author);const j=o._difficulty!=null?o._difficulty:o.difficulty,_e=Formatter.check(a,o);return _e._difficulty=j==null?null:BigNumber.from(j),_e}block(o){return this._block(o,this.formats.block)}blockWithTransactions(o){return this._block(o,this.formats.blockWithTransactions)}transactionRequest(o){return Formatter.check(this.formats.transactionRequest,o)}transactionResponse(o){o.gas!=null&&o.gasLimit==null&&(o.gasLimit=o.gas),o.to&&BigNumber.from(o.to).isZero()&&(o.to="0x0000000000000000000000000000000000000000"),o.input!=null&&o.data==null&&(o.data=o.input),o.to==null&&o.creates==null&&(o.creates=this.contractAddress(o)),(o.type===1||o.type===2)&&o.accessList==null&&(o.accessList=[]);const a=Formatter.check(this.formats.transaction,o);if(o.chainId!=null){let j=o.chainId;isHexString(j)&&(j=BigNumber.from(j).toNumber()),a.chainId=j}else{let j=o.networkId;j==null&&a.v==null&&(j=o.chainId),isHexString(j)&&(j=BigNumber.from(j).toNumber()),typeof j!="number"&&a.v!=null&&(j=(a.v-35)/2,j<0&&(j=0),j=parseInt(j)),typeof j!="number"&&(j=0),a.chainId=j}return a.blockHash&&a.blockHash.replace(/0/g,"")==="x"&&(a.blockHash=null),a}transaction(o){return parse$1(o)}receiptLog(o){return Formatter.check(this.formats.receiptLog,o)}receipt(o){const a=Formatter.check(this.formats.receipt,o);if(a.root!=null)if(a.root.length<=4){const j=BigNumber.from(a.root).toNumber();j===0||j===1?(a.status!=null&&a.status!==j&&logger$3.throwArgumentError("alt-root-status/status mismatch","value",{root:a.root,status:a.status}),a.status=j,delete a.root):logger$3.throwArgumentError("invalid alt-root-status","value.root",a.root)}else a.root.length!==66&&logger$3.throwArgumentError("invalid root hash","value.root",a.root);return a.status!=null&&(a.byzantium=!0),a}topics(o){return Array.isArray(o)?o.map(a=>this.topics(a)):o!=null?this.hash(o,!0):null}filter(o){return Formatter.check(this.formats.filter,o)}filterLog(o){return Formatter.check(this.formats.filterLog,o)}static check(o,a){const j={};for(const _e in o)try{const et=o[_e](a[_e]);et!==void 0&&(j[_e]=et)}catch(et){throw et.checkKey=_e,et.checkValue=a[_e],et}return j}static allowNull(o,a){return function(j){return j==null?a:o(j)}}static allowFalsish(o,a){return function(j){return j?o(j):a}}static arrayOf(o){return function(a){if(!Array.isArray(a))throw new Error("not an array");const j=[];return a.forEach(function(_e){j.push(o(_e))}),j}}}var __awaiter$1=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function nt(ot){try{it(j.next(ot))}catch(at){tt(at)}}function rt(ot){try{it(j.throw(ot))}catch(at){tt(at)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(nt,rt)}it((j=j.apply($,o||[])).next())})};const logger$2=new Logger(version$1),MAX_CCIP_REDIRECTS=10;function checkTopic($){return $==null?"null":(hexDataLength($)!==32&&logger$2.throwArgumentError("invalid topic","topic",$),$.toLowerCase())}function serializeTopics($){for($=$.slice();$.length>0&&$[$.length-1]==null;)$.pop();return $.map(o=>{if(Array.isArray(o)){const a={};o.forEach(_e=>{a[checkTopic(_e)]=!0});const j=Object.keys(a);return j.sort(),j.join("|")}else return checkTopic(o)}).join("&")}function deserializeTopics($){return $===""?[]:$.split(/&/g).map(o=>{if(o==="")return[];const a=o.split("|").map(j=>j==="null"?null:j);return a.length===1?a[0]:a})}function getEventTag($){if(typeof $=="string"){if($=$.toLowerCase(),hexDataLength($)===32)return"tx:"+$;if($.indexOf(":")===-1)return $}else{if(Array.isArray($))return"filter:*:"+serializeTopics($);if(ForkEvent.isForkEvent($))throw logger$2.warn("not implemented"),new Error("not implemented");if($&&typeof $=="object")return"filter:"+($.address||"*")+":"+serializeTopics($.topics||[])}throw new Error("invalid event - "+$)}function getTime(){return new Date().getTime()}function stall($){return new Promise(o=>{setTimeout(o,$)})}const PollableEvents=["block","network","pending","poll"];class Event{constructor(o,a,j){defineReadOnly(this,"tag",o),defineReadOnly(this,"listener",a),defineReadOnly(this,"once",j),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const o=this.tag.split(":");return o[0]!=="tx"?null:o[1]}get filter(){const o=this.tag.split(":");if(o[0]!=="filter")return null;const a=o[1],j=deserializeTopics(o[2]),_e={};return j.length>0&&(_e.topics=j),a&&a!=="*"&&(_e.address=a),_e}pollable(){return this.tag.indexOf(":")>=0||PollableEvents.indexOf(this.tag)>=0}}const coinInfos={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function bytes32ify($){return hexZeroPad(BigNumber.from($).toHexString(),32)}function base58Encode($){return Base58.encode(concat$3([$,hexDataSlice(sha256$1(sha256$1($)),0,4)]))}const matcherIpfs=new RegExp("^(ipfs)://(.*)$","i"),matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function _parseString($,o){try{return toUtf8String(_parseBytes($,o))}catch{}return null}function _parseBytes($,o){if($==="0x")return null;const a=BigNumber.from(hexDataSlice($,o,o+32)).toNumber(),j=BigNumber.from(hexDataSlice($,a,a+32)).toNumber();return hexDataSlice($,a+32,a+32+j)}function getIpfsLink($){return $.match(/^ipfs:\/\/ipfs\//i)?$=$.substring(12):$.match(/^ipfs:\/\//i)?$=$.substring(7):logger$2.throwArgumentError("unsupported IPFS format","link",$),`https://gateway.ipfs.io/ipfs/${$}`}function numPad($){const o=arrayify($);if(o.length>32)throw new Error("internal; should not happen");const a=new Uint8Array(32);return a.set(o,32-o.length),a}function bytesPad($){if($.length%32===0)return $;const o=new Uint8Array(Math.ceil($.length/32)*32);return o.set($),o}function encodeBytes$1($){const o=[];let a=0;for(let j=0;j<$.length;j++)o.push(null),a+=32;for(let j=0;j<$.length;j++){const _e=arrayify($[j]);o[j]=numPad(a),o.push(numPad(_e.length)),o.push(bytesPad(_e)),a+=32+Math.ceil(_e.length/32)*32}return hexConcat(o)}class Resolver{constructor(o,a,j,_e){defineReadOnly(this,"provider",o),defineReadOnly(this,"name",j),defineReadOnly(this,"address",o.formatter.address(a)),defineReadOnly(this,"_resolvedAddress",_e)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(o=>BigNumber.from(o).eq(1)).catch(o=>{if(o.code===Logger.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,o})),this._supportsEip2544}_fetch(o,a){return __awaiter$1(this,void 0,void 0,function*(){const j={to:this.address,ccipReadEnabled:!0,data:hexConcat([o,namehash(this.name),a||"0x"])};let _e=!1;(yield this.supportsWildcard())&&(_e=!0,j.data=hexConcat(["0x9061b923",encodeBytes$1([dnsEncode(this.name),j.data])]));try{let et=yield this.provider.call(j);return arrayify(et).length%32===4&&logger$2.throwError("resolver threw error",Logger.errors.CALL_EXCEPTION,{transaction:j,data:et}),_e&&(et=_parseBytes(et,0)),et}catch(et){if(et.code===Logger.errors.CALL_EXCEPTION)return null;throw et}})}_fetchBytes(o,a){return __awaiter$1(this,void 0,void 0,function*(){const j=yield this._fetch(o,a);return j!=null?_parseBytes(j,0):null})}_getAddress(o,a){const j=coinInfos[String(o)];if(j==null&&logger$2.throwError(`unsupported coin type: ${o}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${o})`}),j.ilk==="eth")return this.provider.formatter.address(a);const _e=arrayify(a);if(j.p2pkh!=null){const et=a.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(et){const tt=parseInt(et[1],16);if(et[2].length===tt*2&&tt>=1&&tt<=75)return base58Encode(concat$3([[j.p2pkh],"0x"+et[2]]))}}if(j.p2sh!=null){const et=a.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(et){const tt=parseInt(et[1],16);if(et[2].length===tt*2&&tt>=1&&tt<=75)return base58Encode(concat$3([[j.p2sh],"0x"+et[2]]))}}if(j.prefix!=null){const et=_e[1];let tt=_e[0];if(tt===0?et!==20&&et!==32&&(tt=-1):tt=-1,tt>=0&&_e.length===2+et&&et>=1&&et<=75){const nt=bech32.toWords(_e.slice(2));return nt.unshift(tt),bech32.encode(j.prefix,nt)}}return null}getAddress(o){return __awaiter$1(this,void 0,void 0,function*(){if(o==null&&(o=60),o===60)try{const _e=yield this._fetch("0x3b3b57de");return _e==="0x"||_e===HashZero?null:this.provider.formatter.callAddress(_e)}catch(_e){if(_e.code===Logger.errors.CALL_EXCEPTION)return null;throw _e}const a=yield this._fetchBytes("0xf1cb7e06",bytes32ify(o));if(a==null||a==="0x")return null;const j=this._getAddress(o,a);return j==null&&logger$2.throwError("invalid or unsupported coin data",Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${o})`,coinType:o,data:a}),j})}getAvatar(){return __awaiter$1(this,void 0,void 0,function*(){const o=[{type:"name",content:this.name}];try{const a=yield this.getText("avatar");if(a==null)return null;for(let j=0;j<matchers.length;j++){const _e=a.match(matchers[j]);if(_e==null)continue;const et=_e[1].toLowerCase();switch(et){case"https":return o.push({type:"url",content:a}),{linkage:o,url:a};case"data":return o.push({type:"data",content:a}),{linkage:o,url:a};case"ipfs":return o.push({type:"ipfs",content:a}),{linkage:o,url:getIpfsLink(a)};case"erc721":case"erc1155":{const tt=et==="erc721"?"0xc87b56dd":"0x0e89341c";o.push({type:et,content:a});const nt=this._resolvedAddress||(yield this.getAddress()),rt=(_e[2]||"").split("/");if(rt.length!==2)return null;const it=yield this.provider.formatter.address(rt[0]),ot=hexZeroPad(BigNumber.from(rt[1]).toHexString(),32);if(et==="erc721"){const ft=this.provider.formatter.callAddress(yield this.provider.call({to:it,data:hexConcat(["0x6352211e",ot])}));if(nt!==ft)return null;o.push({type:"owner",content:ft})}else if(et==="erc1155"){const ft=BigNumber.from(yield this.provider.call({to:it,data:hexConcat(["0x00fdd58e",hexZeroPad(nt,32),ot])}));if(ft.isZero())return null;o.push({type:"balance",content:ft.toString()})}const at={to:this.provider.formatter.address(rt[0]),data:hexConcat([tt,ot])};let ct=_parseString(yield this.provider.call(at),0);if(ct==null)return null;o.push({type:"metadata-url-base",content:ct}),et==="erc1155"&&(ct=ct.replace("{id}",ot.substring(2)),o.push({type:"metadata-url-expanded",content:ct})),ct.match(/^ipfs:/i)&&(ct=getIpfsLink(ct)),o.push({type:"metadata-url",content:ct});const ut=yield fetchJson(ct);if(!ut)return null;o.push({type:"metadata",content:JSON.stringify(ut)});let dt=ut.image;if(typeof dt!="string")return null;if(!dt.match(/^(https:\/\/|data:)/i)){if(dt.match(matcherIpfs)==null)return null;o.push({type:"url-ipfs",content:dt}),dt=getIpfsLink(dt)}return o.push({type:"url",content:dt}),{linkage:o,url:dt}}}}}catch{}return null})}getContentHash(){return __awaiter$1(this,void 0,void 0,function*(){const o=yield this._fetchBytes("0xbc1c58d1");if(o==null||o==="0x")return null;const a=o.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(a){const tt=parseInt(a[3],16);if(a[4].length===tt*2)return"ipfs://"+Base58.encode("0x"+a[1])}const j=o.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(j){const tt=parseInt(j[3],16);if(j[4].length===tt*2)return"ipns://"+Base58.encode("0x"+j[1])}const _e=o.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(_e&&_e[1].length===32*2)return"bzz://"+_e[1];const et=o.match(/^0x90b2c605([0-9a-f]*)$/);if(et&&et[1].length===34*2){const tt={"=":"","+":"-","/":"_"};return"sia://"+encode$b("0x"+et[1]).replace(/[=+\/]/g,rt=>tt[rt])}return logger$2.throwError("invalid or unsupported content hash data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:o})})}getText(o){return __awaiter$1(this,void 0,void 0,function*(){let a=toUtf8Bytes(o);a=concat$3([bytes32ify(64),bytes32ify(a.length),a]),a.length%32!==0&&(a=concat$3([a,hexZeroPad("0x",32-o.length%32)]));const j=yield this._fetchBytes("0x59d1d43c",hexlify(a));return j==null||j==="0x"?null:toUtf8String(j)})}}let defaultFormatter=null,nextPollId=1;class BaseProvider extends Provider$1{constructor(o){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),defineReadOnly(this,"anyNetwork",o==="any"),this.anyNetwork&&(o=this.detectNetwork()),o instanceof Promise)this._networkPromise=o,o.catch(a=>{}),this._ready().catch(a=>{});else{const a=getStatic(new.target,"getNetwork")(o);a?(defineReadOnly(this,"_network",a),this.emit("network",a,null)):logger$2.throwArgumentError("invalid network","network",o)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return __awaiter$1(this,void 0,void 0,function*(){if(this._network==null){let o=null;if(this._networkPromise)try{o=yield this._networkPromise}catch{}o==null&&(o=yield this.detectNetwork()),o||logger$2.throwError("no network detected",Logger.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=o:defineReadOnly(this,"_network",o),this.emit("network",o,null))}return this._network})}get ready(){return poll(()=>this._ready().then(o=>o,o=>{if(!(o.code===Logger.errors.NETWORK_ERROR&&o.event==="noNetwork"))throw o}))}static getFormatter(){return defaultFormatter==null&&(defaultFormatter=new Formatter),defaultFormatter}static getNetwork(o){return getNetwork(o??"homestead")}ccipReadFetch(o,a,j){return __awaiter$1(this,void 0,void 0,function*(){if(this.disableCcipRead||j.length===0)return null;const _e=o.to.toLowerCase(),et=a.toLowerCase(),tt=[];for(let nt=0;nt<j.length;nt++){const rt=j[nt],it=rt.replace("{sender}",_e).replace("{data}",et),ot=rt.indexOf("{data}")>=0?null:JSON.stringify({data:et,sender:_e}),at=yield fetchJson({url:it,errorPassThrough:!0},ot,(ut,dt)=>(ut.status=dt.statusCode,ut));if(at.data)return at.data;const ct=at.message||"unknown error";if(at.status>=400&&at.status<500)return logger$2.throwError(`response not found during CCIP fetch: ${ct}`,Logger.errors.SERVER_ERROR,{url:rt,errorMessage:ct});tt.push(ct)}return logger$2.throwError(`error encountered during CCIP fetch: ${tt.map(nt=>JSON.stringify(nt)).join(", ")}`,Logger.errors.SERVER_ERROR,{urls:j,errorMessages:tt})})}_getInternalBlockNumber(o){return __awaiter$1(this,void 0,void 0,function*(){if(yield this._ready(),o>0)for(;this._internalBlockNumber;){const _e=this._internalBlockNumber;try{const et=yield _e;if(getTime()-et.respTime<=o)return et.blockNumber;break}catch{if(this._internalBlockNumber===_e)break}}const a=getTime(),j=resolveProperties({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(_e=>null,_e=>_e)}).then(({blockNumber:_e,networkError:et})=>{if(et)throw this._internalBlockNumber===j&&(this._internalBlockNumber=null),et;const tt=getTime();return _e=BigNumber.from(_e).toNumber(),_e<this._maxInternalBlockNumber&&(_e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=_e,this._setFastBlockNumber(_e),{blockNumber:_e,reqTime:a,respTime:tt}});return this._internalBlockNumber=j,j.catch(_e=>{this._internalBlockNumber===j&&(this._internalBlockNumber=null)}),(yield j).blockNumber})}poll(){return __awaiter$1(this,void 0,void 0,function*(){const o=nextPollId++,a=[];let j=null;try{j=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(_e){this.emit("error",_e);return}if(this._setFastBlockNumber(j),this.emit("poll",o,j),j===this._lastBlockNumber){this.emit("didPoll",o);return}if(this._emitted.block===-2&&(this._emitted.block=j-1),Math.abs(this._emitted.block-j)>1e3)logger$2.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${j})`),this.emit("error",logger$2.makeError("network block skew detected",Logger.errors.NETWORK_ERROR,{blockNumber:j,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",j);else for(let _e=this._emitted.block+1;_e<=j;_e++)this.emit("block",_e);this._emitted.block!==j&&(this._emitted.block=j,Object.keys(this._emitted).forEach(_e=>{if(_e==="block")return;const et=this._emitted[_e];et!=="pending"&&j-et>12&&delete this._emitted[_e]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=j-1),this._events.forEach(_e=>{switch(_e.type){case"tx":{const et=_e.hash;let tt=this.getTransactionReceipt(et).then(nt=>(!nt||nt.blockNumber==null||(this._emitted["t:"+et]=nt.blockNumber,this.emit(et,nt)),null)).catch(nt=>{this.emit("error",nt)});a.push(tt);break}case"filter":{if(!_e._inflight){_e._inflight=!0,_e._lastBlockNumber===-2&&(_e._lastBlockNumber=j-1);const et=_e.filter;et.fromBlock=_e._lastBlockNumber+1,et.toBlock=j;const tt=et.toBlock-this._maxFilterBlockRange;tt>et.fromBlock&&(et.fromBlock=tt),et.fromBlock<0&&(et.fromBlock=0);const nt=this.getLogs(et).then(rt=>{_e._inflight=!1,rt.length!==0&&rt.forEach(it=>{it.blockNumber>_e._lastBlockNumber&&(_e._lastBlockNumber=it.blockNumber),this._emitted["b:"+it.blockHash]=it.blockNumber,this._emitted["t:"+it.transactionHash]=it.blockNumber,this.emit(et,it)})}).catch(rt=>{this.emit("error",rt),_e._inflight=!1});a.push(nt)}break}}}),this._lastBlockNumber=j,Promise.all(a).then(()=>{this.emit("didPoll",o)}).catch(_e=>{this.emit("error",_e)})})}resetEventsBlock(o){this._lastBlockNumber=o-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return __awaiter$1(this,void 0,void 0,function*(){return logger$2.throwError("provider does not support network detection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return __awaiter$1(this,void 0,void 0,function*(){const o=yield this._ready(),a=yield this.detectNetwork();if(o.chainId!==a.chainId){if(this.anyNetwork)return this._network=a,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",a,o),yield stall(0),this._network;const j=logger$2.makeError("underlying network changed",Logger.errors.NETWORK_ERROR,{event:"changed",network:o,detectedNetwork:a});throw this.emit("error",j),j}return o})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(o=>{this._setFastBlockNumber(o)},o=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(o){o&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!o&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(o){if(typeof o!="number"||o<=0||parseInt(String(o))!=o)throw new Error("invalid polling interval");this._pollingInterval=o,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const o=getTime();return o-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=o,this._fastBlockNumberPromise=this.getBlockNumber().then(a=>((this._fastBlockNumber==null||a>this._fastBlockNumber)&&(this._fastBlockNumber=a),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(o){this._fastBlockNumber!=null&&o<this._fastBlockNumber||(this._fastQueryDate=getTime(),(this._fastBlockNumber==null||o>this._fastBlockNumber)&&(this._fastBlockNumber=o,this._fastBlockNumberPromise=Promise.resolve(o)))}waitForTransaction(o,a,j){return __awaiter$1(this,void 0,void 0,function*(){return this._waitForTransaction(o,a??1,j||0,null)})}_waitForTransaction(o,a,j,_e){return __awaiter$1(this,void 0,void 0,function*(){const et=yield this.getTransactionReceipt(o);return(et?et.confirmations:0)>=a?et:new Promise((tt,nt)=>{const rt=[];let it=!1;const ot=function(){return it?!0:(it=!0,rt.forEach(ct=>{ct()}),!1)},at=ct=>{ct.confirmations<a||ot()||tt(ct)};if(this.on(o,at),rt.push(()=>{this.removeListener(o,at)}),_e){let ct=_e.startBlock,ut=null;const dt=ft=>__awaiter$1(this,void 0,void 0,function*(){it||(yield stall(1e3),this.getTransactionCount(_e.from).then(ht=>__awaiter$1(this,void 0,void 0,function*(){if(!it){if(ht<=_e.nonce)ct=ft;else{{const pt=yield this.getTransaction(o);if(pt&&pt.blockNumber!=null)return}for(ut==null&&(ut=ct-3,ut<_e.startBlock&&(ut=_e.startBlock));ut<=ft;){if(it)return;const pt=yield this.getBlockWithTransactions(ut);for(let yt=0;yt<pt.transactions.length;yt++){const gt=pt.transactions[yt];if(gt.hash===o)return;if(gt.from===_e.from&&gt.nonce===_e.nonce){if(it)return;const bt=yield this.waitForTransaction(gt.hash,a);if(ot())return;let At="replaced";gt.data===_e.data&&gt.to===_e.to&&gt.value.eq(_e.value)?At="repriced":gt.data==="0x"&&gt.from===gt.to&&gt.value.isZero()&&(At="cancelled"),nt(logger$2.makeError("transaction was replaced",Logger.errors.TRANSACTION_REPLACED,{cancelled:At==="replaced"||At==="cancelled",reason:At,replacement:this._wrapTransaction(gt),hash:o,receipt:bt}));return}}ut++}}it||this.once("block",dt)}}),ht=>{it||this.once("block",dt)}))});if(it)return;this.once("block",dt),rt.push(()=>{this.removeListener("block",dt)})}if(typeof j=="number"&&j>0){const ct=setTimeout(()=>{ot()||nt(logger$2.makeError("timeout exceeded",Logger.errors.TIMEOUT,{timeout:j}))},j);ct.unref&&ct.unref(),rt.push(()=>{clearTimeout(ct)})}})})}getBlockNumber(){return __awaiter$1(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const o=yield this.perform("getGasPrice",{});try{return BigNumber.from(o)}catch(a){return logger$2.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:o,error:a})}})}getBalance(o,a){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const j=yield resolveProperties({address:this._getAddress(o),blockTag:this._getBlockTag(a)}),_e=yield this.perform("getBalance",j);try{return BigNumber.from(_e)}catch(et){return logger$2.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getBalance",params:j,result:_e,error:et})}})}getTransactionCount(o,a){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const j=yield resolveProperties({address:this._getAddress(o),blockTag:this._getBlockTag(a)}),_e=yield this.perform("getTransactionCount",j);try{return BigNumber.from(_e).toNumber()}catch(et){return logger$2.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:j,result:_e,error:et})}})}getCode(o,a){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const j=yield resolveProperties({address:this._getAddress(o),blockTag:this._getBlockTag(a)}),_e=yield this.perform("getCode",j);try{return hexlify(_e)}catch(et){return logger$2.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getCode",params:j,result:_e,error:et})}})}getStorageAt(o,a,j){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const _e=yield resolveProperties({address:this._getAddress(o),blockTag:this._getBlockTag(j),position:Promise.resolve(a).then(tt=>hexValue(tt))}),et=yield this.perform("getStorageAt",_e);try{return hexlify(et)}catch(tt){return logger$2.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:_e,result:et,error:tt})}})}_wrapTransaction(o,a,j){if(a!=null&&hexDataLength(a)!==32)throw new Error("invalid response - sendTransaction");const _e=o;return a!=null&&o.hash!==a&&logger$2.throwError("Transaction hash mismatch from Provider.sendTransaction.",Logger.errors.UNKNOWN_ERROR,{expectedHash:o.hash,returnedHash:a}),_e.wait=(et,tt)=>__awaiter$1(this,void 0,void 0,function*(){et==null&&(et=1),tt==null&&(tt=0);let nt;et!==0&&j!=null&&(nt={data:o.data,from:o.from,nonce:o.nonce,to:o.to,value:o.value,startBlock:j});const rt=yield this._waitForTransaction(o.hash,et,tt,nt);return rt==null&&et===0?null:(this._emitted["t:"+o.hash]=rt.blockNumber,rt.status===0&&logger$2.throwError("transaction failed",Logger.errors.CALL_EXCEPTION,{transactionHash:o.hash,transaction:o,receipt:rt}),rt)}),_e}sendTransaction(o){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const a=yield Promise.resolve(o).then(et=>hexlify(et)),j=this.formatter.transaction(o);j.confirmations==null&&(j.confirmations=0);const _e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const et=yield this.perform("sendTransaction",{signedTransaction:a});return this._wrapTransaction(j,et,_e)}catch(et){throw et.transaction=j,et.transactionHash=j.hash,et}})}_getTransactionRequest(o){return __awaiter$1(this,void 0,void 0,function*(){const a=yield o,j={};return["from","to"].forEach(_e=>{a[_e]!=null&&(j[_e]=Promise.resolve(a[_e]).then(et=>et?this._getAddress(et):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(_e=>{a[_e]!=null&&(j[_e]=Promise.resolve(a[_e]).then(et=>et?BigNumber.from(et):null))}),["type"].forEach(_e=>{a[_e]!=null&&(j[_e]=Promise.resolve(a[_e]).then(et=>et??null))}),a.accessList&&(j.accessList=this.formatter.accessList(a.accessList)),["data"].forEach(_e=>{a[_e]!=null&&(j[_e]=Promise.resolve(a[_e]).then(et=>et?hexlify(et):null))}),this.formatter.transactionRequest(yield resolveProperties(j))})}_getFilter(o){return __awaiter$1(this,void 0,void 0,function*(){o=yield o;const a={};return o.address!=null&&(a.address=this._getAddress(o.address)),["blockHash","topics"].forEach(j=>{o[j]!=null&&(a[j]=o[j])}),["fromBlock","toBlock"].forEach(j=>{o[j]!=null&&(a[j]=this._getBlockTag(o[j]))}),this.formatter.filter(yield resolveProperties(a))})}_call(o,a,j){return __awaiter$1(this,void 0,void 0,function*(){j>=MAX_CCIP_REDIRECTS&&logger$2.throwError("CCIP read exceeded maximum redirections",Logger.errors.SERVER_ERROR,{redirects:j,transaction:o});const _e=o.to,et=yield this.perform("call",{transaction:o,blockTag:a});if(j>=0&&a==="latest"&&_e!=null&&et.substring(0,10)==="0x556f1830"&&hexDataLength(et)%32===4)try{const tt=hexDataSlice(et,4),nt=hexDataSlice(tt,0,32);BigNumber.from(nt).eq(_e)||logger$2.throwError("CCIP Read sender did not match",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:o,data:et});const rt=[],it=BigNumber.from(hexDataSlice(tt,32,64)).toNumber(),ot=BigNumber.from(hexDataSlice(tt,it,it+32)).toNumber(),at=hexDataSlice(tt,it+32);for(let pt=0;pt<ot;pt++){const yt=_parseString(at,pt*32);yt==null&&logger$2.throwError("CCIP Read contained corrupt URL string",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:o,data:et}),rt.push(yt)}const ct=_parseBytes(tt,64);BigNumber.from(hexDataSlice(tt,100,128)).isZero()||logger$2.throwError("CCIP Read callback selector included junk",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:o,data:et});const ut=hexDataSlice(tt,96,100),dt=_parseBytes(tt,128),ft=yield this.ccipReadFetch(o,ct,rt);ft==null&&logger$2.throwError("CCIP Read disabled or provided no URLs",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:o,data:et});const ht={to:_e,data:hexConcat([ut,encodeBytes$1([ft,dt])])};return this._call(ht,a,j+1)}catch(tt){if(tt.code===Logger.errors.SERVER_ERROR)throw tt}try{return hexlify(et)}catch(tt){return logger$2.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:o,blockTag:a},result:et,error:tt})}})}call(o,a){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const j=yield resolveProperties({transaction:this._getTransactionRequest(o),blockTag:this._getBlockTag(a),ccipReadEnabled:Promise.resolve(o.ccipReadEnabled)});return this._call(j.transaction,j.blockTag,j.ccipReadEnabled?0:-1)})}estimateGas(o){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const a=yield resolveProperties({transaction:this._getTransactionRequest(o)}),j=yield this.perform("estimateGas",a);try{return BigNumber.from(j)}catch(_e){return logger$2.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"estimateGas",params:a,result:j,error:_e})}})}_getAddress(o){return __awaiter$1(this,void 0,void 0,function*(){o=yield o,typeof o!="string"&&logger$2.throwArgumentError("invalid address or ENS name","name",o);const a=yield this.resolveName(o);return a==null&&logger$2.throwError("ENS name not configured",Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(o)})`}),a})}_getBlock(o,a){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork(),o=yield o;let j=-128;const _e={includeTransactions:!!a};if(isHexString(o,32))_e.blockHash=o;else try{_e.blockTag=yield this._getBlockTag(o),isHexString(_e.blockTag)&&(j=parseInt(_e.blockTag.substring(2),16))}catch{logger$2.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",o)}return poll(()=>__awaiter$1(this,void 0,void 0,function*(){const et=yield this.perform("getBlock",_e);if(et==null)return _e.blockHash!=null&&this._emitted["b:"+_e.blockHash]==null||_e.blockTag!=null&&j>this._emitted.block?null:void 0;if(a){let tt=null;for(let rt=0;rt<et.transactions.length;rt++){const it=et.transactions[rt];if(it.blockNumber==null)it.confirmations=0;else if(it.confirmations==null){tt==null&&(tt=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let ot=tt-it.blockNumber+1;ot<=0&&(ot=1),it.confirmations=ot}}const nt=this.formatter.blockWithTransactions(et);return nt.transactions=nt.transactions.map(rt=>this._wrapTransaction(rt)),nt}return this.formatter.block(et)}),{oncePoll:this})})}getBlock(o){return this._getBlock(o,!1)}getBlockWithTransactions(o){return this._getBlock(o,!0)}getTransaction(o){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork(),o=yield o;const a={transactionHash:this.formatter.hash(o,!0)};return poll(()=>__awaiter$1(this,void 0,void 0,function*(){const j=yield this.perform("getTransaction",a);if(j==null)return this._emitted["t:"+o]==null?null:void 0;const _e=this.formatter.transactionResponse(j);if(_e.blockNumber==null)_e.confirmations=0;else if(_e.confirmations==null){let tt=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-_e.blockNumber+1;tt<=0&&(tt=1),_e.confirmations=tt}return this._wrapTransaction(_e)}),{oncePoll:this})})}getTransactionReceipt(o){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork(),o=yield o;const a={transactionHash:this.formatter.hash(o,!0)};return poll(()=>__awaiter$1(this,void 0,void 0,function*(){const j=yield this.perform("getTransactionReceipt",a);if(j==null)return this._emitted["t:"+o]==null?null:void 0;if(j.blockHash==null)return;const _e=this.formatter.receipt(j);if(_e.blockNumber==null)_e.confirmations=0;else if(_e.confirmations==null){let tt=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-_e.blockNumber+1;tt<=0&&(tt=1),_e.confirmations=tt}return _e}),{oncePoll:this})})}getLogs(o){return __awaiter$1(this,void 0,void 0,function*(){yield this.getNetwork();const a=yield resolveProperties({filter:this._getFilter(o)}),j=yield this.perform("getLogs",a);return j.forEach(_e=>{_e.removed==null&&(_e.removed=!1)}),Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(j)})}getEtherPrice(){return __awaiter$1(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(o){return __awaiter$1(this,void 0,void 0,function*(){if(o=yield o,typeof o=="number"&&o<0){o%1&&logger$2.throwArgumentError("invalid BlockTag","blockTag",o);let a=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return a+=o,a<0&&(a=0),this.formatter.blockTag(a)}return this.formatter.blockTag(o)})}getResolver(o){return __awaiter$1(this,void 0,void 0,function*(){let a=o;for(;;){if(a===""||a==="."||o!=="eth"&&a==="eth")return null;const j=yield this._getResolver(a,"getResolver");if(j!=null){const _e=new Resolver(this,j,o);return a!==o&&!(yield _e.supportsWildcard())?null:_e}a=a.split(".").slice(1).join(".")}})}_getResolver(o,a){return __awaiter$1(this,void 0,void 0,function*(){a==null&&(a="ENS");const j=yield this.getNetwork();j.ensAddress||logger$2.throwError("network does not support ENS",Logger.errors.UNSUPPORTED_OPERATION,{operation:a,network:j.name});try{const _e=yield this.call({to:j.ensAddress,data:"0x0178b8bf"+namehash(o).substring(2)});return this.formatter.callAddress(_e)}catch{}return null})}resolveName(o){return __awaiter$1(this,void 0,void 0,function*(){o=yield o;try{return Promise.resolve(this.formatter.address(o))}catch(j){if(isHexString(o))throw j}typeof o!="string"&&logger$2.throwArgumentError("invalid ENS name","name",o);const a=yield this.getResolver(o);return a?yield a.getAddress():null})}lookupAddress(o){return __awaiter$1(this,void 0,void 0,function*(){o=yield o,o=this.formatter.address(o);const a=o.substring(2).toLowerCase()+".addr.reverse",j=yield this._getResolver(a,"lookupAddress");if(j==null)return null;const _e=_parseString(yield this.call({to:j,data:"0x691f3431"+namehash(a).substring(2)}),0);return(yield this.resolveName(_e))!=o?null:_e})}getAvatar(o){return __awaiter$1(this,void 0,void 0,function*(){let a=null;if(isHexString(o)){const et=this.formatter.address(o).substring(2).toLowerCase()+".addr.reverse",tt=yield this._getResolver(et,"getAvatar");if(!tt)return null;a=new Resolver(this,tt,et);try{const nt=yield a.getAvatar();if(nt)return nt.url}catch(nt){if(nt.code!==Logger.errors.CALL_EXCEPTION)throw nt}try{const nt=_parseString(yield this.call({to:tt,data:"0x691f3431"+namehash(et).substring(2)}),0);a=yield this.getResolver(nt)}catch(nt){if(nt.code!==Logger.errors.CALL_EXCEPTION)throw nt;return null}}else if(a=yield this.getResolver(o),!a)return null;const j=yield a.getAvatar();return j==null?null:j.url})}perform(o,a){return logger$2.throwError(o+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:o})}_startEvent(o){this.polling=this._events.filter(a=>a.pollable()).length>0}_stopEvent(o){this.polling=this._events.filter(a=>a.pollable()).length>0}_addEventListener(o,a,j){const _e=new Event(getEventTag(o),a,j);return this._events.push(_e),this._startEvent(_e),this}on(o,a){return this._addEventListener(o,a,!1)}once(o,a){return this._addEventListener(o,a,!0)}emit(o,...a){let j=!1,_e=[],et=getEventTag(o);return this._events=this._events.filter(tt=>tt.tag!==et?!0:(setTimeout(()=>{tt.listener.apply(this,a)},0),j=!0,tt.once?(_e.push(tt),!1):!0)),_e.forEach(tt=>{this._stopEvent(tt)}),j}listenerCount(o){if(!o)return this._events.length;let a=getEventTag(o);return this._events.filter(j=>j.tag===a).length}listeners(o){if(o==null)return this._events.map(j=>j.listener);let a=getEventTag(o);return this._events.filter(j=>j.tag===a).map(j=>j.listener)}off(o,a){if(a==null)return this.removeAllListeners(o);const j=[];let _e=!1,et=getEventTag(o);return this._events=this._events.filter(tt=>tt.tag!==et||tt.listener!=a||_e?!0:(_e=!0,j.push(tt),!1)),j.forEach(tt=>{this._stopEvent(tt)}),this}removeAllListeners(o){let a=[];if(o==null)a=this._events,this._events=[];else{const j=getEventTag(o);this._events=this._events.filter(_e=>_e.tag!==j?!0:(a.push(_e),!1))}return a.forEach(j=>{this._stopEvent(j)}),this}}var __awaiter=globalThis&&globalThis.__awaiter||function($,o,a,j){function _e(et){return et instanceof a?et:new a(function(tt){tt(et)})}return new(a||(a=Promise))(function(et,tt){function nt(ot){try{it(j.next(ot))}catch(at){tt(at)}}function rt(ot){try{it(j.throw(ot))}catch(at){tt(at)}}function it(ot){ot.done?et(ot.value):_e(ot.value).then(nt,rt)}it((j=j.apply($,o||[])).next())})};const logger$1=new Logger(version$1),errorGas=["call","estimateGas"];function spelunk($,o){if($==null)return null;if(typeof $.message=="string"&&$.message.match("reverted")){const a=isHexString($.data)?$.data:null;if(!o||a)return{message:$.message,data:a}}if(typeof $=="object"){for(const a in $){const j=spelunk($[a],o);if(j)return j}return null}if(typeof $=="string")try{return spelunk(JSON.parse($),o)}catch{}return null}function checkError($,o,a){const j=a.transaction||a.signedTransaction;if($==="call"){const et=spelunk(o,!0);if(et)return et.data;logger$1.throwError("missing revert data in call exception; Transaction reverted without a reason string",Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:j,error:o})}if($==="estimateGas"){let et=spelunk(o.body,!1);et==null&&(et=spelunk(o,!1)),et&&logger$1.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:et.message,method:$,transaction:j,error:o})}let _e=o.message;throw o.code===Logger.errors.SERVER_ERROR&&o.error&&typeof o.error.message=="string"?_e=o.error.message:typeof o.body=="string"?_e=o.body:typeof o.responseText=="string"&&(_e=o.responseText),_e=(_e||"").toLowerCase(),_e.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&logger$1.throwError("insufficient funds for intrinsic transaction cost",Logger.errors.INSUFFICIENT_FUNDS,{error:o,method:$,transaction:j}),_e.match(/nonce (is )?too low/i)&&logger$1.throwError("nonce has already been used",Logger.errors.NONCE_EXPIRED,{error:o,method:$,transaction:j}),_e.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&logger$1.throwError("replacement fee too low",Logger.errors.REPLACEMENT_UNDERPRICED,{error:o,method:$,transaction:j}),_e.match(/only replay-protected/i)&&logger$1.throwError("legacy pre-eip-155 transactions not supported",Logger.errors.UNSUPPORTED_OPERATION,{error:o,method:$,transaction:j}),errorGas.indexOf($)>=0&&_e.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&logger$1.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:o,method:$,transaction:j}),o}function timer($){return new Promise(function(o){setTimeout(o,$)})}function getResult($){if($.error){const o=new Error($.error.message);throw o.code=$.error.code,o.data=$.error.data,o}return $.result}function getLowerCase($){return $&&$.toLowerCase()}const _constructorGuard={};class JsonRpcSigner extends Signer{constructor(o,a,j){if(super(),o!==_constructorGuard)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");defineReadOnly(this,"provider",a),j==null&&(j=0),typeof j=="string"?(defineReadOnly(this,"_address",this.provider.formatter.address(j)),defineReadOnly(this,"_index",null)):typeof j=="number"?(defineReadOnly(this,"_index",j),defineReadOnly(this,"_address",null)):logger$1.throwArgumentError("invalid address or index","addressOrIndex",j)}connect(o){return logger$1.throwError("cannot alter JSON-RPC Signer connection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new UncheckedJsonRpcSigner(_constructorGuard,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(o=>(o.length<=this._index&&logger$1.throwError("unknown account #"+this._index,Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(o[this._index])))}sendUncheckedTransaction(o){o=shallowCopy(o);const a=this.getAddress().then(j=>(j&&(j=j.toLowerCase()),j));if(o.gasLimit==null){const j=shallowCopy(o);j.from=a,o.gasLimit=this.provider.estimateGas(j)}return o.to!=null&&(o.to=Promise.resolve(o.to).then(j=>__awaiter(this,void 0,void 0,function*(){if(j==null)return null;const _e=yield this.provider.resolveName(j);return _e==null&&logger$1.throwArgumentError("provided ENS name resolves to null","tx.to",j),_e}))),resolveProperties({tx:resolveProperties(o),sender:a}).then(({tx:j,sender:_e})=>{j.from!=null?j.from.toLowerCase()!==_e&&logger$1.throwArgumentError("from address mismatch","transaction",o):j.from=_e;const et=this.provider.constructor.hexlifyTransaction(j,{from:!0});return this.provider.send("eth_sendTransaction",[et]).then(tt=>tt,tt=>(typeof tt.message=="string"&&tt.message.match(/user denied/i)&&logger$1.throwError("user rejected transaction",Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:j}),checkError("sendTransaction",tt,et)))})}signTransaction(o){return logger$1.throwError("signing transactions is unsupported",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(o){return __awaiter(this,void 0,void 0,function*(){const a=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),j=yield this.sendUncheckedTransaction(o);try{return yield poll(()=>__awaiter(this,void 0,void 0,function*(){const _e=yield this.provider.getTransaction(j);if(_e!==null)return this.provider._wrapTransaction(_e,j,a)}),{oncePoll:this.provider})}catch(_e){throw _e.transactionHash=j,_e}})}signMessage(o){return __awaiter(this,void 0,void 0,function*(){const a=typeof o=="string"?toUtf8Bytes(o):o,j=yield this.getAddress();try{return yield this.provider.send("personal_sign",[hexlify(a),j.toLowerCase()])}catch(_e){throw typeof _e.message=="string"&&_e.message.match(/user denied/i)&&logger$1.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"signMessage",from:j,messageData:o}),_e}})}_legacySignMessage(o){return __awaiter(this,void 0,void 0,function*(){const a=typeof o=="string"?toUtf8Bytes(o):o,j=yield this.getAddress();try{return yield this.provider.send("eth_sign",[j.toLowerCase(),hexlify(a)])}catch(_e){throw typeof _e.message=="string"&&_e.message.match(/user denied/i)&&logger$1.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:j,messageData:o}),_e}})}_signTypedData(o,a,j){return __awaiter(this,void 0,void 0,function*(){const _e=yield TypedDataEncoder.resolveNames(o,a,j,tt=>this.provider.resolveName(tt)),et=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[et.toLowerCase(),JSON.stringify(TypedDataEncoder.getPayload(_e.domain,a,_e.value))])}catch(tt){throw typeof tt.message=="string"&&tt.message.match(/user denied/i)&&logger$1.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:et,messageData:{domain:_e.domain,types:a,value:_e.value}}),tt}})}unlock(o){return __awaiter(this,void 0,void 0,function*(){const a=this.provider,j=yield this.getAddress();return a.send("personal_unlockAccount",[j.toLowerCase(),o,null])})}}class UncheckedJsonRpcSigner extends JsonRpcSigner{sendTransaction(o){return this.sendUncheckedTransaction(o).then(a=>({hash:a,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:j=>this.provider.waitForTransaction(a,j)}))}}const allowedTransactionKeys={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class JsonRpcProvider extends BaseProvider{constructor(o,a){let j=a;j==null&&(j=new Promise((_e,et)=>{setTimeout(()=>{this.detectNetwork().then(tt=>{_e(tt)},tt=>{et(tt)})},0)})),super(j),o||(o=getStatic(this.constructor,"defaultUrl")()),typeof o=="string"?defineReadOnly(this,"connection",Object.freeze({url:o})):defineReadOnly(this,"connection",Object.freeze(shallowCopy(o))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return __awaiter(this,void 0,void 0,function*(){yield timer(0);let o=null;try{o=yield this.send("eth_chainId",[])}catch{try{o=yield this.send("net_version",[])}catch{}}if(o!=null){const a=getStatic(this.constructor,"getNetwork");try{return a(BigNumber.from(o).toNumber())}catch(j){return logger$1.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{chainId:o,event:"invalidNetwork",serverError:j})}}return logger$1.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(o){return new JsonRpcSigner(_constructorGuard,this,o)}getUncheckedSigner(o){return this.getSigner(o).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(o=>o.map(a=>this.formatter.address(a)))}send(o,a){const j={method:o,params:a,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:deepCopy(j),provider:this});const _e=["eth_chainId","eth_blockNumber"].indexOf(o)>=0;if(_e&&this._cache[o])return this._cache[o];const et=fetchJson(this.connection,JSON.stringify(j),getResult).then(tt=>(this.emit("debug",{action:"response",request:j,response:tt,provider:this}),tt),tt=>{throw this.emit("debug",{action:"response",error:tt,request:j,provider:this}),tt});return _e&&(this._cache[o]=et,setTimeout(()=>{this._cache[o]=null},0)),et}prepareRequest(o,a){switch(o){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[getLowerCase(a.address),a.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[getLowerCase(a.address),a.blockTag]];case"getCode":return["eth_getCode",[getLowerCase(a.address),a.blockTag]];case"getStorageAt":return["eth_getStorageAt",[getLowerCase(a.address),hexZeroPad(a.position,32),a.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[a.signedTransaction]];case"getBlock":return a.blockTag?["eth_getBlockByNumber",[a.blockTag,!!a.includeTransactions]]:a.blockHash?["eth_getBlockByHash",[a.blockHash,!!a.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[a.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[a.transactionHash]];case"call":return["eth_call",[getStatic(this.constructor,"hexlifyTransaction")(a.transaction,{from:!0}),a.blockTag]];case"estimateGas":return["eth_estimateGas",[getStatic(this.constructor,"hexlifyTransaction")(a.transaction,{from:!0})]];case"getLogs":return a.filter&&a.filter.address!=null&&(a.filter.address=getLowerCase(a.filter.address)),["eth_getLogs",[a.filter]]}return null}perform(o,a){return __awaiter(this,void 0,void 0,function*(){if(o==="call"||o==="estimateGas"){const _e=a.transaction;if(_e&&_e.type!=null&&BigNumber.from(_e.type).isZero()&&_e.maxFeePerGas==null&&_e.maxPriorityFeePerGas==null){const et=yield this.getFeeData();et.maxFeePerGas==null&&et.maxPriorityFeePerGas==null&&(a=shallowCopy(a),a.transaction=shallowCopy(_e),delete a.transaction.type)}}const j=this.prepareRequest(o,a);j==null&&logger$1.throwError(o+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:o});try{return yield this.send(j[0],j[1])}catch(_e){return checkError(o,_e,a)}})}_startEvent(o){o.tag==="pending"&&this._startPending(),super._startEvent(o)}_startPending(){if(this._pendingFilter!=null)return;const o=this,a=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=a,a.then(function(j){function _e(){o.send("eth_getFilterChanges",[j]).then(function(et){if(o._pendingFilter!=a)return null;let tt=Promise.resolve();return et.forEach(function(nt){o._emitted["t:"+nt.toLowerCase()]="pending",tt=tt.then(function(){return o.getTransaction(nt).then(function(rt){return o.emit("pending",rt),null})})}),tt.then(function(){return timer(1e3)})}).then(function(){if(o._pendingFilter!=a){o.send("eth_uninstallFilter",[j]);return}return setTimeout(function(){_e()},0),null}).catch(et=>{})}return _e(),j}).catch(j=>{})}_stopEvent(o){o.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(o)}static hexlifyTransaction(o,a){const j=shallowCopy(allowedTransactionKeys);if(a)for(const et in a)a[et]&&(j[et]=!0);checkProperties(o,j);const _e={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(et){if(o[et]==null)return;const tt=hexValue(BigNumber.from(o[et]));et==="gasLimit"&&(et="gas"),_e[et]=tt}),["from","to","data"].forEach(function(et){o[et]!=null&&(_e[et]=hexlify(o[et]))}),o.accessList&&(_e.accessList=accessListify(o.accessList)),_e}}const logger=new Logger(version$1);let _nextId=1;function buildWeb3LegacyFetcher($,o){const a="Web3LegacyFetcher";return function(j,_e){const et={method:j,params:_e,id:_nextId++,jsonrpc:"2.0"};return new Promise((tt,nt)=>{this.emit("debug",{action:"request",fetcher:a,request:deepCopy(et),provider:this}),o(et,(rt,it)=>{if(rt)return this.emit("debug",{action:"response",fetcher:a,error:rt,request:et,provider:this}),nt(rt);if(this.emit("debug",{action:"response",fetcher:a,request:et,response:it,provider:this}),it.error){const ot=new Error(it.error.message);return ot.code=it.error.code,ot.data=it.error.data,nt(ot)}tt(it.result)})})}}function buildEip1193Fetcher($){return function(o,a){a==null&&(a=[]);const j={method:o,params:a};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:deepCopy(j),provider:this}),$.request(j).then(_e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:j,response:_e,provider:this}),_e),_e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:j,error:_e,provider:this}),_e})}}class Web3Provider extends JsonRpcProvider{constructor(o,a){o==null&&logger.throwArgumentError("missing provider","provider",o);let j=null,_e=null,et=null;typeof o=="function"?(j="unknown:",_e=o):(j=o.host||o.path||"",!j&&o.isMetaMask&&(j="metamask"),et=o,o.request?(j===""&&(j="eip-1193:"),_e=buildEip1193Fetcher(o)):o.sendAsync?_e=buildWeb3LegacyFetcher(o,o.sendAsync.bind(o)):o.send?_e=buildWeb3LegacyFetcher(o,o.send.bind(o)):logger.throwArgumentError("unsupported provider","provider",o),j||(j="unknown:")),super(j,a),defineReadOnly(this,"jsonRpcFetchFunc",_e),defineReadOnly(this,"provider",et)}send(o,a){return this.jsonRpcFetchFunc(o,a)}}const names=["wei","kwei","mwei","gwei","szabo","finney","ether"];function formatUnits($,o){if(typeof o=="string"){const a=names.indexOf(o);a!==-1&&(o=3*a)}return formatFixed($,o??18)}new JsonRpcProvider("https://polygon-mumbai.g.alchemy.com/v2/HQbJbjo8sicnqnC6c6BUwzPQ_tmHiN0b");const contractAddress="0x9Fc3Acba729F55149cBaf114457798Ce557575b6",abi=[{inputs:[{internalType:"uint256",name:"_timestamp",type:"uint256"},{internalType:"string",name:"_url",type:"string"}],name:"add_record",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"see_record",outputs:[{components:[{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"string",name:"url",type:"string"}],internalType:"struct Healthcare.PatientRecord[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"}],common$1={black:"#000",white:"#fff"},common$2=common$1,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$1=blue,lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$1=green,orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey;function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function($){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var j in a)Object.prototype.hasOwnProperty.call(a,j)&&($[j]=a[j])}return $},_extends$1.apply(this,arguments)}function isPlainObject($){return $!==null&&typeof $=="object"&&$.constructor===Object}function deepClone($){if(!isPlainObject($))return $;const o={};return Object.keys($).forEach(a=>{o[a]=deepClone($[a])}),o}function deepmerge($,o,a={clone:!0}){const j=a.clone?_extends$1({},$):$;return isPlainObject($)&&isPlainObject(o)&&Object.keys(o).forEach(_e=>{_e!=="__proto__"&&(isPlainObject(o[_e])&&_e in $&&isPlainObject($[_e])?j[_e]=deepmerge($[_e],o[_e],a):a.clone?j[_e]=isPlainObject(o[_e])?deepClone(o[_e]):o[_e]:j[_e]=o[_e])}),j}var propTypesExports={},propTypes={get exports(){return propTypesExports},set exports($){propTypesExports=$}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function $(j,_e,et,tt,nt,rt){if(rt!==ReactPropTypesSecret){var it=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw it.name="Invariant Violation",it}}$.isRequired=$;function o(){return $}var a={array:$,bigint:$,bool:$,func:$,number:$,object:$,string:$,symbol:$,any:$,arrayOf:o,element:$,elementType:$,instanceOf:o,node:$,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return a.PropTypes=a,a};propTypes.exports=factoryWithThrowingShims();function formatMuiErrorMessage($){let o="https://mui.com/production-error/?code="+$;for(let a=1;a<arguments.length;a+=1)o+="&args[]="+encodeURIComponent(arguments[a]);return"Minified MUI error #"+$+"; visit "+o+" for the full message."}var reactIsExports$1={},reactIs$2={get exports(){return reactIsExports$1},set exports($){reactIsExports$1=$}},reactIs_production_min$1={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e$1=Symbol.for("react.strict_mode"),f$1=Symbol.for("react.profiler"),g$1=Symbol.for("react.provider"),h$1=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l$1=Symbol.for("react.forward_ref"),m$1=Symbol.for("react.suspense"),n$1=Symbol.for("react.suspense_list"),p$2=Symbol.for("react.memo"),q$1=Symbol.for("react.lazy"),t$1=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v$1($){if(typeof $=="object"&&$!==null){var o=$.$$typeof;switch(o){case b$1:switch($=$.type,$){case d$1:case f$1:case e$1:case m$1:case n$1:return $;default:switch($=$&&$.$$typeof,$){case k$1:case h$1:case l$1:case q$1:case p$2:case g$1:return $;default:return o}}case c$1:return o}}}reactIs_production_min$1.ContextConsumer=h$1;reactIs_production_min$1.ContextProvider=g$1;reactIs_production_min$1.Element=b$1;reactIs_production_min$1.ForwardRef=l$1;reactIs_production_min$1.Fragment=d$1;reactIs_production_min$1.Lazy=q$1;reactIs_production_min$1.Memo=p$2;reactIs_production_min$1.Portal=c$1;reactIs_production_min$1.Profiler=f$1;reactIs_production_min$1.StrictMode=e$1;reactIs_production_min$1.Suspense=m$1;reactIs_production_min$1.SuspenseList=n$1;reactIs_production_min$1.isAsyncMode=function(){return!1};reactIs_production_min$1.isConcurrentMode=function(){return!1};reactIs_production_min$1.isContextConsumer=function($){return v$1($)===h$1};reactIs_production_min$1.isContextProvider=function($){return v$1($)===g$1};reactIs_production_min$1.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===b$1};reactIs_production_min$1.isForwardRef=function($){return v$1($)===l$1};reactIs_production_min$1.isFragment=function($){return v$1($)===d$1};reactIs_production_min$1.isLazy=function($){return v$1($)===q$1};reactIs_production_min$1.isMemo=function($){return v$1($)===p$2};reactIs_production_min$1.isPortal=function($){return v$1($)===c$1};reactIs_production_min$1.isProfiler=function($){return v$1($)===f$1};reactIs_production_min$1.isStrictMode=function($){return v$1($)===e$1};reactIs_production_min$1.isSuspense=function($){return v$1($)===m$1};reactIs_production_min$1.isSuspenseList=function($){return v$1($)===n$1};reactIs_production_min$1.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===d$1||$===f$1||$===e$1||$===m$1||$===n$1||$===t$1||typeof $=="object"&&$!==null&&($.$$typeof===q$1||$.$$typeof===p$2||$.$$typeof===g$1||$.$$typeof===h$1||$.$$typeof===l$1||$.$$typeof===u||$.getModuleId!==void 0)};reactIs_production_min$1.typeOf=v$1;(function($){$.exports=reactIs_production_min$1})(reactIs$2);function capitalize($){if(typeof $!="string")throw new Error(formatMuiErrorMessage(7));return $.charAt(0).toUpperCase()+$.slice(1)}function createChainedFunction(...$){return $.reduce((o,a)=>a==null?o:function(..._e){o.apply(this,_e),a.apply(this,_e)},()=>{})}function debounce$1($,o=166){let a;function j(..._e){const et=()=>{$.apply(this,_e)};clearTimeout(a),a=setTimeout(et,o)}return j.clear=()=>{clearTimeout(a)},j}function isMuiElement($,o){return reactExports.isValidElement($)&&o.indexOf($.type.muiName)!==-1}function ownerDocument($){return $&&$.ownerDocument||document}function ownerWindow($){return ownerDocument($).defaultView||window}function setRef($,o){typeof $=="function"?$(o):$&&($.current=o)}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,useEnhancedEffect$1=useEnhancedEffect;let globalId=0;function useGlobalId($){const[o,a]=reactExports.useState($),j=$||o;return reactExports.useEffect(()=>{o==null&&(globalId+=1,a(`mui-${globalId}`))},[o]),j}const maybeReactUseId=React$2["useId"];function useId($){if(maybeReactUseId!==void 0){const o=maybeReactUseId();return $??o}return useGlobalId($)}function useControlled({controlled:$,default:o,name:a,state:j="value"}){const{current:_e}=reactExports.useRef($!==void 0),[et,tt]=reactExports.useState(o),nt=_e?$:et,rt=reactExports.useCallback(it=>{_e||tt(it)},[]);return[nt,rt]}function useEventCallback($){const o=reactExports.useRef($);return useEnhancedEffect$1(()=>{o.current=$}),reactExports.useCallback((...a)=>(0,o.current)(...a),[])}function useForkRef(...$){return reactExports.useMemo(()=>$.every(o=>o==null)?null:o=>{$.forEach(a=>{setRef(a,o)})},$)}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1,hadFocusVisibleRecentlyTimeout;const inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality($){const{type:o,tagName:a}=$;return!!(a==="INPUT"&&inputTypesWhitelist[o]&&!$.readOnly||a==="TEXTAREA"&&!$.readOnly||$.isContentEditable)}function handleKeyDown($){$.metaKey||$.altKey||$.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare$2($){$.addEventListener("keydown",handleKeyDown,!0),$.addEventListener("mousedown",handlePointerDown,!0),$.addEventListener("pointerdown",handlePointerDown,!0),$.addEventListener("touchstart",handlePointerDown,!0),$.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible($){const{target:o}=$;try{return o.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(o)}function useIsFocusVisible(){const $=reactExports.useCallback(_e=>{_e!=null&&prepare$2(_e.ownerDocument)},[]),o=reactExports.useRef(!1);function a(){return o.current?(hadFocusVisibleRecently=!0,window.clearTimeout(hadFocusVisibleRecentlyTimeout),hadFocusVisibleRecentlyTimeout=window.setTimeout(()=>{hadFocusVisibleRecently=!1},100),o.current=!1,!0):!1}function j(_e){return isFocusVisible(_e)?(o.current=!0,!0):!1}return{isFocusVisibleRef:o,onFocus:j,onBlur:a,ref:$}}function getScrollbarSize($){const o=$.documentElement.clientWidth;return Math.abs(window.innerWidth-o)}function resolveProps($,o){const a=_extends$1({},o);return Object.keys($).forEach(j=>{if(j.toString().match(/^(components|slots)$/))a[j]=_extends$1({},$[j],a[j]);else if(j.toString().match(/^(componentsProps|slotProps)$/)){const _e=$[j]||{},et=o[j];a[j]={},!et||!Object.keys(et)?a[j]=_e:!_e||!Object.keys(_e)?a[j]=et:(a[j]=_extends$1({},et),Object.keys(_e).forEach(tt=>{a[j][tt]=resolveProps(_e[tt],et[tt])}))}else a[j]===void 0&&(a[j]=$[j])}),a}function composeClasses($,o,a=void 0){const j={};return Object.keys($).forEach(_e=>{j[_e]=$[_e].reduce((et,tt)=>{if(tt){const nt=o(tt);nt!==""&&et.push(nt),a&&a[tt]&&et.push(a[tt])}return et},[]).join(" ")}),j}const defaultGenerator=$=>$,createClassNameGenerator=()=>{let $=defaultGenerator;return{configure(o){$=o},generate(o){return $(o)},reset(){$=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),ClassNameGenerator$1=ClassNameGenerator,globalStateClassesMapping={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function generateUtilityClass($,o,a="Mui"){const j=globalStateClassesMapping[o];return j?`${a}-${j}`:`${ClassNameGenerator$1.generate($)}-${o}`}function generateUtilityClasses($,o,a="Mui"){const j={};return o.forEach(_e=>{j[_e]=generateUtilityClass($,_e,a)}),j}function _objectWithoutPropertiesLoose($,o){if($==null)return{};var a={},j=Object.keys($),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(o.indexOf(_e)>=0)&&(a[_e]=$[_e]);return a}function memoize$1($){var o=Object.create(null);return function(a){return o[a]===void 0&&(o[a]=$(a)),o[a]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function($){return reactPropsRegex.test($)||$.charCodeAt(0)===111&&$.charCodeAt(1)===110&&$.charCodeAt(2)<91});function sheetForTag($){if($.sheet)return $.sheet;for(var o=0;o<document.styleSheets.length;o++)if(document.styleSheets[o].ownerNode===$)return document.styleSheets[o]}function createStyleElement($){var o=document.createElement("style");return o.setAttribute("data-emotion",$.key),$.nonce!==void 0&&o.setAttribute("nonce",$.nonce),o.appendChild(document.createTextNode("")),o.setAttribute("data-s",""),o}var StyleSheet=function(){function $(a){var j=this;this._insertTag=function(_e){var et;j.tags.length===0?j.insertionPoint?et=j.insertionPoint.nextSibling:j.prepend?et=j.container.firstChild:et=j.before:et=j.tags[j.tags.length-1].nextSibling,j.container.insertBefore(_e,et),j.tags.push(_e)},this.isSpeedy=a.speedy===void 0?!0:a.speedy,this.tags=[],this.ctr=0,this.nonce=a.nonce,this.key=a.key,this.container=a.container,this.prepend=a.prepend,this.insertionPoint=a.insertionPoint,this.before=null}var o=$.prototype;return o.hydrate=function(j){j.forEach(this._insertTag)},o.insert=function(j){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var _e=this.tags[this.tags.length-1];if(this.isSpeedy){var et=sheetForTag(_e);try{et.insertRule(j,et.cssRules.length)}catch{}}else _e.appendChild(document.createTextNode(j));this.ctr++},o.flush=function(){this.tags.forEach(function(j){return j.parentNode&&j.parentNode.removeChild(j)}),this.tags=[],this.ctr=0},$}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs=Math.abs,from$2=String.fromCharCode,assign$1=Object.assign;function hash($,o){return charat($,0)^45?(((o<<2^charat($,0))<<2^charat($,1))<<2^charat($,2))<<2^charat($,3):0}function trim($){return $.trim()}function match($,o){return($=o.exec($))?$[0]:$}function replace($,o,a){return $.replace(o,a)}function indexof($,o){return $.indexOf(o)}function charat($,o){return $.charCodeAt(o)|0}function substr($,o,a){return $.slice(o,a)}function strlen($){return $.length}function sizeof($){return $.length}function append($,o){return o.push($),$}function combine($,o){return $.map(o).join("")}var line=1,column=1,length$2=0,position$1=0,character=0,characters="";function node($,o,a,j,_e,et,tt){return{value:$,root:o,parent:a,type:j,props:_e,children:et,line,column,length:tt,return:""}}function copy($,o){return assign$1(node("",null,null,"",null,null,0),$,{length:-$.length},o)}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length$2?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$1)}function caret(){return position$1}function slice$1($,o){return substr(characters,$,o)}function token($){switch($){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc$1($){return line=column=1,length$2=strlen(characters=$),position$1=0,[]}function dealloc($){return characters="",$}function delimit($){return trim(slice$1(position$1-1,delimiter($===91?$+2:$===40?$+1:$)))}function whitespace($){for(;(character=peek())&&character<33;)next();return token($)>2||token(character)>3?"":" "}function escaping($,o){for(;--o&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice$1($,caret()+(o<6&&peek()==32&&next()==32))}function delimiter($){for(;next();)switch(character){case $:return position$1;case 34:case 39:$!==34&&$!==39&&delimiter(character);break;case 40:$===41&&delimiter($);break;case 92:next();break}return position$1}function commenter($,o){for(;next()&&$+character!==47+10;)if($+character===42+42&&peek()===47)break;return"/*"+slice$1(o,position$1-1)+"*"+from$2($===47?$:next())}function identifier($){for(;!token(peek());)next();return slice$1($,position$1)}function compile($){return dealloc(parse("",null,null,null,[""],$=alloc$1($),0,[0],$))}function parse($,o,a,j,_e,et,tt,nt,rt){for(var it=0,ot=0,at=tt,ct=0,ut=0,dt=0,ft=1,ht=1,pt=1,yt=0,gt="",bt=_e,At=et,Tt=j,Pt=gt;ht;)switch(dt=yt,yt=next()){case 40:if(dt!=108&&charat(Pt,at-1)==58){indexof(Pt+=replace(delimit(yt),"&","&\f"),"&\f")!=-1&&(pt=-1);break}case 34:case 39:case 91:Pt+=delimit(yt);break;case 9:case 10:case 13:case 32:Pt+=whitespace(dt);break;case 92:Pt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),o,a),rt);break;default:Pt+="/"}break;case 123*ft:nt[it++]=strlen(Pt)*pt;case 125*ft:case 59:case 0:switch(yt){case 0:case 125:ht=0;case 59+ot:ut>0&&strlen(Pt)-at&&append(ut>32?declaration(Pt+";",j,a,at-1):declaration(replace(Pt," ","")+";",j,a,at-2),rt);break;case 59:Pt+=";";default:if(append(Tt=ruleset(Pt,o,a,it,ot,_e,nt,gt,bt=[],At=[],at),et),yt===123)if(ot===0)parse(Pt,o,Tt,Tt,bt,et,at,nt,At);else switch(ct===99&&charat(Pt,3)===110?100:ct){case 100:case 109:case 115:parse($,Tt,Tt,j&&append(ruleset($,Tt,Tt,0,0,_e,nt,gt,_e,bt=[],at),At),_e,At,at,nt,j?bt:At);break;default:parse(Pt,Tt,Tt,Tt,[""],At,0,nt,At)}}it=ot=ut=0,ft=pt=1,gt=Pt="",at=tt;break;case 58:at=1+strlen(Pt),ut=dt;default:if(ft<1){if(yt==123)--ft;else if(yt==125&&ft++==0&&prev()==125)continue}switch(Pt+=from$2(yt),yt*ft){case 38:pt=ot>0?1:(Pt+="\f",-1);break;case 44:nt[it++]=(strlen(Pt)-1)*pt,pt=1;break;case 64:peek()===45&&(Pt+=delimit(next())),ct=peek(),ot=at=strlen(gt=Pt+=identifier(caret())),yt++;break;case 45:dt===45&&strlen(Pt)==2&&(ft=0)}}return et}function ruleset($,o,a,j,_e,et,tt,nt,rt,it,ot){for(var at=_e-1,ct=_e===0?et:[""],ut=sizeof(ct),dt=0,ft=0,ht=0;dt<j;++dt)for(var pt=0,yt=substr($,at+1,at=abs(ft=tt[dt])),gt=$;pt<ut;++pt)(gt=trim(ft>0?ct[pt]+" "+yt:replace(yt,/&\f/g,ct[pt])))&&(rt[ht++]=gt);return node($,o,a,_e===0?RULESET:nt,rt,it,ot)}function comment($,o,a){return node($,o,a,COMMENT,from$2(char()),substr($,2,-2),0)}function declaration($,o,a,j){return node($,o,a,DECLARATION,substr($,0,j),substr($,j+1,-1),j)}function serialize($,o){for(var a="",j=sizeof($),_e=0;_e<j;_e++)a+=o($[_e],_e,$,o)||"";return a}function stringify($,o,a,j){switch($.type){case IMPORT:case DECLARATION:return $.return=$.return||$.value;case COMMENT:return"";case KEYFRAMES:return $.return=$.value+"{"+serialize($.children,j)+"}";case RULESET:$.value=$.props.join(",")}return strlen(a=serialize($.children,j))?$.return=$.value+"{"+a+"}":""}function middleware($){var o=sizeof($);return function(a,j,_e,et){for(var tt="",nt=0;nt<o;nt++)tt+=$[nt](a,j,_e,et)||"";return tt}}function rulesheet($){return function(o){o.root||(o=o.return)&&$(o)}}var identifierWithPointTracking=function(o,a,j){for(var _e=0,et=0;_e=et,et=peek(),_e===38&&et===12&&(a[j]=1),!token(et);)next();return slice$1(o,position$1)},toRules=function(o,a){var j=-1,_e=44;do switch(token(_e)){case 0:_e===38&&peek()===12&&(a[j]=1),o[j]+=identifierWithPointTracking(position$1-1,a,j);break;case 2:o[j]+=delimit(_e);break;case 4:if(_e===44){o[++j]=peek()===58?"&\f":"",a[j]=o[j].length;break}default:o[j]+=from$2(_e)}while(_e=next());return o},getRules=function(o,a){return dealloc(toRules(alloc$1(o),a))},fixedElements=new WeakMap,compat=function(o){if(!(o.type!=="rule"||!o.parent||o.length<1)){for(var a=o.value,j=o.parent,_e=o.column===j.column&&o.line===j.line;j.type!=="rule";)if(j=j.parent,!j)return;if(!(o.props.length===1&&a.charCodeAt(0)!==58&&!fixedElements.get(j))&&!_e){fixedElements.set(o,!0);for(var et=[],tt=getRules(a,et),nt=j.props,rt=0,it=0;rt<tt.length;rt++)for(var ot=0;ot<nt.length;ot++,it++)o.props[it]=et[rt]?tt[rt].replace(/&\f/g,nt[ot]):nt[ot]+" "+tt[rt]}}},removeLabel=function(o){if(o.type==="decl"){var a=o.value;a.charCodeAt(0)===108&&a.charCodeAt(2)===98&&(o.return="",o.value="")}};function prefix($,o){switch(hash($,o)){case 5103:return WEBKIT+"print-"+$+$;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+$+$;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+$+MOZ+$+MS+$+$;case 6828:case 4268:return WEBKIT+$+MS+$+$;case 6165:return WEBKIT+$+MS+"flex-"+$+$;case 5187:return WEBKIT+$+replace($,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+$;case 5443:return WEBKIT+$+MS+"flex-item-"+replace($,/flex-|-self/,"")+$;case 4675:return WEBKIT+$+MS+"flex-line-pack"+replace($,/align-content|flex-|-self/,"")+$;case 5548:return WEBKIT+$+MS+replace($,"shrink","negative")+$;case 5292:return WEBKIT+$+MS+replace($,"basis","preferred-size")+$;case 6060:return WEBKIT+"box-"+replace($,"-grow","")+WEBKIT+$+MS+replace($,"grow","positive")+$;case 4554:return WEBKIT+replace($,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+$;case 6187:return replace(replace(replace($,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),$,"")+$;case 5495:case 3959:return replace($,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace($,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+$+$;case 4095:case 3583:case 4068:case 2532:return replace($,/(.+)-inline(.+)/,WEBKIT+"$1$2")+$;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen($)-1-o>6)switch(charat($,o+1)){case 109:if(charat($,o+4)!==45)break;case 102:return replace($,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat($,o+3)==108?"$3":"$2-$3"))+$;case 115:return~indexof($,"stretch")?prefix(replace($,"stretch","fill-available"),o)+$:$}break;case 4949:if(charat($,o+1)!==115)break;case 6444:switch(charat($,strlen($)-3-(~indexof($,"!important")&&10))){case 107:return replace($,":",":"+WEBKIT)+$;case 101:return replace($,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat($,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+$}break;case 5936:switch(charat($,o+11)){case 114:return WEBKIT+$+MS+replace($,/[svh]\w+-[tblr]{2}/,"tb")+$;case 108:return WEBKIT+$+MS+replace($,/[svh]\w+-[tblr]{2}/,"tb-rl")+$;case 45:return WEBKIT+$+MS+replace($,/[svh]\w+-[tblr]{2}/,"lr")+$}return WEBKIT+$+MS+$+$}return $}var prefixer=function(o,a,j,_e){if(o.length>-1&&!o.return)switch(o.type){case DECLARATION:o.return=prefix(o.value,o.length);break;case KEYFRAMES:return serialize([copy(o,{value:replace(o.value,"@","@"+WEBKIT)})],_e);case RULESET:if(o.length)return combine(o.props,function(et){switch(match(et,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(o,{props:[replace(et,/:(read-\w+)/,":"+MOZ+"$1")]})],_e);case"::placeholder":return serialize([copy(o,{props:[replace(et,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(o,{props:[replace(et,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(o,{props:[replace(et,/:(plac\w+)/,MS+"input-$1")]})],_e)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(o){var a=o.key;if(a==="css"){var j=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(j,function(ft){var ht=ft.getAttribute("data-emotion");ht.indexOf(" ")!==-1&&(document.head.appendChild(ft),ft.setAttribute("data-s",""))})}var _e=o.stylisPlugins||defaultStylisPlugins,et={},tt,nt=[];tt=o.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+a+' "]'),function(ft){for(var ht=ft.getAttribute("data-emotion").split(" "),pt=1;pt<ht.length;pt++)et[ht[pt]]=!0;nt.push(ft)});var rt,it=[compat,removeLabel];{var ot,at=[stringify,rulesheet(function(ft){ot.insert(ft)})],ct=middleware(it.concat(_e,at)),ut=function(ht){return serialize(compile(ht),ct)};rt=function(ht,pt,yt,gt){ot=yt,ut(ht?ht+"{"+pt.styles+"}":pt.styles),gt&&(dt.inserted[pt.name]=!0)}}var dt={key:a,sheet:new StyleSheet({key:a,container:tt,nonce:o.nonce,speedy:o.speedy,prepend:o.prepend,insertionPoint:o.insertionPoint}),nonce:o.nonce,inserted:et,registered:{},insert:rt};return dt.sheet.hydrate(nt),dt},reactIsExports={},reactIs$1={get exports(){return reactIsExports},set exports($){reactIsExports=$}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p$1=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r$1=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z($){if(typeof $=="object"&&$!==null){var o=$.$$typeof;switch(o){case c:switch($=$.type,$){case l:case m:case e:case g:case f:case p$1:return $;default:switch($=$&&$.$$typeof,$){case k:case n:case t:case r$1:case h:return $;default:return o}}case d:return o}}}function A($){return z($)===m}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r$1;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p$1;reactIs_production_min.isAsyncMode=function($){return A($)||z($)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function($){return z($)===k};reactIs_production_min.isContextProvider=function($){return z($)===h};reactIs_production_min.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===c};reactIs_production_min.isForwardRef=function($){return z($)===n};reactIs_production_min.isFragment=function($){return z($)===e};reactIs_production_min.isLazy=function($){return z($)===t};reactIs_production_min.isMemo=function($){return z($)===r$1};reactIs_production_min.isPortal=function($){return z($)===d};reactIs_production_min.isProfiler=function($){return z($)===g};reactIs_production_min.isStrictMode=function($){return z($)===f};reactIs_production_min.isSuspense=function($){return z($)===p$1};reactIs_production_min.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===e||$===m||$===g||$===f||$===p$1||$===q||typeof $=="object"&&$!==null&&($.$$typeof===t||$.$$typeof===r$1||$.$$typeof===h||$.$$typeof===k||$.$$typeof===n||$.$$typeof===w||$.$$typeof===x||$.$$typeof===y||$.$$typeof===v)};reactIs_production_min.typeOf=z;(function($){$.exports=reactIs_production_min})(reactIs$1);var reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles($,o,a){var j="";return a.split(" ").forEach(function(_e){$[_e]!==void 0?o.push($[_e]+";"):j+=_e+" "}),j}var registerStyles=function(o,a,j){var _e=o.key+"-"+a.name;(j===!1||isBrowser===!1)&&o.registered[_e]===void 0&&(o.registered[_e]=a.styles)},insertStyles=function(o,a,j){registerStyles(o,a,j);var _e=o.key+"-"+a.name;if(o.inserted[a.name]===void 0){var et=a;do o.insert(a===et?"."+_e:"",et,o.sheet,!0),et=et.next;while(et!==void 0)}};function murmur2($){for(var o=0,a,j=0,_e=$.length;_e>=4;++j,_e-=4)a=$.charCodeAt(j)&255|($.charCodeAt(++j)&255)<<8|($.charCodeAt(++j)&255)<<16|($.charCodeAt(++j)&255)<<24,a=(a&65535)*1540483477+((a>>>16)*59797<<16),a^=a>>>24,o=(a&65535)*1540483477+((a>>>16)*59797<<16)^(o&65535)*1540483477+((o>>>16)*59797<<16);switch(_e){case 3:o^=($.charCodeAt(j+2)&255)<<16;case 2:o^=($.charCodeAt(j+1)&255)<<8;case 1:o^=$.charCodeAt(j)&255,o=(o&65535)*1540483477+((o>>>16)*59797<<16)}return o^=o>>>13,o=(o&65535)*1540483477+((o>>>16)*59797<<16),((o^o>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(o){return o.charCodeAt(1)===45},isProcessableValue=function(o){return o!=null&&typeof o!="boolean"},processStyleName=memoize$1(function($){return isCustomProperty($)?$:$.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(o,a){switch(o){case"animation":case"animationName":if(typeof a=="string")return a.replace(animationRegex,function(j,_e,et){return cursor={name:_e,styles:et,next:cursor},_e})}return unitlessKeys[o]!==1&&!isCustomProperty(o)&&typeof a=="number"&&a!==0?a+"px":a},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation($,o,a){if(a==null)return"";if(a.__emotion_styles!==void 0)return a;switch(typeof a){case"boolean":return"";case"object":{if(a.anim===1)return cursor={name:a.name,styles:a.styles,next:cursor},a.name;if(a.styles!==void 0){var j=a.next;if(j!==void 0)for(;j!==void 0;)cursor={name:j.name,styles:j.styles,next:cursor},j=j.next;var _e=a.styles+";";return _e}return createStringFromObject($,o,a)}case"function":{if($!==void 0){var et=cursor,tt=a($);return cursor=et,handleInterpolation($,o,tt)}break}}if(o==null)return a;var nt=o[a];return nt!==void 0?nt:a}function createStringFromObject($,o,a){var j="";if(Array.isArray(a))for(var _e=0;_e<a.length;_e++)j+=handleInterpolation($,o,a[_e])+";";else for(var et in a){var tt=a[et];if(typeof tt!="object")o!=null&&o[tt]!==void 0?j+=et+"{"+o[tt]+"}":isProcessableValue(tt)&&(j+=processStyleName(et)+":"+processStyleValue(et,tt)+";");else if(Array.isArray(tt)&&typeof tt[0]=="string"&&(o==null||o[tt[0]]===void 0))for(var nt=0;nt<tt.length;nt++)isProcessableValue(tt[nt])&&(j+=processStyleName(et)+":"+processStyleValue(et,tt[nt])+";");else{var rt=handleInterpolation($,o,tt);switch(et){case"animation":case"animationName":{j+=processStyleName(et)+":"+rt+";";break}default:j+=et+"{"+rt+"}"}}}return j}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(o,a,j){if(o.length===1&&typeof o[0]=="object"&&o[0]!==null&&o[0].styles!==void 0)return o[0];var _e=!0,et="";cursor=void 0;var tt=o[0];tt==null||tt.raw===void 0?(_e=!1,et+=handleInterpolation(j,a,tt)):et+=tt[0];for(var nt=1;nt<o.length;nt++)et+=handleInterpolation(j,a,o[nt]),_e&&(et+=tt[nt]);labelPattern.lastIndex=0;for(var rt="",it;(it=labelPattern.exec(et))!==null;)rt+="-"+it[1];var ot=murmur2(et)+rt;return{name:ot,styles:et,next:cursor}},syncFallback=function(o){return o()},useInsertionEffect=React$2["useInsertionEffect"]?React$2["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(o){return reactExports.forwardRef(function(a,j){var _e=reactExports.useContext(EmotionCacheContext);return o(a,_e,j)})},ThemeContext$2=reactExports.createContext({}),Global=withEmotionCache(function($,o){var a=$.styles,j=serializeStyles([a],void 0,reactExports.useContext(ThemeContext$2)),_e=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var et=o.key+"-global",tt=new o.sheet.constructor({key:et,nonce:o.sheet.nonce,container:o.sheet.container,speedy:o.sheet.isSpeedy}),nt=!1,rt=document.querySelector('style[data-emotion="'+et+" "+j.name+'"]');return o.sheet.tags.length&&(tt.before=o.sheet.tags[0]),rt!==null&&(nt=!0,rt.setAttribute("data-emotion",et),tt.hydrate([rt])),_e.current=[tt,nt],function(){tt.flush()}},[o]),useInsertionEffectWithLayoutFallback(function(){var et=_e.current,tt=et[0],nt=et[1];if(nt){et[1]=!1;return}if(j.next!==void 0&&insertStyles(o,j.next,!0),tt.tags.length){var rt=tt.tags[tt.tags.length-1].nextElementSibling;tt.before=rt,tt.flush()}o.insert("",j,tt,!1)},[o,j.name]),null});function css(){for(var $=arguments.length,o=new Array($),a=0;a<$;a++)o[a]=arguments[a];return serializeStyles(o)}var keyframes=function(){var o=css.apply(void 0,arguments),a="animation-"+o.name;return{name:a,styles:"@keyframes "+a+"{"+o.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(o){return o!=="theme"},getDefaultShouldForwardProp=function(o){return typeof o=="string"&&o.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(o,a,j){var _e;if(a){var et=a.shouldForwardProp;_e=o.__emotion_forwardProp&&et?function(tt){return o.__emotion_forwardProp(tt)&&et(tt)}:et}return typeof _e!="function"&&j&&(_e=o.__emotion_forwardProp),_e},Insertion=function(o){var a=o.cache,j=o.serialized,_e=o.isStringTag;return registerStyles(a,j,_e),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(a,j,_e)}),null},createStyled$1=function $(o,a){var j=o.__emotion_real===o,_e=j&&o.__emotion_base||o,et,tt;a!==void 0&&(et=a.label,tt=a.target);var nt=composeShouldForwardProps(o,a,j),rt=nt||getDefaultShouldForwardProp(_e),it=!rt("as");return function(){var ot=arguments,at=j&&o.__emotion_styles!==void 0?o.__emotion_styles.slice(0):[];if(et!==void 0&&at.push("label:"+et+";"),ot[0]==null||ot[0].raw===void 0)at.push.apply(at,ot);else{at.push(ot[0][0]);for(var ct=ot.length,ut=1;ut<ct;ut++)at.push(ot[ut],ot[0][ut])}var dt=withEmotionCache(function(ft,ht,pt){var yt=it&&ft.as||_e,gt="",bt=[],At=ft;if(ft.theme==null){At={};for(var Tt in ft)At[Tt]=ft[Tt];At.theme=reactExports.useContext(ThemeContext$2)}typeof ft.className=="string"?gt=getRegisteredStyles(ht.registered,bt,ft.className):ft.className!=null&&(gt=ft.className+" ");var Pt=serializeStyles(at.concat(bt),ht.registered,At);gt+=ht.key+"-"+Pt.name,tt!==void 0&&(gt+=" "+tt);var Ct=it&&nt===void 0?getDefaultShouldForwardProp(yt):rt,It={};for(var Vt in ft)it&&Vt==="as"||Ct(Vt)&&(It[Vt]=ft[Vt]);return It.className=gt,It.ref=pt,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:ht,serialized:Pt,isStringTag:typeof yt=="string"}),reactExports.createElement(yt,It))});return dt.displayName=et!==void 0?et:"Styled("+(typeof _e=="string"?_e:_e.displayName||_e.name||"Component")+")",dt.defaultProps=o.defaultProps,dt.__emotion_real=dt,dt.__emotion_base=_e,dt.__emotion_styles=at,dt.__emotion_forwardProp=nt,Object.defineProperty(dt,"toString",{value:function(){return"."+tt}}),dt.withComponent=function(ft,ht){return $(ft,_extends$1({},a,ht,{shouldForwardProp:composeShouldForwardProps(dt,ht,!0)})).apply(void 0,at)},dt}};const createStyled$2=createStyled$1;var tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$2.bind();tags.forEach(function($){newStyled[$]=newStyled($)});const emStyled=newStyled;function isEmpty$4($){return $==null||Object.keys($).length===0}function GlobalStyles$1($){const{styles:o,defaultTheme:a={}}=$;return jsx(Global,{styles:typeof o=="function"?_e=>o(isEmpty$4(_e)?a:_e):o})}/**
 * @mui/styled-engine v5.11.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$3($,o){return emStyled($,o)}const internal_processStyles=($,o)=>{Array.isArray($.__emotion_styles)&&($.__emotion_styles=o($.__emotion_styles))};function merge$1($,o){return o?deepmerge($,o,{clone:!1}):$}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:$=>`@media (min-width:${values$1[$]}px)`};function handleBreakpoints($,o,a){const j=$.theme||{};if(Array.isArray(o)){const et=j.breakpoints||defaultBreakpoints;return o.reduce((tt,nt,rt)=>(tt[et.up(et.keys[rt])]=a(o[rt]),tt),{})}if(typeof o=="object"){const et=j.breakpoints||defaultBreakpoints;return Object.keys(o).reduce((tt,nt)=>{if(Object.keys(et.values||values$1).indexOf(nt)!==-1){const rt=et.up(nt);tt[rt]=a(o[nt],nt)}else{const rt=nt;tt[rt]=o[rt]}return tt},{})}return a(o)}function createEmptyBreakpointObject($={}){var o;return((o=$.keys)==null?void 0:o.reduce((j,_e)=>{const et=$.up(_e);return j[et]={},j},{}))||{}}function removeUnusedBreakpoints($,o){return $.reduce((a,j)=>{const _e=a[j];return(!_e||Object.keys(_e).length===0)&&delete a[j],a},o)}function mergeBreakpointsInOrder($,...o){const a=createEmptyBreakpointObject($),j=[a,...o].reduce((_e,et)=>deepmerge(_e,et),{});return removeUnusedBreakpoints(Object.keys(a),j)}function computeBreakpointsBase($,o){if(typeof $!="object")return{};const a={},j=Object.keys(o);return Array.isArray($)?j.forEach((_e,et)=>{et<$.length&&(a[_e]=!0)}):j.forEach(_e=>{$[_e]!=null&&(a[_e]=!0)}),a}function resolveBreakpointValues({values:$,breakpoints:o,base:a}){const j=a||computeBreakpointsBase($,o),_e=Object.keys(j);if(_e.length===0)return $;let et;return _e.reduce((tt,nt,rt)=>(Array.isArray($)?(tt[nt]=$[rt]!=null?$[rt]:$[et],et=rt):typeof $=="object"?(tt[nt]=$[nt]!=null?$[nt]:$[et],et=nt):tt[nt]=$,tt),{})}function getPath($,o,a=!0){if(!o||typeof o!="string")return null;if($&&$.vars&&a){const j=`vars.${o}`.split(".").reduce((_e,et)=>_e&&_e[et]?_e[et]:null,$);if(j!=null)return j}return o.split(".").reduce((j,_e)=>j&&j[_e]!=null?j[_e]:null,$)}function getStyleValue$1($,o,a,j=a){let _e;return typeof $=="function"?_e=$(a):Array.isArray($)?_e=$[a]||j:_e=getPath($,a)||j,o&&(_e=o(_e,j,$)),_e}function style$2($){const{prop:o,cssProperty:a=$.prop,themeKey:j,transform:_e}=$,et=tt=>{if(tt[o]==null)return null;const nt=tt[o],rt=tt.theme,it=getPath(rt,j)||{};return handleBreakpoints(tt,nt,at=>{let ct=getStyleValue$1(it,_e,at);return at===ct&&typeof at=="string"&&(ct=getStyleValue$1(it,_e,`${o}${at==="default"?"":capitalize(at)}`,at)),a===!1?ct:{[a]:ct}})};return et.propTypes={},et.filterProps=[o],et}function compose(...$){const o=$.reduce((j,_e)=>(_e.filterProps.forEach(et=>{j[et]=_e}),j),{}),a=j=>Object.keys(j).reduce((_e,et)=>o[et]?merge$1(_e,o[et](j)):_e,{});return a.propTypes={},a.filterProps=$.reduce((j,_e)=>j.concat(_e.filterProps),[]),a}function memoize($){const o={};return a=>(o[a]===void 0&&(o[a]=$(a)),o[a])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize($=>{if($.length>2)if(aliases[$])$=aliases[$];else return[$];const[o,a]=$.split(""),j=properties[o],_e=directions[a]||"";return Array.isArray(_e)?_e.map(et=>j+et):[j+_e]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit($,o,a,j){var _e;const et=(_e=getPath($,o,!1))!=null?_e:a;return typeof et=="number"?tt=>typeof tt=="string"?tt:et*tt:Array.isArray(et)?tt=>typeof tt=="string"?tt:et[tt]:typeof et=="function"?et:()=>{}}function createUnarySpacing($){return createUnaryUnit($,"spacing",8)}function getValue($,o){if(typeof o=="string"||o==null)return o;const a=Math.abs(o),j=$(a);return o>=0?j:typeof j=="number"?-j:`-${j}`}function getStyleFromPropValue($,o){return a=>$.reduce((j,_e)=>(j[_e]=getValue(o,a),j),{})}function resolveCssProperty($,o,a,j){if(o.indexOf(a)===-1)return null;const _e=getCssProperties(a),et=getStyleFromPropValue(_e,j),tt=$[a];return handleBreakpoints($,tt,et)}function style$1($,o){const a=createUnarySpacing($.theme);return Object.keys($).map(j=>resolveCssProperty($,o,j,a)).reduce(merge$1,{})}function margin($){return style$1($,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding($){return style$1($,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function borderTransform($){return typeof $!="number"?$:`${$}px solid`}const border=style$2({prop:"border",themeKey:"borders",transform:borderTransform}),borderTop=style$2({prop:"borderTop",themeKey:"borders",transform:borderTransform}),borderRight=style$2({prop:"borderRight",themeKey:"borders",transform:borderTransform}),borderBottom=style$2({prop:"borderBottom",themeKey:"borders",transform:borderTransform}),borderLeft=style$2({prop:"borderLeft",themeKey:"borders",transform:borderTransform}),borderColor=style$2({prop:"borderColor",themeKey:"palette"}),borderTopColor=style$2({prop:"borderTopColor",themeKey:"palette"}),borderRightColor=style$2({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor=style$2({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor=style$2({prop:"borderLeftColor",themeKey:"palette"}),borderRadius=$=>{if($.borderRadius!==void 0&&$.borderRadius!==null){const o=createUnaryUnit($.theme,"shape.borderRadius",4),a=j=>({borderRadius:getValue(o,j)});return handleBreakpoints($,$.borderRadius,a)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius);const gap=$=>{if($.gap!==void 0&&$.gap!==null){const o=createUnaryUnit($.theme,"spacing",8),a=j=>({gap:getValue(o,j)});return handleBreakpoints($,$.gap,a)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=$=>{if($.columnGap!==void 0&&$.columnGap!==null){const o=createUnaryUnit($.theme,"spacing",8),a=j=>({columnGap:getValue(o,j)});return handleBreakpoints($,$.columnGap,a)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=$=>{if($.rowGap!==void 0&&$.rowGap!==null){const o=createUnaryUnit($.theme,"spacing",8),a=j=>({rowGap:getValue(o,j)});return handleBreakpoints($,$.rowGap,a)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$2({prop:"gridColumn"}),gridRow=style$2({prop:"gridRow"}),gridAutoFlow=style$2({prop:"gridAutoFlow"}),gridAutoColumns=style$2({prop:"gridAutoColumns"}),gridAutoRows=style$2({prop:"gridAutoRows"}),gridTemplateColumns=style$2({prop:"gridTemplateColumns"}),gridTemplateRows=style$2({prop:"gridTemplateRows"}),gridTemplateAreas=style$2({prop:"gridTemplateAreas"}),gridArea=style$2({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform($,o){return o==="grey"?o:$}const color=style$2({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$2({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$2({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color,bgcolor,backgroundColor);function sizingTransform($){return $<=1&&$!==0?`${$*100}%`:$}const width=style$2({prop:"width",transform:sizingTransform}),maxWidth=$=>{if($.maxWidth!==void 0&&$.maxWidth!==null){const o=a=>{var j,_e,et;return{maxWidth:((j=$.theme)==null||(_e=j.breakpoints)==null||(et=_e.values)==null?void 0:et[a])||values$1[a]||sizingTransform(a)}};return handleBreakpoints($,$.maxWidth,o)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$2({prop:"minWidth",transform:sizingTransform}),height=style$2({prop:"height",transform:sizingTransform}),maxHeight=style$2({prop:"maxHeight",transform:sizingTransform}),minHeight=style$2({prop:"minHeight",transform:sizingTransform});style$2({prop:"size",cssProperty:"width",transform:sizingTransform});style$2({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$2({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const createFontStyleFunction=$=>o=>{if(o[$]!==void 0&&o[$]!==null){const a=j=>{var _e;let et=(_e=o.theme.typography)==null?void 0:_e[j];if(typeof et=="object"&&(et=null),!et){var tt,nt;et=(tt=o.theme.typography)==null?void 0:tt[`${$}${o[$]==="default"||o[$]===$?"":capitalize((nt=o[$])==null?void 0:nt.toString())}`]}if(!et){var rt,it,ot;et=(rt=(it=o.theme.typography)==null||(ot=it[j])==null?void 0:ot[$])!=null?rt:j}return{[$]:et}};return handleBreakpoints(o,o[$],a)}return null},defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:$=>({"@media print":{display:$}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography",style:createFontStyleFunction("fontFamily")},fontSize:{themeKey:"typography",style:createFontStyleFunction("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:createFontStyleFunction("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(...$){const o=$.reduce((j,_e)=>j.concat(Object.keys(_e)),[]),a=new Set(o);return $.every(j=>a.size===Object.keys(j).length)}function callIfFn($,o){return typeof $=="function"?$(o):$}function unstable_createStyleFunctionSx(){function $(a,j,_e,et){const tt={[a]:j,theme:_e},nt=et[a];if(!nt)return{[a]:j};const{cssProperty:rt=a,themeKey:it,transform:ot,style:at}=nt;if(j==null)return null;const ct=getPath(_e,it)||{};return at?at(tt):handleBreakpoints(tt,j,dt=>{let ft=getStyleValue$1(ct,ot,dt);return dt===ft&&typeof dt=="string"&&(ft=getStyleValue$1(ct,ot,`${a}${dt==="default"?"":capitalize(dt)}`,dt)),rt===!1?ft:{[rt]:ft}})}function o(a){var j;const{sx:_e,theme:et={}}=a||{};if(!_e)return null;const tt=(j=et.unstable_sxConfig)!=null?j:defaultSxConfig$1;function nt(rt){let it=rt;if(typeof rt=="function")it=rt(et);else if(typeof rt!="object")return rt;if(!it)return null;const ot=createEmptyBreakpointObject(et.breakpoints),at=Object.keys(ot);let ct=ot;return Object.keys(it).forEach(ut=>{const dt=callIfFn(it[ut],et);if(dt!=null)if(typeof dt=="object")if(tt[ut])ct=merge$1(ct,$(ut,dt,et,tt));else{const ft=handleBreakpoints({theme:et},dt,ht=>({[ut]:ht}));objectsHaveSameKeys(ft,dt)?ct[ut]=o({sx:dt,theme:et}):ct=merge$1(ct,ft)}else ct=merge$1(ct,$(ut,dt,et,tt))}),removeUnusedBreakpoints(at,ct)}return Array.isArray(_e)?_e.map(nt):nt(_e)}return o}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];const styleFunctionSx$1=styleFunctionSx,_excluded$H=["sx"],splitProps=$=>{var o,a;const j={systemProps:{},otherProps:{}},_e=(o=$==null||(a=$.theme)==null?void 0:a.unstable_sxConfig)!=null?o:defaultSxConfig$1;return Object.keys($).forEach(et=>{_e[et]?j.systemProps[et]=$[et]:j.otherProps[et]=$[et]}),j};function extendSxProp($){const{sx:o}=$,a=_objectWithoutPropertiesLoose($,_excluded$H),{systemProps:j,otherProps:_e}=splitProps(a);let et;return Array.isArray(o)?et=[j,...o]:typeof o=="function"?et=(...tt)=>{const nt=o(...tt);return isPlainObject(nt)?_extends$1({},j,nt):j}:et=_extends$1({},j,o),_extends$1({},_e,{sx:et})}function r($){var o,a,j="";if(typeof $=="string"||typeof $=="number")j+=$;else if(typeof $=="object")if(Array.isArray($))for(o=0;o<$.length;o++)$[o]&&(a=r($[o]))&&(j&&(j+=" "),j+=a);else for(o in $)$[o]&&(j&&(j+=" "),j+=o);return j}function clsx(){for(var $,o,a=0,j="";a<arguments.length;)($=arguments[a++])&&(o=r($))&&(j&&(j+=" "),j+=o);return j}const _excluded$G=["values","unit","step"],sortBreakpointsValues=$=>{const o=Object.keys($).map(a=>({key:a,val:$[a]}))||[];return o.sort((a,j)=>a.val-j.val),o.reduce((a,j)=>_extends$1({},a,{[j.key]:j.val}),{})};function createBreakpoints($){const{values:o={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:a="px",step:j=5}=$,_e=_objectWithoutPropertiesLoose($,_excluded$G),et=sortBreakpointsValues(o),tt=Object.keys(et);function nt(ct){return`@media (min-width:${typeof o[ct]=="number"?o[ct]:ct}${a})`}function rt(ct){return`@media (max-width:${(typeof o[ct]=="number"?o[ct]:ct)-j/100}${a})`}function it(ct,ut){const dt=tt.indexOf(ut);return`@media (min-width:${typeof o[ct]=="number"?o[ct]:ct}${a}) and (max-width:${(dt!==-1&&typeof o[tt[dt]]=="number"?o[tt[dt]]:ut)-j/100}${a})`}function ot(ct){return tt.indexOf(ct)+1<tt.length?it(ct,tt[tt.indexOf(ct)+1]):nt(ct)}function at(ct){const ut=tt.indexOf(ct);return ut===0?nt(tt[1]):ut===tt.length-1?rt(tt[ut]):it(ct,tt[tt.indexOf(ct)+1]).replace("@media","@media not all and")}return _extends$1({keys:tt,values:et,up:nt,down:rt,between:it,only:ot,not:at,unit:a},_e)}const shape={borderRadius:4},shape$1=shape;function createSpacing($=8){if($.mui)return $;const o=createUnarySpacing({spacing:$}),a=(...j)=>(j.length===0?[1]:j).map(et=>{const tt=o(et);return typeof tt=="number"?`${tt}px`:tt}).join(" ");return a.mui=!0,a}const _excluded$F=["breakpoints","palette","spacing","shape"];function createTheme$1($={},...o){const{breakpoints:a={},palette:j={},spacing:_e,shape:et={}}=$,tt=_objectWithoutPropertiesLoose($,_excluded$F),nt=createBreakpoints(a),rt=createSpacing(_e);let it=deepmerge({breakpoints:nt,direction:"ltr",components:{},palette:_extends$1({mode:"light"},j),spacing:rt,shape:_extends$1({},shape$1,et)},tt);return it=o.reduce((ot,at)=>deepmerge(ot,at),it),it.unstable_sxConfig=_extends$1({},defaultSxConfig$1,tt==null?void 0:tt.unstable_sxConfig),it.unstable_sx=function(at){return styleFunctionSx$1({sx:at,theme:this})},it}const ThemeContext=reactExports.createContext(null),ThemeContext$1=ThemeContext;function useTheme$3(){return reactExports.useContext(ThemeContext$1)}function isObjectEmpty($){return Object.keys($).length===0}function useTheme$2($=null){const o=useTheme$3();return!o||isObjectEmpty(o)?$:o}const systemDefaultTheme$1=createTheme$1();function useTheme$1($=systemDefaultTheme$1){return useTheme$2($)}const _excluded$E=["variant"];function isEmpty$3($){return $.length===0}function propsToClassKey($){const{variant:o}=$,a=_objectWithoutPropertiesLoose($,_excluded$E);let j=o||"";return Object.keys(a).sort().forEach(_e=>{_e==="color"?j+=isEmpty$3(j)?$[_e]:capitalize($[_e]):j+=`${isEmpty$3(j)?_e:capitalize(_e)}${capitalize($[_e].toString())}`}),j}const _excluded$D=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],_excluded2$2=["theme"],_excluded3=["theme"];function isEmpty$2($){return Object.keys($).length===0}function isStringTag($){return typeof $=="string"&&$.charCodeAt(0)>96}const getStyleOverrides=($,o)=>o.components&&o.components[$]&&o.components[$].styleOverrides?o.components[$].styleOverrides:null,getVariantStyles=($,o)=>{let a=[];o&&o.components&&o.components[$]&&o.components[$].variants&&(a=o.components[$].variants);const j={};return a.forEach(_e=>{const et=propsToClassKey(_e.props);j[et]=_e.style}),j},variantsResolver=($,o,a,j)=>{var _e,et;const{ownerState:tt={}}=$,nt=[],rt=a==null||(_e=a.components)==null||(et=_e[j])==null?void 0:et.variants;return rt&&rt.forEach(it=>{let ot=!0;Object.keys(it.props).forEach(at=>{tt[at]!==it.props[at]&&$[at]!==it.props[at]&&(ot=!1)}),ot&&nt.push(o[propsToClassKey(it.props)])}),nt};function shouldForwardProp($){return $!=="ownerState"&&$!=="theme"&&$!=="sx"&&$!=="as"}const systemDefaultTheme=createTheme$1();function createStyled($={}){const{defaultTheme:o=systemDefaultTheme,rootShouldForwardProp:a=shouldForwardProp,slotShouldForwardProp:j=shouldForwardProp}=$,_e=et=>{const tt=isEmpty$2(et.theme)?o:et.theme;return styleFunctionSx$1(_extends$1({},et,{theme:tt}))};return _e.__mui_systemSx=!0,(et,tt={})=>{internal_processStyles(et,gt=>gt.filter(bt=>!(bt!=null&&bt.__mui_systemSx)));const{name:nt,slot:rt,skipVariantsResolver:it,skipSx:ot,overridesResolver:at}=tt,ct=_objectWithoutPropertiesLoose(tt,_excluded$D),ut=it!==void 0?it:rt&&rt!=="Root"||!1,dt=ot||!1;let ft,ht=shouldForwardProp;rt==="Root"?ht=a:rt?ht=j:isStringTag(et)&&(ht=void 0);const pt=styled$3(et,_extends$1({shouldForwardProp:ht,label:ft},ct)),yt=(gt,...bt)=>{const At=bt?bt.map(It=>typeof It=="function"&&It.__emotion_real!==It?Vt=>{let{theme:Kt}=Vt,en=_objectWithoutPropertiesLoose(Vt,_excluded2$2);return It(_extends$1({theme:isEmpty$2(Kt)?o:Kt},en))}:It):[];let Tt=gt;nt&&at&&At.push(It=>{const Vt=isEmpty$2(It.theme)?o:It.theme,Kt=getStyleOverrides(nt,Vt);if(Kt){const en={};return Object.entries(Kt).forEach(([kt,vt])=>{en[kt]=typeof vt=="function"?vt(_extends$1({},It,{theme:Vt})):vt}),at(It,en)}return null}),nt&&!ut&&At.push(It=>{const Vt=isEmpty$2(It.theme)?o:It.theme;return variantsResolver(It,getVariantStyles(nt,Vt),Vt,nt)}),dt||At.push(_e);const Pt=At.length-bt.length;if(Array.isArray(gt)&&Pt>0){const It=new Array(Pt).fill("");Tt=[...gt,...It],Tt.raw=[...gt.raw,...It]}else typeof gt=="function"&&gt.__emotion_real!==gt&&(Tt=It=>{let{theme:Vt}=It,Kt=_objectWithoutPropertiesLoose(It,_excluded3);return gt(_extends$1({theme:isEmpty$2(Vt)?o:Vt},Kt))});return pt(Tt,...At)};return pt.withConfig&&(yt.withConfig=pt.withConfig),yt}}const styled$2=createStyled(),systemStyled=styled$2;function getThemeProps($){const{theme:o,name:a,props:j}=$;return!o||!o.components||!o.components[a]||!o.components[a].defaultProps?j:resolveProps(o.components[a].defaultProps,j)}function useThemeProps$1({props:$,name:o,defaultTheme:a}){const j=useTheme$1(a);return getThemeProps({theme:j,name:o,props:$})}function clamp$1($,o=0,a=1){return Math.min(Math.max(o,$),a)}function hexToRgb($){$=$.slice(1);const o=new RegExp(`.{1,${$.length>=6?2:1}}`,"g");let a=$.match(o);return a&&a[0].length===1&&(a=a.map(j=>j+j)),a?`rgb${a.length===4?"a":""}(${a.map((j,_e)=>_e<3?parseInt(j,16):Math.round(parseInt(j,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor($){if($.type)return $;if($.charAt(0)==="#")return decomposeColor(hexToRgb($));const o=$.indexOf("("),a=$.substring(0,o);if(["rgb","rgba","hsl","hsla","color"].indexOf(a)===-1)throw new Error(formatMuiErrorMessage(9,$));let j=$.substring(o+1,$.length-1),_e;if(a==="color"){if(j=j.split(" "),_e=j.shift(),j.length===4&&j[3].charAt(0)==="/"&&(j[3]=j[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(_e)===-1)throw new Error(formatMuiErrorMessage(10,_e))}else j=j.split(",");return j=j.map(et=>parseFloat(et)),{type:a,values:j,colorSpace:_e}}function recomposeColor($){const{type:o,colorSpace:a}=$;let{values:j}=$;return o.indexOf("rgb")!==-1?j=j.map((_e,et)=>et<3?parseInt(_e,10):_e):o.indexOf("hsl")!==-1&&(j[1]=`${j[1]}%`,j[2]=`${j[2]}%`),o.indexOf("color")!==-1?j=`${a} ${j.join(" ")}`:j=`${j.join(", ")}`,`${o}(${j})`}function hslToRgb($){$=decomposeColor($);const{values:o}=$,a=o[0],j=o[1]/100,_e=o[2]/100,et=j*Math.min(_e,1-_e),tt=(it,ot=(it+a/30)%12)=>_e-et*Math.max(Math.min(ot-3,9-ot,1),-1);let nt="rgb";const rt=[Math.round(tt(0)*255),Math.round(tt(8)*255),Math.round(tt(4)*255)];return $.type==="hsla"&&(nt+="a",rt.push(o[3])),recomposeColor({type:nt,values:rt})}function getLuminance($){$=decomposeColor($);let o=$.type==="hsl"||$.type==="hsla"?decomposeColor(hslToRgb($)).values:$.values;return o=o.map(a=>($.type!=="color"&&(a/=255),a<=.03928?a/12.92:((a+.055)/1.055)**2.4)),Number((.2126*o[0]+.7152*o[1]+.0722*o[2]).toFixed(3))}function getContrastRatio($,o){const a=getLuminance($),j=getLuminance(o);return(Math.max(a,j)+.05)/(Math.min(a,j)+.05)}function alpha($,o){return $=decomposeColor($),o=clamp$1(o),($.type==="rgb"||$.type==="hsl")&&($.type+="a"),$.type==="color"?$.values[3]=`/${o}`:$.values[3]=o,recomposeColor($)}function darken($,o){if($=decomposeColor($),o=clamp$1(o),$.type.indexOf("hsl")!==-1)$.values[2]*=1-o;else if($.type.indexOf("rgb")!==-1||$.type.indexOf("color")!==-1)for(let a=0;a<3;a+=1)$.values[a]*=1-o;return recomposeColor($)}function lighten($,o){if($=decomposeColor($),o=clamp$1(o),$.type.indexOf("hsl")!==-1)$.values[2]+=(100-$.values[2])*o;else if($.type.indexOf("rgb")!==-1)for(let a=0;a<3;a+=1)$.values[a]+=(255-$.values[a])*o;else if($.type.indexOf("color")!==-1)for(let a=0;a<3;a+=1)$.values[a]+=(1-$.values[a])*o;return recomposeColor($)}const _excluded$C=["component","direction","spacing","divider","children","className"],defaultTheme$2=createTheme$1(),defaultCreateStyledComponent=systemStyled("div",{name:"MuiStack",slot:"Root",overridesResolver:($,o)=>o.root});function useThemePropsDefault($){return useThemeProps$1({props:$,name:"MuiStack",defaultTheme:defaultTheme$2})}function joinChildren($,o){const a=reactExports.Children.toArray($).filter(Boolean);return a.reduce((j,_e,et)=>(j.push(_e),et<a.length-1&&j.push(reactExports.cloneElement(o,{key:`separator-${et}`})),j),[])}const getSideFromDirection=$=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[$],style=({ownerState:$,theme:o})=>{let a=_extends$1({display:"flex",flexDirection:"column"},handleBreakpoints({theme:o},resolveBreakpointValues({values:$.direction,breakpoints:o.breakpoints.values}),j=>({flexDirection:j})));if($.spacing){const j=createUnarySpacing(o),_e=Object.keys(o.breakpoints.values).reduce((rt,it)=>((typeof $.spacing=="object"&&$.spacing[it]!=null||typeof $.direction=="object"&&$.direction[it]!=null)&&(rt[it]=!0),rt),{}),et=resolveBreakpointValues({values:$.direction,base:_e}),tt=resolveBreakpointValues({values:$.spacing,base:_e});typeof et=="object"&&Object.keys(et).forEach((rt,it,ot)=>{if(!et[rt]){const ct=it>0?et[ot[it-1]]:"column";et[rt]=ct}}),a=deepmerge(a,handleBreakpoints({theme:o},tt,(rt,it)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${getSideFromDirection(it?et[it]:$.direction)}`]:getValue(j,rt)}})))}return a=mergeBreakpointsInOrder(o.breakpoints,a),a};function createStack($={}){const{createStyledComponent:o=defaultCreateStyledComponent,useThemeProps:a=useThemePropsDefault,componentName:j="MuiStack"}=$,_e=()=>composeClasses({root:["root"]},rt=>generateUtilityClass(j,rt),{}),et=o(style);return reactExports.forwardRef(function(rt,it){const ot=a(rt),at=extendSxProp(ot),{component:ct="div",direction:ut="column",spacing:dt=0,divider:ft,children:ht,className:pt}=at,yt=_objectWithoutPropertiesLoose(at,_excluded$C),gt={direction:ut,spacing:dt},bt=_e();return jsx(et,_extends$1({as:ct,ownerState:gt,ref:it,className:clsx(bt.root,pt)},yt,{children:ft?joinChildren(ht,ft):ht}))})}function createMixins($,o){return _extends$1({toolbar:{minHeight:56,[$.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[$.up("sm")]:{minHeight:64}}},o)}const _excluded$B=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$2.white,default:common$2.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$2.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$2.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark($,o,a,j){const _e=j.light||j,et=j.dark||j*1.5;$[o]||($.hasOwnProperty(a)?$[o]=$[a]:o==="light"?$.light=lighten($.main,_e):o==="dark"&&($.dark=darken($.main,et)))}function getDefaultPrimary($="light"){return $==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary($="light"){return $==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError($="light"){return $==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo($="light"){return $==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess($="light"){return $==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning($="light"){return $==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette($){const{mode:o="light",contrastThreshold:a=3,tonalOffset:j=.2}=$,_e=_objectWithoutPropertiesLoose($,_excluded$B),et=$.primary||getDefaultPrimary(o),tt=$.secondary||getDefaultSecondary(o),nt=$.error||getDefaultError(o),rt=$.info||getDefaultInfo(o),it=$.success||getDefaultSuccess(o),ot=$.warning||getDefaultWarning(o);function at(ft){return getContrastRatio(ft,dark.text.primary)>=a?dark.text.primary:light.text.primary}const ct=({color:ft,name:ht,mainShade:pt=500,lightShade:yt=300,darkShade:gt=700})=>{if(ft=_extends$1({},ft),!ft.main&&ft[pt]&&(ft.main=ft[pt]),!ft.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,ht?` (${ht})`:"",pt));if(typeof ft.main!="string")throw new Error(formatMuiErrorMessage(12,ht?` (${ht})`:"",JSON.stringify(ft.main)));return addLightOrDark(ft,"light",yt,j),addLightOrDark(ft,"dark",gt,j),ft.contrastText||(ft.contrastText=at(ft.main)),ft},ut={dark,light};return deepmerge(_extends$1({common:_extends$1({},common$2),mode:o,primary:ct({color:et,name:"primary"}),secondary:ct({color:tt,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:ct({color:nt,name:"error"}),warning:ct({color:ot,name:"warning"}),info:ct({color:rt,name:"info"}),success:ct({color:it,name:"success"}),grey:grey$1,contrastThreshold:a,getContrastText:at,augmentColor:ct,tonalOffset:j},ut[o]),_e)}const _excluded$A=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round($){return Math.round($*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography($,o){const a=typeof o=="function"?o($):o,{fontFamily:j=defaultFontFamily,fontSize:_e=14,fontWeightLight:et=300,fontWeightRegular:tt=400,fontWeightMedium:nt=500,fontWeightBold:rt=700,htmlFontSize:it=16,allVariants:ot,pxToRem:at}=a,ct=_objectWithoutPropertiesLoose(a,_excluded$A),ut=_e/14,dt=at||(pt=>`${pt/it*ut}rem`),ft=(pt,yt,gt,bt,At)=>_extends$1({fontFamily:j,fontWeight:pt,fontSize:dt(yt),lineHeight:gt},j===defaultFontFamily?{letterSpacing:`${round(bt/yt)}em`}:{},At,ot),ht={h1:ft(et,96,1.167,-1.5),h2:ft(et,60,1.2,-.5),h3:ft(tt,48,1.167,0),h4:ft(tt,34,1.235,.25),h5:ft(tt,24,1.334,0),h6:ft(nt,20,1.6,.15),subtitle1:ft(tt,16,1.75,.15),subtitle2:ft(nt,14,1.57,.1),body1:ft(tt,16,1.5,.15),body2:ft(tt,14,1.43,.15),button:ft(nt,14,1.75,.4,caseAllCaps),caption:ft(tt,12,1.66,.4),overline:ft(tt,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge(_extends$1({htmlFontSize:it,pxToRem:dt,fontFamily:j,fontSize:_e,fontWeightLight:et,fontWeightRegular:tt,fontWeightMedium:nt,fontWeightBold:rt},ht),ct,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...$){return[`${$[0]}px ${$[1]}px ${$[2]}px ${$[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${$[4]}px ${$[5]}px ${$[6]}px ${$[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${$[8]}px ${$[9]}px ${$[10]}px ${$[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$1=shadows,_excluded$z=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs($){return`${Math.round($)}ms`}function getAutoHeightDuration($){if(!$)return 0;const o=$/36;return Math.round((4+15*o**.25+o/5)*10)}function createTransitions($){const o=_extends$1({},easing,$.easing),a=_extends$1({},duration,$.duration);return _extends$1({getAutoHeightDuration,create:(_e=["all"],et={})=>{const{duration:tt=a.standard,easing:nt=o.easeInOut,delay:rt=0}=et;return _objectWithoutPropertiesLoose(et,_excluded$z),(Array.isArray(_e)?_e:[_e]).map(it=>`${it} ${typeof tt=="string"?tt:formatMs(tt)} ${nt} ${typeof rt=="string"?rt:formatMs(rt)}`).join(",")}},$,{easing:o,duration:a})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$1=zIndex,_excluded$y=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme($={},...o){const{mixins:a={},palette:j={},transitions:_e={},typography:et={}}=$,tt=_objectWithoutPropertiesLoose($,_excluded$y);if($.vars)throw new Error(formatMuiErrorMessage(18));const nt=createPalette(j),rt=createTheme$1($);let it=deepmerge(rt,{mixins:createMixins(rt.breakpoints,a),palette:nt,shadows:shadows$1.slice(),typography:createTypography(nt,et),transitions:createTransitions(_e),zIndex:_extends$1({},zIndex$1)});return it=deepmerge(it,tt),it=o.reduce((ot,at)=>deepmerge(ot,at),it),it.unstable_sxConfig=_extends$1({},defaultSxConfig$1,tt==null?void 0:tt.unstable_sxConfig),it.unstable_sx=function(at){return styleFunctionSx$1({sx:at,theme:this})},it}const defaultTheme=createTheme(),defaultTheme$1=defaultTheme;function useTheme(){return useTheme$1(defaultTheme$1)}function useThemeProps({props:$,name:o}){return useThemeProps$1({props:$,name:o,defaultTheme:defaultTheme$1})}const rootShouldForwardProp=$=>shouldForwardProp($)&&$!=="classes",slotShouldForwardProp=shouldForwardProp,styled=createStyled({defaultTheme:defaultTheme$1,rootShouldForwardProp}),styled$1=styled,getOverlayAlpha=$=>{let o;return $<1?o=5.11916*$**2:o=4.5*Math.log($+1)+2,(o/100).toFixed(2)},getOverlayAlpha$1=getOverlayAlpha;function isHostComponent($){return typeof $=="string"}function appendOwnerState($,o,a){return $===void 0||isHostComponent($)?o:_extends$1({},o,{ownerState:_extends$1({},o.ownerState,a)})}const defaultContextValue={disableDefaultClasses:!1},ClassNameConfiguratorContext=reactExports.createContext(defaultContextValue);function useClassNamesOverride($){const{disableDefaultClasses:o}=reactExports.useContext(ClassNameConfiguratorContext);return a=>o?"":$(a)}function extractEventHandlers($,o=[]){if($===void 0)return{};const a={};return Object.keys($).filter(j=>j.match(/^on[A-Z]/)&&typeof $[j]=="function"&&!o.includes(j)).forEach(j=>{a[j]=$[j]}),a}function resolveComponentProps($,o){return typeof $=="function"?$(o):$}function omitEventHandlers($){if($===void 0)return{};const o={};return Object.keys($).filter(a=>!(a.match(/^on[A-Z]/)&&typeof $[a]=="function")).forEach(a=>{o[a]=$[a]}),o}function mergeSlotProps($){const{getSlotProps:o,additionalProps:a,externalSlotProps:j,externalForwardedProps:_e,className:et}=$;if(!o){const ut=clsx(_e==null?void 0:_e.className,j==null?void 0:j.className,et,a==null?void 0:a.className),dt=_extends$1({},a==null?void 0:a.style,_e==null?void 0:_e.style,j==null?void 0:j.style),ft=_extends$1({},a,_e,j);return ut.length>0&&(ft.className=ut),Object.keys(dt).length>0&&(ft.style=dt),{props:ft,internalRef:void 0}}const tt=extractEventHandlers(_extends$1({},_e,j)),nt=omitEventHandlers(j),rt=omitEventHandlers(_e),it=o(tt),ot=clsx(it==null?void 0:it.className,a==null?void 0:a.className,et,_e==null?void 0:_e.className,j==null?void 0:j.className),at=_extends$1({},it==null?void 0:it.style,a==null?void 0:a.style,_e==null?void 0:_e.style,j==null?void 0:j.style),ct=_extends$1({},it,a,rt,nt);return ot.length>0&&(ct.className=ot),Object.keys(at).length>0&&(ct.style=at),{props:ct,internalRef:it.ref}}const _excluded$x=["elementType","externalSlotProps","ownerState"];function useSlotProps($){var o;const{elementType:a,externalSlotProps:j,ownerState:_e}=$,et=_objectWithoutPropertiesLoose($,_excluded$x),tt=resolveComponentProps(j,_e),{props:nt,internalRef:rt}=mergeSlotProps(_extends$1({},et,{externalSlotProps:tt})),it=useForkRef(rt,tt==null?void 0:tt.ref,(o=$.additionalProps)==null?void 0:o.ref);return appendOwnerState(a,_extends$1({},nt,{ref:it}),_e)}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex($){const o=parseInt($.getAttribute("tabindex")||"",10);return Number.isNaN(o)?$.contentEditable==="true"||($.nodeName==="AUDIO"||$.nodeName==="VIDEO"||$.nodeName==="DETAILS")&&$.getAttribute("tabindex")===null?0:$.tabIndex:o}function isNonTabbableRadio($){if($.tagName!=="INPUT"||$.type!=="radio"||!$.name)return!1;const o=j=>$.ownerDocument.querySelector(`input[type="radio"]${j}`);let a=o(`[name="${$.name}"]:checked`);return a||(a=o(`[name="${$.name}"]`)),a!==$}function isNodeMatchingSelectorFocusable($){return!($.disabled||$.tagName==="INPUT"&&$.type==="hidden"||isNonTabbableRadio($))}function defaultGetTabbable($){const o=[],a=[];return Array.from($.querySelectorAll(candidatesSelector)).forEach((j,_e)=>{const et=getTabIndex(j);et===-1||!isNodeMatchingSelectorFocusable(j)||(et===0?o.push(j):a.push({documentOrder:_e,tabIndex:et,node:j}))}),a.sort((j,_e)=>j.tabIndex===_e.tabIndex?j.documentOrder-_e.documentOrder:j.tabIndex-_e.tabIndex).map(j=>j.node).concat(o)}function defaultIsEnabled(){return!0}function FocusTrap($){const{children:o,disableAutoFocus:a=!1,disableEnforceFocus:j=!1,disableRestoreFocus:_e=!1,getTabbable:et=defaultGetTabbable,isEnabled:tt=defaultIsEnabled,open:nt}=$,rt=reactExports.useRef(!1),it=reactExports.useRef(null),ot=reactExports.useRef(null),at=reactExports.useRef(null),ct=reactExports.useRef(null),ut=reactExports.useRef(!1),dt=reactExports.useRef(null),ft=useForkRef(o.ref,dt),ht=reactExports.useRef(null);reactExports.useEffect(()=>{!nt||!dt.current||(ut.current=!a)},[a,nt]),reactExports.useEffect(()=>{if(!nt||!dt.current)return;const gt=ownerDocument(dt.current);return dt.current.contains(gt.activeElement)||(dt.current.hasAttribute("tabIndex")||dt.current.setAttribute("tabIndex","-1"),ut.current&&dt.current.focus()),()=>{_e||(at.current&&at.current.focus&&(rt.current=!0,at.current.focus()),at.current=null)}},[nt]),reactExports.useEffect(()=>{if(!nt||!dt.current)return;const gt=ownerDocument(dt.current),bt=Pt=>{const{current:Ct}=dt;if(Ct!==null){if(!gt.hasFocus()||j||!tt()||rt.current){rt.current=!1;return}if(!Ct.contains(gt.activeElement)){if(Pt&&ct.current!==Pt.target||gt.activeElement!==ct.current)ct.current=null;else if(ct.current!==null)return;if(!ut.current)return;let Kt=[];if((gt.activeElement===it.current||gt.activeElement===ot.current)&&(Kt=et(dt.current)),Kt.length>0){var It,Vt;const en=!!((It=ht.current)!=null&&It.shiftKey&&((Vt=ht.current)==null?void 0:Vt.key)==="Tab"),kt=Kt[0],vt=Kt[Kt.length-1];typeof kt!="string"&&typeof vt!="string"&&(en?vt.focus():kt.focus())}else Ct.focus()}}},At=Pt=>{ht.current=Pt,!(j||!tt()||Pt.key!=="Tab")&&gt.activeElement===dt.current&&Pt.shiftKey&&(rt.current=!0,ot.current&&ot.current.focus())};gt.addEventListener("focusin",bt),gt.addEventListener("keydown",At,!0);const Tt=setInterval(()=>{gt.activeElement&&gt.activeElement.tagName==="BODY"&&bt(null)},50);return()=>{clearInterval(Tt),gt.removeEventListener("focusin",bt),gt.removeEventListener("keydown",At,!0)}},[a,j,_e,tt,nt,et]);const pt=gt=>{at.current===null&&(at.current=gt.relatedTarget),ut.current=!0,ct.current=gt.target;const bt=o.props.onFocus;bt&&bt(gt)},yt=gt=>{at.current===null&&(at.current=gt.relatedTarget),ut.current=!0};return jsxs(reactExports.Fragment,{children:[jsx("div",{tabIndex:nt?0:-1,onFocus:yt,ref:it,"data-testid":"sentinelStart"}),reactExports.cloneElement(o,{ref:ft,onFocus:pt}),jsx("div",{tabIndex:nt?0:-1,onFocus:yt,ref:ot,"data-testid":"sentinelEnd"})]})}function getContainer$1($){return typeof $=="function"?$():$}const Portal=reactExports.forwardRef(function(o,a){const{children:j,container:_e,disablePortal:et=!1}=o,[tt,nt]=reactExports.useState(null),rt=useForkRef(reactExports.isValidElement(j)?j.ref:null,a);if(useEnhancedEffect$1(()=>{et||nt(getContainer$1(_e)||document.body)},[_e,et]),useEnhancedEffect$1(()=>{if(tt&&!et)return setRef(a,tt),()=>{setRef(a,null)}},[a,tt,et]),et){if(reactExports.isValidElement(j)){const it={ref:rt};return reactExports.cloneElement(j,it)}return jsx(reactExports.Fragment,{children:j})}return jsx(reactExports.Fragment,{children:tt&&reactDomExports.createPortal(j,tt)})}),Portal$1=Portal;function isOverflowing($){const o=ownerDocument($);return o.body===$?ownerWindow($).innerWidth>o.documentElement.clientWidth:$.scrollHeight>$.clientHeight}function ariaHidden($,o){o?$.setAttribute("aria-hidden","true"):$.removeAttribute("aria-hidden")}function getPaddingRight($){return parseInt(ownerWindow($).getComputedStyle($).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement($){const a=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf($.tagName)!==-1,j=$.tagName==="INPUT"&&$.getAttribute("type")==="hidden";return a||j}function ariaHiddenSiblings($,o,a,j,_e){const et=[o,a,...j];[].forEach.call($.children,tt=>{const nt=et.indexOf(tt)===-1,rt=!isAriaHiddenForbiddenOnElement(tt);nt&&rt&&ariaHidden(tt,_e)})}function findIndexOf($,o){let a=-1;return $.some((j,_e)=>o(j)?(a=_e,!0):!1),a}function handleContainer($,o){const a=[],j=$.container;if(!o.disableScrollLock){if(isOverflowing(j)){const tt=getScrollbarSize(ownerDocument(j));a.push({value:j.style.paddingRight,property:"padding-right",el:j}),j.style.paddingRight=`${getPaddingRight(j)+tt}px`;const nt=ownerDocument(j).querySelectorAll(".mui-fixed");[].forEach.call(nt,rt=>{a.push({value:rt.style.paddingRight,property:"padding-right",el:rt}),rt.style.paddingRight=`${getPaddingRight(rt)+tt}px`})}let et;if(j.parentNode instanceof DocumentFragment)et=ownerDocument(j).body;else{const tt=j.parentElement,nt=ownerWindow(j);et=(tt==null?void 0:tt.nodeName)==="HTML"&&nt.getComputedStyle(tt).overflowY==="scroll"?tt:j}a.push({value:et.style.overflow,property:"overflow",el:et},{value:et.style.overflowX,property:"overflow-x",el:et},{value:et.style.overflowY,property:"overflow-y",el:et}),et.style.overflow="hidden"}return()=>{a.forEach(({value:et,el:tt,property:nt})=>{et?tt.style.setProperty(nt,et):tt.style.removeProperty(nt)})}}function getHiddenSiblings($){const o=[];return[].forEach.call($.children,a=>{a.getAttribute("aria-hidden")==="true"&&o.push(a)}),o}class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(o,a){let j=this.modals.indexOf(o);if(j!==-1)return j;j=this.modals.length,this.modals.push(o),o.modalRef&&ariaHidden(o.modalRef,!1);const _e=getHiddenSiblings(a);ariaHiddenSiblings(a,o.mount,o.modalRef,_e,!0);const et=findIndexOf(this.containers,tt=>tt.container===a);return et!==-1?(this.containers[et].modals.push(o),j):(this.containers.push({modals:[o],container:a,restore:null,hiddenSiblings:_e}),j)}mount(o,a){const j=findIndexOf(this.containers,et=>et.modals.indexOf(o)!==-1),_e=this.containers[j];_e.restore||(_e.restore=handleContainer(_e,a))}remove(o,a=!0){const j=this.modals.indexOf(o);if(j===-1)return j;const _e=findIndexOf(this.containers,tt=>tt.modals.indexOf(o)!==-1),et=this.containers[_e];if(et.modals.splice(et.modals.indexOf(o),1),this.modals.splice(j,1),et.modals.length===0)et.restore&&et.restore(),o.modalRef&&ariaHidden(o.modalRef,a),ariaHiddenSiblings(et.container,o.mount,o.modalRef,et.hiddenSiblings,!1),this.containers.splice(_e,1);else{const tt=et.modals[et.modals.length-1];tt.modalRef&&ariaHidden(tt.modalRef,!1)}return j}isTopModal(o){return this.modals.length>0&&this.modals[this.modals.length-1]===o}}function getModalUtilityClass($){return generateUtilityClass("MuiModal",$)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const _excluded$w=["children","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],useUtilityClasses$p=$=>{const{open:o,exited:a}=$;return composeClasses({root:["root",!o&&a&&"hidden"],backdrop:["backdrop"]},useClassNamesOverride(getModalUtilityClass))};function getContainer($){return typeof $=="function"?$():$}function getHasTransition($){return $?$.props.hasOwnProperty("in"):!1}const defaultManager=new ModalManager,ModalUnstyled=reactExports.forwardRef(function(o,a){var j,_e;const{children:et,closeAfterTransition:tt=!1,component:nt,container:rt,disableAutoFocus:it=!1,disableEnforceFocus:ot=!1,disableEscapeKeyDown:at=!1,disablePortal:ct=!1,disableRestoreFocus:ut=!1,disableScrollLock:dt=!1,hideBackdrop:ft=!1,keepMounted:ht=!1,manager:pt=defaultManager,onBackdropClick:yt,onClose:gt,onKeyDown:bt,open:At,onTransitionEnter:Tt,onTransitionExited:Pt,slotProps:Ct={},slots:It={}}=o,Vt=_objectWithoutPropertiesLoose(o,_excluded$w),[Kt,en]=reactExports.useState(!At),kt=reactExports.useRef({}),vt=reactExports.useRef(null),St=reactExports.useRef(null),Lt=useForkRef(St,a),zt=getHasTransition(et),Rt=(j=o["aria-hidden"])!=null?j:!0,$t=()=>ownerDocument(vt.current),Gt=()=>(kt.current.modalRef=St.current,kt.current.mountNode=vt.current,kt.current),Ft=()=>{pt.mount(Gt(),{disableScrollLock:dt}),St.current&&(St.current.scrollTop=0)},wt=useEventCallback(()=>{const Rn=getContainer(rt)||$t().body;pt.add(Gt(),Rn),St.current&&Ft()}),Ht=reactExports.useCallback(()=>pt.isTopModal(Gt()),[pt]),nn=useEventCallback(Rn=>{vt.current=Rn,!(!Rn||!St.current)&&(At&&Ht()?Ft():ariaHidden(St.current,Rt))}),Dt=reactExports.useCallback(()=>{pt.remove(Gt(),Rt)},[pt,Rt]);reactExports.useEffect(()=>()=>{Dt()},[Dt]),reactExports.useEffect(()=>{At?wt():(!zt||!tt)&&Dt()},[At,Dt,zt,tt,wt]);const Jt=_extends$1({},o,{closeAfterTransition:tt,disableAutoFocus:it,disableEnforceFocus:ot,disableEscapeKeyDown:at,disablePortal:ct,disableRestoreFocus:ut,disableScrollLock:dt,exited:Kt,hideBackdrop:ft,keepMounted:ht}),on=useUtilityClasses$p(Jt),sn=()=>{en(!1),Tt&&Tt()},dn=()=>{en(!0),Pt&&Pt(),tt&&Dt()},mn=Rn=>{Rn.target===Rn.currentTarget&&(yt&&yt(Rn),gt&&gt(Rn,"backdropClick"))},ln=Rn=>{bt&&bt(Rn),!(Rn.key!=="Escape"||!Ht())&&(at||(Rn.stopPropagation(),gt&&gt(Rn,"escapeKeyDown")))},tn={};et.props.tabIndex===void 0&&(tn.tabIndex="-1"),zt&&(tn.onEnter=createChainedFunction(sn,et.props.onEnter),tn.onExited=createChainedFunction(dn,et.props.onExited));const cn=(_e=nt??It.root)!=null?_e:"div",pn=useSlotProps({elementType:cn,externalSlotProps:Ct.root,externalForwardedProps:Vt,additionalProps:{ref:Lt,role:"presentation",onKeyDown:ln},className:on.root,ownerState:Jt}),Mn=It.backdrop,In=useSlotProps({elementType:Mn,externalSlotProps:Ct.backdrop,additionalProps:{"aria-hidden":!0,onClick:mn,open:At},className:on.backdrop,ownerState:Jt});return!ht&&!At&&(!zt||Kt)?null:jsx(Portal$1,{ref:nn,container:rt,disablePortal:ct,children:jsxs(cn,_extends$1({},pn,{children:[!ft&&Mn?jsx(Mn,_extends$1({},In)):null,jsx(FocusTrap,{disableEnforceFocus:ot,disableAutoFocus:it,disableRestoreFocus:ut,isEnabled:Ht,open:At,children:reactExports.cloneElement(et,tn)})]}))})}),ModalUnstyled$1=ModalUnstyled,_excluded$v=["onChange","maxRows","minRows","style","value"];function getStyleValue($){return parseInt($,10)||0}const styles$2={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isEmpty$1($){return $==null||Object.keys($).length===0||$.outerHeightStyle===0&&!$.overflow}const TextareaAutosize=reactExports.forwardRef(function(o,a){const{onChange:j,maxRows:_e,minRows:et=1,style:tt,value:nt}=o,rt=_objectWithoutPropertiesLoose(o,_excluded$v),{current:it}=reactExports.useRef(nt!=null),ot=reactExports.useRef(null),at=useForkRef(a,ot),ct=reactExports.useRef(null),ut=reactExports.useRef(0),[dt,ft]=reactExports.useState({outerHeightStyle:0}),ht=reactExports.useCallback(()=>{const At=ot.current,Pt=ownerWindow(At).getComputedStyle(At);if(Pt.width==="0px")return{outerHeightStyle:0};const Ct=ct.current;Ct.style.width=Pt.width,Ct.value=At.value||o.placeholder||"x",Ct.value.slice(-1)===`
`&&(Ct.value+=" ");const It=Pt.boxSizing,Vt=getStyleValue(Pt.paddingBottom)+getStyleValue(Pt.paddingTop),Kt=getStyleValue(Pt.borderBottomWidth)+getStyleValue(Pt.borderTopWidth),en=Ct.scrollHeight;Ct.value="x";const kt=Ct.scrollHeight;let vt=en;et&&(vt=Math.max(Number(et)*kt,vt)),_e&&(vt=Math.min(Number(_e)*kt,vt)),vt=Math.max(vt,kt);const St=vt+(It==="border-box"?Vt+Kt:0),Lt=Math.abs(vt-en)<=1;return{outerHeightStyle:St,overflow:Lt}},[_e,et,o.placeholder]),pt=(At,Tt)=>{const{outerHeightStyle:Pt,overflow:Ct}=Tt;return ut.current<20&&(Pt>0&&Math.abs((At.outerHeightStyle||0)-Pt)>1||At.overflow!==Ct)?(ut.current+=1,{overflow:Ct,outerHeightStyle:Pt}):At},yt=reactExports.useCallback(()=>{const At=ht();isEmpty$1(At)||ft(Tt=>pt(Tt,At))},[ht]),gt=()=>{const At=ht();isEmpty$1(At)||reactDomExports.flushSync(()=>{ft(Tt=>pt(Tt,At))})};reactExports.useEffect(()=>{const At=debounce$1(()=>{ut.current=0,ot.current&&gt()});let Tt;const Pt=ot.current,Ct=ownerWindow(Pt);return Ct.addEventListener("resize",At),typeof ResizeObserver<"u"&&(Tt=new ResizeObserver(At),Tt.observe(Pt)),()=>{At.clear(),Ct.removeEventListener("resize",At),Tt&&Tt.disconnect()}}),useEnhancedEffect$1(()=>{yt()}),reactExports.useEffect(()=>{ut.current=0},[nt]);const bt=At=>{ut.current=0,it||yt(),j&&j(At)};return jsxs(reactExports.Fragment,{children:[jsx("textarea",_extends$1({value:nt,onChange:bt,ref:at,rows:et,style:_extends$1({height:dt.outerHeightStyle,overflow:dt.overflow?"hidden":void 0},tt)},rt)),jsx("textarea",{"aria-hidden":!0,className:o.className,readOnly:!0,ref:ct,tabIndex:-1,style:_extends$1({},styles$2.shadow,tt,{padding:0})})]})}),TextareaAutosize$1=TextareaAutosize;function getSvgIconUtilityClass($){return generateUtilityClass("MuiSvgIcon",$)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$u=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$o=$=>{const{color:o,fontSize:a,classes:j}=$,_e={root:["root",o!=="inherit"&&`color${capitalize(o)}`,`fontSize${capitalize(a)}`]};return composeClasses(_e,getSvgIconUtilityClass,j)},SvgIconRoot=styled$1("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.root,a.color!=="inherit"&&o[`color${capitalize(a.color)}`],o[`fontSize${capitalize(a.fontSize)}`]]}})(({theme:$,ownerState:o})=>{var a,j,_e,et,tt,nt,rt,it,ot,at,ct,ut,dt,ft,ht,pt,yt;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(a=$.transitions)==null||(j=a.create)==null?void 0:j.call(a,"fill",{duration:(_e=$.transitions)==null||(et=_e.duration)==null?void 0:et.shorter}),fontSize:{inherit:"inherit",small:((tt=$.typography)==null||(nt=tt.pxToRem)==null?void 0:nt.call(tt,20))||"1.25rem",medium:((rt=$.typography)==null||(it=rt.pxToRem)==null?void 0:it.call(rt,24))||"1.5rem",large:((ot=$.typography)==null||(at=ot.pxToRem)==null?void 0:at.call(ot,35))||"2.1875rem"}[o.fontSize],color:(ct=(ut=($.vars||$).palette)==null||(dt=ut[o.color])==null?void 0:dt.main)!=null?ct:{action:(ft=($.vars||$).palette)==null||(ht=ft.action)==null?void 0:ht.active,disabled:(pt=($.vars||$).palette)==null||(yt=pt.action)==null?void 0:yt.disabled,inherit:void 0}[o.color]}}),SvgIcon=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiSvgIcon"}),{children:_e,className:et,color:tt="inherit",component:nt="svg",fontSize:rt="medium",htmlColor:it,inheritViewBox:ot=!1,titleAccess:at,viewBox:ct="0 0 24 24"}=j,ut=_objectWithoutPropertiesLoose(j,_excluded$u),dt=_extends$1({},j,{color:tt,component:nt,fontSize:rt,instanceFontSize:o.fontSize,inheritViewBox:ot,viewBox:ct}),ft={};ot||(ft.viewBox=ct);const ht=useUtilityClasses$o(dt);return jsxs(SvgIconRoot,_extends$1({as:nt,className:clsx(ht.root,et),focusable:"false",color:it,"aria-hidden":at?void 0:!0,role:at?"img":void 0,ref:a},ft,ut,{ownerState:dt,children:[_e,at?jsx("title",{children:at}):null]}))});SvgIcon.muiName="SvgIcon";const SvgIcon$1=SvgIcon;function createSvgIcon($,o){function a(j,_e){return jsx(SvgIcon$1,_extends$1({"data-testid":`${o}Icon`,ref:_e},j,{children:$}))}return a.muiName=SvgIcon$1.muiName,reactExports.memo(reactExports.forwardRef(a))}function _setPrototypeOf($,o){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf($,o)}function _inheritsLoose$1($,o){$.prototype=Object.create(o.prototype),$.prototype.constructor=$,_setPrototypeOf($,o)}const config={disabled:!1},TransitionGroupContext=React$1.createContext(null);var forceReflow=function(o){return o.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function($){_inheritsLoose$1(o,$);function o(j,_e){var et;et=$.call(this,j,_e)||this;var tt=_e,nt=tt&&!tt.isMounting?j.enter:j.appear,rt;return et.appearStatus=null,j.in?nt?(rt=EXITED,et.appearStatus=ENTERING):rt=ENTERED:j.unmountOnExit||j.mountOnEnter?rt=UNMOUNTED:rt=EXITED,et.state={status:rt},et.nextCallback=null,et}o.getDerivedStateFromProps=function(_e,et){var tt=_e.in;return tt&&et.status===UNMOUNTED?{status:EXITED}:null};var a=o.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(_e){var et=null;if(_e!==this.props){var tt=this.state.status;this.props.in?tt!==ENTERING&&tt!==ENTERED&&(et=ENTERING):(tt===ENTERING||tt===ENTERED)&&(et=EXITING)}this.updateStatus(!1,et)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var _e=this.props.timeout,et,tt,nt;return et=tt=nt=_e,_e!=null&&typeof _e!="number"&&(et=_e.exit,tt=_e.enter,nt=_e.appear!==void 0?_e.appear:tt),{exit:et,enter:tt,appear:nt}},a.updateStatus=function(_e,et){if(_e===void 0&&(_e=!1),et!==null)if(this.cancelNextCallback(),et===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var tt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);tt&&forceReflow(tt)}this.performEnter(_e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},a.performEnter=function(_e){var et=this,tt=this.props.enter,nt=this.context?this.context.isMounting:_e,rt=this.props.nodeRef?[nt]:[ReactDOM.findDOMNode(this),nt],it=rt[0],ot=rt[1],at=this.getTimeouts(),ct=nt?at.appear:at.enter;if(!_e&&!tt||config.disabled){this.safeSetState({status:ENTERED},function(){et.props.onEntered(it)});return}this.props.onEnter(it,ot),this.safeSetState({status:ENTERING},function(){et.props.onEntering(it,ot),et.onTransitionEnd(ct,function(){et.safeSetState({status:ENTERED},function(){et.props.onEntered(it,ot)})})})},a.performExit=function(){var _e=this,et=this.props.exit,tt=this.getTimeouts(),nt=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!et||config.disabled){this.safeSetState({status:EXITED},function(){_e.props.onExited(nt)});return}this.props.onExit(nt),this.safeSetState({status:EXITING},function(){_e.props.onExiting(nt),_e.onTransitionEnd(tt.exit,function(){_e.safeSetState({status:EXITED},function(){_e.props.onExited(nt)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(_e,et){et=this.setNextCallback(et),this.setState(_e,et)},a.setNextCallback=function(_e){var et=this,tt=!0;return this.nextCallback=function(nt){tt&&(tt=!1,et.nextCallback=null,_e(nt))},this.nextCallback.cancel=function(){tt=!1},this.nextCallback},a.onTransitionEnd=function(_e,et){this.setNextCallback(et);var tt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),nt=_e==null&&!this.props.addEndListener;if(!tt||nt){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var rt=this.props.nodeRef?[this.nextCallback]:[tt,this.nextCallback],it=rt[0],ot=rt[1];this.props.addEndListener(it,ot)}_e!=null&&setTimeout(this.nextCallback,_e)},a.render=function(){var _e=this.state.status;if(_e===UNMOUNTED)return null;var et=this.props,tt=et.children;et.in,et.mountOnEnter,et.unmountOnExit,et.appear,et.enter,et.exit,et.timeout,et.addEndListener,et.onEnter,et.onEntering,et.onEntered,et.onExit,et.onExiting,et.onExited,et.nodeRef;var nt=_objectWithoutPropertiesLoose(et,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React$1.createElement(TransitionGroupContext.Provider,{value:null},typeof tt=="function"?tt(_e,nt):React$1.cloneElement(React$1.Children.only(tt),nt))},o}(React$1.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$2(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$2,onEntering:noop$2,onEntered:noop$2,onExit:noop$2,onExiting:noop$2,onExited:noop$2};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;function _assertThisInitialized($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function getChildMapping($,o){var a=function(et){return o&&reactExports.isValidElement(et)?o(et):et},j=Object.create(null);return $&&reactExports.Children.map($,function(_e){return _e}).forEach(function(_e){j[_e.key]=a(_e)}),j}function mergeChildMappings($,o){$=$||{},o=o||{};function a(ot){return ot in o?o[ot]:$[ot]}var j=Object.create(null),_e=[];for(var et in $)et in o?_e.length&&(j[et]=_e,_e=[]):_e.push(et);var tt,nt={};for(var rt in o){if(j[rt])for(tt=0;tt<j[rt].length;tt++){var it=j[rt][tt];nt[j[rt][tt]]=a(it)}nt[rt]=a(rt)}for(tt=0;tt<_e.length;tt++)nt[_e[tt]]=a(_e[tt]);return nt}function getProp($,o,a){return a[o]!=null?a[o]:$.props[o]}function getInitialChildMapping($,o){return getChildMapping($.children,function(a){return reactExports.cloneElement(a,{onExited:o.bind(null,a),in:!0,appear:getProp(a,"appear",$),enter:getProp(a,"enter",$),exit:getProp(a,"exit",$)})})}function getNextChildMapping($,o,a){var j=getChildMapping($.children),_e=mergeChildMappings(o,j);return Object.keys(_e).forEach(function(et){var tt=_e[et];if(reactExports.isValidElement(tt)){var nt=et in o,rt=et in j,it=o[et],ot=reactExports.isValidElement(it)&&!it.props.in;rt&&(!nt||ot)?_e[et]=reactExports.cloneElement(tt,{onExited:a.bind(null,tt),in:!0,exit:getProp(tt,"exit",$),enter:getProp(tt,"enter",$)}):!rt&&nt&&!ot?_e[et]=reactExports.cloneElement(tt,{in:!1}):rt&&nt&&reactExports.isValidElement(it)&&(_e[et]=reactExports.cloneElement(tt,{onExited:a.bind(null,tt),in:it.props.in,exit:getProp(tt,"exit",$),enter:getProp(tt,"enter",$)}))}}),_e}var values=Object.values||function($){return Object.keys($).map(function(o){return $[o]})},defaultProps={component:"div",childFactory:function(o){return o}},TransitionGroup=function($){_inheritsLoose$1(o,$);function o(j,_e){var et;et=$.call(this,j,_e)||this;var tt=et.handleExited.bind(_assertThisInitialized(et));return et.state={contextValue:{isMounting:!0},handleExited:tt,firstRender:!0},et}var a=o.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},o.getDerivedStateFromProps=function(_e,et){var tt=et.children,nt=et.handleExited,rt=et.firstRender;return{children:rt?getInitialChildMapping(_e,nt):getNextChildMapping(_e,tt,nt),firstRender:!1}},a.handleExited=function(_e,et){var tt=getChildMapping(this.props.children);_e.key in tt||(_e.props.onExited&&_e.props.onExited(et),this.mounted&&this.setState(function(nt){var rt=_extends$1({},nt.children);return delete rt[_e.key],{children:rt}}))},a.render=function(){var _e=this.props,et=_e.component,tt=_e.childFactory,nt=_objectWithoutPropertiesLoose(_e,["component","childFactory"]),rt=this.state.contextValue,it=values(this.state.children).map(tt);return delete nt.appear,delete nt.enter,delete nt.exit,et===null?React$1.createElement(TransitionGroupContext.Provider,{value:rt},it):React$1.createElement(TransitionGroupContext.Provider,{value:rt},React$1.createElement(et,nt,it))},o}(React$1.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;const TransitionGroup$1=TransitionGroup,reflow=$=>$.scrollTop;function getTransitionProps($,o){var a,j;const{timeout:_e,easing:et,style:tt={}}=$;return{duration:(a=tt.transitionDuration)!=null?a:typeof _e=="number"?_e:_e[o.mode]||0,easing:(j=tt.transitionTimingFunction)!=null?j:typeof et=="object"?et[o.mode]:et,delay:tt.transitionDelay}}function getPaperUtilityClass($){return generateUtilityClass("MuiPaper",$)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$t=["className","component","elevation","square","variant"],useUtilityClasses$n=$=>{const{square:o,elevation:a,variant:j,classes:_e}=$,et={root:["root",j,!o&&"rounded",j==="elevation"&&`elevation${a}`]};return composeClasses(et,getPaperUtilityClass,_e)},PaperRoot=styled$1("div",{name:"MuiPaper",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.root,o[a.variant],!a.square&&o.rounded,a.variant==="elevation"&&o[`elevation${a.elevation}`]]}})(({theme:$,ownerState:o})=>{var a;return _extends$1({backgroundColor:($.vars||$).palette.background.paper,color:($.vars||$).palette.text.primary,transition:$.transitions.create("box-shadow")},!o.square&&{borderRadius:$.shape.borderRadius},o.variant==="outlined"&&{border:`1px solid ${($.vars||$).palette.divider}`},o.variant==="elevation"&&_extends$1({boxShadow:($.vars||$).shadows[o.elevation]},!$.vars&&$.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha("#fff",getOverlayAlpha$1(o.elevation))}, ${alpha("#fff",getOverlayAlpha$1(o.elevation))})`},$.vars&&{backgroundImage:(a=$.vars.overlays)==null?void 0:a[o.elevation]}))}),Paper=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiPaper"}),{className:_e,component:et="div",elevation:tt=1,square:nt=!1,variant:rt="elevation"}=j,it=_objectWithoutPropertiesLoose(j,_excluded$t),ot=_extends$1({},j,{component:et,elevation:tt,square:nt,variant:rt}),at=useUtilityClasses$n(ot);return jsx(PaperRoot,_extends$1({as:et,ownerState:ot,className:clsx(at.root,_e),ref:a},it))}),Paper$1=Paper;function Ripple($){const{className:o,classes:a,pulsate:j=!1,rippleX:_e,rippleY:et,rippleSize:tt,in:nt,onExited:rt,timeout:it}=$,[ot,at]=reactExports.useState(!1),ct=clsx(o,a.ripple,a.rippleVisible,j&&a.ripplePulsate),ut={width:tt,height:tt,top:-(tt/2)+et,left:-(tt/2)+_e},dt=clsx(a.child,ot&&a.childLeaving,j&&a.childPulsate);return!nt&&!ot&&at(!0),reactExports.useEffect(()=>{if(!nt&&rt!=null){const ft=setTimeout(rt,it);return()=>{clearTimeout(ft)}}},[rt,nt,it]),jsx("span",{className:ct,style:ut,children:jsx("span",{className:dt})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),touchRippleClasses$1=touchRippleClasses,_excluded$s=["center","classes","className"];let _=$=>$,_t,_t2,_t3,_t4;const DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes(_t||(_t=_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=keyframes(_t2||(_t2=_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=keyframes(_t3||(_t3=_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=styled$1("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled$1(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4||(_t4=_`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),touchRippleClasses$1.rippleVisible,enterKeyframe,DURATION,({theme:$})=>$.transitions.easing.easeInOut,touchRippleClasses$1.ripplePulsate,({theme:$})=>$.transitions.duration.shorter,touchRippleClasses$1.child,touchRippleClasses$1.childLeaving,exitKeyframe,DURATION,({theme:$})=>$.transitions.easing.easeInOut,touchRippleClasses$1.childPulsate,pulsateKeyframe,({theme:$})=>$.transitions.easing.easeInOut),TouchRipple=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiTouchRipple"}),{center:_e=!1,classes:et={},className:tt}=j,nt=_objectWithoutPropertiesLoose(j,_excluded$s),[rt,it]=reactExports.useState([]),ot=reactExports.useRef(0),at=reactExports.useRef(null);reactExports.useEffect(()=>{at.current&&(at.current(),at.current=null)},[rt]);const ct=reactExports.useRef(!1),ut=reactExports.useRef(null),dt=reactExports.useRef(null),ft=reactExports.useRef(null);reactExports.useEffect(()=>()=>{clearTimeout(ut.current)},[]);const ht=reactExports.useCallback(bt=>{const{pulsate:At,rippleX:Tt,rippleY:Pt,rippleSize:Ct,cb:It}=bt;it(Vt=>[...Vt,jsx(TouchRippleRipple,{classes:{ripple:clsx(et.ripple,touchRippleClasses$1.ripple),rippleVisible:clsx(et.rippleVisible,touchRippleClasses$1.rippleVisible),ripplePulsate:clsx(et.ripplePulsate,touchRippleClasses$1.ripplePulsate),child:clsx(et.child,touchRippleClasses$1.child),childLeaving:clsx(et.childLeaving,touchRippleClasses$1.childLeaving),childPulsate:clsx(et.childPulsate,touchRippleClasses$1.childPulsate)},timeout:DURATION,pulsate:At,rippleX:Tt,rippleY:Pt,rippleSize:Ct},ot.current)]),ot.current+=1,at.current=It},[et]),pt=reactExports.useCallback((bt={},At={},Tt=()=>{})=>{const{pulsate:Pt=!1,center:Ct=_e||At.pulsate,fakeElement:It=!1}=At;if((bt==null?void 0:bt.type)==="mousedown"&&ct.current){ct.current=!1;return}(bt==null?void 0:bt.type)==="touchstart"&&(ct.current=!0);const Vt=It?null:ft.current,Kt=Vt?Vt.getBoundingClientRect():{width:0,height:0,left:0,top:0};let en,kt,vt;if(Ct||bt===void 0||bt.clientX===0&&bt.clientY===0||!bt.clientX&&!bt.touches)en=Math.round(Kt.width/2),kt=Math.round(Kt.height/2);else{const{clientX:St,clientY:Lt}=bt.touches&&bt.touches.length>0?bt.touches[0]:bt;en=Math.round(St-Kt.left),kt=Math.round(Lt-Kt.top)}if(Ct)vt=Math.sqrt((2*Kt.width**2+Kt.height**2)/3),vt%2===0&&(vt+=1);else{const St=Math.max(Math.abs((Vt?Vt.clientWidth:0)-en),en)*2+2,Lt=Math.max(Math.abs((Vt?Vt.clientHeight:0)-kt),kt)*2+2;vt=Math.sqrt(St**2+Lt**2)}bt!=null&&bt.touches?dt.current===null&&(dt.current=()=>{ht({pulsate:Pt,rippleX:en,rippleY:kt,rippleSize:vt,cb:Tt})},ut.current=setTimeout(()=>{dt.current&&(dt.current(),dt.current=null)},DELAY_RIPPLE)):ht({pulsate:Pt,rippleX:en,rippleY:kt,rippleSize:vt,cb:Tt})},[_e,ht]),yt=reactExports.useCallback(()=>{pt({},{pulsate:!0})},[pt]),gt=reactExports.useCallback((bt,At)=>{if(clearTimeout(ut.current),(bt==null?void 0:bt.type)==="touchend"&&dt.current){dt.current(),dt.current=null,ut.current=setTimeout(()=>{gt(bt,At)});return}dt.current=null,it(Tt=>Tt.length>0?Tt.slice(1):Tt),at.current=At},[]);return reactExports.useImperativeHandle(a,()=>({pulsate:yt,start:pt,stop:gt}),[yt,pt,gt]),jsx(TouchRippleRoot,_extends$1({className:clsx(touchRippleClasses$1.root,et.root,tt),ref:ft},nt,{children:jsx(TransitionGroup$1,{component:null,exit:!0,children:rt})}))}),TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass($){return generateUtilityClass("MuiButtonBase",$)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),buttonBaseClasses$1=buttonBaseClasses,_excluded$r=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$m=$=>{const{disabled:o,focusVisible:a,focusVisibleClassName:j,classes:_e}=$,tt=composeClasses({root:["root",o&&"disabled",a&&"focusVisible"]},getButtonBaseUtilityClass,_e);return a&&j&&(tt.root+=` ${j}`),tt},ButtonBaseRoot=styled$1("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:($,o)=>o.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses$1.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiButtonBase"}),{action:_e,centerRipple:et=!1,children:tt,className:nt,component:rt="button",disabled:it=!1,disableRipple:ot=!1,disableTouchRipple:at=!1,focusRipple:ct=!1,LinkComponent:ut="a",onBlur:dt,onClick:ft,onContextMenu:ht,onDragLeave:pt,onFocus:yt,onFocusVisible:gt,onKeyDown:bt,onKeyUp:At,onMouseDown:Tt,onMouseLeave:Pt,onMouseUp:Ct,onTouchEnd:It,onTouchMove:Vt,onTouchStart:Kt,tabIndex:en=0,TouchRippleProps:kt,touchRippleRef:vt,type:St}=j,Lt=_objectWithoutPropertiesLoose(j,_excluded$r),zt=reactExports.useRef(null),Rt=reactExports.useRef(null),$t=useForkRef(Rt,vt),{isFocusVisibleRef:Gt,onFocus:Ft,onBlur:wt,ref:Ht}=useIsFocusVisible(),[nn,Dt]=reactExports.useState(!1);it&&nn&&Dt(!1),reactExports.useImperativeHandle(_e,()=>({focusVisible:()=>{Dt(!0),zt.current.focus()}}),[]);const[Jt,on]=reactExports.useState(!1);reactExports.useEffect(()=>{on(!0)},[]);const sn=Jt&&!ot&&!it;reactExports.useEffect(()=>{nn&&ct&&!ot&&Jt&&Rt.current.pulsate()},[ot,ct,nn,Jt]);function dn(Et,Ut,Qt=at){return useEventCallback(Wt=>(Ut&&Ut(Wt),!Qt&&Rt.current&&Rt.current[Et](Wt),!0))}const mn=dn("start",Tt),ln=dn("stop",ht),tn=dn("stop",pt),cn=dn("stop",Ct),pn=dn("stop",Et=>{nn&&Et.preventDefault(),Pt&&Pt(Et)}),Mn=dn("start",Kt),In=dn("stop",It),Rn=dn("stop",Vt),Ln=dn("stop",Et=>{wt(Et),Gt.current===!1&&Dt(!1),dt&&dt(Et)},!1),Fn=useEventCallback(Et=>{zt.current||(zt.current=Et.currentTarget),Ft(Et),Gt.current===!0&&(Dt(!0),gt&&gt(Et)),yt&&yt(Et)}),Un=()=>{const Et=zt.current;return rt&&rt!=="button"&&!(Et.tagName==="A"&&Et.href)},Nn=reactExports.useRef(!1),Xt=useEventCallback(Et=>{ct&&!Nn.current&&nn&&Rt.current&&Et.key===" "&&(Nn.current=!0,Rt.current.stop(Et,()=>{Rt.current.start(Et)})),Et.target===Et.currentTarget&&Un()&&Et.key===" "&&Et.preventDefault(),bt&&bt(Et),Et.target===Et.currentTarget&&Un()&&Et.key==="Enter"&&!it&&(Et.preventDefault(),ft&&ft(Et))}),jt=useEventCallback(Et=>{ct&&Et.key===" "&&Rt.current&&nn&&!Et.defaultPrevented&&(Nn.current=!1,Rt.current.stop(Et,()=>{Rt.current.pulsate(Et)})),At&&At(Et),ft&&Et.target===Et.currentTarget&&Un()&&Et.key===" "&&!Et.defaultPrevented&&ft(Et)});let un=rt;un==="button"&&(Lt.href||Lt.to)&&(un=ut);const Tn={};un==="button"?(Tn.type=St===void 0?"button":St,Tn.disabled=it):(!Lt.href&&!Lt.to&&(Tn.role="button"),it&&(Tn["aria-disabled"]=it));const Bn=useForkRef(a,Ht,zt),Ot=_extends$1({},j,{centerRipple:et,component:rt,disabled:it,disableRipple:ot,disableTouchRipple:at,focusRipple:ct,tabIndex:en,focusVisible:nn}),Mt=useUtilityClasses$m(Ot);return jsxs(ButtonBaseRoot,_extends$1({as:un,className:clsx(Mt.root,nt),ownerState:Ot,onBlur:Ln,onClick:ft,onContextMenu:ln,onFocus:Fn,onKeyDown:Xt,onKeyUp:jt,onMouseDown:mn,onMouseLeave:pn,onMouseUp:cn,onDragLeave:tn,onTouchEnd:In,onTouchMove:Rn,onTouchStart:Mn,ref:Bn,tabIndex:it?-1:en,type:St},Tn,Lt,{children:[tt,sn?jsx(TouchRipple$1,_extends$1({ref:$t,center:et},kt)):null]}))}),ButtonBase$1=ButtonBase;function getTypographyUtilityClass($){return generateUtilityClass("MuiTypography",$)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$q=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$l=$=>{const{align:o,gutterBottom:a,noWrap:j,paragraph:_e,variant:et,classes:tt}=$,nt={root:["root",et,$.align!=="inherit"&&`align${capitalize(o)}`,a&&"gutterBottom",j&&"noWrap",_e&&"paragraph"]};return composeClasses(nt,getTypographyUtilityClass,tt)},TypographyRoot=styled$1("span",{name:"MuiTypography",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.root,a.variant&&o[a.variant],a.align!=="inherit"&&o[`align${capitalize(a.align)}`],a.noWrap&&o.noWrap,a.gutterBottom&&o.gutterBottom,a.paragraph&&o.paragraph]}})(({theme:$,ownerState:o})=>_extends$1({margin:0},o.variant&&$.typography[o.variant],o.align!=="inherit"&&{textAlign:o.align},o.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o.gutterBottom&&{marginBottom:"0.35em"},o.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=$=>colorTransformations[$]||$,Typography=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiTypography"}),_e=transformDeprecatedColors(j.color),et=extendSxProp(_extends$1({},j,{color:_e})),{align:tt="inherit",className:nt,component:rt,gutterBottom:it=!1,noWrap:ot=!1,paragraph:at=!1,variant:ct="body1",variantMapping:ut=defaultVariantMapping}=et,dt=_objectWithoutPropertiesLoose(et,_excluded$q),ft=_extends$1({},et,{align:tt,color:_e,className:nt,component:rt,gutterBottom:it,noWrap:ot,paragraph:at,variant:ct,variantMapping:ut}),ht=rt||(at?"p":ut[ct]||defaultVariantMapping[ct])||"span",pt=useUtilityClasses$l(ft);return jsx(TypographyRoot,_extends$1({as:ht,ref:a,ownerState:ft,className:clsx(pt.root,nt)},dt))}),Typography$1=Typography;function formControlState({props:$,states:o,muiFormControl:a}){return o.reduce((j,_e)=>(j[_e]=$[_e],a&&typeof $[_e]>"u"&&(j[_e]=a[_e]),j),{})}const FormControlContext=reactExports.createContext(void 0),FormControlContext$1=FormControlContext;function useFormControl(){return reactExports.useContext(FormControlContext$1)}function GlobalStyles($){return jsx(GlobalStyles$1,_extends$1({},$,{defaultTheme:defaultTheme$1}))}function hasValue($){return $!=null&&!(Array.isArray($)&&$.length===0)}function isFilled($,o=!1){return $&&(hasValue($.value)&&$.value!==""||o&&hasValue($.defaultValue)&&$.defaultValue!=="")}function isAdornedStart($){return $.startAdornment}function getInputBaseUtilityClass($){return generateUtilityClass("MuiInputBase",$)}const inputBaseClasses=generateUtilityClasses("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),inputBaseClasses$1=inputBaseClasses,_excluded$p=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],rootOverridesResolver=($,o)=>{const{ownerState:a}=$;return[o.root,a.formControl&&o.formControl,a.startAdornment&&o.adornedStart,a.endAdornment&&o.adornedEnd,a.error&&o.error,a.size==="small"&&o.sizeSmall,a.multiline&&o.multiline,a.color&&o[`color${capitalize(a.color)}`],a.fullWidth&&o.fullWidth,a.hiddenLabel&&o.hiddenLabel]},inputOverridesResolver=($,o)=>{const{ownerState:a}=$;return[o.input,a.size==="small"&&o.inputSizeSmall,a.multiline&&o.inputMultiline,a.type==="search"&&o.inputTypeSearch,a.startAdornment&&o.inputAdornedStart,a.endAdornment&&o.inputAdornedEnd,a.hiddenLabel&&o.inputHiddenLabel]},useUtilityClasses$k=$=>{const{classes:o,color:a,disabled:j,error:_e,endAdornment:et,focused:tt,formControl:nt,fullWidth:rt,hiddenLabel:it,multiline:ot,readOnly:at,size:ct,startAdornment:ut,type:dt}=$,ft={root:["root",`color${capitalize(a)}`,j&&"disabled",_e&&"error",rt&&"fullWidth",tt&&"focused",nt&&"formControl",ct==="small"&&"sizeSmall",ot&&"multiline",ut&&"adornedStart",et&&"adornedEnd",it&&"hiddenLabel",at&&"readOnly"],input:["input",j&&"disabled",dt==="search"&&"inputTypeSearch",ot&&"inputMultiline",ct==="small"&&"inputSizeSmall",it&&"inputHiddenLabel",ut&&"inputAdornedStart",et&&"inputAdornedEnd",at&&"readOnly"]};return composeClasses(ft,getInputBaseUtilityClass,o)},InputBaseRoot=styled$1("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:$,ownerState:o})=>_extends$1({},$.typography.body1,{color:($.vars||$).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses$1.disabled}`]:{color:($.vars||$).palette.text.disabled,cursor:"default"}},o.multiline&&_extends$1({padding:"4px 0 5px"},o.size==="small"&&{paddingTop:1}),o.fullWidth&&{width:"100%"})),InputBaseComponent=styled$1("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:$,ownerState:o})=>{const a=$.palette.mode==="light",j=_extends$1({color:"currentColor"},$.vars?{opacity:$.vars.opacity.inputPlaceholder}:{opacity:a?.42:.5},{transition:$.transitions.create("opacity",{duration:$.transitions.duration.shorter})}),_e={opacity:"0 !important"},et=$.vars?{opacity:$.vars.opacity.inputPlaceholder}:{opacity:a?.42:.5};return _extends$1({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":j,"&::-moz-placeholder":j,"&:-ms-input-placeholder":j,"&::-ms-input-placeholder":j,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses$1.formControl} &`]:{"&::-webkit-input-placeholder":_e,"&::-moz-placeholder":_e,"&:-ms-input-placeholder":_e,"&::-ms-input-placeholder":_e,"&:focus::-webkit-input-placeholder":et,"&:focus::-moz-placeholder":et,"&:focus:-ms-input-placeholder":et,"&:focus::-ms-input-placeholder":et},[`&.${inputBaseClasses$1.disabled}`]:{opacity:1,WebkitTextFillColor:($.vars||$).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},o.size==="small"&&{paddingTop:1},o.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},o.type==="search"&&{MozAppearance:"textfield"})}),inputGlobalStyles=jsx(GlobalStyles,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),InputBase=reactExports.forwardRef(function(o,a){var j;const _e=useThemeProps({props:o,name:"MuiInputBase"}),{"aria-describedby":et,autoComplete:tt,autoFocus:nt,className:rt,components:it={},componentsProps:ot={},defaultValue:at,disabled:ct,disableInjectingGlobalStyles:ut,endAdornment:dt,fullWidth:ft=!1,id:ht,inputComponent:pt="input",inputProps:yt={},inputRef:gt,maxRows:bt,minRows:At,multiline:Tt=!1,name:Pt,onBlur:Ct,onChange:It,onClick:Vt,onFocus:Kt,onKeyDown:en,onKeyUp:kt,placeholder:vt,readOnly:St,renderSuffix:Lt,rows:zt,slotProps:Rt={},slots:$t={},startAdornment:Gt,type:Ft="text",value:wt}=_e,Ht=_objectWithoutPropertiesLoose(_e,_excluded$p),nn=yt.value!=null?yt.value:wt,{current:Dt}=reactExports.useRef(nn!=null),Jt=reactExports.useRef(),on=reactExports.useCallback(Mt=>{},[]),sn=useForkRef(Jt,gt,yt.ref,on),[dn,mn]=reactExports.useState(!1),ln=useFormControl(),tn=formControlState({props:_e,muiFormControl:ln,states:["color","disabled","error","hiddenLabel","size","required","filled"]});tn.focused=ln?ln.focused:dn,reactExports.useEffect(()=>{!ln&&ct&&dn&&(mn(!1),Ct&&Ct())},[ln,ct,dn,Ct]);const cn=ln&&ln.onFilled,pn=ln&&ln.onEmpty,Mn=reactExports.useCallback(Mt=>{isFilled(Mt)?cn&&cn():pn&&pn()},[cn,pn]);useEnhancedEffect$1(()=>{Dt&&Mn({value:nn})},[nn,Mn,Dt]);const In=Mt=>{if(tn.disabled){Mt.stopPropagation();return}Kt&&Kt(Mt),yt.onFocus&&yt.onFocus(Mt),ln&&ln.onFocus?ln.onFocus(Mt):mn(!0)},Rn=Mt=>{Ct&&Ct(Mt),yt.onBlur&&yt.onBlur(Mt),ln&&ln.onBlur?ln.onBlur(Mt):mn(!1)},Ln=(Mt,...Et)=>{if(!Dt){const Ut=Mt.target||Jt.current;if(Ut==null)throw new Error(formatMuiErrorMessage(1));Mn({value:Ut.value})}yt.onChange&&yt.onChange(Mt,...Et),It&&It(Mt,...Et)};reactExports.useEffect(()=>{Mn(Jt.current)},[]);const Fn=Mt=>{Jt.current&&Mt.currentTarget===Mt.target&&Jt.current.focus(),Vt&&Vt(Mt)};let Un=pt,Nn=yt;Tt&&Un==="input"&&(zt?Nn=_extends$1({type:void 0,minRows:zt,maxRows:zt},Nn):Nn=_extends$1({type:void 0,maxRows:bt,minRows:At},Nn),Un=TextareaAutosize$1);const Xt=Mt=>{Mn(Mt.animationName==="mui-auto-fill-cancel"?Jt.current:{value:"x"})};reactExports.useEffect(()=>{ln&&ln.setAdornedStart(!!Gt)},[ln,Gt]);const jt=_extends$1({},_e,{color:tn.color||"primary",disabled:tn.disabled,endAdornment:dt,error:tn.error,focused:tn.focused,formControl:ln,fullWidth:ft,hiddenLabel:tn.hiddenLabel,multiline:Tt,size:tn.size,startAdornment:Gt,type:Ft}),un=useUtilityClasses$k(jt),Tn=$t.root||it.Root||InputBaseRoot,Bn=Rt.root||ot.root||{},Ot=$t.input||it.Input||InputBaseComponent;return Nn=_extends$1({},Nn,(j=Rt.input)!=null?j:ot.input),jsxs(reactExports.Fragment,{children:[!ut&&inputGlobalStyles,jsxs(Tn,_extends$1({},Bn,!isHostComponent(Tn)&&{ownerState:_extends$1({},jt,Bn.ownerState)},{ref:a,onClick:Fn},Ht,{className:clsx(un.root,Bn.className,rt,St&&"MuiInputBase-readOnly"),children:[Gt,jsx(FormControlContext$1.Provider,{value:null,children:jsx(Ot,_extends$1({ownerState:jt,"aria-invalid":tn.error,"aria-describedby":et,autoComplete:tt,autoFocus:nt,defaultValue:at,disabled:tn.disabled,id:ht,onAnimationStart:Xt,name:Pt,placeholder:vt,readOnly:St,required:tn.required,rows:zt,value:nn,onKeyDown:en,onKeyUp:kt,type:Ft},Nn,!isHostComponent(Ot)&&{as:Un,ownerState:_extends$1({},jt,Nn.ownerState)},{ref:sn,className:clsx(un.input,Nn.className,St&&"MuiInputBase-readOnly"),onBlur:Rn,onChange:Ln,onFocus:In}))}),dt,Lt?Lt(_extends$1({},tn,{startAdornment:Gt})):null]}))]})}),InputBase$1=InputBase;function getInputUtilityClass($){return generateUtilityClass("MuiInput",$)}const inputClasses=_extends$1({},inputBaseClasses$1,generateUtilityClasses("MuiInput",["root","underline","input"])),inputClasses$1=inputClasses;function getOutlinedInputUtilityClass($){return generateUtilityClass("MuiOutlinedInput",$)}const outlinedInputClasses=_extends$1({},inputBaseClasses$1,generateUtilityClasses("MuiOutlinedInput",["root","notchedOutline","input"])),outlinedInputClasses$1=outlinedInputClasses;function getFilledInputUtilityClass($){return generateUtilityClass("MuiFilledInput",$)}const filledInputClasses=_extends$1({},inputBaseClasses$1,generateUtilityClasses("MuiFilledInput",["root","underline","input"])),filledInputClasses$1=filledInputClasses,ArrowDropDownIcon=createSvgIcon(jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),_excluded$o=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles$1={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function(o,a){const j=useTheme(),_e={enter:j.transitions.duration.enteringScreen,exit:j.transitions.duration.leavingScreen},{addEndListener:et,appear:tt=!0,children:nt,easing:rt,in:it,onEnter:ot,onEntered:at,onEntering:ct,onExit:ut,onExited:dt,onExiting:ft,style:ht,timeout:pt=_e,TransitionComponent:yt=Transition$1}=o,gt=_objectWithoutPropertiesLoose(o,_excluded$o),bt=reactExports.useRef(null),At=useForkRef(bt,nt.ref,a),Tt=vt=>St=>{if(vt){const Lt=bt.current;St===void 0?vt(Lt):vt(Lt,St)}},Pt=Tt(ct),Ct=Tt((vt,St)=>{reflow(vt);const Lt=getTransitionProps({style:ht,timeout:pt,easing:rt},{mode:"enter"});vt.style.webkitTransition=j.transitions.create("opacity",Lt),vt.style.transition=j.transitions.create("opacity",Lt),ot&&ot(vt,St)}),It=Tt(at),Vt=Tt(ft),Kt=Tt(vt=>{const St=getTransitionProps({style:ht,timeout:pt,easing:rt},{mode:"exit"});vt.style.webkitTransition=j.transitions.create("opacity",St),vt.style.transition=j.transitions.create("opacity",St),ut&&ut(vt)}),en=Tt(dt);return jsx(yt,_extends$1({appear:tt,in:it,nodeRef:bt,onEnter:Ct,onEntered:It,onEntering:Pt,onExit:Kt,onExited:en,onExiting:Vt,addEndListener:vt=>{et&&et(bt.current,vt)},timeout:pt},gt,{children:(vt,St)=>reactExports.cloneElement(nt,_extends$1({style:_extends$1({opacity:0,visibility:vt==="exited"&&!it?"hidden":void 0},styles$1[vt],ht,nt.props.style),ref:At},St))}))}),Fade$1=Fade;function getBackdropUtilityClass($){return generateUtilityClass("MuiBackdrop",$)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const _excluded$n=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],useUtilityClasses$j=$=>{const{classes:o,invisible:a}=$;return composeClasses({root:["root",a&&"invisible"]},getBackdropUtilityClass,o)},BackdropRoot=styled$1("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.root,a.invisible&&o.invisible]}})(({ownerState:$})=>_extends$1({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},$.invisible&&{backgroundColor:"transparent"})),Backdrop=reactExports.forwardRef(function(o,a){var j,_e,et;const tt=useThemeProps({props:o,name:"MuiBackdrop"}),{children:nt,className:rt,component:it="div",components:ot={},componentsProps:at={},invisible:ct=!1,open:ut,slotProps:dt={},slots:ft={},TransitionComponent:ht=Fade$1,transitionDuration:pt}=tt,yt=_objectWithoutPropertiesLoose(tt,_excluded$n),gt=_extends$1({},tt,{component:it,invisible:ct}),bt=useUtilityClasses$j(gt),At=(j=dt.root)!=null?j:at.root;return jsx(ht,_extends$1({in:ut,timeout:pt},yt,{children:jsx(BackdropRoot,_extends$1({"aria-hidden":!0},At,{as:(_e=(et=ft.root)!=null?et:ot.Root)!=null?_e:it,className:clsx(bt.root,rt,At==null?void 0:At.className),ownerState:_extends$1({},gt,At==null?void 0:At.ownerState),classes:bt,ref:a,children:nt}))}))}),Backdrop$1=Backdrop;function getButtonUtilityClass($){return generateUtilityClass("MuiButton",$)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),buttonClasses$1=buttonClasses,ButtonGroupContext=reactExports.createContext({}),ButtonGroupContext$1=ButtonGroupContext,_excluded$m=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],useUtilityClasses$i=$=>{const{color:o,disableElevation:a,fullWidth:j,size:_e,variant:et,classes:tt}=$,nt={root:["root",et,`${et}${capitalize(o)}`,`size${capitalize(_e)}`,`${et}Size${capitalize(_e)}`,o==="inherit"&&"colorInherit",a&&"disableElevation",j&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${capitalize(_e)}`],endIcon:["endIcon",`iconSize${capitalize(_e)}`]},rt=composeClasses(nt,getButtonUtilityClass,tt);return _extends$1({},tt,rt)},commonIconStyles=$=>_extends$1({},$.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},$.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},$.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=styled$1(ButtonBase$1,{shouldForwardProp:$=>rootShouldForwardProp($)||$==="classes",name:"MuiButton",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.root,o[a.variant],o[`${a.variant}${capitalize(a.color)}`],o[`size${capitalize(a.size)}`],o[`${a.variant}Size${capitalize(a.size)}`],a.color==="inherit"&&o.colorInherit,a.disableElevation&&o.disableElevation,a.fullWidth&&o.fullWidth]}})(({theme:$,ownerState:o})=>{var a,j;return _extends$1({},$.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:($.vars||$).shape.borderRadius,transition:$.transitions.create(["background-color","box-shadow","border-color","color"],{duration:$.transitions.duration.short}),"&:hover":_extends$1({textDecoration:"none",backgroundColor:$.vars?`rgba(${$.vars.palette.text.primaryChannel} / ${$.vars.palette.action.hoverOpacity})`:alpha($.palette.text.primary,$.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},o.variant==="text"&&o.color!=="inherit"&&{backgroundColor:$.vars?`rgba(${$.vars.palette[o.color].mainChannel} / ${$.vars.palette.action.hoverOpacity})`:alpha($.palette[o.color].main,$.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},o.variant==="outlined"&&o.color!=="inherit"&&{border:`1px solid ${($.vars||$).palette[o.color].main}`,backgroundColor:$.vars?`rgba(${$.vars.palette[o.color].mainChannel} / ${$.vars.palette.action.hoverOpacity})`:alpha($.palette[o.color].main,$.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},o.variant==="contained"&&{backgroundColor:($.vars||$).palette.grey.A100,boxShadow:($.vars||$).shadows[4],"@media (hover: none)":{boxShadow:($.vars||$).shadows[2],backgroundColor:($.vars||$).palette.grey[300]}},o.variant==="contained"&&o.color!=="inherit"&&{backgroundColor:($.vars||$).palette[o.color].dark,"@media (hover: none)":{backgroundColor:($.vars||$).palette[o.color].main}}),"&:active":_extends$1({},o.variant==="contained"&&{boxShadow:($.vars||$).shadows[8]}),[`&.${buttonClasses$1.focusVisible}`]:_extends$1({},o.variant==="contained"&&{boxShadow:($.vars||$).shadows[6]}),[`&.${buttonClasses$1.disabled}`]:_extends$1({color:($.vars||$).palette.action.disabled},o.variant==="outlined"&&{border:`1px solid ${($.vars||$).palette.action.disabledBackground}`},o.variant==="contained"&&{color:($.vars||$).palette.action.disabled,boxShadow:($.vars||$).shadows[0],backgroundColor:($.vars||$).palette.action.disabledBackground})},o.variant==="text"&&{padding:"6px 8px"},o.variant==="text"&&o.color!=="inherit"&&{color:($.vars||$).palette[o.color].main},o.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},o.variant==="outlined"&&o.color!=="inherit"&&{color:($.vars||$).palette[o.color].main,border:$.vars?`1px solid rgba(${$.vars.palette[o.color].mainChannel} / 0.5)`:`1px solid ${alpha($.palette[o.color].main,.5)}`},o.variant==="contained"&&{color:$.vars?$.vars.palette.text.primary:(a=(j=$.palette).getContrastText)==null?void 0:a.call(j,$.palette.grey[300]),backgroundColor:($.vars||$).palette.grey[300],boxShadow:($.vars||$).shadows[2]},o.variant==="contained"&&o.color!=="inherit"&&{color:($.vars||$).palette[o.color].contrastText,backgroundColor:($.vars||$).palette[o.color].main},o.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},o.size==="small"&&o.variant==="text"&&{padding:"4px 5px",fontSize:$.typography.pxToRem(13)},o.size==="large"&&o.variant==="text"&&{padding:"8px 11px",fontSize:$.typography.pxToRem(15)},o.size==="small"&&o.variant==="outlined"&&{padding:"3px 9px",fontSize:$.typography.pxToRem(13)},o.size==="large"&&o.variant==="outlined"&&{padding:"7px 21px",fontSize:$.typography.pxToRem(15)},o.size==="small"&&o.variant==="contained"&&{padding:"4px 10px",fontSize:$.typography.pxToRem(13)},o.size==="large"&&o.variant==="contained"&&{padding:"8px 22px",fontSize:$.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})},({ownerState:$})=>$.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses$1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses$1.disabled}`]:{boxShadow:"none"}}),ButtonStartIcon=styled$1("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.startIcon,o[`iconSize${capitalize(a.size)}`]]}})(({ownerState:$})=>_extends$1({display:"inherit",marginRight:8,marginLeft:-4},$.size==="small"&&{marginLeft:-2},commonIconStyles($))),ButtonEndIcon=styled$1("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.endIcon,o[`iconSize${capitalize(a.size)}`]]}})(({ownerState:$})=>_extends$1({display:"inherit",marginRight:-4,marginLeft:8},$.size==="small"&&{marginRight:-2},commonIconStyles($))),Button=reactExports.forwardRef(function(o,a){const j=reactExports.useContext(ButtonGroupContext$1),_e=resolveProps(j,o),et=useThemeProps({props:_e,name:"MuiButton"}),{children:tt,color:nt="primary",component:rt="button",className:it,disabled:ot=!1,disableElevation:at=!1,disableFocusRipple:ct=!1,endIcon:ut,focusVisibleClassName:dt,fullWidth:ft=!1,size:ht="medium",startIcon:pt,type:yt,variant:gt="text"}=et,bt=_objectWithoutPropertiesLoose(et,_excluded$m),At=_extends$1({},et,{color:nt,component:rt,disabled:ot,disableElevation:at,disableFocusRipple:ct,fullWidth:ft,size:ht,type:yt,variant:gt}),Tt=useUtilityClasses$i(At),Pt=pt&&jsx(ButtonStartIcon,{className:Tt.startIcon,ownerState:At,children:pt}),Ct=ut&&jsx(ButtonEndIcon,{className:Tt.endIcon,ownerState:At,children:ut});return jsxs(ButtonRoot,_extends$1({ownerState:At,className:clsx(j.className,Tt.root,it),component:rt,disabled:ot,focusRipple:!ct,focusVisibleClassName:clsx(Tt.focusVisible,dt),ref:a,type:yt},bt,{classes:Tt,children:[Pt,tt,Ct]}))}),Button$1=Button;function getCardUtilityClass($){return generateUtilityClass("MuiCard",$)}generateUtilityClasses("MuiCard",["root"]);const _excluded$l=["className","raised"],useUtilityClasses$h=$=>{const{classes:o}=$;return composeClasses({root:["root"]},getCardUtilityClass,o)},CardRoot=styled$1(Paper$1,{name:"MuiCard",slot:"Root",overridesResolver:($,o)=>o.root})(()=>({overflow:"hidden"})),Card=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiCard"}),{className:_e,raised:et=!1}=j,tt=_objectWithoutPropertiesLoose(j,_excluded$l),nt=_extends$1({},j,{raised:et}),rt=useUtilityClasses$h(nt);return jsx(CardRoot,_extends$1({className:clsx(rt.root,_e),elevation:et?8:void 0,ref:a,ownerState:nt},tt))}),Card$1=Card;function getCardActionAreaUtilityClass($){return generateUtilityClass("MuiCardActionArea",$)}const cardActionAreaClasses=generateUtilityClasses("MuiCardActionArea",["root","focusVisible","focusHighlight"]),cardActionAreaClasses$1=cardActionAreaClasses,_excluded$k=["children","className","focusVisibleClassName"],useUtilityClasses$g=$=>{const{classes:o}=$;return composeClasses({root:["root"],focusHighlight:["focusHighlight"]},getCardActionAreaUtilityClass,o)},CardActionAreaRoot=styled$1(ButtonBase$1,{name:"MuiCardActionArea",slot:"Root",overridesResolver:($,o)=>o.root})(({theme:$})=>({display:"block",textAlign:"inherit",width:"100%",[`&:hover .${cardActionAreaClasses$1.focusHighlight}`]:{opacity:($.vars||$).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${cardActionAreaClasses$1.focusVisible} .${cardActionAreaClasses$1.focusHighlight}`]:{opacity:($.vars||$).palette.action.focusOpacity}})),CardActionAreaFocusHighlight=styled$1("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:($,o)=>o.focusHighlight})(({theme:$})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:$.transitions.create("opacity",{duration:$.transitions.duration.short})})),CardActionArea=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiCardActionArea"}),{children:_e,className:et,focusVisibleClassName:tt}=j,nt=_objectWithoutPropertiesLoose(j,_excluded$k),rt=j,it=useUtilityClasses$g(rt);return jsxs(CardActionAreaRoot,_extends$1({className:clsx(it.root,et),focusVisibleClassName:clsx(tt,it.focusVisible),ref:a,ownerState:rt},nt,{children:[_e,jsx(CardActionAreaFocusHighlight,{className:it.focusHighlight,ownerState:rt})]}))}),CardActionArea$1=CardActionArea;function getCardContentUtilityClass($){return generateUtilityClass("MuiCardContent",$)}generateUtilityClasses("MuiCardContent",["root"]);const _excluded$j=["className","component"],useUtilityClasses$f=$=>{const{classes:o}=$;return composeClasses({root:["root"]},getCardContentUtilityClass,o)},CardContentRoot=styled$1("div",{name:"MuiCardContent",slot:"Root",overridesResolver:($,o)=>o.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),CardContent=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiCardContent"}),{className:_e,component:et="div"}=j,tt=_objectWithoutPropertiesLoose(j,_excluded$j),nt=_extends$1({},j,{component:et}),rt=useUtilityClasses$f(nt);return jsx(CardContentRoot,_extends$1({as:et,className:clsx(rt.root,_e),ownerState:nt,ref:a},tt))}),CardContent$1=CardContent;function getCardMediaUtilityClass($){return generateUtilityClass("MuiCardMedia",$)}generateUtilityClasses("MuiCardMedia",["root","media","img"]);const _excluded$i=["children","className","component","image","src","style"],useUtilityClasses$e=$=>{const{classes:o,isMediaComponent:a,isImageComponent:j}=$;return composeClasses({root:["root",a&&"media",j&&"img"]},getCardMediaUtilityClass,o)},CardMediaRoot=styled$1("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$,{isMediaComponent:j,isImageComponent:_e}=a;return[o.root,j&&o.media,_e&&o.img]}})(({ownerState:$})=>_extends$1({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},$.isMediaComponent&&{width:"100%"},$.isImageComponent&&{objectFit:"cover"})),MEDIA_COMPONENTS=["video","audio","picture","iframe","img"],IMAGE_COMPONENTS=["picture","img"],CardMedia=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiCardMedia"}),{children:_e,className:et,component:tt="div",image:nt,src:rt,style:it}=j,ot=_objectWithoutPropertiesLoose(j,_excluded$i),at=MEDIA_COMPONENTS.indexOf(tt)!==-1,ct=!at&&nt?_extends$1({backgroundImage:`url("${nt}")`},it):it,ut=_extends$1({},j,{component:tt,isMediaComponent:at,isImageComponent:IMAGE_COMPONENTS.indexOf(tt)!==-1}),dt=useUtilityClasses$e(ut);return jsx(CardMediaRoot,_extends$1({className:clsx(dt.root,et),as:tt,role:!at&&nt?"img":void 0,ref:a,style:ct,ownerState:ut,src:at?nt||rt:void 0},ot,{children:_e}))}),CardMedia$1=CardMedia,_excluded$h=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","slotProps","slots","theme"],ModalRoot=styled$1("div",{name:"MuiModal",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.root,!a.open&&a.exited&&o.hidden]}})(({theme:$,ownerState:o})=>_extends$1({position:"fixed",zIndex:($.vars||$).zIndex.modal,right:0,bottom:0,top:0,left:0},!o.open&&o.exited&&{visibility:"hidden"})),ModalBackdrop=styled$1(Backdrop$1,{name:"MuiModal",slot:"Backdrop",overridesResolver:($,o)=>o.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function(o,a){var j,_e,et,tt,nt,rt;const it=useThemeProps({name:"MuiModal",props:o}),{BackdropComponent:ot=ModalBackdrop,BackdropProps:at,classes:ct,className:ut,closeAfterTransition:dt=!1,children:ft,component:ht,components:pt={},componentsProps:yt={},disableAutoFocus:gt=!1,disableEnforceFocus:bt=!1,disableEscapeKeyDown:At=!1,disablePortal:Tt=!1,disableRestoreFocus:Pt=!1,disableScrollLock:Ct=!1,hideBackdrop:It=!1,keepMounted:Vt=!1,slotProps:Kt,slots:en,theme:kt}=it,vt=_objectWithoutPropertiesLoose(it,_excluded$h),[St,Lt]=reactExports.useState(!0),zt={closeAfterTransition:dt,disableAutoFocus:gt,disableEnforceFocus:bt,disableEscapeKeyDown:At,disablePortal:Tt,disableRestoreFocus:Pt,disableScrollLock:Ct,hideBackdrop:It,keepMounted:Vt},Rt=_extends$1({},it,zt,{exited:St}),$t=(j=(_e=en==null?void 0:en.root)!=null?_e:pt.Root)!=null?j:ModalRoot,Gt=(et=(tt=en==null?void 0:en.backdrop)!=null?tt:pt.Backdrop)!=null?et:ot,Ft=(nt=Kt==null?void 0:Kt.root)!=null?nt:yt.root,wt=(rt=Kt==null?void 0:Kt.backdrop)!=null?rt:yt.backdrop;return jsx(ModalUnstyled$1,_extends$1({slots:{root:$t,backdrop:Gt},slotProps:{root:()=>_extends$1({},resolveComponentProps(Ft,Rt),!isHostComponent($t)&&{as:ht,theme:kt},{className:clsx(ut,Ft==null?void 0:Ft.className,ct==null?void 0:ct.root,!Rt.open&&Rt.exited&&(ct==null?void 0:ct.hidden))}),backdrop:()=>_extends$1({},at,resolveComponentProps(wt,Rt),{className:clsx(wt==null?void 0:wt.className,ct==null?void 0:ct.backdrop)})},onTransitionEnter:()=>Lt(!1),onTransitionExited:()=>Lt(!0),ref:a},vt,zt,{children:ft}))}),Modal$1=Modal,_excluded$g=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$d=$=>{const{classes:o,disableUnderline:a}=$,_e=composeClasses({root:["root",!a&&"underline"],input:["input"]},getFilledInputUtilityClass,o);return _extends$1({},o,_e)},FilledInputRoot=styled$1(InputBaseRoot,{shouldForwardProp:$=>rootShouldForwardProp($)||$==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[...rootOverridesResolver($,o),!a.disableUnderline&&o.underline]}})(({theme:$,ownerState:o})=>{var a;const j=$.palette.mode==="light",_e=j?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",et=j?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",tt=j?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",nt=j?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return _extends$1({position:"relative",backgroundColor:$.vars?$.vars.palette.FilledInput.bg:et,borderTopLeftRadius:($.vars||$).shape.borderRadius,borderTopRightRadius:($.vars||$).shape.borderRadius,transition:$.transitions.create("background-color",{duration:$.transitions.duration.shorter,easing:$.transitions.easing.easeOut}),"&:hover":{backgroundColor:$.vars?$.vars.palette.FilledInput.hoverBg:tt,"@media (hover: none)":{backgroundColor:$.vars?$.vars.palette.FilledInput.bg:et}},[`&.${filledInputClasses$1.focused}`]:{backgroundColor:$.vars?$.vars.palette.FilledInput.bg:et},[`&.${filledInputClasses$1.disabled}`]:{backgroundColor:$.vars?$.vars.palette.FilledInput.disabledBg:nt}},!o.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(a=($.vars||$).palette[o.color||"primary"])==null?void 0:a.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:$.transitions.create("transform",{duration:$.transitions.duration.shorter,easing:$.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${filledInputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${filledInputClasses$1.error}`]:{"&:before, &:after":{borderBottomColor:($.vars||$).palette.error.main}},"&:before":{borderBottom:`1px solid ${$.vars?`rgba(${$.vars.palette.common.onBackgroundChannel} / ${$.vars.opacity.inputUnderline})`:_e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:$.transitions.create("border-bottom-color",{duration:$.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${filledInputClasses$1.disabled}, .${filledInputClasses$1.error}):before`]:{borderBottom:`1px solid ${($.vars||$).palette.text.primary}`},[`&.${filledInputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}},o.startAdornment&&{paddingLeft:12},o.endAdornment&&{paddingRight:12},o.multiline&&_extends$1({padding:"25px 12px 8px"},o.size==="small"&&{paddingTop:21,paddingBottom:4},o.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),FilledInputInput=styled$1(InputBaseComponent,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:$,ownerState:o})=>_extends$1({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!$.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:$.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:$.palette.mode==="light"?null:"#fff",caretColor:$.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},$.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[$.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},o.size==="small"&&{paddingTop:21,paddingBottom:4},o.hiddenLabel&&{paddingTop:16,paddingBottom:17},o.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},o.startAdornment&&{paddingLeft:0},o.endAdornment&&{paddingRight:0},o.hiddenLabel&&o.size==="small"&&{paddingTop:8,paddingBottom:9})),FilledInput=reactExports.forwardRef(function(o,a){var j,_e,et,tt;const nt=useThemeProps({props:o,name:"MuiFilledInput"}),{components:rt={},componentsProps:it,fullWidth:ot=!1,inputComponent:at="input",multiline:ct=!1,slotProps:ut,slots:dt={},type:ft="text"}=nt,ht=_objectWithoutPropertiesLoose(nt,_excluded$g),pt=_extends$1({},nt,{fullWidth:ot,inputComponent:at,multiline:ct,type:ft}),yt=useUtilityClasses$d(nt),gt={root:{ownerState:pt},input:{ownerState:pt}},bt=ut??it?deepmerge(ut??it,gt):gt,At=(j=(_e=dt.root)!=null?_e:rt.Root)!=null?j:FilledInputRoot,Tt=(et=(tt=dt.input)!=null?tt:rt.Input)!=null?et:FilledInputInput;return jsx(InputBase$1,_extends$1({slots:{root:At,input:Tt},componentsProps:bt,fullWidth:ot,inputComponent:at,multiline:ct,ref:a,type:ft},ht,{classes:yt}))});FilledInput.muiName="Input";const FilledInput$1=FilledInput;function getFormControlUtilityClasses($){return generateUtilityClass("MuiFormControl",$)}generateUtilityClasses("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _excluded$f=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],useUtilityClasses$c=$=>{const{classes:o,margin:a,fullWidth:j}=$,_e={root:["root",a!=="none"&&`margin${capitalize(a)}`,j&&"fullWidth"]};return composeClasses(_e,getFormControlUtilityClasses,o)},FormControlRoot=styled$1("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:$},o)=>_extends$1({},o.root,o[`margin${capitalize($.margin)}`],$.fullWidth&&o.fullWidth)})(({ownerState:$})=>_extends$1({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},$.margin==="normal"&&{marginTop:16,marginBottom:8},$.margin==="dense"&&{marginTop:8,marginBottom:4},$.fullWidth&&{width:"100%"})),FormControl=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiFormControl"}),{children:_e,className:et,color:tt="primary",component:nt="div",disabled:rt=!1,error:it=!1,focused:ot,fullWidth:at=!1,hiddenLabel:ct=!1,margin:ut="none",required:dt=!1,size:ft="medium",variant:ht="outlined"}=j,pt=_objectWithoutPropertiesLoose(j,_excluded$f),yt=_extends$1({},j,{color:tt,component:nt,disabled:rt,error:it,fullWidth:at,hiddenLabel:ct,margin:ut,required:dt,size:ft,variant:ht}),gt=useUtilityClasses$c(yt),[bt,At]=reactExports.useState(()=>{let kt=!1;return _e&&reactExports.Children.forEach(_e,vt=>{if(!isMuiElement(vt,["Input","Select"]))return;const St=isMuiElement(vt,["Select"])?vt.props.input:vt;St&&isAdornedStart(St.props)&&(kt=!0)}),kt}),[Tt,Pt]=reactExports.useState(()=>{let kt=!1;return _e&&reactExports.Children.forEach(_e,vt=>{isMuiElement(vt,["Input","Select"])&&isFilled(vt.props,!0)&&(kt=!0)}),kt}),[Ct,It]=reactExports.useState(!1);rt&&Ct&&It(!1);const Vt=ot!==void 0&&!rt?ot:Ct;let Kt;const en=reactExports.useMemo(()=>({adornedStart:bt,setAdornedStart:At,color:tt,disabled:rt,error:it,filled:Tt,focused:Vt,fullWidth:at,hiddenLabel:ct,size:ft,onBlur:()=>{It(!1)},onEmpty:()=>{Pt(!1)},onFilled:()=>{Pt(!0)},onFocus:()=>{It(!0)},registerEffect:Kt,required:dt,variant:ht}),[bt,tt,rt,it,Tt,Vt,at,ct,Kt,dt,ft,ht]);return jsx(FormControlContext$1.Provider,{value:en,children:jsx(FormControlRoot,_extends$1({as:nt,ownerState:yt,className:clsx(gt.root,et),ref:a},pt,{children:_e}))})}),FormControl$1=FormControl;function getFormHelperTextUtilityClasses($){return generateUtilityClass("MuiFormHelperText",$)}const formHelperTextClasses=generateUtilityClasses("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),formHelperTextClasses$1=formHelperTextClasses;var _span$2;const _excluded$e=["children","className","component","disabled","error","filled","focused","margin","required","variant"],useUtilityClasses$b=$=>{const{classes:o,contained:a,size:j,disabled:_e,error:et,filled:tt,focused:nt,required:rt}=$,it={root:["root",_e&&"disabled",et&&"error",j&&`size${capitalize(j)}`,a&&"contained",nt&&"focused",tt&&"filled",rt&&"required"]};return composeClasses(it,getFormHelperTextUtilityClasses,o)},FormHelperTextRoot=styled$1("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.root,a.size&&o[`size${capitalize(a.size)}`],a.contained&&o.contained,a.filled&&o.filled]}})(({theme:$,ownerState:o})=>_extends$1({color:($.vars||$).palette.text.secondary},$.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${formHelperTextClasses$1.disabled}`]:{color:($.vars||$).palette.text.disabled},[`&.${formHelperTextClasses$1.error}`]:{color:($.vars||$).palette.error.main}},o.size==="small"&&{marginTop:4},o.contained&&{marginLeft:14,marginRight:14})),FormHelperText=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiFormHelperText"}),{children:_e,className:et,component:tt="p"}=j,nt=_objectWithoutPropertiesLoose(j,_excluded$e),rt=useFormControl(),it=formControlState({props:j,muiFormControl:rt,states:["variant","size","disabled","error","filled","focused","required"]}),ot=_extends$1({},j,{component:tt,contained:it.variant==="filled"||it.variant==="outlined",variant:it.variant,size:it.size,disabled:it.disabled,error:it.error,filled:it.filled,focused:it.focused,required:it.required}),at=useUtilityClasses$b(ot);return jsx(FormHelperTextRoot,_extends$1({as:tt,ownerState:ot,className:clsx(at.root,et),ref:a},nt,{children:_e===" "?_span$2||(_span$2=jsx("span",{className:"notranslate",children:"​"})):_e}))}),FormHelperText$1=FormHelperText;function getFormLabelUtilityClasses($){return generateUtilityClass("MuiFormLabel",$)}const formLabelClasses=generateUtilityClasses("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),formLabelClasses$1=formLabelClasses,_excluded$d=["children","className","color","component","disabled","error","filled","focused","required"],useUtilityClasses$a=$=>{const{classes:o,color:a,focused:j,disabled:_e,error:et,filled:tt,required:nt}=$,rt={root:["root",`color${capitalize(a)}`,_e&&"disabled",et&&"error",tt&&"filled",j&&"focused",nt&&"required"],asterisk:["asterisk",et&&"error"]};return composeClasses(rt,getFormLabelUtilityClasses,o)},FormLabelRoot=styled$1("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:$},o)=>_extends$1({},o.root,$.color==="secondary"&&o.colorSecondary,$.filled&&o.filled)})(({theme:$,ownerState:o})=>_extends$1({color:($.vars||$).palette.text.secondary},$.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${formLabelClasses$1.focused}`]:{color:($.vars||$).palette[o.color].main},[`&.${formLabelClasses$1.disabled}`]:{color:($.vars||$).palette.text.disabled},[`&.${formLabelClasses$1.error}`]:{color:($.vars||$).palette.error.main}})),AsteriskComponent=styled$1("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:($,o)=>o.asterisk})(({theme:$})=>({[`&.${formLabelClasses$1.error}`]:{color:($.vars||$).palette.error.main}})),FormLabel=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiFormLabel"}),{children:_e,className:et,component:tt="label"}=j,nt=_objectWithoutPropertiesLoose(j,_excluded$d),rt=useFormControl(),it=formControlState({props:j,muiFormControl:rt,states:["color","required","focused","disabled","error","filled"]}),ot=_extends$1({},j,{color:it.color||"primary",component:tt,disabled:it.disabled,error:it.error,filled:it.filled,focused:it.focused,required:it.required}),at=useUtilityClasses$a(ot);return jsxs(FormLabelRoot,_extends$1({as:tt,ownerState:ot,className:clsx(at.root,et),ref:a},nt,{children:[_e,it.required&&jsxs(AsteriskComponent,{ownerState:ot,"aria-hidden":!0,className:at.asterisk,children:[" ","*"]})]}))}),FormLabel$1=FormLabel,_excluded$c=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getScale($){return`scale(${$}, ${$**2})`}const styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function(o,a){const{addEndListener:j,appear:_e=!0,children:et,easing:tt,in:nt,onEnter:rt,onEntered:it,onEntering:ot,onExit:at,onExited:ct,onExiting:ut,style:dt,timeout:ft="auto",TransitionComponent:ht=Transition$1}=o,pt=_objectWithoutPropertiesLoose(o,_excluded$c),yt=reactExports.useRef(),gt=reactExports.useRef(),bt=useTheme(),At=reactExports.useRef(null),Tt=useForkRef(At,et.ref,a),Pt=St=>Lt=>{if(St){const zt=At.current;Lt===void 0?St(zt):St(zt,Lt)}},Ct=Pt(ot),It=Pt((St,Lt)=>{reflow(St);const{duration:zt,delay:Rt,easing:$t}=getTransitionProps({style:dt,timeout:ft,easing:tt},{mode:"enter"});let Gt;ft==="auto"?(Gt=bt.transitions.getAutoHeightDuration(St.clientHeight),gt.current=Gt):Gt=zt,St.style.transition=[bt.transitions.create("opacity",{duration:Gt,delay:Rt}),bt.transitions.create("transform",{duration:isWebKit154?Gt:Gt*.666,delay:Rt,easing:$t})].join(","),rt&&rt(St,Lt)}),Vt=Pt(it),Kt=Pt(ut),en=Pt(St=>{const{duration:Lt,delay:zt,easing:Rt}=getTransitionProps({style:dt,timeout:ft,easing:tt},{mode:"exit"});let $t;ft==="auto"?($t=bt.transitions.getAutoHeightDuration(St.clientHeight),gt.current=$t):$t=Lt,St.style.transition=[bt.transitions.create("opacity",{duration:$t,delay:zt}),bt.transitions.create("transform",{duration:isWebKit154?$t:$t*.666,delay:isWebKit154?zt:zt||$t*.333,easing:Rt})].join(","),St.style.opacity=0,St.style.transform=getScale(.75),at&&at(St)}),kt=Pt(ct),vt=St=>{ft==="auto"&&(yt.current=setTimeout(St,gt.current||0)),j&&j(At.current,St)};return reactExports.useEffect(()=>()=>{clearTimeout(yt.current)},[]),jsx(ht,_extends$1({appear:_e,in:nt,nodeRef:At,onEnter:It,onEntered:Vt,onEntering:Ct,onExit:en,onExited:kt,onExiting:Kt,addEndListener:vt,timeout:ft==="auto"?null:ft},pt,{children:(St,Lt)=>reactExports.cloneElement(et,_extends$1({style:_extends$1({opacity:0,transform:getScale(.75),visibility:St==="exited"&&!nt?"hidden":void 0},styles[St],dt,et.props.style),ref:Tt},Lt))}))});Grow.muiSupportAuto=!0;const Grow$1=Grow,_excluded$b=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$9=$=>{const{classes:o,disableUnderline:a}=$,_e=composeClasses({root:["root",!a&&"underline"],input:["input"]},getInputUtilityClass,o);return _extends$1({},o,_e)},InputRoot=styled$1(InputBaseRoot,{shouldForwardProp:$=>rootShouldForwardProp($)||$==="classes",name:"MuiInput",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[...rootOverridesResolver($,o),!a.disableUnderline&&o.underline]}})(({theme:$,ownerState:o})=>{let j=$.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return $.vars&&(j=`rgba(${$.vars.palette.common.onBackgroundChannel} / ${$.vars.opacity.inputUnderline})`),_extends$1({position:"relative"},o.formControl&&{"label + &":{marginTop:16}},!o.disableUnderline&&{"&:after":{borderBottom:`2px solid ${($.vars||$).palette[o.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:$.transitions.create("transform",{duration:$.transitions.duration.shorter,easing:$.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${inputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${inputClasses$1.error}`]:{"&:before, &:after":{borderBottomColor:($.vars||$).palette.error.main}},"&:before":{borderBottom:`1px solid ${j}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:$.transitions.create("border-bottom-color",{duration:$.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${inputClasses$1.disabled}, .${inputClasses$1.error}):before`]:{borderBottom:`2px solid ${($.vars||$).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${j}`}},[`&.${inputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}})}),InputInput=styled$1(InputBaseComponent,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input=reactExports.forwardRef(function(o,a){var j,_e,et,tt;const nt=useThemeProps({props:o,name:"MuiInput"}),{disableUnderline:rt,components:it={},componentsProps:ot,fullWidth:at=!1,inputComponent:ct="input",multiline:ut=!1,slotProps:dt,slots:ft={},type:ht="text"}=nt,pt=_objectWithoutPropertiesLoose(nt,_excluded$b),yt=useUtilityClasses$9(nt),bt={root:{ownerState:{disableUnderline:rt}}},At=dt??ot?deepmerge(dt??ot,bt):bt,Tt=(j=(_e=ft.root)!=null?_e:it.Root)!=null?j:InputRoot,Pt=(et=(tt=ft.input)!=null?tt:it.Input)!=null?et:InputInput;return jsx(InputBase$1,_extends$1({slots:{root:Tt,input:Pt},slotProps:At,fullWidth:at,inputComponent:ct,multiline:ut,ref:a,type:ht},pt,{classes:yt}))});Input.muiName="Input";const Input$1=Input;function getInputLabelUtilityClasses($){return generateUtilityClass("MuiInputLabel",$)}generateUtilityClasses("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const _excluded$a=["disableAnimation","margin","shrink","variant","className"],useUtilityClasses$8=$=>{const{classes:o,formControl:a,size:j,shrink:_e,disableAnimation:et,variant:tt,required:nt}=$,it=composeClasses({root:["root",a&&"formControl",!et&&"animated",_e&&"shrink",j==="small"&&"sizeSmall",tt],asterisk:[nt&&"asterisk"]},getInputLabelUtilityClasses,o);return _extends$1({},o,it)},InputLabelRoot=styled$1(FormLabel$1,{shouldForwardProp:$=>rootShouldForwardProp($)||$==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[{[`& .${formLabelClasses$1.asterisk}`]:o.asterisk},o.root,a.formControl&&o.formControl,a.size==="small"&&o.sizeSmall,a.shrink&&o.shrink,!a.disableAnimation&&o.animated,o[a.variant]]}})(({theme:$,ownerState:o})=>_extends$1({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},o.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},o.size==="small"&&{transform:"translate(0, 17px) scale(1)"},o.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!o.disableAnimation&&{transition:$.transitions.create(["color","transform","max-width"],{duration:$.transitions.duration.shorter,easing:$.transitions.easing.easeOut})},o.variant==="filled"&&_extends$1({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},o.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},o.shrink&&_extends$1({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},o.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),o.variant==="outlined"&&_extends$1({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},o.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},o.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),InputLabel=reactExports.forwardRef(function(o,a){const j=useThemeProps({name:"MuiInputLabel",props:o}),{disableAnimation:_e=!1,shrink:et,className:tt}=j,nt=_objectWithoutPropertiesLoose(j,_excluded$a),rt=useFormControl();let it=et;typeof it>"u"&&rt&&(it=rt.filled||rt.focused||rt.adornedStart);const ot=formControlState({props:j,muiFormControl:rt,states:["size","variant","required"]}),at=_extends$1({},j,{disableAnimation:_e,formControl:rt,shrink:it,size:ot.size,variant:ot.variant,required:ot.required}),ct=useUtilityClasses$8(at);return jsx(InputLabelRoot,_extends$1({"data-shrink":it,ownerState:at,ref:a,className:clsx(ct.root,tt)},nt,{classes:ct}))}),InputLabel$1=InputLabel,ListContext=reactExports.createContext({}),ListContext$1=ListContext;function getListUtilityClass($){return generateUtilityClass("MuiList",$)}generateUtilityClasses("MuiList",["root","padding","dense","subheader"]);const _excluded$9=["children","className","component","dense","disablePadding","subheader"],useUtilityClasses$7=$=>{const{classes:o,disablePadding:a,dense:j,subheader:_e}=$;return composeClasses({root:["root",!a&&"padding",j&&"dense",_e&&"subheader"]},getListUtilityClass,o)},ListRoot=styled$1("ul",{name:"MuiList",slot:"Root",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.root,!a.disablePadding&&o.padding,a.dense&&o.dense,a.subheader&&o.subheader]}})(({ownerState:$})=>_extends$1({listStyle:"none",margin:0,padding:0,position:"relative"},!$.disablePadding&&{paddingTop:8,paddingBottom:8},$.subheader&&{paddingTop:0})),List=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiList"}),{children:_e,className:et,component:tt="ul",dense:nt=!1,disablePadding:rt=!1,subheader:it}=j,ot=_objectWithoutPropertiesLoose(j,_excluded$9),at=reactExports.useMemo(()=>({dense:nt}),[nt]),ct=_extends$1({},j,{component:tt,dense:nt,disablePadding:rt}),ut=useUtilityClasses$7(ct);return jsx(ListContext$1.Provider,{value:at,children:jsxs(ListRoot,_extends$1({as:tt,className:clsx(ut.root,et),ref:a,ownerState:ct},ot,{children:[it,_e]}))})}),List$1=List,_excluded$8=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function nextItem($,o,a){return $===o?$.firstChild:o&&o.nextElementSibling?o.nextElementSibling:a?null:$.firstChild}function previousItem($,o,a){return $===o?a?$.firstChild:$.lastChild:o&&o.previousElementSibling?o.previousElementSibling:a?null:$.lastChild}function textCriteriaMatches($,o){if(o===void 0)return!0;let a=$.innerText;return a===void 0&&(a=$.textContent),a=a.trim().toLowerCase(),a.length===0?!1:o.repeating?a[0]===o.keys[0]:a.indexOf(o.keys.join(""))===0}function moveFocus($,o,a,j,_e,et){let tt=!1,nt=_e($,o,o?a:!1);for(;nt;){if(nt===$.firstChild){if(tt)return!1;tt=!0}const rt=j?!1:nt.disabled||nt.getAttribute("aria-disabled")==="true";if(!nt.hasAttribute("tabindex")||!textCriteriaMatches(nt,et)||rt)nt=_e($,nt,a);else return nt.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function(o,a){const{actions:j,autoFocus:_e=!1,autoFocusItem:et=!1,children:tt,className:nt,disabledItemsFocusable:rt=!1,disableListWrap:it=!1,onKeyDown:ot,variant:at="selectedMenu"}=o,ct=_objectWithoutPropertiesLoose(o,_excluded$8),ut=reactExports.useRef(null),dt=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect$1(()=>{_e&&ut.current.focus()},[_e]),reactExports.useImperativeHandle(j,()=>({adjustStyleForScrollbar:(gt,bt)=>{const At=!ut.current.style.width;if(gt.clientHeight<ut.current.clientHeight&&At){const Tt=`${getScrollbarSize(ownerDocument(gt))}px`;ut.current.style[bt.direction==="rtl"?"paddingLeft":"paddingRight"]=Tt,ut.current.style.width=`calc(100% + ${Tt})`}return ut.current}}),[]);const ft=gt=>{const bt=ut.current,At=gt.key,Tt=ownerDocument(bt).activeElement;if(At==="ArrowDown")gt.preventDefault(),moveFocus(bt,Tt,it,rt,nextItem);else if(At==="ArrowUp")gt.preventDefault(),moveFocus(bt,Tt,it,rt,previousItem);else if(At==="Home")gt.preventDefault(),moveFocus(bt,null,it,rt,nextItem);else if(At==="End")gt.preventDefault(),moveFocus(bt,null,it,rt,previousItem);else if(At.length===1){const Pt=dt.current,Ct=At.toLowerCase(),It=performance.now();Pt.keys.length>0&&(It-Pt.lastTime>500?(Pt.keys=[],Pt.repeating=!0,Pt.previousKeyMatched=!0):Pt.repeating&&Ct!==Pt.keys[0]&&(Pt.repeating=!1)),Pt.lastTime=It,Pt.keys.push(Ct);const Vt=Tt&&!Pt.repeating&&textCriteriaMatches(Tt,Pt);Pt.previousKeyMatched&&(Vt||moveFocus(bt,Tt,!1,rt,nextItem,Pt))?gt.preventDefault():Pt.previousKeyMatched=!1}ot&&ot(gt)},ht=useForkRef(ut,a);let pt=-1;reactExports.Children.forEach(tt,(gt,bt)=>{reactExports.isValidElement(gt)&&(gt.props.disabled||(at==="selectedMenu"&&gt.props.selected||pt===-1)&&(pt=bt),pt===bt&&(gt.props.disabled||gt.props.muiSkipListHighlight||gt.type.muiSkipListHighlight)&&(pt+=1,pt>=tt.length&&(pt=-1)))});const yt=reactExports.Children.map(tt,(gt,bt)=>{if(bt===pt){const At={};return et&&(At.autoFocus=!0),gt.props.tabIndex===void 0&&at==="selectedMenu"&&(At.tabIndex=0),reactExports.cloneElement(gt,At)}return gt});return jsx(List$1,_extends$1({role:"menu",ref:ht,className:nt,onKeyDown:ft,tabIndex:_e?0:-1},ct,{children:yt}))}),MenuList$1=MenuList;function getPopoverUtilityClass($){return generateUtilityClass("MuiPopover",$)}generateUtilityClasses("MuiPopover",["root","paper"]);const _excluded$7=["onEntering"],_excluded2$1=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function getOffsetTop($,o){let a=0;return typeof o=="number"?a=o:o==="center"?a=$.height/2:o==="bottom"&&(a=$.height),a}function getOffsetLeft($,o){let a=0;return typeof o=="number"?a=o:o==="center"?a=$.width/2:o==="right"&&(a=$.width),a}function getTransformOriginValue($){return[$.horizontal,$.vertical].map(o=>typeof o=="number"?`${o}px`:o).join(" ")}function resolveAnchorEl($){return typeof $=="function"?$():$}const useUtilityClasses$6=$=>{const{classes:o}=$;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,o)},PopoverRoot=styled$1(Modal$1,{name:"MuiPopover",slot:"Root",overridesResolver:($,o)=>o.root})({}),PopoverPaper=styled$1(Paper$1,{name:"MuiPopover",slot:"Paper",overridesResolver:($,o)=>o.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiPopover"}),{action:_e,anchorEl:et,anchorOrigin:tt={vertical:"top",horizontal:"left"},anchorPosition:nt,anchorReference:rt="anchorEl",children:it,className:ot,container:at,elevation:ct=8,marginThreshold:ut=16,open:dt,PaperProps:ft={},transformOrigin:ht={vertical:"top",horizontal:"left"},TransitionComponent:pt=Grow$1,transitionDuration:yt="auto",TransitionProps:{onEntering:gt}={}}=j,bt=_objectWithoutPropertiesLoose(j.TransitionProps,_excluded$7),At=_objectWithoutPropertiesLoose(j,_excluded2$1),Tt=reactExports.useRef(),Pt=useForkRef(Tt,ft.ref),Ct=_extends$1({},j,{anchorOrigin:tt,anchorReference:rt,elevation:ct,marginThreshold:ut,PaperProps:ft,transformOrigin:ht,TransitionComponent:pt,transitionDuration:yt,TransitionProps:bt}),It=useUtilityClasses$6(Ct),Vt=reactExports.useCallback(()=>{if(rt==="anchorPosition")return nt;const Gt=resolveAnchorEl(et),wt=(Gt&&Gt.nodeType===1?Gt:ownerDocument(Tt.current).body).getBoundingClientRect();return{top:wt.top+getOffsetTop(wt,tt.vertical),left:wt.left+getOffsetLeft(wt,tt.horizontal)}},[et,tt.horizontal,tt.vertical,nt,rt]),Kt=reactExports.useCallback(Gt=>({vertical:getOffsetTop(Gt,ht.vertical),horizontal:getOffsetLeft(Gt,ht.horizontal)}),[ht.horizontal,ht.vertical]),en=reactExports.useCallback(Gt=>{const Ft={width:Gt.offsetWidth,height:Gt.offsetHeight},wt=Kt(Ft);if(rt==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(wt)};const Ht=Vt();let nn=Ht.top-wt.vertical,Dt=Ht.left-wt.horizontal;const Jt=nn+Ft.height,on=Dt+Ft.width,sn=ownerWindow(resolveAnchorEl(et)),dn=sn.innerHeight-ut,mn=sn.innerWidth-ut;if(nn<ut){const ln=nn-ut;nn-=ln,wt.vertical+=ln}else if(Jt>dn){const ln=Jt-dn;nn-=ln,wt.vertical+=ln}if(Dt<ut){const ln=Dt-ut;Dt-=ln,wt.horizontal+=ln}else if(on>mn){const ln=on-mn;Dt-=ln,wt.horizontal+=ln}return{top:`${Math.round(nn)}px`,left:`${Math.round(Dt)}px`,transformOrigin:getTransformOriginValue(wt)}},[et,rt,Vt,Kt,ut]),[kt,vt]=reactExports.useState(dt),St=reactExports.useCallback(()=>{const Gt=Tt.current;if(!Gt)return;const Ft=en(Gt);Ft.top!==null&&(Gt.style.top=Ft.top),Ft.left!==null&&(Gt.style.left=Ft.left),Gt.style.transformOrigin=Ft.transformOrigin,vt(!0)},[en]),Lt=(Gt,Ft)=>{gt&&gt(Gt,Ft),St()},zt=()=>{vt(!1)};reactExports.useEffect(()=>{dt&&St()}),reactExports.useImperativeHandle(_e,()=>dt?{updatePosition:()=>{St()}}:null,[dt,St]),reactExports.useEffect(()=>{if(!dt)return;const Gt=debounce$1(()=>{St()}),Ft=ownerWindow(et);return Ft.addEventListener("resize",Gt),()=>{Gt.clear(),Ft.removeEventListener("resize",Gt)}},[et,dt,St]);let Rt=yt;yt==="auto"&&!pt.muiSupportAuto&&(Rt=void 0);const $t=at||(et?ownerDocument(resolveAnchorEl(et)).body:void 0);return jsx(PopoverRoot,_extends$1({BackdropProps:{invisible:!0},className:clsx(It.root,ot),container:$t,open:dt,ref:a,ownerState:Ct},At,{children:jsx(pt,_extends$1({appear:!0,in:dt,onEntering:Lt,onExited:zt,timeout:Rt},bt,{children:jsx(PopoverPaper,_extends$1({elevation:ct},ft,{ref:Pt,className:clsx(It.paper,ft.className)},kt?void 0:{style:_extends$1({},ft.style,{opacity:0})},{ownerState:Ct,children:it}))}))}))}),Popover$1=Popover;function getMenuUtilityClass($){return generateUtilityClass("MuiMenu",$)}generateUtilityClasses("MuiMenu",["root","paper","list"]);const _excluded$6=["onEntering"],_excluded2=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$5=$=>{const{classes:o}=$;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,o)},MenuRoot=styled$1(Popover$1,{shouldForwardProp:$=>rootShouldForwardProp($)||$==="classes",name:"MuiMenu",slot:"Root",overridesResolver:($,o)=>o.root})({}),MenuPaper=styled$1(Paper$1,{name:"MuiMenu",slot:"Paper",overridesResolver:($,o)=>o.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled$1(MenuList$1,{name:"MuiMenu",slot:"List",overridesResolver:($,o)=>o.list})({outline:0}),Menu=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiMenu"}),{autoFocus:_e=!0,children:et,disableAutoFocusItem:tt=!1,MenuListProps:nt={},onClose:rt,open:it,PaperProps:ot={},PopoverClasses:at,transitionDuration:ct="auto",TransitionProps:{onEntering:ut}={},variant:dt="selectedMenu"}=j,ft=_objectWithoutPropertiesLoose(j.TransitionProps,_excluded$6),ht=_objectWithoutPropertiesLoose(j,_excluded2),pt=useTheme(),yt=pt.direction==="rtl",gt=_extends$1({},j,{autoFocus:_e,disableAutoFocusItem:tt,MenuListProps:nt,onEntering:ut,PaperProps:ot,transitionDuration:ct,TransitionProps:ft,variant:dt}),bt=useUtilityClasses$5(gt),At=_e&&!tt&&it,Tt=reactExports.useRef(null),Pt=(Vt,Kt)=>{Tt.current&&Tt.current.adjustStyleForScrollbar(Vt,pt),ut&&ut(Vt,Kt)},Ct=Vt=>{Vt.key==="Tab"&&(Vt.preventDefault(),rt&&rt(Vt,"tabKeyDown"))};let It=-1;return reactExports.Children.map(et,(Vt,Kt)=>{reactExports.isValidElement(Vt)&&(Vt.props.disabled||(dt==="selectedMenu"&&Vt.props.selected||It===-1)&&(It=Kt))}),jsx(MenuRoot,_extends$1({onClose:rt,anchorOrigin:{vertical:"bottom",horizontal:yt?"right":"left"},transformOrigin:yt?RTL_ORIGIN:LTR_ORIGIN,PaperProps:_extends$1({as:MenuPaper},ot,{classes:_extends$1({},ot.classes,{root:bt.paper})}),className:bt.root,open:it,ref:a,transitionDuration:ct,TransitionProps:_extends$1({onEntering:Pt},ft),ownerState:gt},ht,{classes:at,children:jsx(MenuMenuList,_extends$1({onKeyDown:Ct,actions:Tt,autoFocus:_e&&(It===-1||tt),autoFocusItem:At,variant:dt},nt,{className:clsx(bt.list,nt.className),children:et}))}))}),Menu$1=Menu;function getNativeSelectUtilityClasses($){return generateUtilityClass("MuiNativeSelect",$)}const nativeSelectClasses=generateUtilityClasses("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),nativeSelectClasses$1=nativeSelectClasses,_excluded$5=["className","disabled","IconComponent","inputRef","variant"],useUtilityClasses$4=$=>{const{classes:o,variant:a,disabled:j,multiple:_e,open:et}=$,tt={select:["select",a,j&&"disabled",_e&&"multiple"],icon:["icon",`icon${capitalize(a)}`,et&&"iconOpen",j&&"disabled"]};return composeClasses(tt,getNativeSelectUtilityClasses,o)},nativeSelectSelectStyles=({ownerState:$,theme:o})=>_extends$1({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":_extends$1({},o.vars?{backgroundColor:`rgba(${o.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:o.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${nativeSelectClasses$1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(o.vars||o).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},$.variant==="filled"&&{"&&&":{paddingRight:32}},$.variant==="outlined"&&{borderRadius:(o.vars||o).shape.borderRadius,"&:focus":{borderRadius:(o.vars||o).shape.borderRadius},"&&&":{paddingRight:32}}),NativeSelectSelect=styled$1("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp,overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.select,o[a.variant],{[`&.${nativeSelectClasses$1.multiple}`]:o.multiple}]}})(nativeSelectSelectStyles),nativeSelectIconStyles=({ownerState:$,theme:o})=>_extends$1({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(o.vars||o).palette.action.active,[`&.${nativeSelectClasses$1.disabled}`]:{color:(o.vars||o).palette.action.disabled}},$.open&&{transform:"rotate(180deg)"},$.variant==="filled"&&{right:7},$.variant==="outlined"&&{right:7}),NativeSelectIcon=styled$1("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.icon,a.variant&&o[`icon${capitalize(a.variant)}`],a.open&&o.iconOpen]}})(nativeSelectIconStyles),NativeSelectInput=reactExports.forwardRef(function(o,a){const{className:j,disabled:_e,IconComponent:et,inputRef:tt,variant:nt="standard"}=o,rt=_objectWithoutPropertiesLoose(o,_excluded$5),it=_extends$1({},o,{disabled:_e,variant:nt}),ot=useUtilityClasses$4(it);return jsxs(reactExports.Fragment,{children:[jsx(NativeSelectSelect,_extends$1({ownerState:it,className:clsx(ot.select,j),disabled:_e,ref:tt||a},rt)),o.multiple?null:jsx(NativeSelectIcon,{as:et,ownerState:it,className:ot.icon})]})}),NativeSelectInput$1=NativeSelectInput;var _span$1;const _excluded$4=["children","classes","className","label","notched"],NotchedOutlineRoot$1=styled$1("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled$1("legend")(({ownerState:$,theme:o})=>_extends$1({float:"unset",width:"auto",overflow:"hidden"},!$.withLabel&&{padding:0,lineHeight:"11px",transition:o.transitions.create("width",{duration:150,easing:o.transitions.easing.easeOut})},$.withLabel&&_extends$1({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:o.transitions.create("max-width",{duration:50,easing:o.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},$.notched&&{maxWidth:"100%",transition:o.transitions.create("max-width",{duration:100,easing:o.transitions.easing.easeOut,delay:50})})));function NotchedOutline($){const{className:o,label:a,notched:j}=$,_e=_objectWithoutPropertiesLoose($,_excluded$4),et=a!=null&&a!=="",tt=_extends$1({},$,{notched:j,withLabel:et});return jsx(NotchedOutlineRoot$1,_extends$1({"aria-hidden":!0,className:o,ownerState:tt},_e,{children:jsx(NotchedOutlineLegend,{ownerState:tt,children:et?jsx("span",{children:a}):_span$1||(_span$1=jsx("span",{className:"notranslate",children:"​"}))})}))}const _excluded$3=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],useUtilityClasses$3=$=>{const{classes:o}=$,j=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,o);return _extends$1({},o,j)},OutlinedInputRoot=styled$1(InputBaseRoot,{shouldForwardProp:$=>rootShouldForwardProp($)||$==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:$,ownerState:o})=>{const a=$.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return _extends$1({position:"relative",borderRadius:($.vars||$).shape.borderRadius,[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:($.vars||$).palette.text.primary},"@media (hover: none)":{[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:$.vars?`rgba(${$.vars.palette.common.onBackgroundChannel} / 0.23)`:a}},[`&.${outlinedInputClasses$1.focused} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:($.vars||$).palette[o.color].main,borderWidth:2},[`&.${outlinedInputClasses$1.error} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:($.vars||$).palette.error.main},[`&.${outlinedInputClasses$1.disabled} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:($.vars||$).palette.action.disabled}},o.startAdornment&&{paddingLeft:14},o.endAdornment&&{paddingRight:14},o.multiline&&_extends$1({padding:"16.5px 14px"},o.size==="small"&&{padding:"8.5px 14px"}))}),NotchedOutlineRoot=styled$1(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:($,o)=>o.notchedOutline})(({theme:$})=>{const o=$.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:$.vars?`rgba(${$.vars.palette.common.onBackgroundChannel} / 0.23)`:o}}),OutlinedInputInput=styled$1(InputBaseComponent,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:$,ownerState:o})=>_extends$1({padding:"16.5px 14px"},!$.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:$.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:$.palette.mode==="light"?null:"#fff",caretColor:$.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},$.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[$.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},o.size==="small"&&{padding:"8.5px 14px"},o.multiline&&{padding:0},o.startAdornment&&{paddingLeft:0},o.endAdornment&&{paddingRight:0})),OutlinedInput=reactExports.forwardRef(function(o,a){var j,_e,et,tt,nt;const rt=useThemeProps({props:o,name:"MuiOutlinedInput"}),{components:it={},fullWidth:ot=!1,inputComponent:at="input",label:ct,multiline:ut=!1,notched:dt,slots:ft={},type:ht="text"}=rt,pt=_objectWithoutPropertiesLoose(rt,_excluded$3),yt=useUtilityClasses$3(rt),gt=useFormControl(),bt=formControlState({props:rt,muiFormControl:gt,states:["required"]}),At=_extends$1({},rt,{color:bt.color||"primary",disabled:bt.disabled,error:bt.error,focused:bt.focused,formControl:gt,fullWidth:ot,hiddenLabel:bt.hiddenLabel,multiline:ut,size:bt.size,type:ht}),Tt=(j=(_e=ft.root)!=null?_e:it.Root)!=null?j:OutlinedInputRoot,Pt=(et=(tt=ft.input)!=null?tt:it.Input)!=null?et:OutlinedInputInput;return jsx(InputBase$1,_extends$1({slots:{root:Tt,input:Pt},renderSuffix:Ct=>jsx(NotchedOutlineRoot,{ownerState:At,className:yt.notchedOutline,label:ct!=null&&ct!==""&&bt.required?nt||(nt=jsxs(reactExports.Fragment,{children:[ct," ","*"]})):ct,notched:typeof dt<"u"?dt:!!(Ct.startAdornment||Ct.filled||Ct.focused)}),fullWidth:ot,inputComponent:at,multiline:ut,ref:a,type:ht},pt,{classes:_extends$1({},yt,{notchedOutline:null})}))});OutlinedInput.muiName="Input";const OutlinedInput$1=OutlinedInput;function getSelectUtilityClasses($){return generateUtilityClass("MuiSelect",$)}const selectClasses=generateUtilityClasses("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),selectClasses$1=selectClasses;var _span;const _excluded$2=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],SelectSelect=styled$1("div",{name:"MuiSelect",slot:"Select",overridesResolver:($,o)=>{const{ownerState:a}=$;return[{[`&.${selectClasses$1.select}`]:o.select},{[`&.${selectClasses$1.select}`]:o[a.variant]},{[`&.${selectClasses$1.multiple}`]:o.multiple}]}})(nativeSelectSelectStyles,{[`&.${selectClasses$1.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled$1("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:($,o)=>{const{ownerState:a}=$;return[o.icon,a.variant&&o[`icon${capitalize(a.variant)}`],a.open&&o.iconOpen]}})(nativeSelectIconStyles),SelectNativeInput=styled$1("input",{shouldForwardProp:$=>slotShouldForwardProp($)&&$!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:($,o)=>o.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues($,o){return typeof o=="object"&&o!==null?$===o:String($)===String(o)}function isEmpty($){return $==null||typeof $=="string"&&!$.trim()}const useUtilityClasses$2=$=>{const{classes:o,variant:a,disabled:j,multiple:_e,open:et}=$,tt={select:["select",a,j&&"disabled",_e&&"multiple"],icon:["icon",`icon${capitalize(a)}`,et&&"iconOpen",j&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(tt,getSelectUtilityClasses,o)},SelectInput=reactExports.forwardRef(function(o,a){const{"aria-describedby":j,"aria-label":_e,autoFocus:et,autoWidth:tt,children:nt,className:rt,defaultOpen:it,defaultValue:ot,disabled:at,displayEmpty:ct,IconComponent:ut,inputRef:dt,labelId:ft,MenuProps:ht={},multiple:pt,name:yt,onBlur:gt,onChange:bt,onClose:At,onFocus:Tt,onOpen:Pt,open:Ct,readOnly:It,renderValue:Vt,SelectDisplayProps:Kt={},tabIndex:en,value:kt,variant:vt="standard"}=o,St=_objectWithoutPropertiesLoose(o,_excluded$2),[Lt,zt]=useControlled({controlled:kt,default:ot,name:"Select"}),[Rt,$t]=useControlled({controlled:Ct,default:it,name:"Select"}),Gt=reactExports.useRef(null),Ft=reactExports.useRef(null),[wt,Ht]=reactExports.useState(null),{current:nn}=reactExports.useRef(Ct!=null),[Dt,Jt]=reactExports.useState(),on=useForkRef(a,dt),sn=reactExports.useCallback(Et=>{Ft.current=Et,Et&&Ht(Et)},[]),dn=wt==null?void 0:wt.parentNode;reactExports.useImperativeHandle(on,()=>({focus:()=>{Ft.current.focus()},node:Gt.current,value:Lt}),[Lt]),reactExports.useEffect(()=>{it&&Rt&&wt&&!nn&&(Jt(tt?null:dn.clientWidth),Ft.current.focus())},[wt,tt]),reactExports.useEffect(()=>{et&&Ft.current.focus()},[et]),reactExports.useEffect(()=>{if(!ft)return;const Et=ownerDocument(Ft.current).getElementById(ft);if(Et){const Ut=()=>{getSelection().isCollapsed&&Ft.current.focus()};return Et.addEventListener("click",Ut),()=>{Et.removeEventListener("click",Ut)}}},[ft]);const mn=(Et,Ut)=>{Et?Pt&&Pt(Ut):At&&At(Ut),nn||(Jt(tt?null:dn.clientWidth),$t(Et))},ln=Et=>{Et.button===0&&(Et.preventDefault(),Ft.current.focus(),mn(!0,Et))},tn=Et=>{mn(!1,Et)},cn=reactExports.Children.toArray(nt),pn=Et=>{const Ut=cn.map(Wt=>Wt.props.value).indexOf(Et.target.value);if(Ut===-1)return;const Qt=cn[Ut];zt(Qt.props.value),bt&&bt(Et,Qt)},Mn=Et=>Ut=>{let Qt;if(Ut.currentTarget.hasAttribute("tabindex")){if(pt){Qt=Array.isArray(Lt)?Lt.slice():[];const Wt=Lt.indexOf(Et.props.value);Wt===-1?Qt.push(Et.props.value):Qt.splice(Wt,1)}else Qt=Et.props.value;if(Et.props.onClick&&Et.props.onClick(Ut),Lt!==Qt&&(zt(Qt),bt)){const Wt=Ut.nativeEvent||Ut,qt=new Wt.constructor(Wt.type,Wt);Object.defineProperty(qt,"target",{writable:!0,value:{value:Qt,name:yt}}),bt(qt,Et)}pt||mn(!1,Ut)}},In=Et=>{It||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Et.key)!==-1&&(Et.preventDefault(),mn(!0,Et))},Rn=wt!==null&&Rt,Ln=Et=>{!Rn&&gt&&(Object.defineProperty(Et,"target",{writable:!0,value:{value:Lt,name:yt}}),gt(Et))};delete St["aria-invalid"];let Fn,Un;const Nn=[];let Xt=!1;(isFilled({value:Lt})||ct)&&(Vt?Fn=Vt(Lt):Xt=!0);const jt=cn.map(Et=>{if(!reactExports.isValidElement(Et))return null;let Ut;if(pt){if(!Array.isArray(Lt))throw new Error(formatMuiErrorMessage(2));Ut=Lt.some(Qt=>areEqualValues(Qt,Et.props.value)),Ut&&Xt&&Nn.push(Et.props.children)}else Ut=areEqualValues(Lt,Et.props.value),Ut&&Xt&&(Un=Et.props.children);return reactExports.cloneElement(Et,{"aria-selected":Ut?"true":"false",onClick:Mn(Et),onKeyUp:Qt=>{Qt.key===" "&&Qt.preventDefault(),Et.props.onKeyUp&&Et.props.onKeyUp(Qt)},role:"option",selected:Ut,value:void 0,"data-value":Et.props.value})});Xt&&(pt?Nn.length===0?Fn=null:Fn=Nn.reduce((Et,Ut,Qt)=>(Et.push(Ut),Qt<Nn.length-1&&Et.push(", "),Et),[]):Fn=Un);let un=Dt;!tt&&nn&&wt&&(un=dn.clientWidth);let Tn;typeof en<"u"?Tn=en:Tn=at?null:0;const Bn=Kt.id||(yt?`mui-component-select-${yt}`:void 0),Ot=_extends$1({},o,{variant:vt,value:Lt,open:Rn}),Mt=useUtilityClasses$2(Ot);return jsxs(reactExports.Fragment,{children:[jsx(SelectSelect,_extends$1({ref:sn,tabIndex:Tn,role:"button","aria-disabled":at?"true":void 0,"aria-expanded":Rn?"true":"false","aria-haspopup":"listbox","aria-label":_e,"aria-labelledby":[ft,Bn].filter(Boolean).join(" ")||void 0,"aria-describedby":j,onKeyDown:In,onMouseDown:at||It?null:ln,onBlur:Ln,onFocus:Tt},Kt,{ownerState:Ot,className:clsx(Kt.className,Mt.select,rt),id:Bn,children:isEmpty(Fn)?_span||(_span=jsx("span",{className:"notranslate",children:"​"})):Fn})),jsx(SelectNativeInput,_extends$1({value:Array.isArray(Lt)?Lt.join(","):Lt,name:yt,ref:Gt,"aria-hidden":!0,onChange:pn,tabIndex:-1,disabled:at,className:Mt.nativeInput,autoFocus:et,ownerState:Ot},St)),jsx(SelectIcon,{as:ut,className:Mt.icon,ownerState:Ot}),jsx(Menu$1,_extends$1({id:`menu-${yt||""}`,anchorEl:dn,open:Rn,onClose:tn,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},ht,{MenuListProps:_extends$1({"aria-labelledby":ft,role:"listbox",disableListWrap:!0},ht.MenuListProps),PaperProps:_extends$1({},ht.PaperProps,{style:_extends$1({minWidth:un},ht.PaperProps!=null?ht.PaperProps.style:null)}),children:jt}))]})}),SelectInput$1=SelectInput;var _StyledInput,_StyledFilledInput;const _excluded$1=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],useUtilityClasses$1=$=>{const{classes:o}=$;return o},styledRootConfig={name:"MuiSelect",overridesResolver:($,o)=>o.root,shouldForwardProp:$=>rootShouldForwardProp($)&&$!=="variant",slot:"Root"},StyledInput=styled$1(Input$1,styledRootConfig)(""),StyledOutlinedInput=styled$1(OutlinedInput$1,styledRootConfig)(""),StyledFilledInput=styled$1(FilledInput$1,styledRootConfig)(""),Select=reactExports.forwardRef(function(o,a){const j=useThemeProps({name:"MuiSelect",props:o}),{autoWidth:_e=!1,children:et,classes:tt={},className:nt,defaultOpen:rt=!1,displayEmpty:it=!1,IconComponent:ot=ArrowDropDownIcon,id:at,input:ct,inputProps:ut,label:dt,labelId:ft,MenuProps:ht,multiple:pt=!1,native:yt=!1,onClose:gt,onOpen:bt,open:At,renderValue:Tt,SelectDisplayProps:Pt,variant:Ct="outlined"}=j,It=_objectWithoutPropertiesLoose(j,_excluded$1),Vt=yt?NativeSelectInput$1:SelectInput$1,Kt=useFormControl(),kt=formControlState({props:j,muiFormControl:Kt,states:["variant"]}).variant||Ct,vt=ct||{standard:_StyledInput||(_StyledInput=jsx(StyledInput,{})),outlined:jsx(StyledOutlinedInput,{label:dt}),filled:_StyledFilledInput||(_StyledFilledInput=jsx(StyledFilledInput,{}))}[kt],St=_extends$1({},j,{variant:kt,classes:tt}),Lt=useUtilityClasses$1(St),zt=useForkRef(a,vt.ref);return jsx(reactExports.Fragment,{children:reactExports.cloneElement(vt,_extends$1({inputComponent:Vt,inputProps:_extends$1({children:et,IconComponent:ot,variant:kt,type:void 0,multiple:pt},yt?{id:at}:{autoWidth:_e,defaultOpen:rt,displayEmpty:it,labelId:ft,MenuProps:ht,onClose:gt,onOpen:bt,open:At,renderValue:Tt,SelectDisplayProps:_extends$1({id:at},Pt)},ut,{classes:ut?deepmerge(Lt,ut.classes):Lt},ct?ct.props.inputProps:{})},pt&&yt&&kt==="outlined"?{notched:!0}:{},{ref:zt,className:clsx(vt.props.className,nt)},!ct&&{variant:kt},It))})});Select.muiName="Select";const Select$1=Select,Stack=createStack({createStyledComponent:styled$1("div",{name:"MuiStack",slot:"Root",overridesResolver:($,o)=>o.root}),useThemeProps:$=>useThemeProps({props:$,name:"MuiStack"})}),Stack$1=Stack;function getTextFieldUtilityClass($){return generateUtilityClass("MuiTextField",$)}generateUtilityClasses("MuiTextField",["root"]);const _excluded=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],variantComponent={standard:Input$1,filled:FilledInput$1,outlined:OutlinedInput$1},useUtilityClasses=$=>{const{classes:o}=$;return composeClasses({root:["root"]},getTextFieldUtilityClass,o)},TextFieldRoot=styled$1(FormControl$1,{name:"MuiTextField",slot:"Root",overridesResolver:($,o)=>o.root})({}),TextField=reactExports.forwardRef(function(o,a){const j=useThemeProps({props:o,name:"MuiTextField"}),{autoComplete:_e,autoFocus:et=!1,children:tt,className:nt,color:rt="primary",defaultValue:it,disabled:ot=!1,error:at=!1,FormHelperTextProps:ct,fullWidth:ut=!1,helperText:dt,id:ft,InputLabelProps:ht,inputProps:pt,InputProps:yt,inputRef:gt,label:bt,maxRows:At,minRows:Tt,multiline:Pt=!1,name:Ct,onBlur:It,onChange:Vt,onFocus:Kt,placeholder:en,required:kt=!1,rows:vt,select:St=!1,SelectProps:Lt,type:zt,value:Rt,variant:$t="outlined"}=j,Gt=_objectWithoutPropertiesLoose(j,_excluded),Ft=_extends$1({},j,{autoFocus:et,color:rt,disabled:ot,error:at,fullWidth:ut,multiline:Pt,required:kt,select:St,variant:$t}),wt=useUtilityClasses(Ft),Ht={};$t==="outlined"&&(ht&&typeof ht.shrink<"u"&&(Ht.notched=ht.shrink),Ht.label=bt),St&&((!Lt||!Lt.native)&&(Ht.id=void 0),Ht["aria-describedby"]=void 0);const nn=useId(ft),Dt=dt&&nn?`${nn}-helper-text`:void 0,Jt=bt&&nn?`${nn}-label`:void 0,on=variantComponent[$t],sn=jsx(on,_extends$1({"aria-describedby":Dt,autoComplete:_e,autoFocus:et,defaultValue:it,fullWidth:ut,multiline:Pt,name:Ct,rows:vt,maxRows:At,minRows:Tt,type:zt,value:Rt,id:nn,inputRef:gt,onBlur:It,onChange:Vt,onFocus:Kt,placeholder:en,inputProps:pt},Ht,yt));return jsxs(TextFieldRoot,_extends$1({className:clsx(wt.root,nt),disabled:ot,error:at,fullWidth:ut,ref:a,required:kt,color:rt,variant:$t,ownerState:Ft},Gt,{children:[bt!=null&&bt!==""&&jsx(InputLabel$1,_extends$1({htmlFor:nn,id:Jt},ht,{children:bt})),St?jsx(Select$1,_extends$1({"aria-describedby":Dt,id:nn,labelId:Jt,value:Rt,input:sn},Lt,{children:tt})):sn,dt&&jsx(FormHelperText$1,_extends$1({id:Dt},ct,{children:dt}))]}))}),TextField$1=TextField;function getIterator($){if(typeof $.next=="function")return $;if(typeof $[Symbol.iterator]=="function")return $[Symbol.iterator]();if(typeof $[Symbol.asyncIterator]=="function")return $[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function defer(){let $,o;return{promise:new Promise((j,_e)=>{o=j,$=_e}),reject:$,resolve:o}}function _transform($,o,a){const j=getIterator(a),_e=[],et=[];let tt=!1,nt=!1,rt=0,it=null;function ot(){for(;et.length>0&&_e.length>0;){const{resolve:ft}=et.shift(),ht=_e.shift();ft({done:!1,value:ht})}for(;et.length>0&&rt===0&&tt;){const{resolve:ft,reject:ht}=et.shift();it?(ht(it),it=null):ft({done:!0,value:void 0})}}async function at(){if(tt){ot();return}if(!nt&&!(rt+_e.length>=$)){nt=!0,rt++;try{const{done:ft,value:ht}=await j.next();ft?(tt=!0,rt--,ot()):ct(ht)}catch(ft){tt=!0,rt--,it=ft,ot()}nt=!1,at()}}async function ct(ft){try{const ht=await o(ft);_e.push(ht)}catch(ht){tt=!0,it=ht}rt--,ot(),at()}async function ut(){if(_e.length===0){const ht=defer();return et.push(ht),at(),ht.promise}const ft=_e.shift();return at(),{done:!1,value:ft}}const dt={next:ut,[Symbol.asyncIterator]:()=>dt};return dt}function transform($,o,a){return o===void 0?(j,_e)=>_e?transform($,j,_e):transform($,j):a===void 0?j=>transform($,o,j):_transform($,o,a)}var pRetryExports={},pRetry$1={get exports(){return pRetryExports},set exports($){pRetryExports=$}},retryExports={},retry$2={get exports(){return retryExports},set exports($){retryExports=$}},retry$1={};function RetryOperation($,o){typeof o=="boolean"&&(o={forever:o}),this._originalTimeouts=JSON.parse(JSON.stringify($)),this._timeouts=$,this._options=o||{},this._maxRetryTime=o&&o.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function($){if(this._timeout&&clearTimeout(this._timeout),!$)return!1;var o=new Date().getTime();if($&&o-this._operationStart>=this._maxRetryTime)return this._errors.push($),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push($);var a=this._timeouts.shift();if(a===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),a=this._cachedTimeouts.slice(-1);else return!1;var j=this;return this._timer=setTimeout(function(){j._attempts++,j._operationTimeoutCb&&(j._timeout=setTimeout(function(){j._operationTimeoutCb(j._attempts)},j._operationTimeout),j._options.unref&&j._timeout.unref()),j._fn(j._attempts)},a),this._options.unref&&this._timer.unref(),!0};RetryOperation.prototype.attempt=function($,o){this._fn=$,o&&(o.timeout&&(this._operationTimeout=o.timeout),o.cb&&(this._operationTimeoutCb=o.cb));var a=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){a._operationTimeoutCb()},a._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function($){console.log("Using RetryOperation.try() is deprecated"),this.attempt($)};RetryOperation.prototype.start=function($){console.log("Using RetryOperation.start() is deprecated"),this.attempt($)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var $={},o=null,a=0,j=0;j<this._errors.length;j++){var _e=this._errors[j],et=_e.message,tt=($[et]||0)+1;$[et]=tt,tt>=a&&(o=_e,a=tt)}return o};(function($){var o=retry_operation;$.operation=function(a){var j=$.timeouts(a);return new o(j,{forever:a&&(a.forever||a.retries===1/0),unref:a&&a.unref,maxRetryTime:a&&a.maxRetryTime})},$.timeouts=function(a){if(a instanceof Array)return[].concat(a);var j={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var _e in a)j[_e]=a[_e];if(j.minTimeout>j.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var et=[],tt=0;tt<j.retries;tt++)et.push(this.createTimeout(tt,j));return a&&a.forever&&!et.length&&et.push(this.createTimeout(tt,j)),et.sort(function(nt,rt){return nt-rt}),et},$.createTimeout=function(a,j){var _e=j.randomize?Math.random()+1:1,et=Math.round(_e*Math.max(j.minTimeout,1)*Math.pow(j.factor,a));return et=Math.min(et,j.maxTimeout),et},$.wrap=function(a,j,_e){if(j instanceof Array&&(_e=j,j=null),!_e){_e=[];for(var et in a)typeof a[et]=="function"&&_e.push(et)}for(var tt=0;tt<_e.length;tt++){var nt=_e[tt],rt=a[nt];a[nt]=function(ot){var at=$.operation(j),ct=Array.prototype.slice.call(arguments,1),ut=ct.pop();ct.push(function(dt){at.retry(dt)||(dt&&(arguments[0]=at.mainError()),ut.apply(this,arguments))}),at.attempt(function(){ot.apply(a,ct)})}.bind(a,rt),a[nt].options=j}}})(retry$1);(function($){$.exports=retry$1})(retry$2);const retry=retryExports,networkErrorMsgs=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class AbortError extends Error{constructor(o){super(),o instanceof Error?(this.originalError=o,{message:o}=o):(this.originalError=new Error(o),this.originalError.stack=this.stack),this.name="AbortError",this.message=o}}const decorateErrorWithCounts=($,o,a)=>{const j=a.retries-(o-1);return $.attemptNumber=o,$.retriesLeft=j,$},isNetworkError=$=>networkErrorMsgs.includes($),pRetry=($,o)=>new Promise((a,j)=>{o={onFailedAttempt:()=>{},retries:10,...o};const _e=retry.operation(o);_e.attempt(async et=>{try{a(await $(et))}catch(tt){if(!(tt instanceof Error)){j(new TypeError(`Non-error was thrown: "${tt}". You should only throw errors.`));return}if(tt instanceof AbortError)_e.stop(),j(tt.originalError);else if(tt instanceof TypeError&&!isNetworkError(tt.message))_e.stop(),j(tt);else{decorateErrorWithCounts(tt,et,o);try{await o.onFailedAttempt(tt)}catch(nt){j(nt);return}_e.retry(tt)||j(_e.mainError())}}})});pRetry$1.exports=pRetry;pRetryExports.default=pRetry;var AbortError_1=pRetryExports.AbortError=AbortError;const last=async $=>{let o;for await(const a of $)o=a;return o};var itLast=last,itPipeExports={},itPipe={get exports(){return itPipeExports},set exports($){itPipeExports=$}};const rawPipe=(...$)=>{let o;for(;$.length;)o=$.shift()(o);return o},isIterable$1=$=>$&&(typeof $[Symbol.asyncIterator]=="function"||typeof $[Symbol.iterator]=="function"||typeof $.next=="function"),isDuplex=$=>$&&typeof $.sink=="function"&&isIterable$1($.source),duplexPipelineFn=$=>o=>($.sink(o),$.source),pipe=(...$)=>{if(isDuplex($[0])){const o=$[0];$[0]=()=>o.source}else if(isIterable$1($[0])){const o=$[0];$[0]=()=>o}if($.length>1&&isDuplex($[$.length-1])&&($[$.length-1]=$[$.length-1].sink),$.length>2)for(let o=1;o<$.length-1;o++)isDuplex($[o])&&($[o]=duplexPipelineFn($[o]));return rawPipe(...$)};itPipe.exports=pipe;itPipeExports.pipe=pipe;itPipeExports.rawPipe=rawPipe;itPipeExports.isIterable=isIterable$1;itPipeExports.isDuplex=isDuplex;var encode_1$1=encode$9,MSB$3=128,REST$3=127,MSBALL$1=~REST$3,INT$1=Math.pow(2,31);function encode$9($,o,a){if(Number.MAX_SAFE_INTEGER&&$>Number.MAX_SAFE_INTEGER)throw encode$9.bytes=0,new RangeError("Could not encode varint");o=o||[],a=a||0;for(var j=a;$>=INT$1;)o[a++]=$&255|MSB$3,$/=128;for(;$&MSBALL$1;)o[a++]=$&255|MSB$3,$>>>=7;return o[a]=$|0,encode$9.bytes=a-j+1,o}var decode$b=read$1,MSB$2=128,REST$2=127;function read$1($,j){var a=0,j=j||0,_e=0,et=j,tt,nt=$.length;do{if(et>=nt||_e>49)throw read$1.bytes=0,new RangeError("Could not decode varint");tt=$[et++],a+=_e<28?(tt&REST$2)<<_e:(tt&REST$2)*Math.pow(2,_e),_e+=7}while(tt>=MSB$2);return read$1.bytes=et-j,a}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function($){return $<N1$1?1:$<N2$1?2:$<N3$1?3:$<N4$1?4:$<N5$1?5:$<N6$1?6:$<N7$1?7:$<N8$1?8:$<N9$1?9:10},varint$1={encode:encode_1$1,decode:decode$b,encodingLength:length$1},encode_1=encode$8,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$8($,o,a){o=o||[],a=a||0;for(var j=a;$>=INT;)o[a++]=$&255|MSB,$/=128;for(;$&MSBALL;)o[a++]=$&255|MSB,$>>>=7;return o[a]=$|0,encode$8.bytes=a-j+1,o}var decode$a=read,MSB$1=128,REST$1=127;function read($,j){var a=0,j=j||0,_e=0,et=j,tt,nt=$.length;do{if(et>=nt)throw read.bytes=0,new RangeError("Could not decode varint");tt=$[et++],a+=_e<28?(tt&REST$1)<<_e:(tt&REST$1)*Math.pow(2,_e),_e+=7}while(tt>=MSB$1);return read.bytes=et-j,a}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function($){return $<N1?1:$<N2?2:$<N3?3:$<N4?4:$<N5?5:$<N6?6:$<N7?7:$<N8?8:$<N9?9:10},varint={encode:encode_1,decode:decode$a,encodingLength:length},_brrp_varint=varint;const decode$9=($,o=0)=>[_brrp_varint.decode($,o),_brrp_varint.decode.bytes],encodeTo=($,o,a=0)=>(_brrp_varint.encode($,o,a),o),encodingLength=$=>_brrp_varint.encodingLength($),empty=new Uint8Array(0),fromHex=$=>{const o=$.match(/../g);return o?new Uint8Array(o.map(a=>parseInt(a,16))):empty},equals$3=($,o)=>{if($===o)return!0;if($.byteLength!==o.byteLength)return!1;for(let a=0;a<$.byteLength;a++)if($[a]!==o[a])return!1;return!0},coerce=$=>{if($ instanceof Uint8Array&&$.constructor.name==="Uint8Array")return $;if($ instanceof ArrayBuffer)return new Uint8Array($);if(ArrayBuffer.isView($))return new Uint8Array($.buffer,$.byteOffset,$.byteLength);throw new Error("Unknown type, must be binary type")},fromString$3=$=>new TextEncoder().encode($),toString$1=$=>new TextDecoder().decode($),create$5=($,o)=>{const a=o.byteLength,j=encodingLength($),_e=j+encodingLength(a),et=new Uint8Array(_e+a);return encodeTo($,et,0),encodeTo(a,et,j),et.set(o,_e),new Digest($,a,o,et)},decode$8=$=>{const o=coerce($),[a,j]=decode$9(o),[_e,et]=decode$9(o.subarray(j)),tt=o.subarray(j+et);if(tt.byteLength!==_e)throw new Error("Incorrect length");return new Digest(a,_e,tt,o)},equals$2=($,o)=>$===o?!0:$.code===o.code&&$.size===o.size&&equals$3($.bytes,o.bytes);class Digest{constructor(o,a,j,_e){this.code=o,this.size=a,this.digest=j,this.bytes=_e}}function base($,o){if($.length>=255)throw new TypeError("Alphabet too long");for(var a=new Uint8Array(256),j=0;j<a.length;j++)a[j]=255;for(var _e=0;_e<$.length;_e++){var et=$.charAt(_e),tt=et.charCodeAt(0);if(a[tt]!==255)throw new TypeError(et+" is ambiguous");a[tt]=_e}var nt=$.length,rt=$.charAt(0),it=Math.log(nt)/Math.log(256),ot=Math.log(256)/Math.log(nt);function at(dt){if(dt instanceof Uint8Array||(ArrayBuffer.isView(dt)?dt=new Uint8Array(dt.buffer,dt.byteOffset,dt.byteLength):Array.isArray(dt)&&(dt=Uint8Array.from(dt))),!(dt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(dt.length===0)return"";for(var ft=0,ht=0,pt=0,yt=dt.length;pt!==yt&&dt[pt]===0;)pt++,ft++;for(var gt=(yt-pt)*ot+1>>>0,bt=new Uint8Array(gt);pt!==yt;){for(var At=dt[pt],Tt=0,Pt=gt-1;(At!==0||Tt<ht)&&Pt!==-1;Pt--,Tt++)At+=256*bt[Pt]>>>0,bt[Pt]=At%nt>>>0,At=At/nt>>>0;if(At!==0)throw new Error("Non-zero carry");ht=Tt,pt++}for(var Ct=gt-ht;Ct!==gt&&bt[Ct]===0;)Ct++;for(var It=rt.repeat(ft);Ct<gt;++Ct)It+=$.charAt(bt[Ct]);return It}function ct(dt){if(typeof dt!="string")throw new TypeError("Expected String");if(dt.length===0)return new Uint8Array;var ft=0;if(dt[ft]!==" "){for(var ht=0,pt=0;dt[ft]===rt;)ht++,ft++;for(var yt=(dt.length-ft)*it+1>>>0,gt=new Uint8Array(yt);dt[ft];){var bt=a[dt.charCodeAt(ft)];if(bt===255)return;for(var At=0,Tt=yt-1;(bt!==0||At<pt)&&Tt!==-1;Tt--,At++)bt+=nt*gt[Tt]>>>0,gt[Tt]=bt%256>>>0,bt=bt/256>>>0;if(bt!==0)throw new Error("Non-zero carry");pt=At,ft++}if(dt[ft]!==" "){for(var Pt=yt-pt;Pt!==yt&&gt[Pt]===0;)Pt++;for(var Ct=new Uint8Array(ht+(yt-Pt)),It=ht;Pt!==yt;)Ct[It++]=gt[Pt++];return Ct}}}function ut(dt){var ft=ct(dt);if(ft)return ft;throw new Error(`Non-${o} character`)}return{encode:at,decodeUnsafe:ct,decode:ut}}var src$2=base,_brrp__multiformats_scope_baseX=src$2;class Encoder{constructor(o,a,j){this.name=o,this.prefix=a,this.baseEncode=j}encode(o){if(o instanceof Uint8Array)return`${this.prefix}${this.baseEncode(o)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(o,a,j){if(this.name=o,this.prefix=a,a.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=a.codePointAt(0),this.baseDecode=j}decode(o){if(typeof o=="string"){if(o.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(o)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(o.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(o){return or(this,o)}}class ComposedDecoder{constructor(o){this.decoders=o}or(o){return or(this,o)}decode(o){const a=o[0],j=this.decoders[a];if(j)return j.decode(o);throw RangeError(`Unable to decode multibase string ${JSON.stringify(o)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=($,o)=>new ComposedDecoder({...$.decoders||{[$.prefix]:$},...o.decoders||{[o.prefix]:o}});class Codec{constructor(o,a,j,_e){this.name=o,this.prefix=a,this.baseEncode=j,this.baseDecode=_e,this.encoder=new Encoder(o,a,j),this.decoder=new Decoder(o,a,_e)}encode(o){return this.encoder.encode(o)}decode(o){return this.decoder.decode(o)}}const from$1=({name:$,prefix:o,encode:a,decode:j})=>new Codec($,o,a,j),baseX=({prefix:$,name:o,alphabet:a})=>{const{encode:j,decode:_e}=_brrp__multiformats_scope_baseX(a,o);return from$1({prefix:$,name:o,encode:j,decode:et=>coerce(_e(et))})},decode$7=($,o,a,j)=>{const _e={};for(let ot=0;ot<o.length;++ot)_e[o[ot]]=ot;let et=$.length;for(;$[et-1]==="=";)--et;const tt=new Uint8Array(et*a/8|0);let nt=0,rt=0,it=0;for(let ot=0;ot<et;++ot){const at=_e[$[ot]];if(at===void 0)throw new SyntaxError(`Non-${j} character`);rt=rt<<a|at,nt+=a,nt>=8&&(nt-=8,tt[it++]=255&rt>>nt)}if(nt>=a||255&rt<<8-nt)throw new SyntaxError("Unexpected end of data");return tt},encode$7=($,o,a)=>{const j=o[o.length-1]==="=",_e=(1<<a)-1;let et="",tt=0,nt=0;for(let rt=0;rt<$.length;++rt)for(nt=nt<<8|$[rt],tt+=8;tt>a;)tt-=a,et+=o[_e&nt>>tt];if(tt&&(et+=o[_e&nt<<a-tt]),j)for(;et.length*a&7;)et+="=";return et},rfc4648=({name:$,prefix:o,bitsPerChar:a,alphabet:j})=>from$1({prefix:o,name:$,encode(_e){return encode$7(_e,j,a)},decode(_e){return decode$7(_e,j,a,$)}}),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"}));class CID{constructor(o,a,j,_e){this.code=a,this.version=o,this.multihash=j,this.bytes=_e,this.byteOffset=_e.byteOffset,this.byteLength=_e.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly$1,version:readonly$1,multihash:readonly$1,bytes:readonly$1,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:o,multihash:a}=this;if(o!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(a.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(a)}}}toV1(){switch(this.version){case 0:{const{code:o,digest:a}=this.multihash,j=create$5(o,a);return CID.createV1(this.code,j)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(o){return o&&this.code===o.code&&this.version===o.version&&equals$2(this.multihash,o.multihash)}toString(o){const{bytes:a,version:j,_baseCache:_e}=this;switch(j){case 0:return toStringV0(a,_e,o||base58btc.encoder);default:return toStringV1(a,_e,o||base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(o){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!!(o&&(o[cidSymbol]||o.asCID===o))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(o){if(o instanceof CID)return o;if(o!=null&&o.asCID===o){const{version:a,code:j,multihash:_e,bytes:et}=o;return new CID(a,j,_e,et||encodeCID(a,j,_e.bytes))}else if(o!=null&&o[cidSymbol]===!0){const{version:a,multihash:j,code:_e}=o,et=decode$8(j);return CID.create(a,_e,et)}else return null}static create(o,a,j){if(typeof a!="number")throw new Error("String codecs are no longer supported");switch(o){case 0:{if(a!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(o,a,j,j.bytes)}case 1:{const _e=encodeCID(o,a,j.bytes);return new CID(o,a,j,_e)}default:throw new Error("Invalid version")}}static createV0(o){return CID.create(0,DAG_PB_CODE,o)}static createV1(o,a){return CID.create(1,o,a)}static decode(o){const[a,j]=CID.decodeFirst(o);if(j.length)throw new Error("Incorrect length");return a}static decodeFirst(o){const a=CID.inspectBytes(o),j=a.size-a.multihashSize,_e=coerce(o.subarray(j,j+a.multihashSize));if(_e.byteLength!==a.multihashSize)throw new Error("Incorrect length");const et=_e.subarray(a.multihashSize-a.digestSize),tt=new Digest(a.multihashCode,a.digestSize,et,_e);return[a.version===0?CID.createV0(tt):CID.createV1(a.codec,tt),o.subarray(a.size)]}static inspectBytes(o){let a=0;const j=()=>{const[at,ct]=decode$9(o.subarray(a));return a+=ct,at};let _e=j(),et=DAG_PB_CODE;if(_e===18?(_e=0,a=0):_e===1&&(et=j()),_e!==0&&_e!==1)throw new RangeError(`Invalid CID version ${_e}`);const tt=a,nt=j(),rt=j(),it=a+rt,ot=it-tt;return{version:_e,codec:et,multihashCode:nt,digestSize:rt,multihashSize:ot,size:it}}static parse(o,a){const[j,_e]=parseCIDtoBytes(o,a),et=CID.decode(_e);return et._baseCache.set(j,o),et}}const parseCIDtoBytes=($,o)=>{switch($[0]){case"Q":{const a=o||base58btc;return[base58btc.prefix,a.decode(`${base58btc.prefix}${$}`)]}case base58btc.prefix:{const a=o||base58btc;return[base58btc.prefix,a.decode($)]}case base32.prefix:{const a=o||base32;return[base32.prefix,a.decode($)]}default:{if(o==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[$[0],o.decode($)]}}},toStringV0=($,o,a)=>{const{prefix:j}=a;if(j!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${a.name} encoding`);const _e=o.get(j);if(_e==null){const et=a.encode($).slice(1);return o.set(j,et),et}else return _e},toStringV1=($,o,a)=>{const{prefix:j}=a,_e=o.get(j);if(_e==null){const et=a.encode($);return o.set(j,et),et}else return _e},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=($,o,a)=>{const j=encodingLength($),_e=j+encodingLength(o),et=new Uint8Array(_e+a.byteLength);return encodeTo($,et,0),encodeTo(o,et,j),et.set(a,_e),et},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly$1={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version="0.0.0-dev",deprecate=($,o)=>{if($.test(version))console.warn(o);else throw new Error(o)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is$1($){if($===null)return"null";if($===void 0)return"undefined";if($===!0||$===!1)return"boolean";const o=typeof $;if(typeofs.includes(o))return o;if(o==="function")return"Function";if(Array.isArray($))return"Array";if(isBuffer$1($))return"Buffer";const a=getObjectType($);return a||"Object"}function isBuffer$1($){return $&&$.constructor&&$.constructor.isBuffer&&$.constructor.isBuffer.call(null,$)}function getObjectType($){const o=Object.prototype.toString.call($).slice(8,-1);if(objectTypeNames.includes(o))return o}class Type{constructor(o,a,j){this.major=o,this.majorEncoded=o<<5,this.name=a,this.terminal=j}toString(){return`Type[${this.major}].${this.name}`}compare(o){return this.major<o.major?-1:this.major>o.major?1:0}}Type.uint=new Type(0,"uint",!0);Type.negint=new Type(1,"negint",!0);Type.bytes=new Type(2,"bytes",!0);Type.string=new Type(3,"string",!0);Type.array=new Type(4,"array",!1);Type.map=new Type(5,"map",!1);Type.tag=new Type(6,"tag",!1);Type.float=new Type(7,"float",!0);Type.false=new Type(7,"false",!0);Type.true=new Type(7,"true",!0);Type.null=new Type(7,"null",!0);Type.undefined=new Type(7,"undefined",!0);Type.break=new Type(7,"break",!0);class Token{constructor(o,a,j){this.type=o,this.value=a,this.encodedLength=j,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder$1=new TextDecoder,textEncoder$2=new TextEncoder;function isBuffer($){return useBuffer&&globalThis.Buffer.isBuffer($)}function asU8A($){return $ instanceof Uint8Array?isBuffer($)?new Uint8Array($.buffer,$.byteOffset,$.byteLength):$:Uint8Array.from($)}const toString=useBuffer?($,o,a)=>a-o>64?globalThis.Buffer.from($.subarray(o,a)).toString("utf8"):utf8Slice($,o,a):($,o,a)=>a-o>64?textDecoder$1.decode($.subarray(o,a)):utf8Slice($,o,a),fromString$2=useBuffer?$=>$.length>64?globalThis.Buffer.from($):utf8ToBytes($):$=>$.length>64?textEncoder$2.encode($):utf8ToBytes($),fromArray=$=>Uint8Array.from($),slice=useBuffer?($,o,a)=>isBuffer($)?new Uint8Array($.subarray(o,a)):$.slice(o,a):($,o,a)=>$.slice(o,a),concat$2=useBuffer?($,o)=>($=$.map(a=>a instanceof Uint8Array?a:globalThis.Buffer.from(a)),asU8A(globalThis.Buffer.concat($,o))):($,o)=>{const a=new Uint8Array(o);let j=0;for(let _e of $)j+_e.length>a.length&&(_e=_e.subarray(0,a.length-j)),a.set(_e,j),j+=_e.length;return a},alloc=useBuffer?$=>globalThis.Buffer.allocUnsafe($):$=>new Uint8Array($);function compare($,o){if(isBuffer($)&&isBuffer(o))return $.compare(o);for(let a=0;a<$.length;a++)if($[a]!==o[a])return $[a]<o[a]?-1:1;return 0}function utf8ToBytes($,o=1/0){let a;const j=$.length;let _e=null;const et=[];for(let tt=0;tt<j;++tt){if(a=$.charCodeAt(tt),a>55295&&a<57344){if(!_e){if(a>56319){(o-=3)>-1&&et.push(239,191,189);continue}else if(tt+1===j){(o-=3)>-1&&et.push(239,191,189);continue}_e=a;continue}if(a<56320){(o-=3)>-1&&et.push(239,191,189),_e=a;continue}a=(_e-55296<<10|a-56320)+65536}else _e&&(o-=3)>-1&&et.push(239,191,189);if(_e=null,a<128){if((o-=1)<0)break;et.push(a)}else if(a<2048){if((o-=2)<0)break;et.push(a>>6|192,a&63|128)}else if(a<65536){if((o-=3)<0)break;et.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((o-=4)<0)break;et.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return et}function utf8Slice($,o,a){const j=[];for(;o<a;){const _e=$[o];let et=null,tt=_e>239?4:_e>223?3:_e>191?2:1;if(o+tt<=a){let nt,rt,it,ot;switch(tt){case 1:_e<128&&(et=_e);break;case 2:nt=$[o+1],(nt&192)===128&&(ot=(_e&31)<<6|nt&63,ot>127&&(et=ot));break;case 3:nt=$[o+1],rt=$[o+2],(nt&192)===128&&(rt&192)===128&&(ot=(_e&15)<<12|(nt&63)<<6|rt&63,ot>2047&&(ot<55296||ot>57343)&&(et=ot));break;case 4:nt=$[o+1],rt=$[o+2],it=$[o+3],(nt&192)===128&&(rt&192)===128&&(it&192)===128&&(ot=(_e&15)<<18|(nt&63)<<12|(rt&63)<<6|it&63,ot>65535&&ot<1114112&&(et=ot))}}et===null?(et=65533,tt=1):et>65535&&(et-=65536,j.push(et>>>10&1023|55296),et=56320|et&1023),j.push(et),o+=tt}return decodeCodePointsArray(j)}const MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray($){const o=$.length;if(o<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,$);let a="",j=0;for(;j<o;)a+=String.fromCharCode.apply(String,$.slice(j,j+=MAX_ARGUMENTS_LENGTH));return a}const defaultChunkSize=256;class Bl{constructor(o=defaultChunkSize){this.chunkSize=o,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(o){let a=this.chunks[this.chunks.length-1];if(this.cursor+o.length<=this.maxCursor+1){const _e=a.length-(this.maxCursor-this.cursor)-1;a.set(o,_e)}else{if(a){const _e=a.length-(this.maxCursor-this.cursor)-1;_e<a.length&&(this.chunks[this.chunks.length-1]=a.subarray(0,_e),this.maxCursor=this.cursor-1)}o.length<64&&o.length<this.chunkSize?(a=alloc(this.chunkSize),this.chunks.push(a),this.maxCursor+=a.length,this._initReuseChunk===null&&(this._initReuseChunk=a),a.set(o,0)):(this.chunks.push(o),this.maxCursor+=o.length)}this.cursor+=o.length}toBytes(o=!1){let a;if(this.chunks.length===1){const j=this.chunks[0];o&&this.cursor>j.length/2?(a=this.cursor===j.length?j:j.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):a=slice(j,0,this.cursor)}else a=concat$2(this.chunks,this.cursor);return o&&this.reset(),a}}const decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData($,o,a){if($.length-o<a)throw new Error(`${decodeErrPrefix} not enough data for type`)}const uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8($,o,a){assertEnoughData($,o,1);const j=$[o];if(a.strict===!0&&j<uintBoundaries[0])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return j}function readUint16($,o,a){assertEnoughData($,o,2);const j=$[o]<<8|$[o+1];if(a.strict===!0&&j<uintBoundaries[1])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return j}function readUint32($,o,a){assertEnoughData($,o,4);const j=$[o]*16777216+($[o+1]<<16)+($[o+2]<<8)+$[o+3];if(a.strict===!0&&j<uintBoundaries[2])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return j}function readUint64($,o,a){assertEnoughData($,o,8);const j=$[o]*16777216+($[o+1]<<16)+($[o+2]<<8)+$[o+3],_e=$[o+4]*16777216+($[o+5]<<16)+($[o+6]<<8)+$[o+7],et=(BigInt(j)<<BigInt(32))+BigInt(_e);if(a.strict===!0&&et<uintBoundaries[3])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if(et<=Number.MAX_SAFE_INTEGER)return Number(et);if(a.allowBigInt===!0)return et;throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`)}function decodeUint8($,o,a,j){return new Token(Type.uint,readUint8($,o+1,j),2)}function decodeUint16($,o,a,j){return new Token(Type.uint,readUint16($,o+1,j),3)}function decodeUint32($,o,a,j){return new Token(Type.uint,readUint32($,o+1,j),5)}function decodeUint64($,o,a,j){return new Token(Type.uint,readUint64($,o+1,j),9)}function encodeUint($,o){return encodeUintValue($,0,o.value)}function encodeUintValue($,o,a){if(a<uintBoundaries[0]){const j=Number(a);$.push([o|j])}else if(a<uintBoundaries[1]){const j=Number(a);$.push([o|24,j])}else if(a<uintBoundaries[2]){const j=Number(a);$.push([o|25,j>>>8,j&255])}else if(a<uintBoundaries[3]){const j=Number(a);$.push([o|26,j>>>24&255,j>>>16&255,j>>>8&255,j&255])}else{const j=BigInt(a);if(j<uintBoundaries[4]){const _e=[o|27,0,0,0,0,0,0,0];let et=Number(j&BigInt(4294967295)),tt=Number(j>>BigInt(32)&BigInt(4294967295));_e[8]=et&255,et=et>>8,_e[7]=et&255,et=et>>8,_e[6]=et&255,et=et>>8,_e[5]=et&255,_e[4]=tt&255,tt=tt>>8,_e[3]=tt&255,tt=tt>>8,_e[2]=tt&255,tt=tt>>8,_e[1]=tt&255,$.push(_e)}else throw new Error(`${decodeErrPrefix} encountered BigInt larger than allowable range`)}}encodeUint.encodedSize=function(o){return encodeUintValue.encodedSize(o.value)};encodeUintValue.encodedSize=function(o){return o<uintBoundaries[0]?1:o<uintBoundaries[1]?2:o<uintBoundaries[2]?3:o<uintBoundaries[3]?5:9};encodeUint.compareTokens=function(o,a){return o.value<a.value?-1:o.value>a.value?1:0};function decodeNegint8($,o,a,j){return new Token(Type.negint,-1-readUint8($,o+1,j),2)}function decodeNegint16($,o,a,j){return new Token(Type.negint,-1-readUint16($,o+1,j),3)}function decodeNegint32($,o,a,j){return new Token(Type.negint,-1-readUint32($,o+1,j),5)}const neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64($,o,a,j){const _e=readUint64($,o+1,j);if(typeof _e!="bigint"){const et=-1-_e;if(et>=Number.MIN_SAFE_INTEGER)return new Token(Type.negint,et,9)}if(j.allowBigInt!==!0)throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`);return new Token(Type.negint,neg1b-BigInt(_e),9)}function encodeNegint($,o){const a=o.value,j=typeof a=="bigint"?a*neg1b-pos1b:a*-1-1;encodeUintValue($,o.type.majorEncoded,j)}encodeNegint.encodedSize=function(o){const a=o.value,j=typeof a=="bigint"?a*neg1b-pos1b:a*-1-1;return j<uintBoundaries[0]?1:j<uintBoundaries[1]?2:j<uintBoundaries[2]?3:j<uintBoundaries[3]?5:9};encodeNegint.compareTokens=function(o,a){return o.value<a.value?1:o.value>a.value?-1:0};function toToken$3($,o,a,j){assertEnoughData($,o,a+j);const _e=slice($,o+a,o+a+j);return new Token(Type.bytes,_e,a+j)}function decodeBytesCompact($,o,a,j){return toToken$3($,o,1,a)}function decodeBytes8($,o,a,j){return toToken$3($,o,2,readUint8($,o+1,j))}function decodeBytes16($,o,a,j){return toToken$3($,o,3,readUint16($,o+1,j))}function decodeBytes32($,o,a,j){return toToken$3($,o,5,readUint32($,o+1,j))}function decodeBytes64($,o,a,j){const _e=readUint64($,o+1,j);if(typeof _e=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer bytes lengths not supported`);return toToken$3($,o,9,_e)}function tokenBytes($){return $.encodedBytes===void 0&&($.encodedBytes=$.type===Type.string?fromString$2($.value):$.value),$.encodedBytes}function encodeBytes($,o){const a=tokenBytes(o);encodeUintValue($,o.type.majorEncoded,a.length),$.push(a)}encodeBytes.encodedSize=function(o){const a=tokenBytes(o);return encodeUintValue.encodedSize(a.length)+a.length};encodeBytes.compareTokens=function(o,a){return compareBytes(tokenBytes(o),tokenBytes(a))};function compareBytes($,o){return $.length<o.length?-1:$.length>o.length?1:compare($,o)}function toToken$2($,o,a,j,_e){const et=a+j;assertEnoughData($,o,et);const tt=new Token(Type.string,toString($,o+a,o+et),et);return _e.retainStringBytes===!0&&(tt.byteValue=slice($,o+a,o+et)),tt}function decodeStringCompact($,o,a,j){return toToken$2($,o,1,a,j)}function decodeString8($,o,a,j){return toToken$2($,o,2,readUint8($,o+1,j),j)}function decodeString16($,o,a,j){return toToken$2($,o,3,readUint16($,o+1,j),j)}function decodeString32($,o,a,j){return toToken$2($,o,5,readUint32($,o+1,j),j)}function decodeString64($,o,a,j){const _e=readUint64($,o+1,j);if(typeof _e=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer string lengths not supported`);return toToken$2($,o,9,_e,j)}const encodeString=encodeBytes;function toToken$1($,o,a,j){return new Token(Type.array,j,a)}function decodeArrayCompact($,o,a,j){return toToken$1($,o,1,a)}function decodeArray8($,o,a,j){return toToken$1($,o,2,readUint8($,o+1,j))}function decodeArray16($,o,a,j){return toToken$1($,o,3,readUint16($,o+1,j))}function decodeArray32($,o,a,j){return toToken$1($,o,5,readUint32($,o+1,j))}function decodeArray64($,o,a,j){const _e=readUint64($,o+1,j);if(typeof _e=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer array lengths not supported`);return toToken$1($,o,9,_e)}function decodeArrayIndefinite($,o,a,j){if(j.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken$1($,o,1,1/0)}function encodeArray($,o){encodeUintValue($,Type.array.majorEncoded,o.value)}encodeArray.compareTokens=encodeUint.compareTokens;encodeArray.encodedSize=function(o){return encodeUintValue.encodedSize(o.value)};function toToken($,o,a,j){return new Token(Type.map,j,a)}function decodeMapCompact($,o,a,j){return toToken($,o,1,a)}function decodeMap8($,o,a,j){return toToken($,o,2,readUint8($,o+1,j))}function decodeMap16($,o,a,j){return toToken($,o,3,readUint16($,o+1,j))}function decodeMap32($,o,a,j){return toToken($,o,5,readUint32($,o+1,j))}function decodeMap64($,o,a,j){const _e=readUint64($,o+1,j);if(typeof _e=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer map lengths not supported`);return toToken($,o,9,_e)}function decodeMapIndefinite($,o,a,j){if(j.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken($,o,1,1/0)}function encodeMap($,o){encodeUintValue($,Type.map.majorEncoded,o.value)}encodeMap.compareTokens=encodeUint.compareTokens;encodeMap.encodedSize=function(o){return encodeUintValue.encodedSize(o.value)};function decodeTagCompact($,o,a,j){return new Token(Type.tag,a,1)}function decodeTag8($,o,a,j){return new Token(Type.tag,readUint8($,o+1,j),2)}function decodeTag16($,o,a,j){return new Token(Type.tag,readUint16($,o+1,j),3)}function decodeTag32($,o,a,j){return new Token(Type.tag,readUint32($,o+1,j),5)}function decodeTag64($,o,a,j){return new Token(Type.tag,readUint64($,o+1,j),9)}function encodeTag($,o){encodeUintValue($,Type.tag.majorEncoded,o.value)}encodeTag.compareTokens=encodeUint.compareTokens;encodeTag.encodedSize=function(o){return encodeUintValue.encodedSize(o.value)};const MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined($,o,a,j){if(j.allowUndefined===!1)throw new Error(`${decodeErrPrefix} undefined values are not supported`);return j.coerceUndefinedToNull===!0?new Token(Type.null,null,1):new Token(Type.undefined,void 0,1)}function decodeBreak($,o,a,j){if(j.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return new Token(Type.break,void 0,1)}function createToken($,o,a){if(a){if(a.allowNaN===!1&&Number.isNaN($))throw new Error(`${decodeErrPrefix} NaN values are not supported`);if(a.allowInfinity===!1&&($===1/0||$===-1/0))throw new Error(`${decodeErrPrefix} Infinity values are not supported`)}return new Token(Type.float,$,o)}function decodeFloat16($,o,a,j){return createToken(readFloat16($,o+1),3,j)}function decodeFloat32($,o,a,j){return createToken(readFloat32($,o+1),5,j)}function decodeFloat64($,o,a,j){return createToken(readFloat64($,o+1),9,j)}function encodeFloat($,o,a){const j=o.value;if(j===!1)$.push([Type.float.majorEncoded|MINOR_FALSE]);else if(j===!0)$.push([Type.float.majorEncoded|MINOR_TRUE]);else if(j===null)$.push([Type.float.majorEncoded|MINOR_NULL]);else if(j===void 0)$.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{let _e,et=!1;(!a||a.float64!==!0)&&(encodeFloat16(j),_e=readFloat16(ui8a,1),j===_e||Number.isNaN(j)?(ui8a[0]=249,$.push(ui8a.slice(0,3)),et=!0):(encodeFloat32(j),_e=readFloat32(ui8a,1),j===_e&&(ui8a[0]=250,$.push(ui8a.slice(0,5)),et=!0))),et||(encodeFloat64(j),_e=readFloat64(ui8a,1),ui8a[0]=251,$.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function(o,a){const j=o.value;if(j===!1||j===!0||j===null||j===void 0)return 1;if(!a||a.float64!==!0){encodeFloat16(j);let _e=readFloat16(ui8a,1);if(j===_e||Number.isNaN(j))return 3;if(encodeFloat32(j),_e=readFloat32(ui8a,1),j===_e)return 5}return 9};const buffer$1=new ArrayBuffer(9),dataView=new DataView(buffer$1,1),ui8a=new Uint8Array(buffer$1,0);function encodeFloat16($){if($===1/0)dataView.setUint16(0,31744,!1);else if($===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN($))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,$);const o=dataView.getUint32(0),a=(o&2139095040)>>23,j=o&8388607;if(a===255)dataView.setUint16(0,31744,!1);else if(a===0)dataView.setUint16(0,($&2147483648)>>16|j>>13,!1);else{const _e=a-127;_e<-24?dataView.setUint16(0,0):_e<-14?dataView.setUint16(0,(o&2147483648)>>16|1<<24+_e,!1):dataView.setUint16(0,(o&2147483648)>>16|_e+15<<10|j>>13,!1)}}}function readFloat16($,o){if($.length-o<2)throw new Error(`${decodeErrPrefix} not enough data for float16`);const a=($[o]<<8)+$[o+1];if(a===31744)return 1/0;if(a===64512)return-1/0;if(a===32256)return NaN;const j=a>>10&31,_e=a&1023;let et;return j===0?et=_e*2**-24:j!==31?et=(_e+1024)*2**(j-25):et=_e===0?1/0:NaN,a&32768?-et:et}function encodeFloat32($){dataView.setFloat32(0,$,!1)}function readFloat32($,o){if($.length-o<4)throw new Error(`${decodeErrPrefix} not enough data for float32`);const a=($.byteOffset||0)+o;return new DataView($.buffer,a,4).getFloat32(0,!1)}function encodeFloat64($){dataView.setFloat64(0,$,!1)}function readFloat64($,o){if($.length-o<8)throw new Error(`${decodeErrPrefix} not enough data for float64`);const a=($.byteOffset||0)+o;return new DataView($.buffer,a,8).getFloat64(0,!1)}encodeFloat.compareTokens=encodeUint.compareTokens;function invalidMinor($,o,a){throw new Error(`${decodeErrPrefix} encountered invalid minor (${a}) for major ${$[o]>>>5}`)}function errorer($){return()=>{throw new Error(`${decodeErrPrefix} ${$}`)}}const jump=[];for(let $=0;$<=23;$++)jump[$]=invalidMinor;jump[24]=decodeUint8;jump[25]=decodeUint16;jump[26]=decodeUint32;jump[27]=decodeUint64;jump[28]=invalidMinor;jump[29]=invalidMinor;jump[30]=invalidMinor;jump[31]=invalidMinor;for(let $=32;$<=55;$++)jump[$]=invalidMinor;jump[56]=decodeNegint8;jump[57]=decodeNegint16;jump[58]=decodeNegint32;jump[59]=decodeNegint64;jump[60]=invalidMinor;jump[61]=invalidMinor;jump[62]=invalidMinor;jump[63]=invalidMinor;for(let $=64;$<=87;$++)jump[$]=decodeBytesCompact;jump[88]=decodeBytes8;jump[89]=decodeBytes16;jump[90]=decodeBytes32;jump[91]=decodeBytes64;jump[92]=invalidMinor;jump[93]=invalidMinor;jump[94]=invalidMinor;jump[95]=errorer("indefinite length bytes/strings are not supported");for(let $=96;$<=119;$++)jump[$]=decodeStringCompact;jump[120]=decodeString8;jump[121]=decodeString16;jump[122]=decodeString32;jump[123]=decodeString64;jump[124]=invalidMinor;jump[125]=invalidMinor;jump[126]=invalidMinor;jump[127]=errorer("indefinite length bytes/strings are not supported");for(let $=128;$<=151;$++)jump[$]=decodeArrayCompact;jump[152]=decodeArray8;jump[153]=decodeArray16;jump[154]=decodeArray32;jump[155]=decodeArray64;jump[156]=invalidMinor;jump[157]=invalidMinor;jump[158]=invalidMinor;jump[159]=decodeArrayIndefinite;for(let $=160;$<=183;$++)jump[$]=decodeMapCompact;jump[184]=decodeMap8;jump[185]=decodeMap16;jump[186]=decodeMap32;jump[187]=decodeMap64;jump[188]=invalidMinor;jump[189]=invalidMinor;jump[190]=invalidMinor;jump[191]=decodeMapIndefinite;for(let $=192;$<=215;$++)jump[$]=decodeTagCompact;jump[216]=decodeTag8;jump[217]=decodeTag16;jump[218]=decodeTag32;jump[219]=decodeTag64;jump[220]=invalidMinor;jump[221]=invalidMinor;jump[222]=invalidMinor;jump[223]=invalidMinor;for(let $=224;$<=243;$++)jump[$]=errorer("simple values are not supported");jump[244]=invalidMinor;jump[245]=invalidMinor;jump[246]=invalidMinor;jump[247]=decodeUndefined;jump[248]=errorer("simple values are not supported");jump[249]=decodeFloat16;jump[250]=decodeFloat32;jump[251]=decodeFloat64;jump[252]=invalidMinor;jump[253]=invalidMinor;jump[254]=invalidMinor;jump[255]=decodeBreak;const quick=[];for(let $=0;$<24;$++)quick[$]=new Token(Type.uint,$,1);for(let $=-1;$>=-24;$--)quick[31-$]=new Token(Type.negint,$,1);quick[64]=new Token(Type.bytes,new Uint8Array(0),1);quick[96]=new Token(Type.string,"",1);quick[128]=new Token(Type.array,0,1);quick[160]=new Token(Type.map,0,1);quick[244]=new Token(Type.false,!1,1);quick[245]=new Token(Type.true,!0,1);quick[246]=new Token(Type.null,null,1);function quickEncodeToken($){switch($.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:return $.value.length?void 0:fromArray([64]);case Type.string:return $.value===""?fromArray([96]):void 0;case Type.array:return $.value===0?fromArray([128]):void 0;case Type.map:return $.value===0?fromArray([160]):void 0;case Type.uint:return $.value<24?fromArray([Number($.value)]):void 0;case Type.negint:if($.value>=-24)return fromArray([31-Number($.value)])}}const defaultEncodeOptions={float64:!1,mapSorter,quickEncodeToken};function makeCborEncoders(){const $=[];return $[Type.uint.major]=encodeUint,$[Type.negint.major]=encodeNegint,$[Type.bytes.major]=encodeBytes,$[Type.string.major]=encodeString,$[Type.array.major]=encodeArray,$[Type.map.major]=encodeMap,$[Type.tag.major]=encodeTag,$[Type.float.major]=encodeFloat,$}const cborEncoders=makeCborEncoders(),buf=new Bl;class Ref{constructor(o,a){this.obj=o,this.parent=a}includes(o){let a=this;do if(a.obj===o)return!0;while(a=a.parent);return!1}static createCheck(o,a){if(o&&o.includes(a))throw new Error(`${encodeErrPrefix} object contains circular references`);return new Ref(a,o)}}const simpleTokens={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},typeEncoders={number($,o,a,j){return!Number.isInteger($)||!Number.isSafeInteger($)?new Token(Type.float,$):$>=0?new Token(Type.uint,$):new Token(Type.negint,$)},bigint($,o,a,j){return $>=BigInt(0)?new Token(Type.uint,$):new Token(Type.negint,$)},Uint8Array($,o,a,j){return new Token(Type.bytes,$)},string($,o,a,j){return new Token(Type.string,$)},boolean($,o,a,j){return $?simpleTokens.true:simpleTokens.false},null($,o,a,j){return simpleTokens.null},undefined($,o,a,j){return simpleTokens.undefined},ArrayBuffer($,o,a,j){return new Token(Type.bytes,new Uint8Array($))},DataView($,o,a,j){return new Token(Type.bytes,new Uint8Array($.buffer,$.byteOffset,$.byteLength))},Array($,o,a,j){if(!$.length)return a.addBreakTokens===!0?[simpleTokens.emptyArray,new Token(Type.break)]:simpleTokens.emptyArray;j=Ref.createCheck(j,$);const _e=[];let et=0;for(const tt of $)_e[et++]=objectToTokens(tt,a,j);return a.addBreakTokens?[new Token(Type.array,$.length),_e,new Token(Type.break)]:[new Token(Type.array,$.length),_e]},Object($,o,a,j){const _e=o!=="Object",et=_e?$.keys():Object.keys($),tt=_e?$.size:et.length;if(!tt)return a.addBreakTokens===!0?[simpleTokens.emptyMap,new Token(Type.break)]:simpleTokens.emptyMap;j=Ref.createCheck(j,$);const nt=[];let rt=0;for(const it of et)nt[rt++]=[objectToTokens(it,a,j),objectToTokens(_e?$.get(it):$[it],a,j)];return sortMapEntries(nt,a),a.addBreakTokens?[new Token(Type.map,tt),nt,new Token(Type.break)]:[new Token(Type.map,tt),nt]}};typeEncoders.Map=typeEncoders.Object;typeEncoders.Buffer=typeEncoders.Uint8Array;for(const $ of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders[`${$}Array`]=typeEncoders.DataView;function objectToTokens($,o={},a){const j=is$1($),_e=o&&o.typeEncoders&&o.typeEncoders[j]||typeEncoders[j];if(typeof _e=="function"){const tt=_e($,j,o,a);if(tt!=null)return tt}const et=typeEncoders[j];if(!et)throw new Error(`${encodeErrPrefix} unsupported type: ${j}`);return et($,j,o,a)}function sortMapEntries($,o){o.mapSorter&&$.sort(o.mapSorter)}function mapSorter($,o){const a=Array.isArray($[0])?$[0][0]:$[0],j=Array.isArray(o[0])?o[0][0]:o[0];if(a.type!==j.type)return a.type.compare(j.type);const _e=a.type.major,et=cborEncoders[_e].compareTokens(a,j);return et===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),et}function tokensToEncoded($,o,a,j){if(Array.isArray(o))for(const _e of o)tokensToEncoded($,_e,a,j);else a[o.type.major]($,o,j)}function encodeCustom($,o,a){const j=objectToTokens($,a);if(!Array.isArray(j)&&a.quickEncodeToken){const _e=a.quickEncodeToken(j);if(_e)return _e;const et=o[j.type.major];if(et.encodedSize){const tt=et.encodedSize(j,a),nt=new Bl(tt);if(et(nt,j,a),nt.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${j} was wrong`);return asU8A(nt.chunks[0])}}return buf.reset(),tokensToEncoded(buf,j,o,a),buf.toBytes(!0)}function encode$6($,o){return o=Object.assign({},defaultEncodeOptions,o),encodeCustom($,cborEncoders,o)}const defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Tokeniser{constructor(o,a={}){this.pos=0,this.data=o,this.options=a}done(){return this.pos>=this.data.length}next(){const o=this.data[this.pos];let a=quick[o];if(a===void 0){const j=jump[o];if(!j)throw new Error(`${decodeErrPrefix} no decoder for major type ${o>>>5} (byte 0x${o.toString(16).padStart(2,"0")})`);const _e=o&31;a=j(this.data,this.pos,_e,this.options)}return this.pos+=a.encodedLength,a}}const DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray($,o,a){const j=[];for(let _e=0;_e<$.value;_e++){const et=tokensToObject(o,a);if(et===BREAK){if($.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed array`)}if(et===DONE)throw new Error(`${decodeErrPrefix} found array but not enough entries (got ${_e}, expected ${$.value})`);j[_e]=et}return j}function tokenToMap($,o,a){const j=a.useMaps===!0,_e=j?void 0:{},et=j?new Map:void 0;for(let tt=0;tt<$.value;tt++){const nt=tokensToObject(o,a);if(nt===BREAK){if($.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed map`)}if(nt===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${tt} [no key], expected ${$.value})`);if(j!==!0&&typeof nt!="string")throw new Error(`${decodeErrPrefix} non-string keys not supported (got ${typeof nt})`);if(a.rejectDuplicateMapKeys===!0&&(j&&et.has(nt)||!j&&nt in _e))throw new Error(`${decodeErrPrefix} found repeat map key "${nt}"`);const rt=tokensToObject(o,a);if(rt===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${tt} [no value], expected ${$.value})`);j?et.set(nt,rt):_e[nt]=rt}return j?et:_e}function tokensToObject($,o){if($.done())return DONE;const a=$.next();if(a.type===Type.break)return BREAK;if(a.type.terminal)return a.value;if(a.type===Type.array)return tokenToArray(a,$,o);if(a.type===Type.map)return tokenToMap(a,$,o);if(a.type===Type.tag){if(o.tags&&typeof o.tags[a.value]=="function"){const j=tokensToObject($,o);return o.tags[a.value](j)}throw new Error(`${decodeErrPrefix} tag not supported (${a.value})`)}throw new Error("unsupported")}function decode$6($,o){if(!($ instanceof Uint8Array))throw new Error(`${decodeErrPrefix} data to decode must be a Uint8Array`);o=Object.assign({},defaultDecodeOptions,o);const a=o.tokenizer||new Tokeniser($,o),j=tokensToObject(a,o);if(j===DONE)throw new Error(`${decodeErrPrefix} did not find any content to decode`);if(j===BREAK)throw new Error(`${decodeErrPrefix} got unexpected break`);if(!a.done())throw new Error(`${decodeErrPrefix} too many terminals, data makes no sense`);return j}const CID_CBOR_TAG$2=42;function cidEncoder$1($){if($.asCID!==$)return null;const o=CID.asCID($);if(!o)return null;const a=new Uint8Array(o.bytes.byteLength+1);return a.set(o.bytes,1),[new Token(Type.tag,CID_CBOR_TAG$2),new Token(Type.bytes,a)]}function undefinedEncoder$1(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$1($){if(Number.isNaN($))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if($===1/0||$===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions$1={float64:!0,typeEncoders:{Object:cidEncoder$1,undefined:undefinedEncoder$1,number:numberEncoder$1}};function cidDecoder$2($){if($[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode($.subarray(1))}const decodeOptions$2={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions$2.tags[CID_CBOR_TAG$2]=cidDecoder$2;const encode$5=$=>encode$6($,encodeOptions$1),decode$5=$=>decode$6($,decodeOptions$2),CIDV0_BYTES={SHA2_256:18,LENGTH:32,DAG_PB:112};async function readVarint($){const o=await $.upTo(8),a=varint$1.decode(o);return $.seek(varint$1.decode.bytes),a}async function readHeader($){const o=await readVarint($);if(o===0)throw new Error("Invalid CAR header (zero length)");const a=await $.exactly(o);$.seek(o);const j=decode$5(a);if(j==null||Array.isArray(j)||typeof j!="object")throw new Error("Invalid CAR header format");if(j.version!==1)throw typeof j.version=="string"?new Error(`Invalid CAR version: "${j.version}"`):new Error(`Invalid CAR version: ${j.version}`);if(!Array.isArray(j.roots))throw new Error("Invalid CAR header format");if(Object.keys(j).filter(_e=>_e!=="roots"&&_e!=="version").length)throw new Error("Invalid CAR header format");return j}async function readMultihash($){const o=await $.upTo(8);varint$1.decode(o);const a=varint$1.decode.bytes,j=varint$1.decode(o.subarray(varint$1.decode.bytes)),_e=varint$1.decode.bytes,et=a+_e+j,tt=await $.exactly(et);return $.seek(et),tt}async function readCid($){const o=await $.exactly(2);if(o[0]===CIDV0_BYTES.SHA2_256&&o[1]===CIDV0_BYTES.LENGTH){const tt=await $.exactly(34);$.seek(34);const nt=decode$8(tt);return CID.create(0,CIDV0_BYTES.DAG_PB,nt)}const a=await readVarint($);if(a!==1)throw new Error(`Unexpected CID version (${a})`);const j=await readVarint($),_e=await readMultihash($),et=decode$8(_e);return CID.create(a,j,et)}async function readBlockHead($){const o=$.pos;let a=await readVarint($);if(a===0)throw new Error("Invalid CAR section (zero length)");a+=$.pos-o;const j=await readCid($),_e=a-($.pos-o);return{cid:j,length:a,blockLength:_e}}async function readBlock($){const{cid:o,blockLength:a}=await readBlockHead($),j=await $.exactly(a);return $.seek(a),{bytes:j,cid:o}}async function readBlockIndex($){const o=$.pos,{cid:a,length:j,blockLength:_e}=await readBlockHead($),et={cid:a,length:j,blockLength:_e,offset:o,blockOffset:$.pos};return $.seek(et.blockLength),et}function createDecoder($){const o=readHeader($);return{header:()=>o,async*blocks(){for(await o;(await $.upTo(8)).length>0;)yield await readBlock($)},async*blocksIndex(){for(await o;(await $.upTo(8)).length>0;)yield await readBlockIndex($)}}}function bytesReader($){let o=0;return{async upTo(a){return $.subarray(o,o+Math.min(a,$.length-o))},async exactly(a){if(a>$.length-o)throw new Error("Unexpected end of data");return $.subarray(o,o+a)},seek(a){o+=a},get pos(){return o}}}function chunkReader($){let o=0,a=0,j=0,_e=new Uint8Array(0);const et=async tt=>{a=_e.length-j;const nt=[_e.subarray(j)];for(;a<tt;){const it=await $();if(it==null)break;a<0?it.length>a&&nt.push(it.subarray(-a)):nt.push(it),a+=it.length}_e=new Uint8Array(nt.reduce((it,ot)=>it+ot.length,0));let rt=0;for(const it of nt)_e.set(it,rt),rt+=it.length;j=0};return{async upTo(tt){return _e.length-j<tt&&await et(tt),_e.subarray(j,j+Math.min(_e.length-j,tt))},async exactly(tt){if(_e.length-j<tt&&await et(tt),_e.length-j<tt)throw new Error("Unexpected end of data");return _e.subarray(j,j+tt)},seek(tt){o+=tt,j+=tt},get pos(){return o}}}function asyncIterableReader($){const o=$[Symbol.asyncIterator]();async function a(){const j=await o.next();return j.done?null:j.value}return chunkReader(a)}class CarReader{constructor(o,a,j){this._version=o,this._roots=a,this._blocks=j,this._keys=j.map(_e=>_e.cid.toString())}get version(){return this._version}async getRoots(){return this._roots}async has(o){return this._keys.indexOf(o.toString())>-1}async get(o){const a=this._keys.indexOf(o.toString());return a>-1?this._blocks[a]:void 0}async*blocks(){for(const o of this._blocks)yield o}async*cids(){for(const o of this._blocks)yield o.cid}static async fromBytes(o){if(!(o instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeReaderComplete(bytesReader(o))}static async fromIterable(o){if(!o||typeof o[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeReaderComplete(asyncIterableReader(o))}}async function decodeReaderComplete($){const o=createDecoder($),{version:a,roots:j}=await o.header(),_e=[];for await(const et of o.blocks())_e.push(et);return new CarReader(a,j,_e)}class CarIteratorBase{constructor(o,a,j){this._version=o,this._roots=a,this._iterable=j,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}}class CarBlockIterator extends CarIteratorBase{[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(o){const{version:a,roots:j,iterator:_e}=await fromBytes(o);return new CarBlockIterator(a,j,_e)}static async fromIterable(o){const{version:a,roots:j,iterator:_e}=await fromIterable(o);return new CarBlockIterator(a,j,_e)}}async function fromBytes($){if(!($ instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeIterator(bytesReader($))}async function fromIterable($){if(!$||typeof $[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeIterator(asyncIterableReader($))}async function decodeIterator($){const o=createDecoder($),{version:a,roots:j}=await o.header();return{version:a,roots:j,iterator:o.blocks()}}function createHeader($){const o=encode$5({version:1,roots:$}),a=varint$1.encode(o.length),j=new Uint8Array(a.length+o.length);return j.set(a,0),j.set(o,a.length),j}function createEncoder($){return{async setRoots(o){const a=createHeader(o);await $.write(a)},async writeBlock(o){const{cid:a,bytes:j}=o;await $.write(new Uint8Array(varint$1.encode(a.bytes.length+j.length))),await $.write(a.bytes),j.length&&await $.write(j)},async close(){return $.end()}}}function noop$1(){}function create$4(){const $=[];let o=null,a=noop$1,j=!1,_e=null,et=noop$1;const tt=()=>(o||(o=new Promise(it=>{a=()=>{o=null,a=noop$1,it()}})),o),nt={write(it){$.push(it);const ot=tt();return et(),ot},async end(){j=!0;const it=tt();return et(),it}},rt={async next(){const it=$.shift();return it?($.length===0&&a(),{done:!1,value:it}):j?(a(),{done:!0,value:void 0}):(_e||(_e=new Promise(ot=>{et=()=>(_e=null,et=noop$1,ot(rt.next()))})),_e)}};return{writer:nt,iterator:rt}}class CarWriter{constructor(o,a){this._encoder=a,this._mutex=a.setRoots(o),this._ended=!1}async put(o){if(!(o.bytes instanceof Uint8Array)||!o.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");const a=CID.asCID(o.cid);if(!a)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then(()=>this._encoder.writeBlock({cid:a,bytes:o.bytes})),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(o){o=toRoots(o);const{encoder:a,iterator:j}=encodeWriter(),_e=new CarWriter(o,a),et=new CarWriterOut(j);return{writer:_e,out:et}}static createAppender(){const{encoder:o,iterator:a}=encodeWriter();o.setRoots=()=>Promise.resolve();const j=new CarWriter([],o),_e=new CarWriterOut(a);return{writer:j,out:_e}}static async updateRootsInBytes(o,a){const j=bytesReader(o);await readHeader(j);const _e=createHeader(a);if(j.pos!==_e.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${j.pos} bytes, new header is ${_e.length} bytes)`);return o.set(_e,0),o}}class CarWriterOut{constructor(o){this._iterator=o}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function encodeWriter(){const $=create$4(),{writer:o,iterator:a}=$;return{encoder:createEncoder(o),iterator:a}}function toRoots($){if($===void 0)return[];if(!Array.isArray($)){const a=CID.asCID($);if(!a)throw new TypeError("roots must be a single CID or an array of CIDs");return[a]}const o=[];for(const a of $){const j=CID.asCID(a);if(!j)throw new TypeError("roots must be a single CID or an array of CIDs");o.push(j)}return o}async function*batch$1($,o=1){let a=[];o<1&&(o=1);for await(const j of $)for(a.push(j);a.length>=o;)yield a.slice(0,o),a=a.slice(o);for(;a.length;)yield a.slice(0,o),a=a.slice(o)}var itBatch=batch$1;const batch=itBatch;async function*parallelBatch($,o=1){for await(const a of batch($,o)){const j=a.map(_e=>_e().then(et=>({ok:!0,value:et}),et=>({ok:!1,err:et})));for(let _e=0;_e<j.length;_e++){const et=await j[_e];if(et.ok)yield et.value;else throw et.err}}}var itParallelBatch=parallelBatch,isPlainObj=$=>{if(Object.prototype.toString.call($)!=="[object Object]")return!1;const o=Object.getPrototypeOf($);return o===null||o===Object.prototype};const isOptionObject=isPlainObj,{hasOwnProperty:hasOwnProperty$1}=Object.prototype,{propertyIsEnumerable}=Object,defineProperty=($,o,a)=>Object.defineProperty($,o,{value:a,writable:!0,enumerable:!0,configurable:!0}),globalThis$1=commonjsGlobal,defaultMergeOptions={concatArrays:!1,ignoreUndefined:!1},getEnumerableOwnPropertyKeys=$=>{const o=[];for(const a in $)hasOwnProperty$1.call($,a)&&o.push(a);if(Object.getOwnPropertySymbols){const a=Object.getOwnPropertySymbols($);for(const j of a)propertyIsEnumerable.call($,j)&&o.push(j)}return o};function clone($){return Array.isArray($)?cloneArray($):isOptionObject($)?cloneOptionObject($):$}function cloneArray($){const o=$.slice(0,0);return getEnumerableOwnPropertyKeys($).forEach(a=>{defineProperty(o,a,clone($[a]))}),o}function cloneOptionObject($){const o=Object.getPrototypeOf($)===null?Object.create(null):{};return getEnumerableOwnPropertyKeys($).forEach(a=>{defineProperty(o,a,clone($[a]))}),o}const mergeKeys=($,o,a,j)=>(a.forEach(_e=>{typeof o[_e]>"u"&&j.ignoreUndefined||(_e in $&&$[_e]!==Object.getPrototypeOf($)?defineProperty($,_e,merge($[_e],o[_e],j)):defineProperty($,_e,clone(o[_e])))}),$),concatArrays=($,o,a)=>{let j=$.slice(0,0),_e=0;return[$,o].forEach(et=>{const tt=[];for(let nt=0;nt<et.length;nt++)hasOwnProperty$1.call(et,nt)&&(tt.push(String(nt)),et===$?defineProperty(j,_e++,et[nt]):defineProperty(j,_e++,clone(et[nt])));j=mergeKeys(j,et,getEnumerableOwnPropertyKeys(et).filter(nt=>!tt.includes(nt)),a)}),j};function merge($,o,a){return a.concatArrays&&Array.isArray($)&&Array.isArray(o)?concatArrays($,o,a):!isOptionObject(o)||!isOptionObject($)?clone(o):mergeKeys($,o,getEnumerableOwnPropertyKeys(o),a)}var mergeOptions=function(...$){const o=merge(clone(defaultMergeOptions),this!==globalThis$1&&this||{},defaultMergeOptions);let a={_:{}};for(const j of $)if(j!==void 0){if(!isOptionObject(j))throw new TypeError("`"+j+"` is not an Option Object");a=merge(a,{_:j},o)}return a._};const from=({name:$,code:o,encode:a})=>new Hasher($,o,a);class Hasher{constructor(o,a,j){this.name=o,this.code=a,this.encode=j}digest(o){if(o instanceof Uint8Array){const a=this.encode(o);return a instanceof Uint8Array?create$5(this.code,a):a.then(j=>create$5(this.code,j))}else throw Error("Unknown type, must be binary type")}}const sha=$=>async o=>new Uint8Array(await crypto.subtle.digest($,o)),sha256=from({name:"sha2-256",code:18,encode:sha("SHA-256")});var murmurhash3jsRevisitedExports={},murmurhash3jsRevisited={get exports(){return murmurhash3jsRevisitedExports},set exports($){murmurhash3jsRevisitedExports=$}},murmurHash3jsExports={},murmurHash3js={get exports(){return murmurHash3jsExports},set exports($){murmurHash3jsExports=$}};(function($,o){(function(a,j){var _e={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function et(ft){if(!Array.isArray(ft)&&!ArrayBuffer.isView(ft))return!1;for(var ht=0;ht<ft.length;ht++)if(!Number.isInteger(ft[ht])||ft[ht]<0||ft[ht]>255)return!1;return!0}function tt(ft,ht){return(ft&65535)*ht+(((ft>>>16)*ht&65535)<<16)}function nt(ft,ht){return ft<<ht|ft>>>32-ht}function rt(ft){return ft^=ft>>>16,ft=tt(ft,2246822507),ft^=ft>>>13,ft=tt(ft,3266489909),ft^=ft>>>16,ft}function it(ft,ht){ft=[ft[0]>>>16,ft[0]&65535,ft[1]>>>16,ft[1]&65535],ht=[ht[0]>>>16,ht[0]&65535,ht[1]>>>16,ht[1]&65535];var pt=[0,0,0,0];return pt[3]+=ft[3]+ht[3],pt[2]+=pt[3]>>>16,pt[3]&=65535,pt[2]+=ft[2]+ht[2],pt[1]+=pt[2]>>>16,pt[2]&=65535,pt[1]+=ft[1]+ht[1],pt[0]+=pt[1]>>>16,pt[1]&=65535,pt[0]+=ft[0]+ht[0],pt[0]&=65535,[pt[0]<<16|pt[1],pt[2]<<16|pt[3]]}function ot(ft,ht){ft=[ft[0]>>>16,ft[0]&65535,ft[1]>>>16,ft[1]&65535],ht=[ht[0]>>>16,ht[0]&65535,ht[1]>>>16,ht[1]&65535];var pt=[0,0,0,0];return pt[3]+=ft[3]*ht[3],pt[2]+=pt[3]>>>16,pt[3]&=65535,pt[2]+=ft[2]*ht[3],pt[1]+=pt[2]>>>16,pt[2]&=65535,pt[2]+=ft[3]*ht[2],pt[1]+=pt[2]>>>16,pt[2]&=65535,pt[1]+=ft[1]*ht[3],pt[0]+=pt[1]>>>16,pt[1]&=65535,pt[1]+=ft[2]*ht[2],pt[0]+=pt[1]>>>16,pt[1]&=65535,pt[1]+=ft[3]*ht[1],pt[0]+=pt[1]>>>16,pt[1]&=65535,pt[0]+=ft[0]*ht[3]+ft[1]*ht[2]+ft[2]*ht[1]+ft[3]*ht[0],pt[0]&=65535,[pt[0]<<16|pt[1],pt[2]<<16|pt[3]]}function at(ft,ht){return ht%=64,ht===32?[ft[1],ft[0]]:ht<32?[ft[0]<<ht|ft[1]>>>32-ht,ft[1]<<ht|ft[0]>>>32-ht]:(ht-=32,[ft[1]<<ht|ft[0]>>>32-ht,ft[0]<<ht|ft[1]>>>32-ht])}function ct(ft,ht){return ht%=64,ht===0?ft:ht<32?[ft[0]<<ht|ft[1]>>>32-ht,ft[1]<<ht]:[ft[1]<<ht-32,0]}function ut(ft,ht){return[ft[0]^ht[0],ft[1]^ht[1]]}function dt(ft){return ft=ut(ft,[0,ft[0]>>>1]),ft=ot(ft,[4283543511,3981806797]),ft=ut(ft,[0,ft[0]>>>1]),ft=ot(ft,[3301882366,444984403]),ft=ut(ft,[0,ft[0]>>>1]),ft}_e.x86.hash32=function(ft,ht){if(_e.inputValidation&&!et(ft))return j;ht=ht||0;for(var pt=ft.length%4,yt=ft.length-pt,gt=ht,bt=0,At=3432918353,Tt=461845907,Pt=0;Pt<yt;Pt=Pt+4)bt=ft[Pt]|ft[Pt+1]<<8|ft[Pt+2]<<16|ft[Pt+3]<<24,bt=tt(bt,At),bt=nt(bt,15),bt=tt(bt,Tt),gt^=bt,gt=nt(gt,13),gt=tt(gt,5)+3864292196;switch(bt=0,pt){case 3:bt^=ft[Pt+2]<<16;case 2:bt^=ft[Pt+1]<<8;case 1:bt^=ft[Pt],bt=tt(bt,At),bt=nt(bt,15),bt=tt(bt,Tt),gt^=bt}return gt^=ft.length,gt=rt(gt),gt>>>0},_e.x86.hash128=function(ft,ht){if(_e.inputValidation&&!et(ft))return j;ht=ht||0;for(var pt=ft.length%16,yt=ft.length-pt,gt=ht,bt=ht,At=ht,Tt=ht,Pt=0,Ct=0,It=0,Vt=0,Kt=597399067,en=2869860233,kt=951274213,vt=2716044179,St=0;St<yt;St=St+16)Pt=ft[St]|ft[St+1]<<8|ft[St+2]<<16|ft[St+3]<<24,Ct=ft[St+4]|ft[St+5]<<8|ft[St+6]<<16|ft[St+7]<<24,It=ft[St+8]|ft[St+9]<<8|ft[St+10]<<16|ft[St+11]<<24,Vt=ft[St+12]|ft[St+13]<<8|ft[St+14]<<16|ft[St+15]<<24,Pt=tt(Pt,Kt),Pt=nt(Pt,15),Pt=tt(Pt,en),gt^=Pt,gt=nt(gt,19),gt+=bt,gt=tt(gt,5)+1444728091,Ct=tt(Ct,en),Ct=nt(Ct,16),Ct=tt(Ct,kt),bt^=Ct,bt=nt(bt,17),bt+=At,bt=tt(bt,5)+197830471,It=tt(It,kt),It=nt(It,17),It=tt(It,vt),At^=It,At=nt(At,15),At+=Tt,At=tt(At,5)+2530024501,Vt=tt(Vt,vt),Vt=nt(Vt,18),Vt=tt(Vt,Kt),Tt^=Vt,Tt=nt(Tt,13),Tt+=gt,Tt=tt(Tt,5)+850148119;switch(Pt=0,Ct=0,It=0,Vt=0,pt){case 15:Vt^=ft[St+14]<<16;case 14:Vt^=ft[St+13]<<8;case 13:Vt^=ft[St+12],Vt=tt(Vt,vt),Vt=nt(Vt,18),Vt=tt(Vt,Kt),Tt^=Vt;case 12:It^=ft[St+11]<<24;case 11:It^=ft[St+10]<<16;case 10:It^=ft[St+9]<<8;case 9:It^=ft[St+8],It=tt(It,kt),It=nt(It,17),It=tt(It,vt),At^=It;case 8:Ct^=ft[St+7]<<24;case 7:Ct^=ft[St+6]<<16;case 6:Ct^=ft[St+5]<<8;case 5:Ct^=ft[St+4],Ct=tt(Ct,en),Ct=nt(Ct,16),Ct=tt(Ct,kt),bt^=Ct;case 4:Pt^=ft[St+3]<<24;case 3:Pt^=ft[St+2]<<16;case 2:Pt^=ft[St+1]<<8;case 1:Pt^=ft[St],Pt=tt(Pt,Kt),Pt=nt(Pt,15),Pt=tt(Pt,en),gt^=Pt}return gt^=ft.length,bt^=ft.length,At^=ft.length,Tt^=ft.length,gt+=bt,gt+=At,gt+=Tt,bt+=gt,At+=gt,Tt+=gt,gt=rt(gt),bt=rt(bt),At=rt(At),Tt=rt(Tt),gt+=bt,gt+=At,gt+=Tt,bt+=gt,At+=gt,Tt+=gt,("00000000"+(gt>>>0).toString(16)).slice(-8)+("00000000"+(bt>>>0).toString(16)).slice(-8)+("00000000"+(At>>>0).toString(16)).slice(-8)+("00000000"+(Tt>>>0).toString(16)).slice(-8)},_e.x64.hash128=function(ft,ht){if(_e.inputValidation&&!et(ft))return j;ht=ht||0;for(var pt=ft.length%16,yt=ft.length-pt,gt=[0,ht],bt=[0,ht],At=[0,0],Tt=[0,0],Pt=[2277735313,289559509],Ct=[1291169091,658871167],It=0;It<yt;It=It+16)At=[ft[It+4]|ft[It+5]<<8|ft[It+6]<<16|ft[It+7]<<24,ft[It]|ft[It+1]<<8|ft[It+2]<<16|ft[It+3]<<24],Tt=[ft[It+12]|ft[It+13]<<8|ft[It+14]<<16|ft[It+15]<<24,ft[It+8]|ft[It+9]<<8|ft[It+10]<<16|ft[It+11]<<24],At=ot(At,Pt),At=at(At,31),At=ot(At,Ct),gt=ut(gt,At),gt=at(gt,27),gt=it(gt,bt),gt=it(ot(gt,[0,5]),[0,1390208809]),Tt=ot(Tt,Ct),Tt=at(Tt,33),Tt=ot(Tt,Pt),bt=ut(bt,Tt),bt=at(bt,31),bt=it(bt,gt),bt=it(ot(bt,[0,5]),[0,944331445]);switch(At=[0,0],Tt=[0,0],pt){case 15:Tt=ut(Tt,ct([0,ft[It+14]],48));case 14:Tt=ut(Tt,ct([0,ft[It+13]],40));case 13:Tt=ut(Tt,ct([0,ft[It+12]],32));case 12:Tt=ut(Tt,ct([0,ft[It+11]],24));case 11:Tt=ut(Tt,ct([0,ft[It+10]],16));case 10:Tt=ut(Tt,ct([0,ft[It+9]],8));case 9:Tt=ut(Tt,[0,ft[It+8]]),Tt=ot(Tt,Ct),Tt=at(Tt,33),Tt=ot(Tt,Pt),bt=ut(bt,Tt);case 8:At=ut(At,ct([0,ft[It+7]],56));case 7:At=ut(At,ct([0,ft[It+6]],48));case 6:At=ut(At,ct([0,ft[It+5]],40));case 5:At=ut(At,ct([0,ft[It+4]],32));case 4:At=ut(At,ct([0,ft[It+3]],24));case 3:At=ut(At,ct([0,ft[It+2]],16));case 2:At=ut(At,ct([0,ft[It+1]],8));case 1:At=ut(At,[0,ft[It]]),At=ot(At,Pt),At=at(At,31),At=ot(At,Ct),gt=ut(gt,At)}return gt=ut(gt,[0,ft.length]),bt=ut(bt,[0,ft.length]),gt=it(gt,bt),bt=it(bt,gt),gt=dt(gt),bt=dt(bt),gt=it(gt,bt),bt=it(bt,gt),("00000000"+(gt[0]>>>0).toString(16)).slice(-8)+("00000000"+(gt[1]>>>0).toString(16)).slice(-8)+("00000000"+(bt[0]>>>0).toString(16)).slice(-8)+("00000000"+(bt[1]>>>0).toString(16)).slice(-8)},$.exports&&(o=$.exports=_e),o.murmurHash3=_e})()})(murmurHash3js,murmurHash3jsExports);(function($){$.exports=murmurHash3jsExports})(murmurhash3jsRevisited);const mur=getDefaultExportFromCjs(murmurhash3jsRevisitedExports),murmur3128=from({name:"murmur3-128",code:34,encode:$=>fromHex(mur.x64.hash128($))});async function hamtHashFn($){return(await murmur3128.encode($)).slice(0,8).reverse()}const defaultOptions={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hasher:sha256,leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,recursive:!1,hidden:!1,timeout:void 0,hamtHashFn,hamtHashCode:34,hamtBucketBits:8},defaultOptions$1=($={})=>mergeOptions.bind({ignoreUndefined:!0})(defaultOptions,$);function assign($,o){for(const a in o)Object.defineProperty($,a,{value:o[a],enumerable:!0,configurable:!0});return $}function createError($,o,a){if(!$||typeof $=="string")throw new TypeError("Please pass an Error to err-code");a||(a={}),typeof o=="object"&&(a=o,o=""),o&&(a.code=o);try{return assign($,a)}catch{a.message=$.message,a.stack=$.stack;const _e=function(){};return _e.prototype=Object.create(Object.getPrototypeOf($)),assign(new _e,a)}}var errCode=createError,minimalExports={},minimal$1={get exports(){return minimalExports},set exports($){minimalExports=$}},indexMinimal={},minimal={},aspromise=asPromise;function asPromise($,o){for(var a=new Array(arguments.length-1),j=0,_e=2,et=!0;_e<arguments.length;)a[j++]=arguments[_e++];return new Promise(function(nt,rt){a[j]=function(ot){if(et)if(et=!1,ot)rt(ot);else{for(var at=new Array(arguments.length-1),ct=0;ct<at.length;)at[ct++]=arguments[ct];nt.apply(null,at)}};try{$.apply(o||null,a)}catch(it){et&&(et=!1,rt(it))}})}var base64$3={};(function($){var o=$;o.length=function(nt){var rt=nt.length;if(!rt)return 0;for(var it=0;--rt%4>1&&nt.charAt(rt)==="=";)++it;return Math.ceil(nt.length*3)/4-it};for(var a=new Array(64),j=new Array(123),_e=0;_e<64;)j[a[_e]=_e<26?_e+65:_e<52?_e+71:_e<62?_e-4:_e-59|43]=_e++;o.encode=function(nt,rt,it){for(var ot=null,at=[],ct=0,ut=0,dt;rt<it;){var ft=nt[rt++];switch(ut){case 0:at[ct++]=a[ft>>2],dt=(ft&3)<<4,ut=1;break;case 1:at[ct++]=a[dt|ft>>4],dt=(ft&15)<<2,ut=2;break;case 2:at[ct++]=a[dt|ft>>6],at[ct++]=a[ft&63],ut=0;break}ct>8191&&((ot||(ot=[])).push(String.fromCharCode.apply(String,at)),ct=0)}return ut&&(at[ct++]=a[dt],at[ct++]=61,ut===1&&(at[ct++]=61)),ot?(ct&&ot.push(String.fromCharCode.apply(String,at.slice(0,ct))),ot.join("")):String.fromCharCode.apply(String,at.slice(0,ct))};var et="invalid encoding";o.decode=function(nt,rt,it){for(var ot=it,at=0,ct,ut=0;ut<nt.length;){var dt=nt.charCodeAt(ut++);if(dt===61&&at>1)break;if((dt=j[dt])===void 0)throw Error(et);switch(at){case 0:ct=dt,at=1;break;case 1:rt[it++]=ct<<2|(dt&48)>>4,ct=dt,at=2;break;case 2:rt[it++]=(ct&15)<<4|(dt&60)>>2,ct=dt,at=3;break;case 3:rt[it++]=(ct&3)<<6|dt,at=0;break}}if(at===1)throw Error(et);return it-ot},o.test=function(nt){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(nt)}})(base64$3);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(o,a,j){return(this._listeners[o]||(this._listeners[o]=[])).push({fn:a,ctx:j||this}),this};EventEmitter.prototype.off=function(o,a){if(o===void 0)this._listeners={};else if(a===void 0)this._listeners[o]=[];else for(var j=this._listeners[o],_e=0;_e<j.length;)j[_e].fn===a?j.splice(_e,1):++_e;return this};EventEmitter.prototype.emit=function(o){var a=this._listeners[o];if(a){for(var j=[],_e=1;_e<arguments.length;)j.push(arguments[_e++]);for(_e=0;_e<a.length;)a[_e].fn.apply(a[_e++].ctx,j)}return this};var float=factory(factory);function factory($){return typeof Float32Array<"u"?function(){var o=new Float32Array([-0]),a=new Uint8Array(o.buffer),j=a[3]===128;function _e(rt,it,ot){o[0]=rt,it[ot]=a[0],it[ot+1]=a[1],it[ot+2]=a[2],it[ot+3]=a[3]}function et(rt,it,ot){o[0]=rt,it[ot]=a[3],it[ot+1]=a[2],it[ot+2]=a[1],it[ot+3]=a[0]}$.writeFloatLE=j?_e:et,$.writeFloatBE=j?et:_e;function tt(rt,it){return a[0]=rt[it],a[1]=rt[it+1],a[2]=rt[it+2],a[3]=rt[it+3],o[0]}function nt(rt,it){return a[3]=rt[it],a[2]=rt[it+1],a[1]=rt[it+2],a[0]=rt[it+3],o[0]}$.readFloatLE=j?tt:nt,$.readFloatBE=j?nt:tt}():function(){function o(j,_e,et,tt){var nt=_e<0?1:0;if(nt&&(_e=-_e),_e===0)j(1/_e>0?0:2147483648,et,tt);else if(isNaN(_e))j(2143289344,et,tt);else if(_e>34028234663852886e22)j((nt<<31|2139095040)>>>0,et,tt);else if(_e<11754943508222875e-54)j((nt<<31|Math.round(_e/1401298464324817e-60))>>>0,et,tt);else{var rt=Math.floor(Math.log(_e)/Math.LN2),it=Math.round(_e*Math.pow(2,-rt)*8388608)&8388607;j((nt<<31|rt+127<<23|it)>>>0,et,tt)}}$.writeFloatLE=o.bind(null,writeUintLE),$.writeFloatBE=o.bind(null,writeUintBE);function a(j,_e,et){var tt=j(_e,et),nt=(tt>>31)*2+1,rt=tt>>>23&255,it=tt&8388607;return rt===255?it?NaN:nt*(1/0):rt===0?nt*1401298464324817e-60*it:nt*Math.pow(2,rt-150)*(it+8388608)}$.readFloatLE=a.bind(null,readUintLE),$.readFloatBE=a.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var o=new Float64Array([-0]),a=new Uint8Array(o.buffer),j=a[7]===128;function _e(rt,it,ot){o[0]=rt,it[ot]=a[0],it[ot+1]=a[1],it[ot+2]=a[2],it[ot+3]=a[3],it[ot+4]=a[4],it[ot+5]=a[5],it[ot+6]=a[6],it[ot+7]=a[7]}function et(rt,it,ot){o[0]=rt,it[ot]=a[7],it[ot+1]=a[6],it[ot+2]=a[5],it[ot+3]=a[4],it[ot+4]=a[3],it[ot+5]=a[2],it[ot+6]=a[1],it[ot+7]=a[0]}$.writeDoubleLE=j?_e:et,$.writeDoubleBE=j?et:_e;function tt(rt,it){return a[0]=rt[it],a[1]=rt[it+1],a[2]=rt[it+2],a[3]=rt[it+3],a[4]=rt[it+4],a[5]=rt[it+5],a[6]=rt[it+6],a[7]=rt[it+7],o[0]}function nt(rt,it){return a[7]=rt[it],a[6]=rt[it+1],a[5]=rt[it+2],a[4]=rt[it+3],a[3]=rt[it+4],a[2]=rt[it+5],a[1]=rt[it+6],a[0]=rt[it+7],o[0]}$.readDoubleLE=j?tt:nt,$.readDoubleBE=j?nt:tt}():function(){function o(j,_e,et,tt,nt,rt){var it=tt<0?1:0;if(it&&(tt=-tt),tt===0)j(0,nt,rt+_e),j(1/tt>0?0:2147483648,nt,rt+et);else if(isNaN(tt))j(0,nt,rt+_e),j(2146959360,nt,rt+et);else if(tt>17976931348623157e292)j(0,nt,rt+_e),j((it<<31|2146435072)>>>0,nt,rt+et);else{var ot;if(tt<22250738585072014e-324)ot=tt/5e-324,j(ot>>>0,nt,rt+_e),j((it<<31|ot/4294967296)>>>0,nt,rt+et);else{var at=Math.floor(Math.log(tt)/Math.LN2);at===1024&&(at=1023),ot=tt*Math.pow(2,-at),j(ot*4503599627370496>>>0,nt,rt+_e),j((it<<31|at+1023<<20|ot*1048576&1048575)>>>0,nt,rt+et)}}}$.writeDoubleLE=o.bind(null,writeUintLE,0,4),$.writeDoubleBE=o.bind(null,writeUintBE,4,0);function a(j,_e,et,tt,nt){var rt=j(tt,nt+_e),it=j(tt,nt+et),ot=(it>>31)*2+1,at=it>>>20&2047,ct=4294967296*(it&1048575)+rt;return at===2047?ct?NaN:ot*(1/0):at===0?ot*5e-324*ct:ot*Math.pow(2,at-1075)*(ct+4503599627370496)}$.readDoubleLE=a.bind(null,readUintLE,0,4),$.readDoubleBE=a.bind(null,readUintBE,4,0)}(),$}function writeUintLE($,o,a){o[a]=$&255,o[a+1]=$>>>8&255,o[a+2]=$>>>16&255,o[a+3]=$>>>24}function writeUintBE($,o,a){o[a]=$>>>24,o[a+1]=$>>>16&255,o[a+2]=$>>>8&255,o[a+3]=$&255}function readUintLE($,o){return($[o]|$[o+1]<<8|$[o+2]<<16|$[o+3]<<24)>>>0}function readUintBE($,o){return($[o]<<24|$[o+1]<<16|$[o+2]<<8|$[o+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch($){}return null}var utf8$2={};(function($){var o=$;o.length=function(j){for(var _e=0,et=0,tt=0;tt<j.length;++tt)et=j.charCodeAt(tt),et<128?_e+=1:et<2048?_e+=2:(et&64512)===55296&&(j.charCodeAt(tt+1)&64512)===56320?(++tt,_e+=4):_e+=3;return _e},o.read=function(j,_e,et){var tt=et-_e;if(tt<1)return"";for(var nt=null,rt=[],it=0,ot;_e<et;)ot=j[_e++],ot<128?rt[it++]=ot:ot>191&&ot<224?rt[it++]=(ot&31)<<6|j[_e++]&63:ot>239&&ot<365?(ot=((ot&7)<<18|(j[_e++]&63)<<12|(j[_e++]&63)<<6|j[_e++]&63)-65536,rt[it++]=55296+(ot>>10),rt[it++]=56320+(ot&1023)):rt[it++]=(ot&15)<<12|(j[_e++]&63)<<6|j[_e++]&63,it>8191&&((nt||(nt=[])).push(String.fromCharCode.apply(String,rt)),it=0);return nt?(it&&nt.push(String.fromCharCode.apply(String,rt.slice(0,it))),nt.join("")):String.fromCharCode.apply(String,rt.slice(0,it))},o.write=function(j,_e,et){for(var tt=et,nt,rt,it=0;it<j.length;++it)nt=j.charCodeAt(it),nt<128?_e[et++]=nt:nt<2048?(_e[et++]=nt>>6|192,_e[et++]=nt&63|128):(nt&64512)===55296&&((rt=j.charCodeAt(it+1))&64512)===56320?(nt=65536+((nt&1023)<<10)+(rt&1023),++it,_e[et++]=nt>>18|240,_e[et++]=nt>>12&63|128,_e[et++]=nt>>6&63|128,_e[et++]=nt&63|128):(_e[et++]=nt>>12|224,_e[et++]=nt>>6&63|128,_e[et++]=nt&63|128);return et-tt}})(utf8$2);var pool_1=pool;function pool($,o,a){var j=a||8192,_e=j>>>1,et=null,tt=j;return function(rt){if(rt<1||rt>_e)return $(rt);tt+rt>j&&(et=$(j),tt=0);var it=o.call(et,tt,tt+=rt);return tt&7&&(tt=(tt|7)+1),it}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=o;var $=requireMinimal();function o(et,tt){this.lo=et>>>0,this.hi=tt>>>0}var a=o.zero=new o(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var j=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(tt){if(tt===0)return a;var nt=tt<0;nt&&(tt=-tt);var rt=tt>>>0,it=(tt-rt)/4294967296>>>0;return nt&&(it=~it>>>0,rt=~rt>>>0,++rt>4294967295&&(rt=0,++it>4294967295&&(it=0))),new o(rt,it)},o.from=function(tt){if(typeof tt=="number")return o.fromNumber(tt);if($.isString(tt))if($.Long)tt=$.Long.fromString(tt);else return o.fromNumber(parseInt(tt,10));return tt.low||tt.high?new o(tt.low>>>0,tt.high>>>0):a},o.prototype.toNumber=function(tt){if(!tt&&this.hi>>>31){var nt=~this.lo+1>>>0,rt=~this.hi>>>0;return nt||(rt=rt+1>>>0),-(nt+rt*4294967296)}return this.lo+this.hi*4294967296},o.prototype.toLong=function(tt){return $.Long?new $.Long(this.lo|0,this.hi|0,!!tt):{low:this.lo|0,high:this.hi|0,unsigned:!!tt}};var _e=String.prototype.charCodeAt;return o.fromHash=function(tt){return tt===j?a:new o((_e.call(tt,0)|_e.call(tt,1)<<8|_e.call(tt,2)<<16|_e.call(tt,3)<<24)>>>0,(_e.call(tt,4)|_e.call(tt,5)<<8|_e.call(tt,6)<<16|_e.call(tt,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var tt=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^tt)>>>0,this.lo=(this.lo<<1^tt)>>>0,this},o.prototype.zzDecode=function(){var tt=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^tt)>>>0,this.hi=(this.hi>>>1^tt)>>>0,this},o.prototype.length=function(){var tt=this.lo,nt=(this.lo>>>28|this.hi<<4)>>>0,rt=this.hi>>>24;return rt===0?nt===0?tt<16384?tt<128?1:2:tt<2097152?3:4:nt<16384?nt<128?5:6:nt<2097152?7:8:rt<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function($){var o=$;o.asPromise=aspromise,o.base64=base64$3,o.EventEmitter=eventemitter,o.float=float,o.inquire=inquire_1,o.utf8=utf8$2,o.pool=pool_1,o.LongBits=requireLongbits(),o.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),o.global=o.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,o.emptyArray=Object.freeze?Object.freeze([]):[],o.emptyObject=Object.freeze?Object.freeze({}):{},o.isInteger=Number.isInteger||function(et){return typeof et=="number"&&isFinite(et)&&Math.floor(et)===et},o.isString=function(et){return typeof et=="string"||et instanceof String},o.isObject=function(et){return et&&typeof et=="object"},o.isset=o.isSet=function(et,tt){var nt=et[tt];return nt!=null&&et.hasOwnProperty(tt)?typeof nt!="object"||(Array.isArray(nt)?nt.length:Object.keys(nt).length)>0:!1},o.Buffer=function(){try{var _e=o.inquire("buffer").Buffer;return _e.prototype.utf8Write?_e:null}catch{return null}}(),o._Buffer_from=null,o._Buffer_allocUnsafe=null,o.newBuffer=function(et){return typeof et=="number"?o.Buffer?o._Buffer_allocUnsafe(et):new o.Array(et):o.Buffer?o._Buffer_from(et):typeof Uint8Array>"u"?et:new Uint8Array(et)},o.Array=typeof Uint8Array<"u"?Uint8Array:Array,o.Long=o.global.dcodeIO&&o.global.dcodeIO.Long||o.global.Long||o.inquire("long"),o.key2Re=/^true|false|0|1$/,o.key32Re=/^-?(?:0|[1-9][0-9]*)$/,o.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,o.longToHash=function(et){return et?o.LongBits.from(et).toHash():o.LongBits.zeroHash},o.longFromHash=function(et,tt){var nt=o.LongBits.fromHash(et);return o.Long?o.Long.fromBits(nt.lo,nt.hi,tt):nt.toNumber(!!tt)};function a(_e,et,tt){for(var nt=Object.keys(et),rt=0;rt<nt.length;++rt)(_e[nt[rt]]===void 0||!tt)&&(_e[nt[rt]]=et[nt[rt]]);return _e}o.merge=a,o.lcFirst=function(et){return et.charAt(0).toLowerCase()+et.substring(1)};function j(_e){function et(tt,nt){if(!(this instanceof et))return new et(tt,nt);Object.defineProperty(this,"message",{get:function(){return tt}}),Error.captureStackTrace?Error.captureStackTrace(this,et):Object.defineProperty(this,"stack",{value:new Error().stack||""}),nt&&a(this,nt)}return(et.prototype=Object.create(Error.prototype)).constructor=et,Object.defineProperty(et.prototype,"name",{get:function(){return _e}}),et.prototype.toString=function(){return this.name+": "+this.message},et}o.newError=j,o.ProtocolError=j("ProtocolError"),o.oneOfGetter=function(et){for(var tt={},nt=0;nt<et.length;++nt)tt[et[nt]]=1;return function(){for(var rt=Object.keys(this),it=rt.length-1;it>-1;--it)if(tt[rt[it]]===1&&this[rt[it]]!==void 0&&this[rt[it]]!==null)return rt[it]}},o.oneOfSetter=function(et){return function(tt){for(var nt=0;nt<et.length;++nt)et[nt]!==tt&&delete this[et[nt]]}},o.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},o._configure=function(){var _e=o.Buffer;if(!_e){o._Buffer_from=o._Buffer_allocUnsafe=null;return}o._Buffer_from=_e.from!==Uint8Array.from&&_e.from||function(tt,nt){return new _e(tt,nt)},o._Buffer_allocUnsafe=_e.allocUnsafe||function(tt){return new _e(tt)}}}(minimal)),minimal}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64$2=util$4.base64,utf8$1=util$4.utf8;function Op($,o,a){this.fn=$,this.len=o,this.next=void 0,this.val=a}function noop(){}function State($){this.head=$.head,this.tail=$.tail,this.len=$.len,this.next=$.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$3=function $(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$3();Writer$1.alloc=function $(o){return new util$4.Array(o)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function $(o,a,j){return this.tail=this.tail.next=new Op(o,a,j),this.len+=a,this};function writeByte($,o,a){o[a]=$&255}function writeVarint32($,o,a){for(;$>127;)o[a++]=$&127|128,$>>>=7;o[a]=$}function VarintOp($,o){this.len=$,this.next=void 0,this.val=o}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function $(o){return this.len+=(this.tail=this.tail.next=new VarintOp((o=o>>>0)<128?1:o<16384?2:o<2097152?3:o<268435456?4:5,o)).len,this};Writer$1.prototype.int32=function $(o){return o<0?this._push(writeVarint64,10,LongBits$1.fromNumber(o)):this.uint32(o)};Writer$1.prototype.sint32=function $(o){return this.uint32((o<<1^o>>31)>>>0)};function writeVarint64($,o,a){for(;$.hi;)o[a++]=$.lo&127|128,$.lo=($.lo>>>7|$.hi<<25)>>>0,$.hi>>>=7;for(;$.lo>127;)o[a++]=$.lo&127|128,$.lo=$.lo>>>7;o[a++]=$.lo}Writer$1.prototype.uint64=function $(o){var a=LongBits$1.from(o);return this._push(writeVarint64,a.length(),a)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function $(o){var a=LongBits$1.from(o).zzEncode();return this._push(writeVarint64,a.length(),a)};Writer$1.prototype.bool=function $(o){return this._push(writeByte,1,o?1:0)};function writeFixed32($,o,a){o[a]=$&255,o[a+1]=$>>>8&255,o[a+2]=$>>>16&255,o[a+3]=$>>>24}Writer$1.prototype.fixed32=function $(o){return this._push(writeFixed32,4,o>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function $(o){var a=LongBits$1.from(o);return this._push(writeFixed32,4,a.lo)._push(writeFixed32,4,a.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function $(o){return this._push(util$4.float.writeFloatLE,4,o)};Writer$1.prototype.double=function $(o){return this._push(util$4.float.writeDoubleLE,8,o)};var writeBytes=util$4.Array.prototype.set?function $(o,a,j){a.set(o,j)}:function $(o,a,j){for(var _e=0;_e<o.length;++_e)a[j+_e]=o[_e]};Writer$1.prototype.bytes=function $(o){var a=o.length>>>0;if(!a)return this._push(writeByte,1,0);if(util$4.isString(o)){var j=Writer$1.alloc(a=base64$2.length(o));base64$2.decode(o,j,0),o=j}return this.uint32(a)._push(writeBytes,a,o)};Writer$1.prototype.string=function $(o){var a=utf8$1.length(o);return a?this.uint32(a)._push(utf8$1.write,a,o):this._push(writeByte,1,0)};Writer$1.prototype.fork=function $(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function $(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function $(){var o=this.head,a=this.tail,j=this.len;return this.reset().uint32(j),j&&(this.tail.next=o.next,this.tail=a,this.len+=j),this};Writer$1.prototype.finish=function $(){for(var o=this.head.next,a=this.constructor.alloc(this.len),j=0;o;)o.fn(o.val,a,j),j+=o.len,o=o.next;return a};Writer$1._configure=function($){BufferWriter$1=$,Writer$1.create=create$3(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(o,a,j){a.set(o,j)}:function(o,a,j){if(o.copy)o.copy(a,j,0,o.length);else for(var _e=0;_e<o.length;)a[j++]=o[_e++]}};BufferWriter.prototype.bytes=function $(o){util$3.isString(o)&&(o=util$3._Buffer_from(o,"base64"));var a=o.length>>>0;return this.uint32(a),a&&this._push(BufferWriter.writeBytesBuffer,a,o),this};function writeStringBuffer($,o,a){$.length<40?util$3.utf8.write($,o,a):o.utf8Write?o.utf8Write($,a):o.write($,a)}BufferWriter.prototype.string=function $(o){var a=util$3.Buffer.byteLength(o);return this.uint32(a),a&&this._push(writeStringBuffer,a,o),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange($,o){return RangeError("index out of range: "+$.pos+" + "+(o||1)+" > "+$.len)}function Reader$1($){this.buf=$,this.pos=0,this.len=$.length}var create_array=typeof Uint8Array<"u"?function $(o){if(o instanceof Uint8Array||Array.isArray(o))return new Reader$1(o);throw Error("illegal buffer")}:function $(o){if(Array.isArray(o))return new Reader$1(o);throw Error("illegal buffer")},create$2=function $(){return util$2.Buffer?function(a){return(Reader$1.create=function(_e){return util$2.Buffer.isBuffer(_e)?new BufferReader$1(_e):create_array(_e)})(a)}:create_array};Reader$1.create=create$2();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function $(){var o=4294967295;return function(){if(o=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(o=(o|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(o=(o|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(o=(o|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(o=(o|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return o;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return o}}();Reader$1.prototype.int32=function $(){return this.uint32()|0};Reader$1.prototype.sint32=function $(){var o=this.uint32();return o>>>1^-(o&1)|0};function readLongVarint(){var $=new LongBits(0,0),o=0;if(this.len-this.pos>4){for(;o<4;++o)if($.lo=($.lo|(this.buf[this.pos]&127)<<o*7)>>>0,this.buf[this.pos++]<128)return $;if($.lo=($.lo|(this.buf[this.pos]&127)<<28)>>>0,$.hi=($.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return $;o=0}else{for(;o<3;++o){if(this.pos>=this.len)throw indexOutOfRange(this);if($.lo=($.lo|(this.buf[this.pos]&127)<<o*7)>>>0,this.buf[this.pos++]<128)return $}return $.lo=($.lo|(this.buf[this.pos++]&127)<<o*7)>>>0,$}if(this.len-this.pos>4){for(;o<5;++o)if($.hi=($.hi|(this.buf[this.pos]&127)<<o*7+3)>>>0,this.buf[this.pos++]<128)return $}else for(;o<5;++o){if(this.pos>=this.len)throw indexOutOfRange(this);if($.hi=($.hi|(this.buf[this.pos]&127)<<o*7+3)>>>0,this.buf[this.pos++]<128)return $}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function $(){return this.uint32()!==0};function readFixed32_end($,o){return($[o-4]|$[o-3]<<8|$[o-2]<<16|$[o-1]<<24)>>>0}Reader$1.prototype.fixed32=function $(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function $(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function $(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var o=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,o};Reader$1.prototype.double=function $(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var o=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,o};Reader$1.prototype.bytes=function $(){var o=this.uint32(),a=this.pos,j=this.pos+o;if(j>this.len)throw indexOutOfRange(this,o);return this.pos+=o,Array.isArray(this.buf)?this.buf.slice(a,j):a===j?new this.buf.constructor(0):this._slice.call(this.buf,a,j)};Reader$1.prototype.string=function $(){var o=this.bytes();return utf8.read(o,0,o.length)};Reader$1.prototype.skip=function $(o){if(typeof o=="number"){if(this.pos+o>this.len)throw indexOutOfRange(this,o);this.pos+=o}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function($){switch($){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;($=this.uint32()&7)!==4;)this.skipType($);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+$+" at offset "+this.pos)}return this};Reader$1._configure=function($){BufferReader$1=$,Reader$1.create=create$2(),BufferReader$1._configure();var o=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[o](!1)},uint64:function(){return readLongVarint.call(this)[o](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[o](!1)},fixed64:function(){return readFixed64.call(this)[o](!0)},sfixed64:function(){return readFixed64.call(this)[o](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader($){Reader.call(this,$)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function $(){var o=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+o,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+o,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service($,o,a){if(typeof $!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=$,this.requestDelimited=!!o,this.responseDelimited=!!a}Service.prototype.rpcCall=function $(o,a,j,_e,et){if(!_e)throw TypeError("request must be specified");var tt=this;if(!et)return util.asPromise($,tt,o,a,j,_e);if(!tt.rpcImpl){setTimeout(function(){et(Error("already ended"))},0);return}try{return tt.rpcImpl(o,a[tt.requestDelimited?"encodeDelimited":"encode"](_e).finish(),function(rt,it){if(rt)return tt.emit("error",rt,o),et(rt);if(it===null){tt.end(!0);return}if(!(it instanceof j))try{it=j[tt.responseDelimited?"decodeDelimited":"decode"](it)}catch(ot){return tt.emit("error",ot,o),et(ot)}return tt.emit("data",it,o),et(null,it)})}catch(nt){tt.emit("error",nt,o),setTimeout(function(){et(nt)},0);return}};Service.prototype.end=function $(o){return this.rpcImpl&&(o||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function($){var o=$;o.Service=service})(rpc);var roots$1={};(function($){var o=$;o.build="minimal",o.Writer=writer,o.BufferWriter=writer_buffer,o.Reader=reader,o.BufferReader=reader_buffer,o.util=requireMinimal(),o.rpc=rpc,o.roots=roots$1,o.configure=a;function a(){o.util._configure(),o.Writer._configure(o.BufferWriter),o.Reader._configure(o.BufferReader)}a()})(indexMinimal);(function($){$.exports=indexMinimal})(minimal$1);const $protobuf=getDefaultExportFromCjs(minimalExports),$Reader=$protobuf.Reader,$Writer=$protobuf.Writer,$util=$protobuf.util,$root=$protobuf.roots["ipfs-unixfs"]||($protobuf.roots["ipfs-unixfs"]={}),Data=$root.Data=(()=>{function $(o){if(this.blocksizes=[],o)for(var a=Object.keys(o),j=0;j<a.length;++j)o[a[j]]!=null&&(this[a[j]]=o[a[j]])}return $.prototype.Type=0,$.prototype.Data=$util.newBuffer([]),$.prototype.filesize=$util.Long?$util.Long.fromBits(0,0,!0):0,$.prototype.blocksizes=$util.emptyArray,$.prototype.hashType=$util.Long?$util.Long.fromBits(0,0,!0):0,$.prototype.fanout=$util.Long?$util.Long.fromBits(0,0,!0):0,$.prototype.mode=0,$.prototype.mtime=null,$.encode=function(a,j){if(j||(j=$Writer.create()),j.uint32(8).int32(a.Type),a.Data!=null&&Object.hasOwnProperty.call(a,"Data")&&j.uint32(18).bytes(a.Data),a.filesize!=null&&Object.hasOwnProperty.call(a,"filesize")&&j.uint32(24).uint64(a.filesize),a.blocksizes!=null&&a.blocksizes.length)for(var _e=0;_e<a.blocksizes.length;++_e)j.uint32(32).uint64(a.blocksizes[_e]);return a.hashType!=null&&Object.hasOwnProperty.call(a,"hashType")&&j.uint32(40).uint64(a.hashType),a.fanout!=null&&Object.hasOwnProperty.call(a,"fanout")&&j.uint32(48).uint64(a.fanout),a.mode!=null&&Object.hasOwnProperty.call(a,"mode")&&j.uint32(56).uint32(a.mode),a.mtime!=null&&Object.hasOwnProperty.call(a,"mtime")&&$root.UnixTime.encode(a.mtime,j.uint32(66).fork()).ldelim(),j},$.decode=function(a,j){a instanceof $Reader||(a=$Reader.create(a));for(var _e=j===void 0?a.len:a.pos+j,et=new $root.Data;a.pos<_e;){var tt=a.uint32();switch(tt>>>3){case 1:et.Type=a.int32();break;case 2:et.Data=a.bytes();break;case 3:et.filesize=a.uint64();break;case 4:if(et.blocksizes&&et.blocksizes.length||(et.blocksizes=[]),(tt&7)===2)for(var nt=a.uint32()+a.pos;a.pos<nt;)et.blocksizes.push(a.uint64());else et.blocksizes.push(a.uint64());break;case 5:et.hashType=a.uint64();break;case 6:et.fanout=a.uint64();break;case 7:et.mode=a.uint32();break;case 8:et.mtime=$root.UnixTime.decode(a,a.uint32());break;default:a.skipType(tt&7);break}}if(!et.hasOwnProperty("Type"))throw $util.ProtocolError("missing required 'Type'",{instance:et});return et},$.fromObject=function(a){if(a instanceof $root.Data)return a;var j=new $root.Data;switch(a.Type){case"Raw":case 0:j.Type=0;break;case"Directory":case 1:j.Type=1;break;case"File":case 2:j.Type=2;break;case"Metadata":case 3:j.Type=3;break;case"Symlink":case 4:j.Type=4;break;case"HAMTShard":case 5:j.Type=5;break}if(a.Data!=null&&(typeof a.Data=="string"?$util.base64.decode(a.Data,j.Data=$util.newBuffer($util.base64.length(a.Data)),0):a.Data.length&&(j.Data=a.Data)),a.filesize!=null&&($util.Long?(j.filesize=$util.Long.fromValue(a.filesize)).unsigned=!0:typeof a.filesize=="string"?j.filesize=parseInt(a.filesize,10):typeof a.filesize=="number"?j.filesize=a.filesize:typeof a.filesize=="object"&&(j.filesize=new $util.LongBits(a.filesize.low>>>0,a.filesize.high>>>0).toNumber(!0))),a.blocksizes){if(!Array.isArray(a.blocksizes))throw TypeError(".Data.blocksizes: array expected");j.blocksizes=[];for(var _e=0;_e<a.blocksizes.length;++_e)$util.Long?(j.blocksizes[_e]=$util.Long.fromValue(a.blocksizes[_e])).unsigned=!0:typeof a.blocksizes[_e]=="string"?j.blocksizes[_e]=parseInt(a.blocksizes[_e],10):typeof a.blocksizes[_e]=="number"?j.blocksizes[_e]=a.blocksizes[_e]:typeof a.blocksizes[_e]=="object"&&(j.blocksizes[_e]=new $util.LongBits(a.blocksizes[_e].low>>>0,a.blocksizes[_e].high>>>0).toNumber(!0))}if(a.hashType!=null&&($util.Long?(j.hashType=$util.Long.fromValue(a.hashType)).unsigned=!0:typeof a.hashType=="string"?j.hashType=parseInt(a.hashType,10):typeof a.hashType=="number"?j.hashType=a.hashType:typeof a.hashType=="object"&&(j.hashType=new $util.LongBits(a.hashType.low>>>0,a.hashType.high>>>0).toNumber(!0))),a.fanout!=null&&($util.Long?(j.fanout=$util.Long.fromValue(a.fanout)).unsigned=!0:typeof a.fanout=="string"?j.fanout=parseInt(a.fanout,10):typeof a.fanout=="number"?j.fanout=a.fanout:typeof a.fanout=="object"&&(j.fanout=new $util.LongBits(a.fanout.low>>>0,a.fanout.high>>>0).toNumber(!0))),a.mode!=null&&(j.mode=a.mode>>>0),a.mtime!=null){if(typeof a.mtime!="object")throw TypeError(".Data.mtime: object expected");j.mtime=$root.UnixTime.fromObject(a.mtime)}return j},$.toObject=function(a,j){j||(j={});var _e={};if((j.arrays||j.defaults)&&(_e.blocksizes=[]),j.defaults){if(_e.Type=j.enums===String?"Raw":0,j.bytes===String?_e.Data="":(_e.Data=[],j.bytes!==Array&&(_e.Data=$util.newBuffer(_e.Data))),$util.Long){var et=new $util.Long(0,0,!0);_e.filesize=j.longs===String?et.toString():j.longs===Number?et.toNumber():et}else _e.filesize=j.longs===String?"0":0;if($util.Long){var et=new $util.Long(0,0,!0);_e.hashType=j.longs===String?et.toString():j.longs===Number?et.toNumber():et}else _e.hashType=j.longs===String?"0":0;if($util.Long){var et=new $util.Long(0,0,!0);_e.fanout=j.longs===String?et.toString():j.longs===Number?et.toNumber():et}else _e.fanout=j.longs===String?"0":0;_e.mode=0,_e.mtime=null}if(a.Type!=null&&a.hasOwnProperty("Type")&&(_e.Type=j.enums===String?$root.Data.DataType[a.Type]:a.Type),a.Data!=null&&a.hasOwnProperty("Data")&&(_e.Data=j.bytes===String?$util.base64.encode(a.Data,0,a.Data.length):j.bytes===Array?Array.prototype.slice.call(a.Data):a.Data),a.filesize!=null&&a.hasOwnProperty("filesize")&&(typeof a.filesize=="number"?_e.filesize=j.longs===String?String(a.filesize):a.filesize:_e.filesize=j.longs===String?$util.Long.prototype.toString.call(a.filesize):j.longs===Number?new $util.LongBits(a.filesize.low>>>0,a.filesize.high>>>0).toNumber(!0):a.filesize),a.blocksizes&&a.blocksizes.length){_e.blocksizes=[];for(var tt=0;tt<a.blocksizes.length;++tt)typeof a.blocksizes[tt]=="number"?_e.blocksizes[tt]=j.longs===String?String(a.blocksizes[tt]):a.blocksizes[tt]:_e.blocksizes[tt]=j.longs===String?$util.Long.prototype.toString.call(a.blocksizes[tt]):j.longs===Number?new $util.LongBits(a.blocksizes[tt].low>>>0,a.blocksizes[tt].high>>>0).toNumber(!0):a.blocksizes[tt]}return a.hashType!=null&&a.hasOwnProperty("hashType")&&(typeof a.hashType=="number"?_e.hashType=j.longs===String?String(a.hashType):a.hashType:_e.hashType=j.longs===String?$util.Long.prototype.toString.call(a.hashType):j.longs===Number?new $util.LongBits(a.hashType.low>>>0,a.hashType.high>>>0).toNumber(!0):a.hashType),a.fanout!=null&&a.hasOwnProperty("fanout")&&(typeof a.fanout=="number"?_e.fanout=j.longs===String?String(a.fanout):a.fanout:_e.fanout=j.longs===String?$util.Long.prototype.toString.call(a.fanout):j.longs===Number?new $util.LongBits(a.fanout.low>>>0,a.fanout.high>>>0).toNumber(!0):a.fanout),a.mode!=null&&a.hasOwnProperty("mode")&&(_e.mode=a.mode),a.mtime!=null&&a.hasOwnProperty("mtime")&&(_e.mtime=$root.UnixTime.toObject(a.mtime,j)),_e},$.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},$.DataType=function(){const o={},a=Object.create(o);return a[o[0]="Raw"]=0,a[o[1]="Directory"]=1,a[o[2]="File"]=2,a[o[3]="Metadata"]=3,a[o[4]="Symlink"]=4,a[o[5]="HAMTShard"]=5,a}(),$})();$root.UnixTime=(()=>{function $(o){if(o)for(var a=Object.keys(o),j=0;j<a.length;++j)o[a[j]]!=null&&(this[a[j]]=o[a[j]])}return $.prototype.Seconds=$util.Long?$util.Long.fromBits(0,0,!1):0,$.prototype.FractionalNanoseconds=0,$.encode=function(a,j){return j||(j=$Writer.create()),j.uint32(8).int64(a.Seconds),a.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(a,"FractionalNanoseconds")&&j.uint32(21).fixed32(a.FractionalNanoseconds),j},$.decode=function(a,j){a instanceof $Reader||(a=$Reader.create(a));for(var _e=j===void 0?a.len:a.pos+j,et=new $root.UnixTime;a.pos<_e;){var tt=a.uint32();switch(tt>>>3){case 1:et.Seconds=a.int64();break;case 2:et.FractionalNanoseconds=a.fixed32();break;default:a.skipType(tt&7);break}}if(!et.hasOwnProperty("Seconds"))throw $util.ProtocolError("missing required 'Seconds'",{instance:et});return et},$.fromObject=function(a){if(a instanceof $root.UnixTime)return a;var j=new $root.UnixTime;return a.Seconds!=null&&($util.Long?(j.Seconds=$util.Long.fromValue(a.Seconds)).unsigned=!1:typeof a.Seconds=="string"?j.Seconds=parseInt(a.Seconds,10):typeof a.Seconds=="number"?j.Seconds=a.Seconds:typeof a.Seconds=="object"&&(j.Seconds=new $util.LongBits(a.Seconds.low>>>0,a.Seconds.high>>>0).toNumber())),a.FractionalNanoseconds!=null&&(j.FractionalNanoseconds=a.FractionalNanoseconds>>>0),j},$.toObject=function(a,j){j||(j={});var _e={};if(j.defaults){if($util.Long){var et=new $util.Long(0,0,!1);_e.Seconds=j.longs===String?et.toString():j.longs===Number?et.toNumber():et}else _e.Seconds=j.longs===String?"0":0;_e.FractionalNanoseconds=0}return a.Seconds!=null&&a.hasOwnProperty("Seconds")&&(typeof a.Seconds=="number"?_e.Seconds=j.longs===String?String(a.Seconds):a.Seconds:_e.Seconds=j.longs===String?$util.Long.prototype.toString.call(a.Seconds):j.longs===Number?new $util.LongBits(a.Seconds.low>>>0,a.Seconds.high>>>0).toNumber():a.Seconds),a.FractionalNanoseconds!=null&&a.hasOwnProperty("FractionalNanoseconds")&&(_e.FractionalNanoseconds=a.FractionalNanoseconds),_e},$.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},$})();$root.Metadata=(()=>{function $(o){if(o)for(var a=Object.keys(o),j=0;j<a.length;++j)o[a[j]]!=null&&(this[a[j]]=o[a[j]])}return $.prototype.MimeType="",$.encode=function(a,j){return j||(j=$Writer.create()),a.MimeType!=null&&Object.hasOwnProperty.call(a,"MimeType")&&j.uint32(10).string(a.MimeType),j},$.decode=function(a,j){a instanceof $Reader||(a=$Reader.create(a));for(var _e=j===void 0?a.len:a.pos+j,et=new $root.Metadata;a.pos<_e;){var tt=a.uint32();switch(tt>>>3){case 1:et.MimeType=a.string();break;default:a.skipType(tt&7);break}}return et},$.fromObject=function(a){if(a instanceof $root.Metadata)return a;var j=new $root.Metadata;return a.MimeType!=null&&(j.MimeType=String(a.MimeType)),j},$.toObject=function(a,j){j||(j={});var _e={};return j.defaults&&(_e.MimeType=""),a.MimeType!=null&&a.hasOwnProperty("MimeType")&&(_e.MimeType=a.MimeType),_e},$.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},$})();const PBData=Data,types=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],dirTypes=["directory","hamt-sharded-directory"],DEFAULT_FILE_MODE=parseInt("0644",8),DEFAULT_DIRECTORY_MODE=parseInt("0755",8);function parseMode($){if($!=null)return typeof $=="number"?$&4095:($=$.toString(),$.substring(0,1)==="0"?parseInt($,8)&4095:parseInt($,10)&4095)}function parseMtime($){if($==null)return;let o;if($.secs!=null&&(o={secs:$.secs,nsecs:$.nsecs}),$.Seconds!=null&&(o={secs:$.Seconds,nsecs:$.FractionalNanoseconds}),Array.isArray($)&&(o={secs:$[0],nsecs:$[1]}),$ instanceof Date){const a=$.getTime(),j=Math.floor(a/1e3);o={secs:j,nsecs:(a-j*1e3)*1e3}}if(Object.prototype.hasOwnProperty.call(o,"secs")){if(o!=null&&o.nsecs!=null&&(o.nsecs<0||o.nsecs>999999999))throw errCode(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return o}}class UnixFS{static unmarshal(o){const a=PBData.decode(o),j=PBData.toObject(a,{defaults:!1,arrays:!0,longs:Number,objects:!1}),_e=new UnixFS({type:types[j.Type],data:j.Data,blockSizes:j.blocksizes,mode:j.mode,mtime:j.mtime?{secs:j.mtime.Seconds,nsecs:j.mtime.FractionalNanoseconds}:void 0});return _e._originalMode=j.mode||0,_e}constructor(o={type:"file"}){const{type:a,data:j,blockSizes:_e,hashType:et,fanout:tt,mtime:nt,mode:rt}=o;if(a&&!types.includes(a))throw errCode(new Error("Type: "+a+" is not valid"),"ERR_INVALID_TYPE");this.type=a||"file",this.data=j,this.hashType=et,this.fanout=tt,this.blockSizes=_e||[],this._originalMode=0,this.mode=parseMode(rt),nt&&(this.mtime=parseMtime(nt),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(o){this._mode=this.isDirectory()?DEFAULT_DIRECTORY_MODE:DEFAULT_FILE_MODE;const a=parseMode(o);a!==void 0&&(this._mode=a)}get mode(){return this._mode}isDirectory(){return!!(this.type&&dirTypes.includes(this.type))}addBlockSize(o){this.blockSizes.push(o)}removeBlockSize(o){this.blockSizes.splice(o,1)}fileSize(){if(this.isDirectory())return 0;let o=0;return this.blockSizes.forEach(a=>{o+=a}),this.data&&(o+=this.data.length),o}marshal(){let o;switch(this.type){case"raw":o=PBData.DataType.Raw;break;case"directory":o=PBData.DataType.Directory;break;case"file":o=PBData.DataType.File;break;case"metadata":o=PBData.DataType.Metadata;break;case"symlink":o=PBData.DataType.Symlink;break;case"hamt-sharded-directory":o=PBData.DataType.HAMTShard;break;default:throw errCode(new Error("Type: "+o+" is not valid"),"ERR_INVALID_TYPE")}let a=this.data;(!this.data||!this.data.length)&&(a=void 0);let j;this.mode!=null&&(j=this._originalMode&4294963200|(parseMode(this.mode)||0),j===DEFAULT_FILE_MODE&&!this.isDirectory()&&(j=void 0),j===DEFAULT_DIRECTORY_MODE&&this.isDirectory()&&(j=void 0));let _e;if(this.mtime!=null){const tt=parseMtime(this.mtime);tt&&(_e={Seconds:tt.secs,FractionalNanoseconds:tt.nsecs},_e.FractionalNanoseconds===0&&delete _e.FractionalNanoseconds)}const et={Type:o,Data:a,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:j,mtime:_e};return PBData.encode(et).finish()}}const textDecoder=new TextDecoder;function decodeVarint($,o){let a=0;for(let j=0;;j+=7){if(j>=64)throw new Error("protobuf: varint overflow");if(o>=$.length)throw new Error("protobuf: unexpected end of data");const _e=$[o++];if(a+=j<28?(_e&127)<<j:(_e&127)*2**j,_e<128)break}return[a,o]}function decodeBytes($,o){let a;[a,o]=decodeVarint($,o);const j=o+a;if(a<0||j<0)throw new Error("protobuf: invalid length");if(j>$.length)throw new Error("protobuf: unexpected end of data");return[$.subarray(o,j),j]}function decodeKey($,o){let a;return[a,o]=decodeVarint($,o),[a&7,a>>3,o]}function decodeLink($){const o={},a=$.length;let j=0;for(;j<a;){let _e,et;if([_e,et,j]=decodeKey($,j),et===1){if(o.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(_e!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${_e}) for Hash`);if(o.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(o.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[o.Hash,j]=decodeBytes($,j)}else if(et===2){if(o.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(_e!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${_e}) for Name`);if(o.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let tt;[tt,j]=decodeBytes($,j),o.Name=textDecoder.decode(tt)}else if(et===3){if(o.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(_e!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${_e}) for Tsize`);[o.Tsize,j]=decodeVarint($,j)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${et}`)}if(j>a)throw new Error("protobuf: (PBLink) unexpected end of data");return o}function decodeNode($){const o=$.length;let a=0,j,_e=!1,et;for(;a<o;){let nt,rt;if([nt,rt,a]=decodeKey($,a),nt!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${nt}`);if(rt===1){if(et)throw new Error("protobuf: (PBNode) duplicate Data section");[et,a]=decodeBytes($,a),j&&(_e=!0)}else if(rt===2){if(_e)throw new Error("protobuf: (PBNode) duplicate Links section");j||(j=[]);let it;[it,a]=decodeBytes($,a),j.push(decodeLink(it))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${rt}`)}if(a>o)throw new Error("protobuf: (PBNode) unexpected end of data");const tt={};return et&&(tt.Data=et),tt.Links=j||[],tt}const textEncoder$1=new TextEncoder,maxInt32=2**32,maxUInt32=2**31;function encodeLink($,o){let a=o.length;if(typeof $.Tsize=="number"){if($.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger($.Tsize))throw new Error("Tsize too large for encoding");a=encodeVarint(o,a,$.Tsize)-1,o[a]=24}if(typeof $.Name=="string"){const j=textEncoder$1.encode($.Name);a-=j.length,o.set(j,a),a=encodeVarint(o,a,j.length)-1,o[a]=18}return $.Hash&&(a-=$.Hash.length,o.set($.Hash,a),a=encodeVarint(o,a,$.Hash.length)-1,o[a]=10),o.length-a}function encodeNode($){const o=sizeNode($),a=new Uint8Array(o);let j=o;if($.Data&&(j-=$.Data.length,a.set($.Data,j),j=encodeVarint(a,j,$.Data.length)-1,a[j]=10),$.Links)for(let _e=$.Links.length-1;_e>=0;_e--){const et=encodeLink($.Links[_e],a.subarray(0,j));j-=et,j=encodeVarint(a,j,et)-1,a[j]=18}return a}function sizeLink($){let o=0;if($.Hash){const a=$.Hash.length;o+=1+a+sov(a)}if(typeof $.Name=="string"){const a=textEncoder$1.encode($.Name).length;o+=1+a+sov(a)}return typeof $.Tsize=="number"&&(o+=1+sov($.Tsize)),o}function sizeNode($){let o=0;if($.Data){const a=$.Data.length;o+=1+a+sov(a)}if($.Links)for(const a of $.Links){const j=sizeLink(a);o+=1+j+sov(j)}return o}function encodeVarint($,o,a){o-=sov(a);const j=o;for(;a>=maxUInt32;)$[o++]=a&127|128,a/=128;for(;a>=128;)$[o++]=a&127|128,a>>>=7;return $[o]=a,j}function sov($){return $%2===0&&$++,Math.floor((len64($)+6)/7)}function len64($){let o=0;return $>=maxInt32&&($=Math.floor($/maxInt32),o=32),$>=1<<16&&($>>>=16,o+=16),$>=1<<8&&($>>>=8,o+=8),o+len8tab[$]}const len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder=new TextEncoder;function linkComparator($,o){if($===o)return 0;const a=$.Name?textEncoder.encode($.Name):[],j=o.Name?textEncoder.encode(o.Name):[];let _e=a.length,et=j.length;for(let tt=0,nt=Math.min(_e,et);tt<nt;++tt)if(a[tt]!==j[tt]){_e=a[tt],et=j[tt];break}return _e<et?-1:et<_e?1:0}function hasOnlyProperties($,o){return!Object.keys($).some(a=>!o.includes(a))}function asLink($){if(typeof $.asCID=="object"){const a=CID.asCID($);if(!a)throw new TypeError("Invalid DAG-PB form");return{Hash:a}}if(typeof $!="object"||Array.isArray($))throw new TypeError("Invalid DAG-PB form");const o={};if($.Hash){let a=CID.asCID($.Hash);try{a||(typeof $.Hash=="string"?a=CID.parse($.Hash):$.Hash instanceof Uint8Array&&(a=CID.decode($.Hash)))}catch(j){throw new TypeError(`Invalid DAG-PB form: ${j.message}`)}a&&(o.Hash=a)}if(!o.Hash)throw new TypeError("Invalid DAG-PB form");return typeof $.Name=="string"&&(o.Name=$.Name),typeof $.Tsize=="number"&&(o.Tsize=$.Tsize),o}function prepare$1($){if(($ instanceof Uint8Array||typeof $=="string")&&($={Data:$}),typeof $!="object"||Array.isArray($))throw new TypeError("Invalid DAG-PB form");const o={};if($.Data!==void 0)if(typeof $.Data=="string")o.Data=textEncoder.encode($.Data);else if($.Data instanceof Uint8Array)o.Data=$.Data;else throw new TypeError("Invalid DAG-PB form");if($.Links!==void 0)if(Array.isArray($.Links))o.Links=$.Links.map(asLink),o.Links.sort(linkComparator);else throw new TypeError("Invalid DAG-PB form");else o.Links=[];return o}function validate($){if(!$||typeof $!="object"||Array.isArray($))throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties($,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if($.Data!==void 0&&!($.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray($.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let o=0;o<$.Links.length;o++){const a=$.Links[o];if(!a||typeof a!="object"||Array.isArray(a))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!hasOnlyProperties(a,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!a.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(a.Hash.asCID!==a.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(a.Name!==void 0&&typeof a.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(a.Tsize!==void 0&&(typeof a.Tsize!="number"||a.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(o>0&&linkComparator(a,$.Links[o-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode($,o=[]){return prepare$1({Data:$,Links:o})}function createLink($,o,a){return asLink({Hash:a,Name:$,Tsize:o})}const name$3="dag-pb",code$5=112;function encode$4($){validate($);const o={};return $.Links&&(o.Links=$.Links.map(a=>{const j={};return a.Hash&&(j.Hash=a.Hash.bytes),a.Name!==void 0&&(j.Name=a.Name),a.Tsize!==void 0&&(j.Tsize=a.Tsize),j})),$.Data&&(o.Data=$.Data),encodeNode(o)}function decode$4($){const o=decodeNode($),a={};return o.Data&&(a.Data=o.Data),o.Links&&(a.Links=o.Links.map(j=>{const _e={};try{_e.Hash=CID.decode(j.Hash)}catch{}if(!_e.Hash)throw new Error("Invalid Hash field found in link, expected CID");return j.Name!==void 0&&(_e.Name=j.Name),j.Tsize!==void 0&&(_e.Tsize=j.Tsize),_e})),a}const pb=Object.freeze(Object.defineProperty({__proto__:null,code:code$5,createLink,createNode,decode:decode$4,encode:encode$4,name:name$3,prepare:prepare$1,validate},Symbol.toStringTag,{value:"Module"})),persist=async($,o,a)=>{a.codec||(a.codec=pb),a.hasher||(a.hasher=sha256),a.cidVersion===void 0&&(a.cidVersion=1),a.codec===pb&&a.hasher!==sha256&&(a.cidVersion=1);const j=await a.hasher.digest($),_e=CID.create(a.cidVersion,a.codec.code,j);return a.onlyHash||await o.put(_e,$,{signal:a.signal}),_e},dirBuilder=async($,o,a)=>{const j=new UnixFS({type:"directory",mtime:$.mtime,mode:$.mode}),_e=encode$4(prepare$1({Data:j.marshal()})),et=await persist(_e,o,a),tt=$.path;return{cid:et,path:tt,unixfs:j,size:_e.length}},name$2="raw",code$4=85,encode$3=$=>coerce($),decode$3=$=>coerce($),raw=Object.freeze(Object.defineProperty({__proto__:null,code:code$4,decode:decode$3,encode:encode$3,name:name$2},Symbol.toStringTag,{value:"Module"})),all=async $=>{const o=[];for await(const a of $)o.push(a);return o};var itAll=all;async function flat($,o){return o(await itAll($))}function balanced($,o,a){return reduceToParents($,o,a)}async function reduceToParents($,o,a){const j=[];for await(const _e of itBatch($,a.maxChildrenPerNode))j.push(await o(_e));return j.length>1?reduceToParents(j,o,a):j[0]}async function trickleStream($,o,a){const j=new Root(a.layerRepeat);let _e=0,et=1,tt=j;for await(const nt of itBatch($,a.maxChildrenPerNode))tt.isFull()&&(tt!==j&&j.addChild(await tt.reduce(o)),_e&&_e%a.layerRepeat===0&&et++,tt=new SubTree(et,a.layerRepeat,_e),_e++),tt.append(nt);return tt&&tt!==j&&j.addChild(await tt.reduce(o)),j.reduce(o)}class SubTree{constructor(o,a,j=0){this.maxDepth=o,this.layerRepeat=a,this.currentDepth=1,this.iteration=j,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:o,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;const o=this._findParent(this.node,this.currentDepth);return o?(this._addNextNodeToParent(o),!1):!0}_addNextNodeToParent(o){this.parent=o;const a={children:[],depth:o.depth+1,parent:o,maxDepth:this.maxDepth,maxChildren:Math.floor(o.children.length/this.layerRepeat)*this.layerRepeat};o.children.push(a),this.currentDepth=a.depth,this.node=a}append(o){this.node.data=o}reduce(o){return this._reduce(this.root,o)}async _reduce(o,a){let j=[];return o.children.length&&(j=await Promise.all(o.children.filter(_e=>_e.data).map(_e=>this._reduce(_e,a)))),a((o.data||[]).concat(j))}_findParent(o,a){const j=o.parent;if(!(!j||j.depth===0))return j.children.length===j.maxChildren||!j.maxChildren?this._findParent(j,a):j}}class Root extends SubTree{constructor(o){super(0,o),this.root.depth=0,this.currentDepth=1}addChild(o){this.root.children.push(o)}reduce(o){return o((this.root.data||[]).concat(this.root.children))}}async function*bufferImporter($,o,a){for await(let j of $.content)yield async()=>{a.progress(j.length,$.path);let _e;const et={codec:pb,cidVersion:a.cidVersion,hasher:a.hasher,onlyHash:a.onlyHash};return a.rawLeaves?(et.codec=raw,et.cidVersion=1):(_e=new UnixFS({type:a.leafType,data:j}),j=encode$4({Data:_e.marshal(),Links:[]})),{cid:await persist(j,o,et),unixfs:_e,size:j.length}}}const dagBuilders={flat,balanced,trickle:trickleStream};async function*buildFileBatch($,o,a){let j=-1,_e,et;typeof a.bufferImporter=="function"?et=a.bufferImporter:et=bufferImporter;for await(const tt of itParallelBatch(et($,o,a),a.blockWriteConcurrency)){if(j++,j===0){_e=tt;continue}else j===1&&_e&&(yield _e,_e=null);yield tt}_e&&(_e.single=!0,yield _e)}const reduce=($,o,a)=>{async function j(_e){if(_e.length===1&&_e[0].single&&a.reduceSingleLeafToSelf){const ot=_e[0];if($.mtime!==void 0||$.mode!==void 0){let at=await o.get(ot.cid);ot.unixfs=new UnixFS({type:"file",mtime:$.mtime,mode:$.mode,data:at}),at=encode$4(prepare$1({Data:ot.unixfs.marshal()})),ot.cid=await persist(at,o,{...a,codec:pb,hasher:a.hasher,cidVersion:a.cidVersion}),ot.size=at.length}return{cid:ot.cid,path:$.path,unixfs:ot.unixfs,size:ot.size}}const et=new UnixFS({type:"file",mtime:$.mtime,mode:$.mode}),tt=_e.filter(ot=>ot.cid.code===code$4&&ot.size||ot.unixfs&&!ot.unixfs.data&&ot.unixfs.fileSize()?!0:!!(ot.unixfs&&ot.unixfs.data&&ot.unixfs.data.length)).map(ot=>ot.cid.code===code$4?(et.addBlockSize(ot.size),{Name:"",Tsize:ot.size,Hash:ot.cid}):(!ot.unixfs||!ot.unixfs.data?et.addBlockSize(ot.unixfs&&ot.unixfs.fileSize()||0):et.addBlockSize(ot.unixfs.data.length),{Name:"",Tsize:ot.size,Hash:ot.cid})),nt={Data:et.marshal(),Links:tt},rt=encode$4(prepare$1(nt));return{cid:await persist(rt,o,a),path:$.path,unixfs:et,size:rt.length+nt.Links.reduce((ot,at)=>ot+at.Tsize,0)}}return j};function fileBuilder($,o,a){const j=dagBuilders[a.strategy];if(!j)throw errCode(new Error(`Unknown importer build strategy name: ${a.strategy}`),"ERR_BAD_STRATEGY");return j(buildFileBatch($,o,a),reduce($,o,a),a)}var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$2=0,len=code$3.length;i$2<len;++i$2)lookup[i$2]=code$3[i$2],revLookup[code$3.charCodeAt(i$2)]=i$2;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens($){var o=$.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=$.indexOf("=");a===-1&&(a=o);var j=a===o?0:4-a%4;return[a,j]}function byteLength($){var o=getLens($),a=o[0],j=o[1];return(a+j)*3/4-j}function _byteLength($,o,a){return(o+a)*3/4-a}function toByteArray($){var o,a=getLens($),j=a[0],_e=a[1],et=new Arr(_byteLength($,j,_e)),tt=0,nt=_e>0?j-4:j,rt;for(rt=0;rt<nt;rt+=4)o=revLookup[$.charCodeAt(rt)]<<18|revLookup[$.charCodeAt(rt+1)]<<12|revLookup[$.charCodeAt(rt+2)]<<6|revLookup[$.charCodeAt(rt+3)],et[tt++]=o>>16&255,et[tt++]=o>>8&255,et[tt++]=o&255;return _e===2&&(o=revLookup[$.charCodeAt(rt)]<<2|revLookup[$.charCodeAt(rt+1)]>>4,et[tt++]=o&255),_e===1&&(o=revLookup[$.charCodeAt(rt)]<<10|revLookup[$.charCodeAt(rt+1)]<<4|revLookup[$.charCodeAt(rt+2)]>>2,et[tt++]=o>>8&255,et[tt++]=o&255),et}function tripletToBase64($){return lookup[$>>18&63]+lookup[$>>12&63]+lookup[$>>6&63]+lookup[$&63]}function encodeChunk($,o,a){for(var j,_e=[],et=o;et<a;et+=3)j=($[et]<<16&16711680)+($[et+1]<<8&65280)+($[et+2]&255),_e.push(tripletToBase64(j));return _e.join("")}function fromByteArray($){for(var o,a=$.length,j=a%3,_e=[],et=16383,tt=0,nt=a-j;tt<nt;tt+=et)_e.push(encodeChunk($,tt,tt+et>nt?nt:tt+et));return j===1?(o=$[a-1],_e.push(lookup[o>>2]+lookup[o<<4&63]+"==")):j===2&&(o=($[a-2]<<8)+$[a-1],_e.push(lookup[o>>10]+lookup[o>>4&63]+lookup[o<<2&63]+"=")),_e.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function($,o,a,j,_e){var et,tt,nt=_e*8-j-1,rt=(1<<nt)-1,it=rt>>1,ot=-7,at=a?_e-1:0,ct=a?-1:1,ut=$[o+at];for(at+=ct,et=ut&(1<<-ot)-1,ut>>=-ot,ot+=nt;ot>0;et=et*256+$[o+at],at+=ct,ot-=8);for(tt=et&(1<<-ot)-1,et>>=-ot,ot+=j;ot>0;tt=tt*256+$[o+at],at+=ct,ot-=8);if(et===0)et=1-it;else{if(et===rt)return tt?NaN:(ut?-1:1)*(1/0);tt=tt+Math.pow(2,j),et=et-it}return(ut?-1:1)*tt*Math.pow(2,et-j)};ieee754.write=function($,o,a,j,_e,et){var tt,nt,rt,it=et*8-_e-1,ot=(1<<it)-1,at=ot>>1,ct=_e===23?Math.pow(2,-24)-Math.pow(2,-77):0,ut=j?0:et-1,dt=j?1:-1,ft=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(nt=isNaN(o)?1:0,tt=ot):(tt=Math.floor(Math.log(o)/Math.LN2),o*(rt=Math.pow(2,-tt))<1&&(tt--,rt*=2),tt+at>=1?o+=ct/rt:o+=ct*Math.pow(2,1-at),o*rt>=2&&(tt++,rt/=2),tt+at>=ot?(nt=0,tt=ot):tt+at>=1?(nt=(o*rt-1)*Math.pow(2,_e),tt=tt+at):(nt=o*Math.pow(2,at-1)*Math.pow(2,_e),tt=0));_e>=8;$[a+ut]=nt&255,ut+=dt,nt/=256,_e-=8);for(tt=tt<<_e|nt,it+=_e;it>0;$[a+ut]=tt&255,ut+=dt,tt/=256,it-=8);$[a+ut-dt]|=ft*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function($){const o=base64Js,a=ieee754,j=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;$.Buffer=nt,$.SlowBuffer=yt,$.INSPECT_MAX_BYTES=50;const _e=2147483647;$.kMaxLength=_e,nt.TYPED_ARRAY_SUPPORT=et(),!nt.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function et(){try{const Ot=new Uint8Array(1),Mt={foo:function(){return 42}};return Object.setPrototypeOf(Mt,Uint8Array.prototype),Object.setPrototypeOf(Ot,Mt),Ot.foo()===42}catch{return!1}}Object.defineProperty(nt.prototype,"parent",{enumerable:!0,get:function(){if(nt.isBuffer(this))return this.buffer}}),Object.defineProperty(nt.prototype,"offset",{enumerable:!0,get:function(){if(nt.isBuffer(this))return this.byteOffset}});function tt(Ot){if(Ot>_e)throw new RangeError('The value "'+Ot+'" is invalid for option "size"');const Mt=new Uint8Array(Ot);return Object.setPrototypeOf(Mt,nt.prototype),Mt}function nt(Ot,Mt,Et){if(typeof Ot=="number"){if(typeof Mt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return at(Ot)}return rt(Ot,Mt,Et)}nt.poolSize=8192;function rt(Ot,Mt,Et){if(typeof Ot=="string")return ct(Ot,Mt);if(ArrayBuffer.isView(Ot))return dt(Ot);if(Ot==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ot);if(Xt(Ot,ArrayBuffer)||Ot&&Xt(Ot.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Xt(Ot,SharedArrayBuffer)||Ot&&Xt(Ot.buffer,SharedArrayBuffer)))return ft(Ot,Mt,Et);if(typeof Ot=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Ut=Ot.valueOf&&Ot.valueOf();if(Ut!=null&&Ut!==Ot)return nt.from(Ut,Mt,Et);const Qt=ht(Ot);if(Qt)return Qt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ot[Symbol.toPrimitive]=="function")return nt.from(Ot[Symbol.toPrimitive]("string"),Mt,Et);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ot)}nt.from=function(Ot,Mt,Et){return rt(Ot,Mt,Et)},Object.setPrototypeOf(nt.prototype,Uint8Array.prototype),Object.setPrototypeOf(nt,Uint8Array);function it(Ot){if(typeof Ot!="number")throw new TypeError('"size" argument must be of type number');if(Ot<0)throw new RangeError('The value "'+Ot+'" is invalid for option "size"')}function ot(Ot,Mt,Et){return it(Ot),Ot<=0?tt(Ot):Mt!==void 0?typeof Et=="string"?tt(Ot).fill(Mt,Et):tt(Ot).fill(Mt):tt(Ot)}nt.alloc=function(Ot,Mt,Et){return ot(Ot,Mt,Et)};function at(Ot){return it(Ot),tt(Ot<0?0:pt(Ot)|0)}nt.allocUnsafe=function(Ot){return at(Ot)},nt.allocUnsafeSlow=function(Ot){return at(Ot)};function ct(Ot,Mt){if((typeof Mt!="string"||Mt==="")&&(Mt="utf8"),!nt.isEncoding(Mt))throw new TypeError("Unknown encoding: "+Mt);const Et=gt(Ot,Mt)|0;let Ut=tt(Et);const Qt=Ut.write(Ot,Mt);return Qt!==Et&&(Ut=Ut.slice(0,Qt)),Ut}function ut(Ot){const Mt=Ot.length<0?0:pt(Ot.length)|0,Et=tt(Mt);for(let Ut=0;Ut<Mt;Ut+=1)Et[Ut]=Ot[Ut]&255;return Et}function dt(Ot){if(Xt(Ot,Uint8Array)){const Mt=new Uint8Array(Ot);return ft(Mt.buffer,Mt.byteOffset,Mt.byteLength)}return ut(Ot)}function ft(Ot,Mt,Et){if(Mt<0||Ot.byteLength<Mt)throw new RangeError('"offset" is outside of buffer bounds');if(Ot.byteLength<Mt+(Et||0))throw new RangeError('"length" is outside of buffer bounds');let Ut;return Mt===void 0&&Et===void 0?Ut=new Uint8Array(Ot):Et===void 0?Ut=new Uint8Array(Ot,Mt):Ut=new Uint8Array(Ot,Mt,Et),Object.setPrototypeOf(Ut,nt.prototype),Ut}function ht(Ot){if(nt.isBuffer(Ot)){const Mt=pt(Ot.length)|0,Et=tt(Mt);return Et.length===0||Ot.copy(Et,0,0,Mt),Et}if(Ot.length!==void 0)return typeof Ot.length!="number"||jt(Ot.length)?tt(0):ut(Ot);if(Ot.type==="Buffer"&&Array.isArray(Ot.data))return ut(Ot.data)}function pt(Ot){if(Ot>=_e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_e.toString(16)+" bytes");return Ot|0}function yt(Ot){return+Ot!=Ot&&(Ot=0),nt.alloc(+Ot)}nt.isBuffer=function(Mt){return Mt!=null&&Mt._isBuffer===!0&&Mt!==nt.prototype},nt.compare=function(Mt,Et){if(Xt(Mt,Uint8Array)&&(Mt=nt.from(Mt,Mt.offset,Mt.byteLength)),Xt(Et,Uint8Array)&&(Et=nt.from(Et,Et.offset,Et.byteLength)),!nt.isBuffer(Mt)||!nt.isBuffer(Et))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Mt===Et)return 0;let Ut=Mt.length,Qt=Et.length;for(let Wt=0,qt=Math.min(Ut,Qt);Wt<qt;++Wt)if(Mt[Wt]!==Et[Wt]){Ut=Mt[Wt],Qt=Et[Wt];break}return Ut<Qt?-1:Qt<Ut?1:0},nt.isEncoding=function(Mt){switch(String(Mt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},nt.concat=function(Mt,Et){if(!Array.isArray(Mt))throw new TypeError('"list" argument must be an Array of Buffers');if(Mt.length===0)return nt.alloc(0);let Ut;if(Et===void 0)for(Et=0,Ut=0;Ut<Mt.length;++Ut)Et+=Mt[Ut].length;const Qt=nt.allocUnsafe(Et);let Wt=0;for(Ut=0;Ut<Mt.length;++Ut){let qt=Mt[Ut];if(Xt(qt,Uint8Array))Wt+qt.length>Qt.length?(nt.isBuffer(qt)||(qt=nt.from(qt)),qt.copy(Qt,Wt)):Uint8Array.prototype.set.call(Qt,qt,Wt);else if(nt.isBuffer(qt))qt.copy(Qt,Wt);else throw new TypeError('"list" argument must be an Array of Buffers');Wt+=qt.length}return Qt};function gt(Ot,Mt){if(nt.isBuffer(Ot))return Ot.length;if(ArrayBuffer.isView(Ot)||Xt(Ot,ArrayBuffer))return Ot.byteLength;if(typeof Ot!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ot);const Et=Ot.length,Ut=arguments.length>2&&arguments[2]===!0;if(!Ut&&Et===0)return 0;let Qt=!1;for(;;)switch(Mt){case"ascii":case"latin1":case"binary":return Et;case"utf8":case"utf-8":return Rn(Ot).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Et*2;case"hex":return Et>>>1;case"base64":return Un(Ot).length;default:if(Qt)return Ut?-1:Rn(Ot).length;Mt=(""+Mt).toLowerCase(),Qt=!0}}nt.byteLength=gt;function bt(Ot,Mt,Et){let Ut=!1;if((Mt===void 0||Mt<0)&&(Mt=0),Mt>this.length||((Et===void 0||Et>this.length)&&(Et=this.length),Et<=0)||(Et>>>=0,Mt>>>=0,Et<=Mt))return"";for(Ot||(Ot="utf8");;)switch(Ot){case"hex":return $t(this,Mt,Et);case"utf8":case"utf-8":return vt(this,Mt,Et);case"ascii":return zt(this,Mt,Et);case"latin1":case"binary":return Rt(this,Mt,Et);case"base64":return kt(this,Mt,Et);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Gt(this,Mt,Et);default:if(Ut)throw new TypeError("Unknown encoding: "+Ot);Ot=(Ot+"").toLowerCase(),Ut=!0}}nt.prototype._isBuffer=!0;function At(Ot,Mt,Et){const Ut=Ot[Mt];Ot[Mt]=Ot[Et],Ot[Et]=Ut}nt.prototype.swap16=function(){const Mt=this.length;if(Mt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Et=0;Et<Mt;Et+=2)At(this,Et,Et+1);return this},nt.prototype.swap32=function(){const Mt=this.length;if(Mt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Et=0;Et<Mt;Et+=4)At(this,Et,Et+3),At(this,Et+1,Et+2);return this},nt.prototype.swap64=function(){const Mt=this.length;if(Mt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Et=0;Et<Mt;Et+=8)At(this,Et,Et+7),At(this,Et+1,Et+6),At(this,Et+2,Et+5),At(this,Et+3,Et+4);return this},nt.prototype.toString=function(){const Mt=this.length;return Mt===0?"":arguments.length===0?vt(this,0,Mt):bt.apply(this,arguments)},nt.prototype.toLocaleString=nt.prototype.toString,nt.prototype.equals=function(Mt){if(!nt.isBuffer(Mt))throw new TypeError("Argument must be a Buffer");return this===Mt?!0:nt.compare(this,Mt)===0},nt.prototype.inspect=function(){let Mt="";const Et=$.INSPECT_MAX_BYTES;return Mt=this.toString("hex",0,Et).replace(/(.{2})/g,"$1 ").trim(),this.length>Et&&(Mt+=" ... "),"<Buffer "+Mt+">"},j&&(nt.prototype[j]=nt.prototype.inspect),nt.prototype.compare=function(Mt,Et,Ut,Qt,Wt){if(Xt(Mt,Uint8Array)&&(Mt=nt.from(Mt,Mt.offset,Mt.byteLength)),!nt.isBuffer(Mt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Mt);if(Et===void 0&&(Et=0),Ut===void 0&&(Ut=Mt?Mt.length:0),Qt===void 0&&(Qt=0),Wt===void 0&&(Wt=this.length),Et<0||Ut>Mt.length||Qt<0||Wt>this.length)throw new RangeError("out of range index");if(Qt>=Wt&&Et>=Ut)return 0;if(Qt>=Wt)return-1;if(Et>=Ut)return 1;if(Et>>>=0,Ut>>>=0,Qt>>>=0,Wt>>>=0,this===Mt)return 0;let qt=Wt-Qt,_n=Ut-Et;const En=Math.min(qt,_n),Pn=this.slice(Qt,Wt),Hn=Mt.slice(Et,Ut);for(let On=0;On<En;++On)if(Pn[On]!==Hn[On]){qt=Pn[On],_n=Hn[On];break}return qt<_n?-1:_n<qt?1:0};function Tt(Ot,Mt,Et,Ut,Qt){if(Ot.length===0)return-1;if(typeof Et=="string"?(Ut=Et,Et=0):Et>2147483647?Et=2147483647:Et<-2147483648&&(Et=-2147483648),Et=+Et,jt(Et)&&(Et=Qt?0:Ot.length-1),Et<0&&(Et=Ot.length+Et),Et>=Ot.length){if(Qt)return-1;Et=Ot.length-1}else if(Et<0)if(Qt)Et=0;else return-1;if(typeof Mt=="string"&&(Mt=nt.from(Mt,Ut)),nt.isBuffer(Mt))return Mt.length===0?-1:Pt(Ot,Mt,Et,Ut,Qt);if(typeof Mt=="number")return Mt=Mt&255,typeof Uint8Array.prototype.indexOf=="function"?Qt?Uint8Array.prototype.indexOf.call(Ot,Mt,Et):Uint8Array.prototype.lastIndexOf.call(Ot,Mt,Et):Pt(Ot,[Mt],Et,Ut,Qt);throw new TypeError("val must be string, number or Buffer")}function Pt(Ot,Mt,Et,Ut,Qt){let Wt=1,qt=Ot.length,_n=Mt.length;if(Ut!==void 0&&(Ut=String(Ut).toLowerCase(),Ut==="ucs2"||Ut==="ucs-2"||Ut==="utf16le"||Ut==="utf-16le")){if(Ot.length<2||Mt.length<2)return-1;Wt=2,qt/=2,_n/=2,Et/=2}function En(Hn,On){return Wt===1?Hn[On]:Hn.readUInt16BE(On*Wt)}let Pn;if(Qt){let Hn=-1;for(Pn=Et;Pn<qt;Pn++)if(En(Ot,Pn)===En(Mt,Hn===-1?0:Pn-Hn)){if(Hn===-1&&(Hn=Pn),Pn-Hn+1===_n)return Hn*Wt}else Hn!==-1&&(Pn-=Pn-Hn),Hn=-1}else for(Et+_n>qt&&(Et=qt-_n),Pn=Et;Pn>=0;Pn--){let Hn=!0;for(let On=0;On<_n;On++)if(En(Ot,Pn+On)!==En(Mt,On)){Hn=!1;break}if(Hn)return Pn}return-1}nt.prototype.includes=function(Mt,Et,Ut){return this.indexOf(Mt,Et,Ut)!==-1},nt.prototype.indexOf=function(Mt,Et,Ut){return Tt(this,Mt,Et,Ut,!0)},nt.prototype.lastIndexOf=function(Mt,Et,Ut){return Tt(this,Mt,Et,Ut,!1)};function Ct(Ot,Mt,Et,Ut){Et=Number(Et)||0;const Qt=Ot.length-Et;Ut?(Ut=Number(Ut),Ut>Qt&&(Ut=Qt)):Ut=Qt;const Wt=Mt.length;Ut>Wt/2&&(Ut=Wt/2);let qt;for(qt=0;qt<Ut;++qt){const _n=parseInt(Mt.substr(qt*2,2),16);if(jt(_n))return qt;Ot[Et+qt]=_n}return qt}function It(Ot,Mt,Et,Ut){return Nn(Rn(Mt,Ot.length-Et),Ot,Et,Ut)}function Vt(Ot,Mt,Et,Ut){return Nn(Ln(Mt),Ot,Et,Ut)}function Kt(Ot,Mt,Et,Ut){return Nn(Un(Mt),Ot,Et,Ut)}function en(Ot,Mt,Et,Ut){return Nn(Fn(Mt,Ot.length-Et),Ot,Et,Ut)}nt.prototype.write=function(Mt,Et,Ut,Qt){if(Et===void 0)Qt="utf8",Ut=this.length,Et=0;else if(Ut===void 0&&typeof Et=="string")Qt=Et,Ut=this.length,Et=0;else if(isFinite(Et))Et=Et>>>0,isFinite(Ut)?(Ut=Ut>>>0,Qt===void 0&&(Qt="utf8")):(Qt=Ut,Ut=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Wt=this.length-Et;if((Ut===void 0||Ut>Wt)&&(Ut=Wt),Mt.length>0&&(Ut<0||Et<0)||Et>this.length)throw new RangeError("Attempt to write outside buffer bounds");Qt||(Qt="utf8");let qt=!1;for(;;)switch(Qt){case"hex":return Ct(this,Mt,Et,Ut);case"utf8":case"utf-8":return It(this,Mt,Et,Ut);case"ascii":case"latin1":case"binary":return Vt(this,Mt,Et,Ut);case"base64":return Kt(this,Mt,Et,Ut);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return en(this,Mt,Et,Ut);default:if(qt)throw new TypeError("Unknown encoding: "+Qt);Qt=(""+Qt).toLowerCase(),qt=!0}},nt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function kt(Ot,Mt,Et){return Mt===0&&Et===Ot.length?o.fromByteArray(Ot):o.fromByteArray(Ot.slice(Mt,Et))}function vt(Ot,Mt,Et){Et=Math.min(Ot.length,Et);const Ut=[];let Qt=Mt;for(;Qt<Et;){const Wt=Ot[Qt];let qt=null,_n=Wt>239?4:Wt>223?3:Wt>191?2:1;if(Qt+_n<=Et){let En,Pn,Hn,On;switch(_n){case 1:Wt<128&&(qt=Wt);break;case 2:En=Ot[Qt+1],(En&192)===128&&(On=(Wt&31)<<6|En&63,On>127&&(qt=On));break;case 3:En=Ot[Qt+1],Pn=Ot[Qt+2],(En&192)===128&&(Pn&192)===128&&(On=(Wt&15)<<12|(En&63)<<6|Pn&63,On>2047&&(On<55296||On>57343)&&(qt=On));break;case 4:En=Ot[Qt+1],Pn=Ot[Qt+2],Hn=Ot[Qt+3],(En&192)===128&&(Pn&192)===128&&(Hn&192)===128&&(On=(Wt&15)<<18|(En&63)<<12|(Pn&63)<<6|Hn&63,On>65535&&On<1114112&&(qt=On))}}qt===null?(qt=65533,_n=1):qt>65535&&(qt-=65536,Ut.push(qt>>>10&1023|55296),qt=56320|qt&1023),Ut.push(qt),Qt+=_n}return Lt(Ut)}const St=4096;function Lt(Ot){const Mt=Ot.length;if(Mt<=St)return String.fromCharCode.apply(String,Ot);let Et="",Ut=0;for(;Ut<Mt;)Et+=String.fromCharCode.apply(String,Ot.slice(Ut,Ut+=St));return Et}function zt(Ot,Mt,Et){let Ut="";Et=Math.min(Ot.length,Et);for(let Qt=Mt;Qt<Et;++Qt)Ut+=String.fromCharCode(Ot[Qt]&127);return Ut}function Rt(Ot,Mt,Et){let Ut="";Et=Math.min(Ot.length,Et);for(let Qt=Mt;Qt<Et;++Qt)Ut+=String.fromCharCode(Ot[Qt]);return Ut}function $t(Ot,Mt,Et){const Ut=Ot.length;(!Mt||Mt<0)&&(Mt=0),(!Et||Et<0||Et>Ut)&&(Et=Ut);let Qt="";for(let Wt=Mt;Wt<Et;++Wt)Qt+=un[Ot[Wt]];return Qt}function Gt(Ot,Mt,Et){const Ut=Ot.slice(Mt,Et);let Qt="";for(let Wt=0;Wt<Ut.length-1;Wt+=2)Qt+=String.fromCharCode(Ut[Wt]+Ut[Wt+1]*256);return Qt}nt.prototype.slice=function(Mt,Et){const Ut=this.length;Mt=~~Mt,Et=Et===void 0?Ut:~~Et,Mt<0?(Mt+=Ut,Mt<0&&(Mt=0)):Mt>Ut&&(Mt=Ut),Et<0?(Et+=Ut,Et<0&&(Et=0)):Et>Ut&&(Et=Ut),Et<Mt&&(Et=Mt);const Qt=this.subarray(Mt,Et);return Object.setPrototypeOf(Qt,nt.prototype),Qt};function Ft(Ot,Mt,Et){if(Ot%1!==0||Ot<0)throw new RangeError("offset is not uint");if(Ot+Mt>Et)throw new RangeError("Trying to access beyond buffer length")}nt.prototype.readUintLE=nt.prototype.readUIntLE=function(Mt,Et,Ut){Mt=Mt>>>0,Et=Et>>>0,Ut||Ft(Mt,Et,this.length);let Qt=this[Mt],Wt=1,qt=0;for(;++qt<Et&&(Wt*=256);)Qt+=this[Mt+qt]*Wt;return Qt},nt.prototype.readUintBE=nt.prototype.readUIntBE=function(Mt,Et,Ut){Mt=Mt>>>0,Et=Et>>>0,Ut||Ft(Mt,Et,this.length);let Qt=this[Mt+--Et],Wt=1;for(;Et>0&&(Wt*=256);)Qt+=this[Mt+--Et]*Wt;return Qt},nt.prototype.readUint8=nt.prototype.readUInt8=function(Mt,Et){return Mt=Mt>>>0,Et||Ft(Mt,1,this.length),this[Mt]},nt.prototype.readUint16LE=nt.prototype.readUInt16LE=function(Mt,Et){return Mt=Mt>>>0,Et||Ft(Mt,2,this.length),this[Mt]|this[Mt+1]<<8},nt.prototype.readUint16BE=nt.prototype.readUInt16BE=function(Mt,Et){return Mt=Mt>>>0,Et||Ft(Mt,2,this.length),this[Mt]<<8|this[Mt+1]},nt.prototype.readUint32LE=nt.prototype.readUInt32LE=function(Mt,Et){return Mt=Mt>>>0,Et||Ft(Mt,4,this.length),(this[Mt]|this[Mt+1]<<8|this[Mt+2]<<16)+this[Mt+3]*16777216},nt.prototype.readUint32BE=nt.prototype.readUInt32BE=function(Mt,Et){return Mt=Mt>>>0,Et||Ft(Mt,4,this.length),this[Mt]*16777216+(this[Mt+1]<<16|this[Mt+2]<<8|this[Mt+3])},nt.prototype.readBigUInt64LE=Tn(function(Mt){Mt=Mt>>>0,cn(Mt,"offset");const Et=this[Mt],Ut=this[Mt+7];(Et===void 0||Ut===void 0)&&pn(Mt,this.length-8);const Qt=Et+this[++Mt]*2**8+this[++Mt]*2**16+this[++Mt]*2**24,Wt=this[++Mt]+this[++Mt]*2**8+this[++Mt]*2**16+Ut*2**24;return BigInt(Qt)+(BigInt(Wt)<<BigInt(32))}),nt.prototype.readBigUInt64BE=Tn(function(Mt){Mt=Mt>>>0,cn(Mt,"offset");const Et=this[Mt],Ut=this[Mt+7];(Et===void 0||Ut===void 0)&&pn(Mt,this.length-8);const Qt=Et*2**24+this[++Mt]*2**16+this[++Mt]*2**8+this[++Mt],Wt=this[++Mt]*2**24+this[++Mt]*2**16+this[++Mt]*2**8+Ut;return(BigInt(Qt)<<BigInt(32))+BigInt(Wt)}),nt.prototype.readIntLE=function(Mt,Et,Ut){Mt=Mt>>>0,Et=Et>>>0,Ut||Ft(Mt,Et,this.length);let Qt=this[Mt],Wt=1,qt=0;for(;++qt<Et&&(Wt*=256);)Qt+=this[Mt+qt]*Wt;return Wt*=128,Qt>=Wt&&(Qt-=Math.pow(2,8*Et)),Qt},nt.prototype.readIntBE=function(Mt,Et,Ut){Mt=Mt>>>0,Et=Et>>>0,Ut||Ft(Mt,Et,this.length);let Qt=Et,Wt=1,qt=this[Mt+--Qt];for(;Qt>0&&(Wt*=256);)qt+=this[Mt+--Qt]*Wt;return Wt*=128,qt>=Wt&&(qt-=Math.pow(2,8*Et)),qt},nt.prototype.readInt8=function(Mt,Et){return Mt=Mt>>>0,Et||Ft(Mt,1,this.length),this[Mt]&128?(255-this[Mt]+1)*-1:this[Mt]},nt.prototype.readInt16LE=function(Mt,Et){Mt=Mt>>>0,Et||Ft(Mt,2,this.length);const Ut=this[Mt]|this[Mt+1]<<8;return Ut&32768?Ut|4294901760:Ut},nt.prototype.readInt16BE=function(Mt,Et){Mt=Mt>>>0,Et||Ft(Mt,2,this.length);const Ut=this[Mt+1]|this[Mt]<<8;return Ut&32768?Ut|4294901760:Ut},nt.prototype.readInt32LE=function(Mt,Et){return Mt=Mt>>>0,Et||Ft(Mt,4,this.length),this[Mt]|this[Mt+1]<<8|this[Mt+2]<<16|this[Mt+3]<<24},nt.prototype.readInt32BE=function(Mt,Et){return Mt=Mt>>>0,Et||Ft(Mt,4,this.length),this[Mt]<<24|this[Mt+1]<<16|this[Mt+2]<<8|this[Mt+3]},nt.prototype.readBigInt64LE=Tn(function(Mt){Mt=Mt>>>0,cn(Mt,"offset");const Et=this[Mt],Ut=this[Mt+7];(Et===void 0||Ut===void 0)&&pn(Mt,this.length-8);const Qt=this[Mt+4]+this[Mt+5]*2**8+this[Mt+6]*2**16+(Ut<<24);return(BigInt(Qt)<<BigInt(32))+BigInt(Et+this[++Mt]*2**8+this[++Mt]*2**16+this[++Mt]*2**24)}),nt.prototype.readBigInt64BE=Tn(function(Mt){Mt=Mt>>>0,cn(Mt,"offset");const Et=this[Mt],Ut=this[Mt+7];(Et===void 0||Ut===void 0)&&pn(Mt,this.length-8);const Qt=(Et<<24)+this[++Mt]*2**16+this[++Mt]*2**8+this[++Mt];return(BigInt(Qt)<<BigInt(32))+BigInt(this[++Mt]*2**24+this[++Mt]*2**16+this[++Mt]*2**8+Ut)}),nt.prototype.readFloatLE=function(Mt,Et){return Mt=Mt>>>0,Et||Ft(Mt,4,this.length),a.read(this,Mt,!0,23,4)},nt.prototype.readFloatBE=function(Mt,Et){return Mt=Mt>>>0,Et||Ft(Mt,4,this.length),a.read(this,Mt,!1,23,4)},nt.prototype.readDoubleLE=function(Mt,Et){return Mt=Mt>>>0,Et||Ft(Mt,8,this.length),a.read(this,Mt,!0,52,8)},nt.prototype.readDoubleBE=function(Mt,Et){return Mt=Mt>>>0,Et||Ft(Mt,8,this.length),a.read(this,Mt,!1,52,8)};function wt(Ot,Mt,Et,Ut,Qt,Wt){if(!nt.isBuffer(Ot))throw new TypeError('"buffer" argument must be a Buffer instance');if(Mt>Qt||Mt<Wt)throw new RangeError('"value" argument is out of bounds');if(Et+Ut>Ot.length)throw new RangeError("Index out of range")}nt.prototype.writeUintLE=nt.prototype.writeUIntLE=function(Mt,Et,Ut,Qt){if(Mt=+Mt,Et=Et>>>0,Ut=Ut>>>0,!Qt){const _n=Math.pow(2,8*Ut)-1;wt(this,Mt,Et,Ut,_n,0)}let Wt=1,qt=0;for(this[Et]=Mt&255;++qt<Ut&&(Wt*=256);)this[Et+qt]=Mt/Wt&255;return Et+Ut},nt.prototype.writeUintBE=nt.prototype.writeUIntBE=function(Mt,Et,Ut,Qt){if(Mt=+Mt,Et=Et>>>0,Ut=Ut>>>0,!Qt){const _n=Math.pow(2,8*Ut)-1;wt(this,Mt,Et,Ut,_n,0)}let Wt=Ut-1,qt=1;for(this[Et+Wt]=Mt&255;--Wt>=0&&(qt*=256);)this[Et+Wt]=Mt/qt&255;return Et+Ut},nt.prototype.writeUint8=nt.prototype.writeUInt8=function(Mt,Et,Ut){return Mt=+Mt,Et=Et>>>0,Ut||wt(this,Mt,Et,1,255,0),this[Et]=Mt&255,Et+1},nt.prototype.writeUint16LE=nt.prototype.writeUInt16LE=function(Mt,Et,Ut){return Mt=+Mt,Et=Et>>>0,Ut||wt(this,Mt,Et,2,65535,0),this[Et]=Mt&255,this[Et+1]=Mt>>>8,Et+2},nt.prototype.writeUint16BE=nt.prototype.writeUInt16BE=function(Mt,Et,Ut){return Mt=+Mt,Et=Et>>>0,Ut||wt(this,Mt,Et,2,65535,0),this[Et]=Mt>>>8,this[Et+1]=Mt&255,Et+2},nt.prototype.writeUint32LE=nt.prototype.writeUInt32LE=function(Mt,Et,Ut){return Mt=+Mt,Et=Et>>>0,Ut||wt(this,Mt,Et,4,4294967295,0),this[Et+3]=Mt>>>24,this[Et+2]=Mt>>>16,this[Et+1]=Mt>>>8,this[Et]=Mt&255,Et+4},nt.prototype.writeUint32BE=nt.prototype.writeUInt32BE=function(Mt,Et,Ut){return Mt=+Mt,Et=Et>>>0,Ut||wt(this,Mt,Et,4,4294967295,0),this[Et]=Mt>>>24,this[Et+1]=Mt>>>16,this[Et+2]=Mt>>>8,this[Et+3]=Mt&255,Et+4};function Ht(Ot,Mt,Et,Ut,Qt){tn(Mt,Ut,Qt,Ot,Et,7);let Wt=Number(Mt&BigInt(4294967295));Ot[Et++]=Wt,Wt=Wt>>8,Ot[Et++]=Wt,Wt=Wt>>8,Ot[Et++]=Wt,Wt=Wt>>8,Ot[Et++]=Wt;let qt=Number(Mt>>BigInt(32)&BigInt(4294967295));return Ot[Et++]=qt,qt=qt>>8,Ot[Et++]=qt,qt=qt>>8,Ot[Et++]=qt,qt=qt>>8,Ot[Et++]=qt,Et}function nn(Ot,Mt,Et,Ut,Qt){tn(Mt,Ut,Qt,Ot,Et,7);let Wt=Number(Mt&BigInt(4294967295));Ot[Et+7]=Wt,Wt=Wt>>8,Ot[Et+6]=Wt,Wt=Wt>>8,Ot[Et+5]=Wt,Wt=Wt>>8,Ot[Et+4]=Wt;let qt=Number(Mt>>BigInt(32)&BigInt(4294967295));return Ot[Et+3]=qt,qt=qt>>8,Ot[Et+2]=qt,qt=qt>>8,Ot[Et+1]=qt,qt=qt>>8,Ot[Et]=qt,Et+8}nt.prototype.writeBigUInt64LE=Tn(function(Mt,Et=0){return Ht(this,Mt,Et,BigInt(0),BigInt("0xffffffffffffffff"))}),nt.prototype.writeBigUInt64BE=Tn(function(Mt,Et=0){return nn(this,Mt,Et,BigInt(0),BigInt("0xffffffffffffffff"))}),nt.prototype.writeIntLE=function(Mt,Et,Ut,Qt){if(Mt=+Mt,Et=Et>>>0,!Qt){const En=Math.pow(2,8*Ut-1);wt(this,Mt,Et,Ut,En-1,-En)}let Wt=0,qt=1,_n=0;for(this[Et]=Mt&255;++Wt<Ut&&(qt*=256);)Mt<0&&_n===0&&this[Et+Wt-1]!==0&&(_n=1),this[Et+Wt]=(Mt/qt>>0)-_n&255;return Et+Ut},nt.prototype.writeIntBE=function(Mt,Et,Ut,Qt){if(Mt=+Mt,Et=Et>>>0,!Qt){const En=Math.pow(2,8*Ut-1);wt(this,Mt,Et,Ut,En-1,-En)}let Wt=Ut-1,qt=1,_n=0;for(this[Et+Wt]=Mt&255;--Wt>=0&&(qt*=256);)Mt<0&&_n===0&&this[Et+Wt+1]!==0&&(_n=1),this[Et+Wt]=(Mt/qt>>0)-_n&255;return Et+Ut},nt.prototype.writeInt8=function(Mt,Et,Ut){return Mt=+Mt,Et=Et>>>0,Ut||wt(this,Mt,Et,1,127,-128),Mt<0&&(Mt=255+Mt+1),this[Et]=Mt&255,Et+1},nt.prototype.writeInt16LE=function(Mt,Et,Ut){return Mt=+Mt,Et=Et>>>0,Ut||wt(this,Mt,Et,2,32767,-32768),this[Et]=Mt&255,this[Et+1]=Mt>>>8,Et+2},nt.prototype.writeInt16BE=function(Mt,Et,Ut){return Mt=+Mt,Et=Et>>>0,Ut||wt(this,Mt,Et,2,32767,-32768),this[Et]=Mt>>>8,this[Et+1]=Mt&255,Et+2},nt.prototype.writeInt32LE=function(Mt,Et,Ut){return Mt=+Mt,Et=Et>>>0,Ut||wt(this,Mt,Et,4,2147483647,-2147483648),this[Et]=Mt&255,this[Et+1]=Mt>>>8,this[Et+2]=Mt>>>16,this[Et+3]=Mt>>>24,Et+4},nt.prototype.writeInt32BE=function(Mt,Et,Ut){return Mt=+Mt,Et=Et>>>0,Ut||wt(this,Mt,Et,4,2147483647,-2147483648),Mt<0&&(Mt=4294967295+Mt+1),this[Et]=Mt>>>24,this[Et+1]=Mt>>>16,this[Et+2]=Mt>>>8,this[Et+3]=Mt&255,Et+4},nt.prototype.writeBigInt64LE=Tn(function(Mt,Et=0){return Ht(this,Mt,Et,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),nt.prototype.writeBigInt64BE=Tn(function(Mt,Et=0){return nn(this,Mt,Et,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Dt(Ot,Mt,Et,Ut,Qt,Wt){if(Et+Ut>Ot.length)throw new RangeError("Index out of range");if(Et<0)throw new RangeError("Index out of range")}function Jt(Ot,Mt,Et,Ut,Qt){return Mt=+Mt,Et=Et>>>0,Qt||Dt(Ot,Mt,Et,4),a.write(Ot,Mt,Et,Ut,23,4),Et+4}nt.prototype.writeFloatLE=function(Mt,Et,Ut){return Jt(this,Mt,Et,!0,Ut)},nt.prototype.writeFloatBE=function(Mt,Et,Ut){return Jt(this,Mt,Et,!1,Ut)};function on(Ot,Mt,Et,Ut,Qt){return Mt=+Mt,Et=Et>>>0,Qt||Dt(Ot,Mt,Et,8),a.write(Ot,Mt,Et,Ut,52,8),Et+8}nt.prototype.writeDoubleLE=function(Mt,Et,Ut){return on(this,Mt,Et,!0,Ut)},nt.prototype.writeDoubleBE=function(Mt,Et,Ut){return on(this,Mt,Et,!1,Ut)},nt.prototype.copy=function(Mt,Et,Ut,Qt){if(!nt.isBuffer(Mt))throw new TypeError("argument should be a Buffer");if(Ut||(Ut=0),!Qt&&Qt!==0&&(Qt=this.length),Et>=Mt.length&&(Et=Mt.length),Et||(Et=0),Qt>0&&Qt<Ut&&(Qt=Ut),Qt===Ut||Mt.length===0||this.length===0)return 0;if(Et<0)throw new RangeError("targetStart out of bounds");if(Ut<0||Ut>=this.length)throw new RangeError("Index out of range");if(Qt<0)throw new RangeError("sourceEnd out of bounds");Qt>this.length&&(Qt=this.length),Mt.length-Et<Qt-Ut&&(Qt=Mt.length-Et+Ut);const Wt=Qt-Ut;return this===Mt&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Et,Ut,Qt):Uint8Array.prototype.set.call(Mt,this.subarray(Ut,Qt),Et),Wt},nt.prototype.fill=function(Mt,Et,Ut,Qt){if(typeof Mt=="string"){if(typeof Et=="string"?(Qt=Et,Et=0,Ut=this.length):typeof Ut=="string"&&(Qt=Ut,Ut=this.length),Qt!==void 0&&typeof Qt!="string")throw new TypeError("encoding must be a string");if(typeof Qt=="string"&&!nt.isEncoding(Qt))throw new TypeError("Unknown encoding: "+Qt);if(Mt.length===1){const qt=Mt.charCodeAt(0);(Qt==="utf8"&&qt<128||Qt==="latin1")&&(Mt=qt)}}else typeof Mt=="number"?Mt=Mt&255:typeof Mt=="boolean"&&(Mt=Number(Mt));if(Et<0||this.length<Et||this.length<Ut)throw new RangeError("Out of range index");if(Ut<=Et)return this;Et=Et>>>0,Ut=Ut===void 0?this.length:Ut>>>0,Mt||(Mt=0);let Wt;if(typeof Mt=="number")for(Wt=Et;Wt<Ut;++Wt)this[Wt]=Mt;else{const qt=nt.isBuffer(Mt)?Mt:nt.from(Mt,Qt),_n=qt.length;if(_n===0)throw new TypeError('The value "'+Mt+'" is invalid for argument "value"');for(Wt=0;Wt<Ut-Et;++Wt)this[Wt+Et]=qt[Wt%_n]}return this};const sn={};function dn(Ot,Mt,Et){sn[Ot]=class extends Et{constructor(){super(),Object.defineProperty(this,"message",{value:Mt.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Ot}]`,this.stack,delete this.name}get code(){return Ot}set code(Qt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Qt,writable:!0})}toString(){return`${this.name} [${Ot}]: ${this.message}`}}}dn("ERR_BUFFER_OUT_OF_BOUNDS",function(Ot){return Ot?`${Ot} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),dn("ERR_INVALID_ARG_TYPE",function(Ot,Mt){return`The "${Ot}" argument must be of type number. Received type ${typeof Mt}`},TypeError),dn("ERR_OUT_OF_RANGE",function(Ot,Mt,Et){let Ut=`The value of "${Ot}" is out of range.`,Qt=Et;return Number.isInteger(Et)&&Math.abs(Et)>2**32?Qt=mn(String(Et)):typeof Et=="bigint"&&(Qt=String(Et),(Et>BigInt(2)**BigInt(32)||Et<-(BigInt(2)**BigInt(32)))&&(Qt=mn(Qt)),Qt+="n"),Ut+=` It must be ${Mt}. Received ${Qt}`,Ut},RangeError);function mn(Ot){let Mt="",Et=Ot.length;const Ut=Ot[0]==="-"?1:0;for(;Et>=Ut+4;Et-=3)Mt=`_${Ot.slice(Et-3,Et)}${Mt}`;return`${Ot.slice(0,Et)}${Mt}`}function ln(Ot,Mt,Et){cn(Mt,"offset"),(Ot[Mt]===void 0||Ot[Mt+Et]===void 0)&&pn(Mt,Ot.length-(Et+1))}function tn(Ot,Mt,Et,Ut,Qt,Wt){if(Ot>Et||Ot<Mt){const qt=typeof Mt=="bigint"?"n":"";let _n;throw Wt>3?Mt===0||Mt===BigInt(0)?_n=`>= 0${qt} and < 2${qt} ** ${(Wt+1)*8}${qt}`:_n=`>= -(2${qt} ** ${(Wt+1)*8-1}${qt}) and < 2 ** ${(Wt+1)*8-1}${qt}`:_n=`>= ${Mt}${qt} and <= ${Et}${qt}`,new sn.ERR_OUT_OF_RANGE("value",_n,Ot)}ln(Ut,Qt,Wt)}function cn(Ot,Mt){if(typeof Ot!="number")throw new sn.ERR_INVALID_ARG_TYPE(Mt,"number",Ot)}function pn(Ot,Mt,Et){throw Math.floor(Ot)!==Ot?(cn(Ot,Et),new sn.ERR_OUT_OF_RANGE(Et||"offset","an integer",Ot)):Mt<0?new sn.ERR_BUFFER_OUT_OF_BOUNDS:new sn.ERR_OUT_OF_RANGE(Et||"offset",`>= ${Et?1:0} and <= ${Mt}`,Ot)}const Mn=/[^+/0-9A-Za-z-_]/g;function In(Ot){if(Ot=Ot.split("=")[0],Ot=Ot.trim().replace(Mn,""),Ot.length<2)return"";for(;Ot.length%4!==0;)Ot=Ot+"=";return Ot}function Rn(Ot,Mt){Mt=Mt||1/0;let Et;const Ut=Ot.length;let Qt=null;const Wt=[];for(let qt=0;qt<Ut;++qt){if(Et=Ot.charCodeAt(qt),Et>55295&&Et<57344){if(!Qt){if(Et>56319){(Mt-=3)>-1&&Wt.push(239,191,189);continue}else if(qt+1===Ut){(Mt-=3)>-1&&Wt.push(239,191,189);continue}Qt=Et;continue}if(Et<56320){(Mt-=3)>-1&&Wt.push(239,191,189),Qt=Et;continue}Et=(Qt-55296<<10|Et-56320)+65536}else Qt&&(Mt-=3)>-1&&Wt.push(239,191,189);if(Qt=null,Et<128){if((Mt-=1)<0)break;Wt.push(Et)}else if(Et<2048){if((Mt-=2)<0)break;Wt.push(Et>>6|192,Et&63|128)}else if(Et<65536){if((Mt-=3)<0)break;Wt.push(Et>>12|224,Et>>6&63|128,Et&63|128)}else if(Et<1114112){if((Mt-=4)<0)break;Wt.push(Et>>18|240,Et>>12&63|128,Et>>6&63|128,Et&63|128)}else throw new Error("Invalid code point")}return Wt}function Ln(Ot){const Mt=[];for(let Et=0;Et<Ot.length;++Et)Mt.push(Ot.charCodeAt(Et)&255);return Mt}function Fn(Ot,Mt){let Et,Ut,Qt;const Wt=[];for(let qt=0;qt<Ot.length&&!((Mt-=2)<0);++qt)Et=Ot.charCodeAt(qt),Ut=Et>>8,Qt=Et%256,Wt.push(Qt),Wt.push(Ut);return Wt}function Un(Ot){return o.toByteArray(In(Ot))}function Nn(Ot,Mt,Et,Ut){let Qt;for(Qt=0;Qt<Ut&&!(Qt+Et>=Mt.length||Qt>=Ot.length);++Qt)Mt[Qt+Et]=Ot[Qt];return Qt}function Xt(Ot,Mt){return Ot instanceof Mt||Ot!=null&&Ot.constructor!=null&&Ot.constructor.name!=null&&Ot.constructor.name===Mt.name}function jt(Ot){return Ot!==Ot}const un=function(){const Ot="0123456789abcdef",Mt=new Array(256);for(let Et=0;Et<16;++Et){const Ut=Et*16;for(let Qt=0;Qt<16;++Qt)Mt[Ut+Qt]=Ot[Et]+Ot[Qt]}return Mt}();function Tn(Ot){return typeof BigInt>"u"?Bn:Ot}function Bn(){throw new Error("BigInt not supported")}})(buffer);const{Buffer}=buffer,symbol=Symbol.for("BufferList");function BufferList($){if(!(this instanceof BufferList))return new BufferList($);BufferList._init.call(this,$)}BufferList._init=function $(o){Object.defineProperty(this,symbol,{value:!0}),this._bufs=[],this.length=0,o&&this.append(o)};BufferList.prototype._new=function $(o){return new BufferList(o)};BufferList.prototype._offset=function $(o){if(o===0)return[0,0];let a=0;for(let j=0;j<this._bufs.length;j++){const _e=a+this._bufs[j].length;if(o<_e||j===this._bufs.length-1)return[j,o-a];a=_e}};BufferList.prototype._reverseOffset=function($){const o=$[0];let a=$[1];for(let j=0;j<o;j++)a+=this._bufs[j].length;return a};BufferList.prototype.get=function $(o){if(o>this.length||o<0)return;const a=this._offset(o);return this._bufs[a[0]][a[1]]};BufferList.prototype.slice=function $(o,a){return typeof o=="number"&&o<0&&(o+=this.length),typeof a=="number"&&a<0&&(a+=this.length),this.copy(null,0,o,a)};BufferList.prototype.copy=function $(o,a,j,_e){if((typeof j!="number"||j<0)&&(j=0),(typeof _e!="number"||_e>this.length)&&(_e=this.length),j>=this.length||_e<=0)return o||Buffer.alloc(0);const et=!!o,tt=this._offset(j),nt=_e-j;let rt=nt,it=et&&a||0,ot=tt[1];if(j===0&&_e===this.length){if(!et)return this._bufs.length===1?this._bufs[0]:Buffer.concat(this._bufs,this.length);for(let at=0;at<this._bufs.length;at++)this._bufs[at].copy(o,it),it+=this._bufs[at].length;return o}if(rt<=this._bufs[tt[0]].length-ot)return et?this._bufs[tt[0]].copy(o,a,ot,ot+rt):this._bufs[tt[0]].slice(ot,ot+rt);et||(o=Buffer.allocUnsafe(nt));for(let at=tt[0];at<this._bufs.length;at++){const ct=this._bufs[at].length-ot;if(rt>ct)this._bufs[at].copy(o,it,ot),it+=ct;else{this._bufs[at].copy(o,it,ot,ot+rt),it+=ct;break}rt-=ct,ot&&(ot=0)}return o.length>it?o.slice(0,it):o};BufferList.prototype.shallowSlice=function $(o,a){if(o=o||0,a=typeof a!="number"?this.length:a,o<0&&(o+=this.length),a<0&&(a+=this.length),o===a)return this._new();const j=this._offset(o),_e=this._offset(a),et=this._bufs.slice(j[0],_e[0]+1);return _e[1]===0?et.pop():et[et.length-1]=et[et.length-1].slice(0,_e[1]),j[1]!==0&&(et[0]=et[0].slice(j[1])),this._new(et)};BufferList.prototype.toString=function $(o,a,j){return this.slice(a,j).toString(o)};BufferList.prototype.consume=function $(o){if(o=Math.trunc(o),Number.isNaN(o)||o<=0)return this;for(;this._bufs.length;)if(o>=this._bufs[0].length)o-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(o),this.length-=o;break}return this};BufferList.prototype.duplicate=function $(){const o=this._new();for(let a=0;a<this._bufs.length;a++)o.append(this._bufs[a]);return o};BufferList.prototype.append=function $(o){if(o==null)return this;if(o.buffer)this._appendBuffer(Buffer.from(o.buffer,o.byteOffset,o.byteLength));else if(Array.isArray(o))for(let a=0;a<o.length;a++)this.append(o[a]);else if(this._isBufferList(o))for(let a=0;a<o._bufs.length;a++)this.append(o._bufs[a]);else typeof o=="number"&&(o=o.toString()),this._appendBuffer(Buffer.from(o));return this};BufferList.prototype._appendBuffer=function $(o){this._bufs.push(o),this.length+=o.length};BufferList.prototype.indexOf=function($,o,a){if(a===void 0&&typeof o=="string"&&(a=o,o=void 0),typeof $=="function"||Array.isArray($))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof $=="number"?$=Buffer.from([$]):typeof $=="string"?$=Buffer.from($,a):this._isBufferList($)?$=$.slice():Array.isArray($.buffer)?$=Buffer.from($.buffer,$.byteOffset,$.byteLength):Buffer.isBuffer($)||($=Buffer.from($)),o=Number(o||0),isNaN(o)&&(o=0),o<0&&(o=this.length+o),o<0&&(o=0),$.length===0)return o>this.length?this.length:o;const j=this._offset(o);let _e=j[0],et=j[1];for(;_e<this._bufs.length;_e++){const tt=this._bufs[_e];for(;et<tt.length;)if(tt.length-et>=$.length){const rt=tt.indexOf($,et);if(rt!==-1)return this._reverseOffset([_e,rt]);et=tt.length-$.length+1}else{const rt=this._reverseOffset([_e,et]);if(this._match(rt,$))return rt;et++}et=0}return-1};BufferList.prototype._match=function($,o){if(this.length-$<o.length)return!1;for(let a=0;a<o.length;a++)if(this.get($+a)!==o[a])return!1;return!0};(function(){const $={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const o in $)(function(a){$[a]===null?BufferList.prototype[a]=function(j,_e){return this.slice(j,j+_e)[a](0,_e)}:BufferList.prototype[a]=function(j=0){return this.slice(j,j+$[a])[a](0)}})(o)})();BufferList.prototype._isBufferList=function $(o){return o instanceof BufferList||BufferList.isBufferList(o)};BufferList.isBufferList=function $(o){return o!=null&&o[symbol]};var BufferList_1=BufferList;let Rabin$1=class{constructor(o,a=12,j=8*1024,_e=32*1024,et=64,tt){this.bits=a,this.min=j,this.max=_e,this.asModule=o,this.rabin=new o.Rabin(a,j,_e,et,tt),this.polynomial=tt}fingerprint(o){const{__retain:a,__release:j,__allocArray:_e,__getInt32Array:et,Int32Array_ID:tt,Uint8Array_ID:nt}=this.asModule,rt=new Int32Array(Math.ceil(o.length/this.min)),it=a(_e(tt,rt)),ot=a(_e(nt,o)),at=this.rabin.fingerprint(ot,it),ct=et(at);j(ot),j(it);const ut=ct.indexOf(0);return ut>=0?ct.subarray(0,ut):ct}};var rabin$1=Rabin$1,loader={};const ID_OFFSET=-8,SIZE_OFFSET=-4,ARRAYBUFFER_ID=0,STRING_ID=1,ARRAYBUFFERVIEW=1<<0,ARRAY=1<<1,VAL_ALIGN_OFFSET=5,VAL_SIGNED=1<<10,VAL_FLOAT=1<<11,VAL_MANAGED=1<<13,ARRAYBUFFERVIEW_BUFFER_OFFSET=0,ARRAYBUFFERVIEW_DATASTART_OFFSET=4,ARRAYBUFFERVIEW_DATALENGTH_OFFSET=8,ARRAYBUFFERVIEW_SIZE=12,ARRAY_LENGTH_OFFSET=12,ARRAY_SIZE=16,BIGINT=typeof BigUint64Array<"u",THIS=Symbol(),CHUNKSIZE=1024;function getStringImpl($,o){const a=new Uint32Array($),j=new Uint16Array($);var _e=a[o+SIZE_OFFSET>>>2]>>>1,et=o>>>1;if(_e<=CHUNKSIZE)return String.fromCharCode.apply(String,j.subarray(et,et+_e));const tt=[];do{const nt=j[et+CHUNKSIZE-1],rt=nt>=55296&&nt<56320?CHUNKSIZE-1:CHUNKSIZE;tt.push(String.fromCharCode.apply(String,j.subarray(et,et+=rt))),_e-=rt}while(_e>CHUNKSIZE);return tt.join("")+String.fromCharCode.apply(String,j.subarray(et,et+_e))}function preInstantiate($){const o={};function a(_e,et){return _e?getStringImpl(_e.buffer,et):"<yet unknown>"}const j=$.env=$.env||{};return j.abort=j.abort||function(et,tt,nt,rt){const it=o.memory||j.memory;throw Error("abort: "+a(it,et)+" at "+a(it,tt)+":"+nt+":"+rt)},j.trace=j.trace||function(et,tt){const nt=o.memory||j.memory;console.log("trace: "+a(nt,et)+(tt?" ":"")+Array.prototype.slice.call(arguments,2,2+tt).join(", "))},$.Math=$.Math||Math,$.Date=$.Date||Date,o}function postInstantiate($,o){const a=o.exports,j=a.memory,_e=a.table,et=a.__alloc,tt=a.__retain,nt=a.__rtti_base||-1;function rt(At){const Tt=new Uint32Array(j.buffer),Pt=Tt[nt>>>2];if((At>>>=0)>=Pt)throw Error("invalid id: "+At);return Tt[(nt+4>>>2)+At*2]}function it(At){const Tt=new Uint32Array(j.buffer),Pt=Tt[nt>>>2];if((At>>>=0)>=Pt)throw Error("invalid id: "+At);return Tt[(nt+4>>>2)+At*2+1]}function ot(At){return 31-Math.clz32(At>>>VAL_ALIGN_OFFSET&31)}function at(At){const Tt=At.length,Pt=et(Tt<<1,STRING_ID),Ct=new Uint16Array(j.buffer);for(var It=0,Vt=Pt>>>1;It<Tt;++It)Ct[Vt+It]=At.charCodeAt(It);return Pt}$.__allocString=at;function ct(At){const Tt=j.buffer;if(new Uint32Array(Tt)[At+ID_OFFSET>>>2]!==STRING_ID)throw Error("not a string: "+At);return getStringImpl(Tt,At)}$.__getString=ct;function ut(At,Tt,Pt){const Ct=j.buffer;if(Pt)switch(At){case 2:return new Float32Array(Ct);case 3:return new Float64Array(Ct)}else switch(At){case 0:return new(Tt?Int8Array:Uint8Array)(Ct);case 1:return new(Tt?Int16Array:Uint16Array)(Ct);case 2:return new(Tt?Int32Array:Uint32Array)(Ct);case 3:return new(Tt?BigInt64Array:BigUint64Array)(Ct)}throw Error("unsupported align: "+At)}function dt(At,Tt){const Pt=rt(At);if(!(Pt&(ARRAYBUFFERVIEW|ARRAY)))throw Error("not an array: "+At+" @ "+Pt);const Ct=ot(Pt),It=Tt.length,Vt=et(It<<Ct,ARRAYBUFFER_ID),Kt=et(Pt&ARRAY?ARRAY_SIZE:ARRAYBUFFERVIEW_SIZE,At),en=new Uint32Array(j.buffer);en[Kt+ARRAYBUFFERVIEW_BUFFER_OFFSET>>>2]=tt(Vt),en[Kt+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2]=Vt,en[Kt+ARRAYBUFFERVIEW_DATALENGTH_OFFSET>>>2]=It<<Ct,Pt&ARRAY&&(en[Kt+ARRAY_LENGTH_OFFSET>>>2]=It);const kt=ut(Ct,Pt&VAL_SIGNED,Pt&VAL_FLOAT);if(Pt&VAL_MANAGED)for(let vt=0;vt<It;++vt)kt[(Vt>>>Ct)+vt]=tt(Tt[vt]);else kt.set(Tt,Vt>>>Ct);return Kt}$.__allocArray=dt;function ft(At){const Tt=new Uint32Array(j.buffer),Pt=Tt[At+ID_OFFSET>>>2],Ct=rt(Pt);if(!(Ct&ARRAYBUFFERVIEW))throw Error("not an array: "+Pt);const It=ot(Ct);var Vt=Tt[At+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2];const Kt=Ct&ARRAY?Tt[At+ARRAY_LENGTH_OFFSET>>>2]:Tt[Vt+SIZE_OFFSET>>>2]>>>It;return ut(It,Ct&VAL_SIGNED,Ct&VAL_FLOAT).subarray(Vt>>>=It,Vt+Kt)}$.__getArrayView=ft;function ht(At){const Tt=ft(At),Pt=Tt.length,Ct=new Array(Pt);for(let It=0;It<Pt;It++)Ct[It]=Tt[It];return Ct}$.__getArray=ht;function pt(At){const Tt=j.buffer,Pt=new Uint32Array(Tt)[At+SIZE_OFFSET>>>2];return Tt.slice(At,At+Pt)}$.__getArrayBuffer=pt;function yt(At,Tt,Pt){return new At(gt(At,Tt,Pt))}function gt(At,Tt,Pt){const Ct=j.buffer,It=new Uint32Array(Ct),Vt=It[Pt+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2];return new At(Ct,Vt,It[Vt+SIZE_OFFSET>>>2]>>>Tt)}$.__getInt8Array=yt.bind(null,Int8Array,0),$.__getInt8ArrayView=gt.bind(null,Int8Array,0),$.__getUint8Array=yt.bind(null,Uint8Array,0),$.__getUint8ArrayView=gt.bind(null,Uint8Array,0),$.__getUint8ClampedArray=yt.bind(null,Uint8ClampedArray,0),$.__getUint8ClampedArrayView=gt.bind(null,Uint8ClampedArray,0),$.__getInt16Array=yt.bind(null,Int16Array,1),$.__getInt16ArrayView=gt.bind(null,Int16Array,1),$.__getUint16Array=yt.bind(null,Uint16Array,1),$.__getUint16ArrayView=gt.bind(null,Uint16Array,1),$.__getInt32Array=yt.bind(null,Int32Array,2),$.__getInt32ArrayView=gt.bind(null,Int32Array,2),$.__getUint32Array=yt.bind(null,Uint32Array,2),$.__getUint32ArrayView=gt.bind(null,Uint32Array,2),BIGINT&&($.__getInt64Array=yt.bind(null,BigInt64Array,3),$.__getInt64ArrayView=gt.bind(null,BigInt64Array,3),$.__getUint64Array=yt.bind(null,BigUint64Array,3),$.__getUint64ArrayView=gt.bind(null,BigUint64Array,3)),$.__getFloat32Array=yt.bind(null,Float32Array,2),$.__getFloat32ArrayView=gt.bind(null,Float32Array,2),$.__getFloat64Array=yt.bind(null,Float64Array,3),$.__getFloat64ArrayView=gt.bind(null,Float64Array,3);function bt(At,Tt){const Pt=new Uint32Array(j.buffer);var Ct=Pt[At+ID_OFFSET>>>2];if(Ct<=Pt[nt>>>2])do if(Ct==Tt)return!0;while(Ct=it(Ct));return!1}return $.__instanceof=bt,$.memory=$.memory||j,$.table=$.table||_e,demangle(a,$)}function isResponse($){return typeof Response<"u"&&$ instanceof Response}async function instantiate$1($,o){return isResponse($=await $)?instantiateStreaming($,o):postInstantiate(preInstantiate(o||(o={})),await WebAssembly.instantiate($ instanceof WebAssembly.Module?$:await WebAssembly.compile($),o))}loader.instantiate=instantiate$1;function instantiateSync($,o){return postInstantiate(preInstantiate(o||(o={})),new WebAssembly.Instance($ instanceof WebAssembly.Module?$:new WebAssembly.Module($),o))}loader.instantiateSync=instantiateSync;async function instantiateStreaming($,o){return WebAssembly.instantiateStreaming?postInstantiate(preInstantiate(o||(o={})),(await WebAssembly.instantiateStreaming($,o)).instance):instantiate$1(isResponse($=await $)?$.arrayBuffer():$,o)}loader.instantiateStreaming=instantiateStreaming;function demangle($,o){var a=o?Object.create(o):{},j=$.__argumentsLength?function(_e){$.__argumentsLength.value=_e}:$.__setArgumentsLength||$.__setargc||function(){};for(let _e in $){if(!Object.prototype.hasOwnProperty.call($,_e))continue;const et=$[_e];let tt=_e.split("."),nt=a;for(;tt.length>1;){let ot=tt.shift();Object.prototype.hasOwnProperty.call(nt,ot)||(nt[ot]={}),nt=nt[ot]}let rt=tt[0],it=rt.indexOf("#");if(it>=0){let ot=rt.substring(0,it),at=nt[ot];if(typeof at>"u"||!at.prototype){let ct=function(...ut){return ct.wrap(ct.prototype.constructor(0,...ut))};ct.prototype={valueOf:function(){return this[THIS]}},ct.wrap=function(ut){return Object.create(ct.prototype,{[THIS]:{value:ut,writable:!1}})},at&&Object.getOwnPropertyNames(at).forEach(ut=>Object.defineProperty(ct,ut,Object.getOwnPropertyDescriptor(at,ut))),nt[ot]=ct}if(rt=rt.substring(it+1),nt=nt[ot].prototype,/^(get|set):/.test(rt)){if(!Object.prototype.hasOwnProperty.call(nt,rt=rt.substring(4))){let ct=$[_e.replace("set:","get:")],ut=$[_e.replace("get:","set:")];Object.defineProperty(nt,rt,{get:function(){return ct(this[THIS])},set:function(dt){ut(this[THIS],dt)},enumerable:!0})}}else rt==="constructor"?(nt[rt]=(...ct)=>(j(ct.length),et(...ct))).original=et:(nt[rt]=function(...ct){return j(ct.length),et(this[THIS],...ct)}).original=et}else/^(get|set):/.test(rt)?Object.prototype.hasOwnProperty.call(nt,rt=rt.substring(4))||Object.defineProperty(nt,rt,{get:$[_e.replace("set:","get:")],set:$[_e.replace("get:","set:")],enumerable:!0}):typeof et=="function"&&et!==j?(nt[rt]=(...ot)=>(j(ot.length),et(...ot))).original=et:nt[rt]=et}return a}loader.demangle=demangle;const{instantiate}=loader;loadWebAssembly.supported=typeof WebAssembly<"u";function loadWebAssembly($={}){if(!loadWebAssembly.supported)return null;var o=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return instantiate(new Response(new Blob([o],{type:"application/wasm"})),$)}var rabinWasm=loadWebAssembly;const Rabin=rabin$1,getRabin=rabinWasm,create$1=async($,o,a,j,_e)=>{const et=await getRabin();return new Rabin(et,$,o,a,j,_e)};var src$1={Rabin,create:create$1};async function*rabinChunker($,o){let a,j,_e;if(o.minChunkSize&&o.maxChunkSize&&o.avgChunkSize)_e=o.avgChunkSize,a=o.minChunkSize,j=o.maxChunkSize;else if(o.avgChunkSize)_e=o.avgChunkSize,a=_e/3,j=_e+_e/2;else throw errCode(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");if(a<16)throw errCode(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");j<a&&(j=a),_e<a&&(_e=a);const et=Math.floor(Math.log2(_e));for await(const tt of rabin($,{min:a,max:j,bits:et,window:o.window,polynomial:o.polynomial}))yield tt}async function*rabin($,o){const a=await src$1.create(o.bits,o.min,o.max,o.window),j=new BufferList_1;for await(const _e of $){j.append(_e);const et=a.fingerprint(_e);for(let tt=0;tt<et.length;tt++){const nt=et[tt],rt=j.slice(0,nt);j.consume(nt),yield rt}}j.length&&(yield j.slice(0))}async function*fixedSizeChunker($,o){let a=new BufferList_1,j=0,_e=!1;const et=o.maxChunkSize;for await(const tt of $)for(a.append(tt),j+=tt.length;j>=et;)if(yield a.slice(0,et),_e=!0,et===a.length)a=new BufferList_1,j=0;else{const nt=new BufferList_1;nt.append(a.shallowSlice(et)),a=nt,j-=et}(!_e||j)&&(yield a.slice(0,j))}const identity$1=from$1({prefix:"\0",name:"identity",encode:$=>toString$1($),decode:$=>fromString$3($)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$1},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),alphabetBytesToChars=alphabet.reduce(($,o,a)=>($[a]=o,$),[]),alphabetCharsToBytes=alphabet.reduce(($,o,a)=>($[o.codePointAt(0)]=a,$),[]);function encode$2($){return $.reduce((o,a)=>(o+=alphabetBytesToChars[a],o),"")}function decode$2($){const o=[];for(const a of $){const j=alphabetCharsToBytes[a.codePointAt(0)];if(j===void 0)throw new Error(`Non-base256emoji character: ${a}`);o.push(j)}return new Uint8Array(o)}const base256emoji=from$1({prefix:"🚀",name:"base256emoji",encode:encode$2,decode:decode$2}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"})),code$2=0,name$1="identity",encode$1=coerce,digest=$=>create$5(code$2,encode$1($)),identity={code:code$2,name:name$1,encode:encode$1,digest};new TextEncoder;new TextDecoder;const bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$1,...base256emoji$1};function asUint8Array($){return globalThis.Buffer!=null?new Uint8Array($.buffer,$.byteOffset,$.byteLength):$}function allocUnsafe($=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array(globalThis.Buffer.allocUnsafe($)):new Uint8Array($)}function createCodec($,o,a,j){return{name:$,prefix:o,encoder:{name:$,prefix:o,encode:a},decoder:{decode:j}}}const string=createCodec("utf8","u",$=>"u"+new TextDecoder("utf8").decode($),$=>new TextEncoder().encode($.substring(1))),ascii=createCodec("ascii","a",$=>{let o="a";for(let a=0;a<$.length;a++)o+=String.fromCharCode($[a]);return o},$=>{$=$.substring(1);const o=allocUnsafe($.length);for(let a=0;a<$.length;a++)o[a]=$.charCodeAt(a);return o}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function fromString($,o="utf8"){const a=BASES[o];if(!a)throw new Error(`Unsupported encoding "${o}"`);return(o==="utf8"||o==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array(globalThis.Buffer.from($,"utf-8")):a.decoder.decode(`${a.prefix}${$}`)}const fromString$1=Object.freeze(Object.defineProperty({__proto__:null,fromString},Symbol.toStringTag,{value:"Module"}));async function*validateChunks($){for await(const o of $){if(o.length===void 0)throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if(typeof o=="string"||o instanceof String)yield fromString(o.toString());else if(Array.isArray(o))yield Uint8Array.from(o);else if(o instanceof Uint8Array)yield o;else throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}}function isIterable($){return Symbol.iterator in $}function isAsyncIterable($){return Symbol.asyncIterator in $}function contentAsAsyncIterable($){try{if($ instanceof Uint8Array)return async function*(){yield $}();if(isIterable($))return async function*(){yield*$}();if(isAsyncIterable($))return $}catch{throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}async function*dagBuilder($,o,a){for await(const j of $)if(j.path&&(j.path.substring(0,2)==="./"&&(a.wrapWithDirectory=!0),j.path=j.path.split("/").filter(_e=>_e&&_e!==".").join("/")),j.content){let _e;typeof a.chunker=="function"?_e=a.chunker:a.chunker==="rabin"?_e=rabinChunker:_e=fixedSizeChunker;let et;typeof a.chunkValidator=="function"?et=a.chunkValidator:et=validateChunks;const tt={path:j.path,mtime:j.mtime,mode:j.mode,content:_e(et(contentAsAsyncIterable(j.content),a),a)};yield()=>fileBuilder(tt,o,a)}else if(j.path){const _e={path:j.path,mtime:j.mtime,mode:j.mode};yield()=>dirBuilder(_e,o,a)}else throw new Error("Import candidate must have content or path or both")}class Dir{constructor(o,a){this.options=a||{},this.root=o.root,this.dir=o.dir,this.path=o.path,this.dirty=o.dirty,this.flat=o.flat,this.parent=o.parent,this.parentKey=o.parentKey,this.unixfs=o.unixfs,this.mode=o.mode,this.mtime=o.mtime,this.cid=void 0,this.size=void 0}async put(o,a){}get(o){return Promise.resolve(this)}async*eachChildSeries(){}async*flush(o){}}class DirFlat extends Dir{constructor(o,a){super(o,a),this._children={}}async put(o,a){this.cid=void 0,this.size=void 0,this._children[o]=a}get(o){return Promise.resolve(this._children[o])}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}async*eachChildSeries(){const o=Object.keys(this._children);for(let a=0;a<o.length;a++){const j=o[a];yield{key:j,child:this._children[j]}}}async*flush(o){const a=Object.keys(this._children),j=[];for(let it=0;it<a.length;it++){let ot=this._children[a[it]];if(ot instanceof Dir)for await(const at of ot.flush(o))ot=at,yield ot;ot.size!=null&&ot.cid&&j.push({Name:a[it],Tsize:ot.size,Hash:ot.cid})}const _e=new UnixFS({type:"directory",mtime:this.mtime,mode:this.mode}),et={Data:_e.marshal(),Links:j},tt=encode$4(prepare$1(et)),nt=await persist(tt,o,this.options),rt=tt.length+et.Links.reduce((it,ot)=>it+(ot.Tsize==null?0:ot.Tsize),0);this.cid=nt,this.size=rt,yield{cid:nt,unixfs:_e,path:this.path,size:rt}}}const BITS_PER_BYTE=7;var sparseArray=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(o,a){let j=this._internalPositionFor(o,!1);if(a===void 0)j!==-1&&(this._unsetInternalPos(j),this._unsetBit(o),this._changedLength=!0,this._changedData=!0);else{let _e=!1;j===-1?(j=this._data.length,this._setBit(o),this._changedData=!0):_e=!0,this._setInternalPos(j,o,a,_e),this._changedLength=!0}}unset(o){this.set(o,void 0)}get(o){this._sortData();const a=this._internalPositionFor(o,!0);if(a!==-1)return this._data[a][1]}push(o){return this.set(this.length,o),this.length}get length(){if(this._sortData(),this._changedLength){const o=this._data[this._data.length-1];this._length=o?o[0]+1:0,this._changedLength=!1}return this._length}forEach(o){let a=0;for(;a<this.length;)o(this.get(a),a,this),a++}map(o){let a=0,j=new Array(this.length);for(;a<this.length;)j[a]=o(this.get(a),a,this),a++;return j}reduce(o,a){let j=0,_e=a;for(;j<this.length;){const et=this.get(j);_e=o(_e,et,j),j++}return _e}find(o){let a=0,j,_e;for(;a<this.length&&!j;)_e=this.get(a),j=o(_e),a++;return j?_e:void 0}_internalPositionFor(o,a){const j=this._bytePosFor(o,a);if(j>=this._bitArrays.length)return-1;const _e=this._bitArrays[j],et=o-j*BITS_PER_BYTE;if(!((_e&1<<et)>0))return-1;const nt=this._bitArrays.slice(0,j).reduce(popCountReduce,0),rt=~(4294967295<<et+1),it=popCount(_e&rt);return nt+it-1}_bytePosFor(o,a){const j=Math.floor(o/BITS_PER_BYTE),_e=j+1;for(;!a&&this._bitArrays.length<_e;)this._bitArrays.push(0);return j}_setBit(o){const a=this._bytePosFor(o,!1);this._bitArrays[a]|=1<<o-a*BITS_PER_BYTE}_unsetBit(o){const a=this._bytePosFor(o,!1);this._bitArrays[a]&=~(1<<o-a*BITS_PER_BYTE)}_setInternalPos(o,a,j,_e){const et=this._data,tt=[a,j];if(_e)this._sortData(),et[o]=tt;else{if(et.length)if(et[et.length-1][0]>=a)et.push(tt);else if(et[0][0]<=a)et.unshift(tt);else{const nt=Math.round(et.length/2);this._data=et.slice(0,nt).concat(tt).concat(et.slice(nt))}else this._data.push(tt);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(o){this._data.splice(o,1)}_sortData(){this._changedData&&this._data.sort(sortInternal),this._changedData=!1}bitField(){const o=[];let a=8,j=0,_e=0,et;const tt=this._bitArrays.slice();for(;tt.length||j;){j===0&&(et=tt.shift(),j=7);const rt=Math.min(j,a),it=~(255<<rt),ot=et&it;_e|=ot<<8-a,et=et>>>rt,j-=rt,a-=rt,(!a||!j&&!tt.length)&&(o.push(_e),_e=0,a=8)}for(var nt=o.length-1;nt>0&&o[nt]===0;nt--)o.pop();return o}compactArray(){return this._sortData(),this._data.map(valueOnly)}};function popCountReduce($,o){return $+popCount(o)}function popCount($){let o=$;return o=o-(o>>1&1431655765),o=(o&858993459)+(o>>2&858993459),(o+(o>>4)&252645135)*16843009>>24}function sortInternal($,o){return $[0]-o[0]}function valueOnly($){return $[1]}const require$$1$1=getAugmentedNamespace(fromString$1),SparseArray=sparseArray,{fromString:uint8ArrayFromString}=require$$1$1;let Bucket$1=class Ho{constructor(o,a,j=0){this._options=o,this._popCount=0,this._parent=a,this._posAtParent=j,this._children=new SparseArray,this.key=null}async put(o,a){const j=await this._findNewBucketAndPos(o);await j.bucket._putAt(j,o,a)}async get(o){const a=await this._findChild(o);if(a)return a.value}async del(o){const a=await this._findPlace(o),j=a.bucket._at(a.pos);j&&j.key===o&&a.bucket._delAt(a.pos)}leafCount(){return this._children.compactArray().reduce((a,j)=>j instanceof Ho?a+j.leafCount():a+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const o=this._children.compactArray();for(const a of o)a instanceof Ho?yield*a.eachLeafSeries():yield a;return[]}serialize(o,a){const j=[];return a(this._children.reduce((_e,et,tt)=>(et&&(et instanceof Ho?_e.push(et.serialize(o,a)):_e.push(o(et,tt))),_e),j))}asyncTransform(o,a){return asyncTransformBucket(this,o,a)}toJSON(){return this.serialize(mapNode,reduceNodes)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(o){const a=await this._findPlace(o),j=a.bucket._at(a.pos);if(!(j instanceof Ho)&&j&&j.key===o)return j}async _findPlace(o){const a=this._options.hash(typeof o=="string"?uint8ArrayFromString(o):o),j=await a.take(this._options.bits),_e=this._children.get(j);return _e instanceof Ho?_e._findPlace(a):{bucket:this,pos:j,hash:a,existingChild:_e}}async _findNewBucketAndPos(o){const a=await this._findPlace(o);if(a.existingChild&&a.existingChild.key!==o){const j=new Ho(this._options,a.bucket,a.pos);a.bucket._putObjectAt(a.pos,j);const _e=await j._findPlace(a.existingChild.hash);return _e.bucket._putAt(_e,a.existingChild.key,a.existingChild.value),j._findNewBucketAndPos(a.hash)}return a}_putAt(o,a,j){this._putObjectAt(o.pos,{key:a,value:j,hash:o.hash})}_putObjectAt(o,a){this._children.get(o)||this._popCount++,this._children.set(o,a)}_delAt(o){if(o===-1)throw new Error("Invalid position");this._children.get(o)&&this._popCount--,this._children.unset(o),this._level()}_level(){if(this._parent&&this._popCount<=1)if(this._popCount===1){const o=this._children.find(exists);if(o&&!(o instanceof Ho)){const a=o.hash;a.untake(this._options.bits);const j={pos:this._posAtParent,hash:a,bucket:this._parent};this._parent._putAt(j,o.key,o.value)}}else this._parent._delAt(this._posAtParent)}_at(o){return this._children.get(o)}};function exists($){return!!$}function mapNode($,o){return $.key}function reduceNodes($){return $}async function asyncTransformBucket($,o,a){const j=[];for(const _e of $._children.compactArray())if(_e instanceof Bucket$1)await asyncTransformBucket(_e,o,a);else{const et=await o(_e);j.push({bitField:$._children.bitField(),children:et})}return a(j)}var bucket=Bucket$1,consumableHashExports={},consumableHash={get exports(){return consumableHashExports},set exports($){consumableHashExports=$}};const START_MASKS=[255,254,252,248,240,224,192,128],STOP_MASKS=[1,3,7,15,31,63,127,255];var consumableBuffer=class{constructor(o){this._value=o,this._currentBytePos=o.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(o){let a=o,j=0;for(;a&&this._haveBits();){const _e=this._value[this._currentBytePos],et=this._currentBitPos+1,tt=Math.min(et,a),nt=byteBitsToInt(_e,et-tt,tt);j=(j<<tt)+nt,a-=tt,this._currentBitPos-=tt,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return j}untake(o){for(this._currentBitPos+=o;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function byteBitsToInt($,o,a){const j=maskFor(o,a);return($&j)>>>o}function maskFor($,o){return START_MASKS[$]&STOP_MASKS[Math.min(o+$-1,7)]}function concat($,o){o||(o=$.reduce((_e,et)=>_e+et.length,0));const a=allocUnsafe(o);let j=0;for(const _e of $)a.set(_e,j),j+=_e.length;return asUint8Array(a)}const concat$1=Object.freeze(Object.defineProperty({__proto__:null,concat},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(concat$1),ConsumableBuffer=consumableBuffer,{concat:uint8ArrayConcat}=require$$1;function wrapHash$1($){function o(a){return a instanceof InfiniteHash?a:new InfiniteHash(a,$)}return o}class InfiniteHash{constructor(o,a){if(!(o instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=o,this._hashFn=a,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(o){let a=o;for(;this._availableBits<a;)await this._produceMoreBits();let j=0;for(;a>0;){const _e=this._buffers[this._currentBufferIndex],et=Math.min(_e.availableBits(),a),tt=_e.take(et);j=(j<<et)+tt,a-=et,this._availableBits-=et,_e.availableBits()===0&&this._currentBufferIndex++}return j}untake(o){let a=o;for(;a>0;){const j=this._buffers[this._currentBufferIndex],_e=Math.min(j.totalBits()-j.availableBits(),a);j.untake(_e),a-=_e,this._availableBits+=_e,this._currentBufferIndex>0&&j.totalBits()===j.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const o=this._depth?uint8ArrayConcat([this._value,Uint8Array.from([this._depth])]):this._value,a=await this._hashFn(o),j=new ConsumableBuffer(a);this._buffers.push(j),this._availableBits+=j.availableBits()}}consumableHash.exports=wrapHash$1;consumableHashExports.InfiniteHash=InfiniteHash;const Bucket=bucket,wrapHash=consumableHashExports;function createHAMT($){if(!$||!$.hashFn)throw new Error("please define an options.hashFn");const o={bits:$.bits||8,hash:wrapHash($.hashFn)};return new Bucket(o)}var src={createHAMT,Bucket};class DirSharded extends Dir{constructor(o,a){super(o,a),this._bucket=src.createHAMT({hashFn:a.hamtHashFn,bits:a.hamtBucketBits})}async put(o,a){await this._bucket.put(o,a)}get(o){return this._bucket.get(o)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:o,value:a}of this._bucket.eachLeafSeries())yield{key:o,child:a}}async*flush(o){for await(const a of flush(this._bucket,o,this,this.options))yield{...a,path:this.path}}}async function*flush($,o,a,j){const _e=$._children,et=[];let tt=0;for(let ut=0;ut<_e.length;ut++){const dt=_e.get(ut);if(!dt)continue;const ft=ut.toString(16).toUpperCase().padStart(2,"0");if(dt instanceof src.Bucket){let ht;for await(const pt of await flush(dt,o,null,j))ht=pt;if(!ht)throw new Error("Could not flush sharded directory, no subshard found");et.push({Name:ft,Tsize:ht.size,Hash:ht.cid}),tt+=ht.size}else if(typeof dt.value.flush=="function"){const ht=dt.value;let pt;for await(const gt of ht.flush(o))pt=gt,yield pt;const yt=ft+dt.key;et.push({Name:yt,Tsize:pt.size,Hash:pt.cid}),tt+=pt.size}else{const ht=dt.value;if(!ht.cid)continue;const pt=ft+dt.key,yt=ht.size;et.push({Name:pt,Tsize:yt,Hash:ht.cid}),tt+=yt}}const nt=Uint8Array.from(_e.bitField().reverse()),rt=new UnixFS({type:"hamt-sharded-directory",data:nt,fanout:$.tableSize(),hashType:j.hamtHashCode,mtime:a&&a.mtime,mode:a&&a.mode}),it={Data:rt.marshal(),Links:et},ot=encode$4(prepare$1(it)),at=await persist(ot,o,j),ct=ot.length+tt;yield{cid:at,unixfs:rt,size:ct}}async function flatToShard($,o,a,j){let _e=o;o instanceof DirFlat&&o.directChildrenCount()>=a&&(_e=await convertToShard(o,j));const et=_e.parent;if(et){if(_e!==o){if($&&($.parent=_e),!_e.parentKey)throw new Error("No parent key found");await et.put(_e.parentKey,_e)}return flatToShard(_e,et,a,j)}return _e}async function convertToShard($,o){const a=new DirSharded({root:$.root,dir:!0,parent:$.parent,parentKey:$.parentKey,path:$.path,dirty:$.dirty,flat:!1,mtime:$.mtime,mode:$.mode},o);for await(const{key:j,child:_e}of $.eachChildSeries())await a.put(j,_e);return a}const toPathComponents$1=($="")=>($.trim().match(/([^\\/]|\\\/)+/g)||[]).filter(Boolean);async function addToTree($,o,a){const j=toPathComponents$1($.path||""),_e=j.length-1;let et=o,tt="";for(let nt=0;nt<j.length;nt++){const rt=j[nt];tt+=`${tt?"/":""}${rt}`;const it=nt===_e;if(et.dirty=!0,et.cid=void 0,et.size=void 0,it)await et.put(rt,$),o=await flatToShard(null,et,a.shardSplitThreshold,a);else{let ot=await et.get(rt);(!ot||!(ot instanceof Dir))&&(ot=new DirFlat({root:!1,dir:!0,parent:et,parentKey:rt,path:tt,dirty:!0,flat:!0,mtime:ot&&ot.unixfs&&ot.unixfs.mtime,mode:ot&&ot.unixfs&&ot.unixfs.mode},a)),await et.put(rt,ot),et=ot}}return o}async function*flushAndYield($,o){if(!($ instanceof Dir)){$&&$.unixfs&&$.unixfs.isDirectory()&&(yield $);return}yield*$.flush(o)}async function*treeBuilder($,o,a){let j=new DirFlat({root:!0,dir:!0,path:"",dirty:!0,flat:!0},a);for await(const _e of $)_e&&(j=await addToTree(_e,j,a),(!_e.unixfs||!_e.unixfs.isDirectory())&&(yield _e));if(a.wrapWithDirectory)yield*flushAndYield(j,o);else for await(const _e of j.eachChildSeries())_e&&(yield*flushAndYield(_e.child,o))}async function*importer($,o,a={}){const j=defaultOptions$1(a);let _e;typeof a.dagBuilder=="function"?_e=a.dagBuilder:_e=dagBuilder;let et;typeof a.treeBuilder=="function"?et=a.treeBuilder:et=treeBuilder;let tt;Symbol.asyncIterator in $||Symbol.iterator in $?tt=$:tt=[$];for await(const nt of et(itParallelBatch(_e(tt,o,j),j.fileImportConcurrency),o,j))yield{cid:nt.cid,path:nt.path,unixfs:nt.unixfs,size:nt.size}}async function*browserReadableStreamToIt$1($,o={}){const a=$.getReader();try{for(;;){const j=await a.read();if(j.done)return;yield j.value}}finally{o.preventCancel!==!0&&a.cancel(),a.releaseLock()}}var browserReadablestreamToIt=browserReadableStreamToIt$1;const browserReadableStreamToIt=browserReadablestreamToIt;function blobToIt($){return typeof $.stream=="function"?browserReadableStreamToIt($.stream()):browserReadableStreamToIt(new Response($).body)}var blobToIt_1=blobToIt;function peekableIterator($){const[o,a]=$[Symbol.asyncIterator]?[$[Symbol.asyncIterator](),Symbol.asyncIterator]:[$[Symbol.iterator](),Symbol.iterator],j=[];return{peek:()=>o.next(),push:_e=>{j.push(_e)},next:()=>j.length?{done:!1,value:j.shift()}:o.next(),[a](){return this}}}var itPeekable=peekableIterator;const map=async function*($,o){for await(const a of $)yield o(a)};var itMap=map;function isBytes$1($){return ArrayBuffer.isView($)||$ instanceof ArrayBuffer}function isBlob$1($){return $.constructor&&($.constructor.name==="Blob"||$.constructor.name==="File")&&typeof $.stream=="function"}function isFileObject($){return typeof $=="object"&&($.path||$.content)}const isReadableStream=$=>$&&typeof $.getReader=="function";async function*toAsyncIterable($){yield $}async function normaliseContent($){if(isBytes$1($))return toAsyncIterable(toBytes($));if(typeof $=="string"||$ instanceof String)return toAsyncIterable(toBytes($.toString()));if(isBlob$1($))return blobToIt_1($);if(isReadableStream($)&&($=browserReadablestreamToIt($)),Symbol.iterator in $||Symbol.asyncIterator in $){const o=itPeekable($),{value:a,done:j}=await o.peek();if(j)return toAsyncIterable(new Uint8Array(0));if(o.push(a),Number.isInteger(a))return toAsyncIterable(Uint8Array.from(await itAll(o)));if(isBytes$1(a)||typeof a=="string"||a instanceof String)return itMap(o,toBytes)}throw errCode(new Error(`Unexpected input: ${$}`),"ERR_UNEXPECTED_INPUT")}function toBytes($){return $ instanceof Uint8Array?$:ArrayBuffer.isView($)?new Uint8Array($.buffer,$.byteOffset,$.byteLength):$ instanceof ArrayBuffer?new Uint8Array($):Array.isArray($)?Uint8Array.from($):fromString($.toString())}async function*normaliseCandidateSingle($,o){if($==null)throw errCode(new Error(`Unexpected input: ${$}`),"ERR_UNEXPECTED_INPUT");if(typeof $=="string"||$ instanceof String){yield toFileObject$1($.toString(),o);return}if(isBytes$1($)||isBlob$1($)){yield toFileObject$1($,o);return}if(isReadableStream($)&&($=browserReadablestreamToIt($)),Symbol.iterator in $||Symbol.asyncIterator in $){const a=itPeekable($),{value:j,done:_e}=await a.peek();if(_e){yield{content:[]};return}if(a.push(j),Number.isInteger(j)||isBytes$1(j)||typeof j=="string"||j instanceof String){yield toFileObject$1(a,o);return}throw errCode(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(isFileObject($)){yield toFileObject$1($,o);return}throw errCode(new Error('Unexpected input: cannot convert "'+typeof $+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function toFileObject$1($,o){const{path:a,mode:j,mtime:_e,content:et}=$,tt={path:a||"",mode:parseMode(j),mtime:parseMtime(_e)};return et?tt.content=await o(et):a||(tt.content=await o($)),tt}function normaliseInput$1($){return normaliseCandidateSingle($,normaliseContent)}async function*normaliseCandidateMultiple($,o){if(typeof $=="string"||$ instanceof String||isBytes$1($)||isBlob$1($)||$._readableState)throw errCode(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(isReadableStream($)&&($=browserReadablestreamToIt($)),Symbol.iterator in $||Symbol.asyncIterator in $){const a=itPeekable($),{value:j,done:_e}=await a.peek();if(_e){yield*[];return}if(a.push(j),Number.isInteger(j))throw errCode(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(j._readableState){yield*itMap(a,et=>toFileObject({content:et},o));return}if(isBytes$1(j)){yield toFileObject({content:a},o);return}if(isFileObject(j)||j[Symbol.iterator]||j[Symbol.asyncIterator]||isReadableStream(j)||isBlob$1(j)){yield*itMap(a,et=>toFileObject(et,o));return}}throw isFileObject($)?errCode(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT"):errCode(new Error("Unexpected input: "+typeof $),"ERR_UNEXPECTED_INPUT")}async function toFileObject($,o){const{path:a,mode:j,mtime:_e,content:et}=$,tt={path:a||"",mode:parseMode(j),mtime:parseMtime(_e)};return et?tt.content=await o(et):a||(tt.content=await o($)),tt}function normaliseInput($){return normaliseCandidateMultiple($,normaliseContent)}function isBytes($){return ArrayBuffer.isView($)||$ instanceof ArrayBuffer}function isBlob($){return!!$.constructor&&($.constructor.name==="Blob"||$.constructor.name==="File")&&typeof $.stream=="function"}function isSingle($){return typeof $=="string"||$ instanceof String||isBytes($)||isBlob($)||"_readableState"in $}function getNormaliser($){return isSingle($)?normaliseInput$1($):normaliseInput($)}const drain=async $=>{for await(const o of $);};var itDrain=drain;const filter=async function*($,o){for await(const a of $)await o(a)&&(yield a)};var itFilter=filter;const take=async function*($,o){let a=0;if(!(o<1)){for await(const j of $)if(yield j,a++,a===o)return}};var itTake=take;const sortAll=($,o)=>async function*(){yield*(await itAll($)).sort(o)}();class BaseBlockstore{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(o,a,j){return Promise.reject(new Error(".put is not implemented"))}get(o,a){return Promise.reject(new Error(".get is not implemented"))}has(o,a){return Promise.reject(new Error(".has is not implemented"))}delete(o,a){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(o,a={}){for await(const{key:j,value:_e}of o)await this.put(j,_e,a),yield{key:j,value:_e}}async*getMany(o,a={}){for await(const j of o)yield this.get(j,a)}async*deleteMany(o,a={}){for await(const j of o)await this.delete(j,a),yield j}batch(){let o=[],a=[];return{put(j,_e){o.push({key:j,value:_e})},delete(j){a.push(j)},commit:async j=>{await itDrain(this.putMany(o,j)),o=[],await itDrain(this.deleteMany(a,j)),a=[]}}}async*_all(o,a){throw new Error("._all is not implemented")}async*_allKeys(o,a){throw new Error("._allKeys is not implemented")}query(o,a){let j=this._all(o,a);if(o.prefix!=null&&(j=itFilter(j,_e=>_e.key.toString().startsWith(o.prefix||""))),Array.isArray(o.filters)&&(j=o.filters.reduce((_e,et)=>itFilter(_e,et),j)),Array.isArray(o.orders)&&(j=o.orders.reduce((_e,et)=>sortAll(_e,et),j)),o.offset!=null){let _e=0;j=itFilter(j,()=>_e++>=(o.offset||0))}return o.limit!=null&&(j=itTake(j,o.limit)),j}queryKeys(o,a){let j=this._allKeys(o,a);if(o.prefix!=null&&(j=itFilter(j,_e=>_e.toString().startsWith(o.prefix||""))),Array.isArray(o.filters)&&(j=o.filters.reduce((_e,et)=>itFilter(_e,et),j)),Array.isArray(o.orders)&&(j=o.orders.reduce((_e,et)=>sortAll(_e,et),j)),o.offset!=null){let _e=0;j=itFilter(j,()=>_e++>=o.offset)}return o.limit!=null&&(j=itTake(j,o.limit)),j}}class MemoryBlockStore extends BaseBlockstore{constructor(){super(),this.store=new Map}async*blocks(){for(const[o,a]of this.store.entries())yield{cid:CID.parse(o),bytes:a}}put(o,a){return this.store.set(o.toString(),a),Promise.resolve()}get(o){const a=this.store.get(o.toString());if(!a)throw new Error(`block with cid ${o.toString()} no found`);return Promise.resolve(a)}has(o){return Promise.resolve(this.store.has(o.toString()))}close(){return this.store.clear(),Promise.resolve()}}const unixfsImporterOptionsDefault={cidVersion:1,chunker:"fixed",maxChunkSize:262144,hasher:sha256,rawLeaves:!0,wrapWithDirectory:!0,maxChildrenPerNode:174};async function pack({input:$,blockstore:o,hasher:a,maxChunkSize:j,maxChildrenPerNode:_e,wrapWithDirectory:et,rawLeaves:tt}){if(!$||Array.isArray($)&&!$.length)throw new Error("missing input file(s)");const nt=o||new MemoryBlockStore,rt=await itLast(itPipeExports(getNormaliser($),ht=>importer(ht,nt,{...unixfsImporterOptionsDefault,hasher:a||unixfsImporterOptionsDefault.hasher,maxChunkSize:j||unixfsImporterOptionsDefault.maxChunkSize,maxChildrenPerNode:_e||unixfsImporterOptionsDefault.maxChildrenPerNode,wrapWithDirectory:et===!1?!1:unixfsImporterOptionsDefault.wrapWithDirectory,rawLeaves:tt??unixfsImporterOptionsDefault.rawLeaves})));if(!rt||!rt.cid)throw new Error("given input could not be parsed correctly");const it=rt.cid,{writer:ot,out:at}=await CarWriter.create([it]),ct=at[Symbol.asyncIterator]();let ut;const dt=async()=>{for await(const ht of nt.blocks())await ot.put(ht);await ot.close(),o||await nt.close()},ft={[Symbol.asyncIterator](){if(ut!=null)throw new Error("Multiple iterator not supported");return ut=dt(),{async next(){const ht=await ct.next();return ht.done&&await ut,ht}}}};return{root:it,out:ft}}const MAX_HEADER_LENGTH=2e3,THROW_ON_MAX_HEADER_LENGTH_EXCEEDED=!1;function hasRel($){return $&&$.rel}function intoRels($,o){function a(j){$[j]=Object.assign({},o,{rel:j})}return o.rel.split(/\s+/).forEach(a),$}function createObjects($,o){const a=o.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return a&&($[a[1]]=a[2]),$}function parseLink($){try{const o=$.match(/<?([^>]*)>(.*)/),a=o[1],j=o[2].split(";"),_e={},et=new URL(a,"https://example.com");for(const[nt,rt]of et.searchParams)_e[nt]=rt;j.shift();let tt=j.reduce(createObjects,{});return tt=Object.assign({},_e,tt),tt.url=a,tt}catch{return null}}function checkHeader($,o){if(!$)return!1;o=o||{};const a=o.maxHeaderLength||MAX_HEADER_LENGTH,j=o.throwOnMaxHeaderLengthExceeded||THROW_ON_MAX_HEADER_LENGTH_EXCEEDED;if($.length>a){if(j)throw new Error("Input string too long, it should be under "+a+" characters.");return!1}return!0}function parseLinkHeader($,o){return checkHeader($,o)?$.split(/,\s*</).map(parseLink).filter(hasRel).reduce(intoRels,{}):null}const CID_CBOR_TAG$1=42;function cidDecoder$1($){if($[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode($.subarray(1))}const decodeOptions$1={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions$1.tags[CID_CBOR_TAG$1]=cidDecoder$1;const code$1=113,decode$1=$=>decode$6($,decodeOptions$1),hashFn=async function($){return(await murmur3128.encode($)).slice(0,8).reverse()},addLinksToHamtBucket=($,o,a)=>Promise.all($.map(j=>{if(j.Name==null)throw new Error("Unexpected Link without a Name");if(j.Name.length===2){const _e=parseInt(j.Name,16);return o._putObjectAt(_e,new src.Bucket({hash:a._options.hash,bits:a._options.bits},o,_e))}return a.put(j.Name.substring(2),!0)})),toPrefix=$=>$.toString(16).toUpperCase().padStart(2,"0").substring(0,2),toBucketPath=$=>{let o=$.bucket;const a=[];for(;o._parent;)a.push(o),o=o._parent;return a.push(o),a.reverse()},findShardCid=async($,o,a,j,_e)=>{if(!j){const ot=src.createHAMT({hashFn});j={rootBucket:ot,hamtDepth:1,lastBucket:ot}}await addLinksToHamtBucket($.Links,j.lastBucket,j.rootBucket);const et=await j.rootBucket._findNewBucketAndPos(o);let tt=toPrefix(et.pos);const nt=toBucketPath(et);nt.length>j.hamtDepth&&(j.lastBucket=nt[j.hamtDepth],tt=toPrefix(j.lastBucket._posAtParent));const rt=$.Links.find(ot=>{if(ot.Name==null)return!1;const at=ot.Name.substring(0,2),ct=ot.Name.substring(2);return!(at!==tt||ct&&ct!==o)});if(!rt)return null;if(rt.Name!=null&&rt.Name.substring(2)===o)return rt.Hash;j.hamtDepth++;const it=await a.get(rt.Hash,_e);return $=decode$4(it),findShardCid($,o,a,j,_e)};function extractDataFromBlock($,o,a,j){const _e=$.length,et=o+_e;return a>=et||j<o?new Uint8Array(0):(j>=o&&j<et&&($=$.slice(0,j-o)),a>=o&&a<et&&($=$.slice(a-o)),$)}const validateOffsetAndLength=($,o,a)=>{if(o||(o=0),o<0)throw errCode(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(o>$)throw errCode(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(!a&&a!==0&&(a=$-o),a<0)throw errCode(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");return o+a>$&&(a=$-o),{offset:o,length:a}};async function*emitBytes($,o,a,j,_e=0,et){if(o instanceof Uint8Array){const rt=extractDataFromBlock(o,_e,a,j);return rt.length&&(yield rt),_e+=rt.length,_e}if(o.Data==null)throw errCode(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let tt;try{tt=UnixFS.unmarshal(o.Data)}catch(rt){throw errCode(rt,"ERR_NOT_UNIXFS")}if(tt.data&&tt.data.length){const rt=extractDataFromBlock(tt.data,_e,a,j);rt.length&&(yield rt),_e+=tt.data.length}let nt=_e;for(let rt=0;rt<o.Links.length;rt++){const it=o.Links[rt],ot=_e+tt.blockSizes[rt];if(a>=nt&&a<ot||j>nt&&j<=ot||a<nt&&j>ot){const at=await $.get(it.Hash,{signal:et.signal});let ct;switch(it.Hash.code){case code$5:ct=await decode$4(at);break;case code$4:ct=at;break;case code$1:ct=await decode$1(at);break;default:throw Error(`Unsupported codec: ${it.Hash.code}`)}for await(const ut of emitBytes($,ct,a,j,_e,et))_e+=ut.length,yield ut}_e=ot,nt=ot+1}}const fileContent=($,o,a,j,_e,et,tt)=>{function nt(rt={}){const it=a.fileSize();if(it===void 0)throw new Error("File was a directory");const{offset:ot,length:at}=validateOffsetAndLength(it,rt.offset,rt.length),ct=ot,ut=ot+at;return emitBytes(tt,o,ct,ut,0,rt)}return nt},directoryContent=($,o,a,j,_e,et,tt)=>{async function*nt(rt={}){const it=rt.offset||0,ot=rt.length||o.Links.length,at=o.Links.slice(it,ot);for(const ct of at){const ut=await _e(ct.Hash,ct.Name||"",`${j}/${ct.Name||""}`,[],et+1,tt,rt);ut.entry&&(yield ut.entry)}}return nt},hamtShardedDirectoryContent=($,o,a,j,_e,et,tt)=>{function nt(rt={}){return listDirectory(o,j,_e,et,tt,rt)}return nt};async function*listDirectory($,o,a,j,_e,et){const tt=$.Links;for(const nt of tt){const rt=nt.Name!=null?nt.Name.substring(2):null;if(rt)yield(await a(nt.Hash,rt,`${o}/${rt}`,[],j+1,_e,et)).entry;else{const it=await _e.get(nt.Hash);$=decode$4(it);for await(const ot of listDirectory($,o,a,j,_e,et))yield ot}}}const findLinkCid=($,o)=>{const a=$.Links.find(j=>j.Name===o);return a&&a.Hash},contentExporters={raw:fileContent,file:fileContent,directory:directoryContent,"hamt-sharded-directory":hamtShardedDirectoryContent,metadata:($,o,a,j,_e,et,tt)=>()=>[],symlink:($,o,a,j,_e,et,tt)=>()=>[]},unixFsResolver=async($,o,a,j,_e,et,tt,nt)=>{const rt=await tt.get($,nt),it=decode$4(rt);let ot,at;if(o||(o=$.toString()),it.Data==null)throw errCode(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{ot=UnixFS.unmarshal(it.Data)}catch(ct){throw errCode(ct,"ERR_NOT_UNIXFS")}if(a||(a=o),j.length){let ct;if(ot&&ot.type==="hamt-sharded-directory"?ct=await findShardCid(it,j[0],tt):ct=findLinkCid(it,j[0]),!ct)throw errCode(new Error("file does not exist"),"ERR_NOT_FOUND");const ut=j.shift(),dt=`${a}/${ut}`;at={cid:ct,toResolve:j,name:ut||"",path:dt}}return{entry:{type:ot.isDirectory()?"directory":"file",name:o,path:a,cid:$,content:contentExporters[ot.type]($,it,ot,a,_e,et,tt),unixfs:ot,depth:et,node:it,size:ot.fileSize()},next:at}},rawContent$1=$=>{async function*o(a={}){const{offset:j,length:_e}=validateOffsetAndLength($.length,a.offset,a.length);yield extractDataFromBlock($,0,j,j+_e)}return o},resolve$4=async($,o,a,j,_e,et,tt,nt)=>{if(j.length)throw errCode(new Error(`No link named ${a} found in raw node ${$}`),"ERR_NOT_FOUND");const rt=await tt.get($,nt);return{entry:{type:"raw",name:o,path:a,cid:$,content:rawContent$1(rt),depth:et,size:rt.length,node:rt}}},resolve$3=async($,o,a,j,_e,et,tt,nt)=>{const rt=await tt.get($),it=decode$1(rt);let ot=it,at=a;for(;j.length;){const ct=j[0];if(ct in ot){j.shift(),at=`${at}/${ct}`;const ut=CID.asCID(ot[ct]);if(ut)return{entry:{type:"object",name:o,path:a,cid:$,node:rt,depth:et,size:rt.length,content:async function*(){yield it}},next:{cid:ut,name:ct,path:at,toResolve:j}};ot=ot[ct]}else throw errCode(new Error(`No property named ${ct} found in cbor node ${$}`),"ERR_NO_PROP")}return{entry:{type:"object",name:o,path:a,cid:$,node:rt,depth:et,size:rt.length,content:async function*(){yield it}}}},rawContent=$=>{async function*o(a={}){const{offset:j,length:_e}=validateOffsetAndLength($.length,a.offset,a.length);yield extractDataFromBlock($,0,j,j+_e)}return o},resolve$2=async($,o,a,j,_e,et,tt,nt)=>{if(j.length)throw errCode(new Error(`No link named ${a} found in raw node ${$}`),"ERR_NOT_FOUND");const rt=await decode$8($.multihash.bytes);return{entry:{type:"identity",name:o,path:a,cid:$,content:rawContent(rt.digest),depth:et,size:rt.digest.length,node:rt.digest}}},resolvers={[code$5]:unixFsResolver,[code$4]:resolve$4,[code$1]:resolve$3,[identity.code]:resolve$2};function resolve$1($,o,a,j,_e,et,tt){const nt=resolvers[$.code];if(!nt)throw errCode(new Error(`No resolver for code ${$.code}`),"ERR_NO_RESOLVER");return nt($,o,a,j,resolve$1,_e,et,tt)}const toPathComponents=($="")=>($.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean),cidAndRest=$=>{if($ instanceof Uint8Array)return{cid:CID.decode($),toResolve:[]};const o=CID.asCID($);if(o)return{cid:o,toResolve:[]};if(typeof $=="string"){$.indexOf("/ipfs/")===0&&($=$.substring(6));const a=toPathComponents($);return{cid:CID.parse(a[0]),toResolve:a.slice(1)}}throw errCode(new Error(`Unknown path type ${$}`),"ERR_BAD_PATH")};async function*walkPath($,o,a={}){let{cid:j,toResolve:_e}=cidAndRest($),et=j.toString(),tt=et;const nt=_e.length;for(;;){const rt=await resolve$1(j,et,tt,_e,nt,o,a);if(!rt.entry&&!rt.next)throw errCode(new Error(`Could not resolve ${$}`),"ERR_NOT_FOUND");if(rt.entry&&(yield rt.entry),!rt.next)return;_e=rt.next.toResolve,j=rt.next.cid,et=rt.next.name,tt=rt.next.path}}async function exporter($,o,a={}){const j=await itLast(walkPath($,o,a));if(!j)throw errCode(new Error(`Could not resolve ${$}`),"ERR_NOT_FOUND");return j}async function*recursive($,o,a={}){const j=await exporter($,o,a);if(!j)return;if(yield j,j.type==="directory")for await(const et of _e(j,a))yield et;async function*_e(et,tt){for await(const nt of et.content(tt))yield nt,!(nt instanceof Uint8Array)&&nt.type==="directory"&&(yield*_e(nt,tt))}}function equals$1($,o){if($===o)return!0;if($.byteLength!==o.byteLength)return!1;for(let a=0;a<$.byteLength;a++)if($[a]!==o[a])return!1;return!0}class VerifyingGetOnlyBlockStore extends BaseBlockstore{constructor(o){super(),this.store=o}async get(o){const a=await this.store.get(o);if(!a)throw new Error(`Incomplete CAR. Block missing for CID ${o}`);if(!isValid({cid:o,bytes:a}))throw new Error(`Invalid CAR. Hash of block data does not match CID ${o}`);return a}static fromBlockstore(o){return new VerifyingGetOnlyBlockStore(o)}static fromCarReader(o){return new VerifyingGetOnlyBlockStore({get:async a=>{const j=await o.get(a);return j==null?void 0:j.bytes}})}}async function isValid({cid:$,bytes:o}){const a=await sha256.digest(o);return equals$1(a.digest,$.multihash.digest)}async function*unpackStream($,{roots:o,blockstore:a}={}){const j=await CarBlockIterator.fromIterable(asAsyncIterable($)),_e=a||new MemoryBlockStore;for await(const tt of j)await _e.put(tt.cid,tt.bytes);const et=VerifyingGetOnlyBlockStore.fromBlockstore(_e);(!o||o.length===0)&&(o=await j.getRoots());for(const tt of o)yield*recursive(tt,et)}function asAsyncIterable($){return Symbol.asyncIterator in $?$:browserReadablestreamToIt($)}const readonly=({enumerable:$=!0,configurable:o=!1}={})=>({enumerable:$,configurable:o,writable:!1}),links=function*($,o){if($!=null&&!($ instanceof Uint8Array))for(const[a,j]of Object.entries($)){const _e=[...o,a];if(j!=null&&typeof j=="object")if(Array.isArray(j))for(const[et,tt]of j.entries()){const nt=[..._e,et],rt=CID.asCID(tt);rt?yield[nt.join("/"),rt]:typeof tt=="object"&&(yield*links(tt,nt))}else{const et=CID.asCID(j);et?yield[_e.join("/"),et]:yield*links(j,_e)}}},tree=function*($,o){if($!=null)for(const[a,j]of Object.entries($)){const _e=[...o,a];if(yield _e.join("/"),j!=null&&!(j instanceof Uint8Array)&&typeof j=="object"&&!CID.asCID(j))if(Array.isArray(j))for(const[et,tt]of j.entries()){const nt=[..._e,et];yield nt.join("/"),typeof tt=="object"&&!CID.asCID(tt)&&(yield*tree(tt,nt))}else yield*tree(j,_e)}},get=($,o)=>{let a=$;for(const[j,_e]of o.entries()){if(a=a[_e],a==null)throw new Error(`Object has no property at ${o.slice(0,j+1).map(tt=>`[${JSON.stringify(tt)}]`).join("")}`);const et=CID.asCID(a);if(et)return{value:et,remaining:o.slice(j+1).join("/")}}return{value:a}};let Block$1=class{constructor({cid:o,bytes:a,value:j}){if(!o||!a||typeof j>"u")throw new Error("Missing required argument");this.cid=o,this.bytes=a,this.value=j,this.asBlock=this,Object.defineProperties(this,{cid:readonly(),bytes:readonly(),value:readonly(),asBlock:readonly()})}links(){return links(this.value,[])}tree(){return tree(this.value,[])}get(o="/"){return get(this.value,o.split("/").filter(Boolean))}};const CID_CBOR_TAG=42;function cidEncoder($){if($.asCID!==$)return null;const o=CID.asCID($);if(!o)return null;const a=new Uint8Array(o.bytes.byteLength+1);return a.set(o.bytes,1),[new Token(Type.tag,CID_CBOR_TAG),new Token(Type.bytes,a)]}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder($){if(Number.isNaN($))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if($===1/0||$===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions={float64:!0,typeEncoders:{Object:cidEncoder,undefined:undefinedEncoder,number:numberEncoder}};function cidDecoder($){if($[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode($.subarray(1))}const decodeOptions={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions.tags[CID_CBOR_TAG]=cidDecoder;const name="dag-cbor",code=113,encode=$=>encode$6($,encodeOptions),decode=$=>decode$6($,decodeOptions),cbor=Object.freeze(Object.defineProperty({__proto__:null,code,decode,encode,name},Symbol.toStringTag,{value:"Module"}));class TreewalkCarSplitter{constructor(o,a,j={}){if(typeof a!="number"||a<=0)throw new Error("invalid target chunk size");this._reader=o,this._targetSize=a,this._decoders=[pb,raw,cbor,...j.decoders||[]]}async*cars(){const o=await this._reader.getRoots();if(o.length!==1)throw new Error(`unexpected number of roots: ${o.length}`);let a;for await(const j of this._cars(o[0]))a=j.channel,j.out&&(yield j.out);if(!a)throw new Error("missing CAR writer channel");a.writer.close(),yield a.out}async _get(o){const a=await this._reader.get(o);if(!a)throw new Error(`missing block for ${o}`);const{bytes:j}=a,_e=this._decoders.find(et=>et.code===o.code);if(!_e)throw new Error(`missing decoder for ${o.code}`);return new Block$1({cid:o,bytes:j,value:_e.decode(j)})}async*_cars(o,a=[],j=void 0){const _e=await this._get(o);if(j=j||Object.assign(CarWriter.create(o),{size:0}),j.size>0&&j.size+_e.bytes.byteLength>=this._targetSize){j.writer.close();const{out:et}=j;j=newCar(a),yield{channel:j,out:et}}a=a.concat(_e),j.size+=_e.bytes.byteLength,j.writer.put(_e);for(const[,et]of _e.links())for await(const tt of this._cars(et,a,j))j=tt.channel,yield tt;if(!j)throw new Error("missing CAR writer channel");yield{channel:j}}static async fromIterable(o,a,j){const _e=await CarReader.fromIterable(o);return new TreewalkCarSplitter(_e,a,j)}static async fromBlob(o,a,j){const _e=await o.arrayBuffer(),et=await CarReader.fromBytes(new Uint8Array(_e));return new TreewalkCarSplitter(et,a,j)}}function newCar($){const o=Object.assign(CarWriter.create($[0].cid),{size:$.reduce((a,j)=>a+j.bytes.byteLength,0)});for(const a of $)o.writer.put(a);return o}var throttledQueueExports={},throttledQueue$1={get exports(){return throttledQueueExports},set exports($){throttledQueueExports=$}};(function($,o){Object.defineProperty(o,"__esModule",{value:!0});function a(j,_e,et){et===void 0&&(et=!1),et&&(_e=_e/j,j=1);var tt=[],nt=0,rt=0,it,ot=function(){var at=nt+_e,ct=Date.now();if(ct<at){it!==void 0&&clearTimeout(it),it=setTimeout(ot,at-ct);return}nt=ct,rt=0;for(var ut=0,dt=tt.splice(0,j);ut<dt.length;ut++){var ft=dt[ut];rt++,ft()}tt.length?it=setTimeout(ot,_e):it=void 0};return function(at){return new Promise(function(ct,ut){var dt=function(){return Promise.resolve().then(at).then(ct).catch(ut)},ft=Date.now();it===void 0&&ft-nt>_e&&(nt=ft,rt=0),rt++<j?dt():(tt.push(dt),it===void 0&&(it=setTimeout(ot,nt+_e-ft)))})}}$.exports=a,o.default=a})(throttledQueue$1,throttledQueueExports);const throttledQueue=getDefaultExportFromCjs(throttledQueueExports),fetch$1=globalThis.fetch,Blob$1=globalThis.Blob,File=globalThis.File,Blockstore=MemoryBlockStore,MAX_PUT_RETRIES=5,MAX_CONCURRENT_UPLOADS=3,DEFAULT_CHUNK_SIZE=1024*1024*50,MAX_BLOCK_SIZE=1048576,MAX_CHUNK_SIZE=104857600,RATE_LIMIT_REQUESTS=30,RATE_LIMIT_PERIOD=10*1e3;function createRateLimiter(){const $=throttledQueue(RATE_LIMIT_REQUESTS,RATE_LIMIT_PERIOD);return()=>$(()=>{})}const globalRateLimiter=createRateLimiter();class Web3Storage{constructor({token:o,endpoint:a=new URL("https://api.web3.storage"),rateLimiter:j,fetch:_e=fetch$1}){this.token=o,this.endpoint=a,this.rateLimiter=j||createRateLimiter(),this.fetch=_e}static headers(o){if(!o)throw new Error("missing token");return{Authorization:`Bearer ${o}`,"X-Client":"web3.storage/js"}}static async put({endpoint:o,token:a,rateLimiter:j=globalRateLimiter,fetch:_e=fetch$1},et,{onRootCidReady:tt,onStoredChunk:nt,maxRetries:rt=MAX_PUT_RETRIES,maxChunkSize:it=DEFAULT_CHUNK_SIZE,wrapWithDirectory:ot=!0,name:at,signal:ct}={}){if(it>=MAX_CHUNK_SIZE||it<MAX_BLOCK_SIZE)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const ut=new Blockstore;try{const{out:dt,root:ft}=await pack({input:Array.from(et).map(toImportCandidate),blockstore:ut,wrapWithDirectory:ot,maxChunkSize:MAX_BLOCK_SIZE,maxChildrenPerNode:1024});tt&&tt(ft.toString());const ht=await CarReader.fromIterable(dt);return await Web3Storage.putCar({endpoint:o,token:a,rateLimiter:j,fetch:_e},ht,{onStoredChunk:nt,maxRetries:rt,maxChunkSize:it,name:at,signal:ct})}finally{await ut.close()}}static async putCar({endpoint:o,token:a,rateLimiter:j=globalRateLimiter,fetch:_e=fetch$1},et,{name:tt,onStoredChunk:nt,maxRetries:rt=MAX_PUT_RETRIES,maxChunkSize:it=DEFAULT_CHUNK_SIZE,decoders:ot,signal:at}={}){if(it>=MAX_CHUNK_SIZE||it<MAX_BLOCK_SIZE)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const ct=it,ut=new URL("car",o);let dt=Web3Storage.headers(a);tt&&(dt={...dt,"X-Name":encodeURIComponent(tt)});const ft=await et.getRoots();if(ft[0]==null)throw new Error("missing root CID");if(ft.length>1)throw new Error("too many roots");const ht=ft[0].toString(),pt=new TreewalkCarSplitter(et,ct,{decoders:ot}),gt=transform(MAX_CONCURRENT_UPLOADS,async bt=>{const At=[];for await(const Ct of bt)At.push(Ct);const Tt=new Blob$1(At,{type:"application/vnd.ipld.car"}),Pt=await pRetryExports(async()=>{await j();let Ct;try{Ct=await _e(ut.toString(),{method:"POST",headers:dt,body:Tt,signal:at})}catch(Vt){throw at&&at.aborted?new AbortError_1(Vt):Vt}if(Ct.status===429)throw new Error("rate limited");const It=await Ct.json();if(!Ct.ok)throw new Error(It.message);if(It.cid!==ht)throw new Error(`root CID mismatch, expected: ${ht}, received: ${It.cid}`);return It.cid},{retries:rt});return nt&&nt(Tt.size),Pt});for await(const bt of gt(pt.cars()));return ht}static async get({endpoint:o,token:a,rateLimiter:j=globalRateLimiter,fetch:_e=fetch$1},et,tt={}){const nt=new URL(`car/${et}`,o);await j();const rt=await _e(nt.toString(),{method:"GET",headers:Web3Storage.headers(a),signal:tt.signal});if(rt.status===429)throw new Error("rate limited");return toWeb3Response(rt)}static async delete({endpoint:o,token:a,rateLimiter:j=globalRateLimiter},_e,et={}){throw console.log("Not deleting",_e,o,a,j,et),Error(".delete not implemented yet")}static async status({endpoint:o,token:a,rateLimiter:j=globalRateLimiter,fetch:_e=fetch$1},et,tt={}){const nt=new URL(`status/${et}`,o);await j();const rt=await _e(nt.toString(),{method:"GET",headers:Web3Storage.headers(a),signal:tt.signal});if(rt.status===429)throw new Error("rate limited");if(rt.status!==404){if(!rt.ok)throw new Error(rt.statusText);return rt.json()}}static async*list(o,{before:a=new Date().toISOString(),maxResults:j=1/0,signal:_e}={}){async function et({endpoint:rt,token:it,rateLimiter:ot=globalRateLimiter,fetch:at=fetch$1},{before:ct,size:ut}){const dt=new URLSearchParams({before:ct,size:ut.toString()}),ft=new URL(`user/uploads?${dt}`,rt);return await ot(),at(ft.toString(),{method:"GET",headers:{...Web3Storage.headers(it),"Access-Control-Request-Headers":"Link"},signal:_e})}let tt=0;const nt=j>100?100:j;for await(const rt of paginator(et,o,{before:a,size:nt})){if(!rt.ok){if(rt.status===429)throw new Error("rate limited");const ot=await rt.json();throw new Error(`${rt.status} ${rt.statusText} ${ot?"- "+ot.message:""}`)}const it=await rt.json();for(const ot of it){if(++tt>j)return;yield ot}}}put(o,a){return Web3Storage.put(this,o,a)}putCar(o,a){return Web3Storage.putCar(this,o,a)}get(o,a){return Web3Storage.get(this,o,a)}delete(o,a){return Web3Storage.delete(this,o,a)}status(o,a){return Web3Storage.status(this,o,a)}list(o){return Web3Storage.list(this,o)}}async function toWeb3File({content:$,path:o,cid:a}){const j=[];for await(const et of $())j.push(et);const _e=new File(j,toFilenameWithPath(o));return Object.assign(_e,{cid:a.toString()})}function toFilenameWithPath($){const o=$.indexOf("/");return o===-1?$:$.substring(o+1)}function toWeb3Response($){const o=Object.assign($,{unixFsIterator:async function*(){if(!$.ok)throw new Error(`Response was not ok: ${$.status} ${$.statusText} - Check for { "ok": false } on the Response object before calling .unixFsIterator`);if(!$.body)throw new Error("No body on response");const a=new Blockstore;try{for await(const j of unpackStream($.body,{blockstore:a}))yield j}finally{await a.close()}},files:async()=>{if(!$.ok)throw new Error(`Response was not ok: ${$.status} ${$.statusText} - Check for { "ok": false } on the Response object before calling .files`);const a=[];for await(const j of o.unixFsIterator()){if(j.type==="directory")continue;const _e=await toWeb3File(j);a.push(_e)}return a}});return o}function toImportCandidate($){let o;return{path:$.name,get content(){return o=o||$.stream(),o}}}async function*paginator($,o,a){let j=await $(o,a);yield j;let _e=parseLinkHeader(j.headers.get("Link")||"");for(;_e&&_e.next;)j=await $(o,_e.next),yield j,_e=parseLinkHeader(j.headers.get("Link")||"")}const apiToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweEUxYjc5QTZmM0I0ZkY5M2FjYjgwYjc3YUI0NDUzQUJGMUUyNjkxMDciLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2NDc5NjY2ODE5NTEsIm5hbWUiOiJkLWNoYXQifQ.4eEl-M2x2d7IA_DwloL4-T7RA_TwO_zN_UsOGDoVxfw",client=new Web3Storage({token:apiToken});let IMG_URL;const Upload=()=>{const[$,o]=reactExports.useState(""),a=async()=>{console.log(document.getElementById("input").files[0]);var _e=document.getElementById("input");const et=await client.put(_e.files,{name:"cat pics",maxRetries:3});console.log(et);const nt=await(await client.get(et)).files();console.log(nt);const rt=URL.createObjectURL(nt[0]);console.log(rt),IMG_URL=rt,o(rt)};function j(){var _e=document.getElementById("field1");_e.select(),navigator.clipboard.writeText(_e.value),alert("Copied the text: "+_e.value)}return jsxs("div",{children:[jsxs("div",{children:[jsx("h2",{htmlFor:"file",style:{fontFamily:"sans-serif"},children:"Choose file to upload"}),jsx("input",{type:"file",id:"input",name:"file",multiple:!0})]}),jsx("br",{}),jsx("div",{className:"upload-btn",children:jsx("button",{onClick:a,className:"btn",children:"Submit"})}),jsx("br",{}),jsx("label",{style:{fontFamily:"sans-serif"},children:"URL : "}),jsx("input",{type:"text",id:"field1",value:IMG_URL}),jsx("button",{id:"copy-btn",onClick:j,className:"btn",children:"Copy URL"}),jsx("br",{}),jsx("br",{}),jsx("br",{}),jsx("h2",{style:{fontFamily:"sans-serif"},children:"Paste the copied link below"})]})},feature2="data:image/avif;base64,AAAAHGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZgAAAZhtZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAANGlsb2MAAAAAREAAAgACAAAAAAG8AAEAAAAAAAAF6AABAAAAAAekAAEAAAAAAAAGzQAAADhpaW5mAAAAAAACAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAAFWluZmUCAAAAAAIAAGF2MDEAAAAA12lwcnAAAACxaXBjbwAAABNjb2xybmNseAACAAIABoAAAAAMYXYxQ4EAHAAAAAAUaXNwZQAAAAAAAAFoAAABaAAAAA5waXhpAAAAAAEIAAAAOGF1eEMAAAAAdXJuOm1wZWc6bXBlZ0I6Y2ljcDpzeXN0ZW1zOmF1eGlsaWFyeTphbHBoYQAAAAAMYXYxQ4EADAAAAAAUaXNwZQAAAAAAAAFoAAABaAAAABBwaXhpAAAAAAMICAgAAAAeaXBtYQAAAAAAAAACAAEEgYYHiAACBIIDhIUAAAAaaXJlZgAAAAAAAAAOYXV4bAACAAEAAQAADL1tZGF0EgAKBhgiLPZ2FTLbCxFABBBQtJETa910tfCMuHvQMBrO0Qm6i/4s/HLjgyyRpYWcDGxCW+4PPuDzb1QImWXWVY7AH6tGk04Ku8RD3KjcoXBgPPbw4xqHbneE47B8NZIzzd+GZ616oP8PWZSv+0sOo4BKqn7+ZavszqfezeVS2rhLf3zcHqWJcg5jehNaazyRMQDZ5/N4xpJfAaZvQ5Wx99IxhQOPxLIlj3HSMceGUPTUnoAw6E2hPb+tUQDgicdsJd+M5TPFvlcSRob1t+b7ALInzvdDfE6o0hvz8Pj6s37L514Pbo9AWwtm9U/5FT+VG0YR4SDN51sdPBkhdS/S9DzkxGrD8I4LAjT9ZnUOLTdnR1H2g6voorL+fykMJT9PqOQhveUvI3pLw4Wg8vUPoly+2s6SqnLSg08Z03aLY3jaGeYIM+PdSbgJg47Otc/fD+CelbCtS4C+XauXYyebXEjbVl+EVZvr58X2F6eUheeaSYFcsL2ywLJuln+VzS7eZlVZvNLPxI6w28WLSAXpREzwH1shd7z2pCkSAxYZfuL14g0zb238h5QfmhRI22FC8NbZ9T4l1FI+L2osCrg1JZCPg/bpEw48k0oJ4DVKs3aTRHOLVqcMhs/Pl7P282xGrXFaYCveyiQdqNzXqfbCZK96lZIKEI3OFLZVavTx+I8chu0wJ2XJV/aI9g6vbWbP7udW3Um6C1qjZ07xHPWhUTHH+P76tB5sLl6x00Ej1WdadZdyo2n6uIjd3YbpIfohDfk+uaVMwWfeU3wtdg5qdHvRNcTt6yhcVWJ59yZncb2EbtWSJT9JWfURBYg2xEjRDImbhRqPDXjuEpZ9w5+ghllTMXTQyRqtVALfI1UBqp/U3UCrvf0ck5pmxFWJB5n3+u2Uo8UjKeynRcby0s3Md0I815V50XrFrxlGZOhtGjCoxqZ+Y5Fspzx6JDe47CjqiFSLHFSjTGeSmc3xYuLC1JBzp2A4SakabSv64KH1mnMsLYtmE1qA4R3nkiN+m3fIN3x6/ULvUMMuFL1gunShtW4AWhKLPxHgXRL58gZjh9j9Ile3flgimw1Tm2i/IsPljKTvwRKLi7APnETh7WfbnWmgDbMlaI55lZe2OI+v+WzobcDYmpvUq0PGBgCzNxWkYKU6ryareUUsum/cOo/wUcfYR87eBs4cRN+qa44IOz4nvHqe5AVuMsyhTToftk70oE3/OcN2xRKbV2C4f+cZlZiZfewUmVlACed8LaURcmcEWHjbSiB2kt/i+whlIeg1OVPI11guCWXvHa2Wghi5WB0nHgHL4FDhm1zuq4AfTg70TnwOWEH8GI+JbxQPXBEp24fVOzKL+dEtHEJed3l8NK9lTcIRE6c9zuI1cZWnINktiCHYvB+LyDaU9Q8kDJwNy9lTA94SevzXVMaDUlzVUIAz6HDWBxJdQkOZ8hqbhHV5eHE5qOoHYEyEnBtfbIh8V7k9e+dlYVmwtflfUSeCXe624H2k6ddmE+IQ9sNDK8EcpPELN1/S91Bp2oulIOgsFsRikZOP6QaQ9c+4EOo9sFoq9ZfUdpxUBquMj/SUuF4Y5DT1jPpFsUJe2yB0/IDYl07rkCcsqVU+XeAlUYAZ39r4DRIOzGgJO5dv2SvF1rKr/htJmtWS1EE3/sB80bkPOk7SZ8fwSCo96oIMp3hQhG1V08ubhihQDtz0GlzG1qubfArsgy8KxcZAEkGmqfp2HmdPKXc9ZjHLa+kZ7DLEhXtqGhbxYTO2XDtjjalDlkYhcCQymiUe3BZk28+gi2zaYzy/EfpJrFI0CY/jvMFSB5AjyMNGZ42rrSLYOsQ/jOtxh3HNQlLxCmeAQMAyKOTevetbZmGEA6b102nCZvtgvo7XcJO3ASIHBmuMr2I7lDPhBRxAWFkfQwoJGQkrjSzPkihLJDO0me6YMsXQAAKet+mSp3f6zhigae8VamoNqza1Ga2rXVPfYatl/5LQdueJw/UuKIOWjW6VIkSe4rosUop98UBLZvAmEgAKChgiLPZ2CBAQNCAyvA1MUAK0XfFrAd79Rf0YhzUr0IewWM/X/l1jDkBI1/4uE6lZVi4cE3NuhmfhCA+p9/rrY4eWIJ6O58h9s4+06Pu0XV7QPpXyZMKHpNAkcoaQSontt6pBt4L9CK/mqvGQ7Xh4c+uh/NRPCLv64i5kaYYCmFW2OuT0oEQJofhcCsocwBwLyKjWFg6pMHsXXVFg53eywCGn7kc+Qm92WB/aRAkCTW1nKMzHR97DHGrrsabU16baqqhmJhUsV+KfrgsG1XPyTeIbiB7TcMNN01TxiTPm2OCW7FW1tjjj+nV3u8pzqFDOivDVDhtPnqpea1z+8LtV23yl7VMLSDXuTNRjbfgX36CP7XZho7/odFXsh5KuZe8WVexqLYv8/WYS4NvZaTCxEnEb0bxmf6n8KWzzBladm1tHrvaSgWg7vcFo3ZXvtHpikGMrA5XQujr92aCTOBQzGJHCh5S5D9YseeBsPNAwpvB4FRmhjuWPnbrCXVFznnDNV9fZdD+upkieTIpKMEuTedET02mc4c1XbrI98Oa63YtlZm9tM90mTOrsNdZJLT/5wTkGYYz+P8KM2+/63KNYowSoWolvc+KhQkmYVZK/fKYc1+y4tWPUjgVpBDnhbjmu/HBnNaHjda1jDexHGGrY70yA9d1LeLhw47EFgx5fuob2hMx1V26yoqJXFVmM8iyv7LD4l/1/xzxok+1DvLaxWGp6xfTVcD/Rorz3+KfgMcLyKxys0TDIVzxEdqq9WsT7dWYI4GQ8GysgZW4kV1f0e1vCAiSVx6leH2V3G875vk83EUZ0Gcg8BGIOxpFBw+cv46WfR8peJiAmlb1Pnonu9nRlreC1dd4pRfgQuE4Muaqo61RLAbeNNS9dMSJ/CDwmK+z5FF/eSKz+aebrP46eH9ofbbcqegDDTPQ3S+aOHz+DMjEOZArFz6FWZGIRqlxUv0Q6WqTW/F5zUAOoVBwxppg/sUlAuSv98mQAHo5Xru77DAKvSBGMCNrPbjIyIRJrT3BMPGmp8vbjt8cEl23+jGFiubcPcCtPl60OYhWEF6ObkYiePf//8s+ZWbthOuZNnMUxMaFozQyiK2wUNEd7/ewfOxJUXrN8ggkdKh/rj9xit5V21haQCFpeLEZf8d1NAjM6gmcCyHgd6BfeNXKdm7RZyovk1CY3izuLpg0PRpntrWWnR3bnynTTuVjG2lH8+5Jagi001Y89lF2XYSN/zkwzH0ReNAlzfqlFM1QV/Hy6+vmWxmTwNEqL8nnpgbuP/zcPmwu1hIBUoXfxxkQe5hL27wEjj5RVYSWUkIyWlJGpddbmYHFeYSzbOCL9tUnU5nHaqsQ5XszKbdeKn0/l4ejh1qSVLnHzAJ9P5HNSm9AIZig0FeFz+KONVB07GUb0garHWJoTsHhhLp0TJuSuzf8pii3IZ45/sjlx3urirksMA3A1hs5M/M8cwDxAY7EO4VY8eatKbCDqzlCIJckBPawwf5mH7rMYIaoKRrmwxqFf2pOS8avYVEK3xEYdn4sDAR2NTL/cNleX21Ix1+5MkmpLP7XAdk9lpq1KBLmEMJIQY9qj3gvgY/zK+9KNLxwLPoDHNoxY9csOBzCgfP0PjKo23ag5s1M2iwupLe6AVSFizYMDBYdiZn0q6JO+EKUsylw0+ZycLKTh6efhy/RQuL6rhlWbLGGkrHe3d8EsL7U3FRf/D0TFMU6uRXmqSrSeuHwjukw35jmfW0ObyKZMeq4qEl8J2hCJh0WDRyJ44eFreRVfP/u33x9h4Hh9mxAVwHpa79b7tpaDU8x8ta8OKGSNFvq/hFCoISJzD7fbm385334PwipPJavIFknrkWZUmS7Vh0fvSbU50k9WjmUcKvUJpuXHBVpdeKwWHkARepqcLotfQs0mrT4GKpDx0QGmM31Yj0nZhM10vFPvmjKaLSHojN61C7S8L8LVIzUn9fefk72cRMPiUNgFaJGG5RbVJbIT8cnILGrzIZACb7RNROz056RTMCo1yj2S18bUJTdSBo//rSokBAfzXjMKv9T7T+IEWX/uMk03dl4tGtN6BFLjXiwd7fLDW9YmifqPo3ChcizZoiU7PECMiqasaypaDg1Z1izV5YYFhfNMtvh8B0Thd9jCEgpBFYYXwJIOjd/mVfOc1JwHVt6EVbRXI+aQKQLsCgqMLNyGfy7CevKA7iy/gLHN/lSfS3Ml7LCXlBz8yJEAjKurc2cLAQCf038oVNBR+Q1ghvq5lwInuXyF7bdyNLLeGYWKpCIwgmuFirF3JDiolBw+Br3G0BJM3rQjShj+QuyN20GG2Q==",feature3="/assets/feature3-cfc0d633.png";function _interopDefault($){return $&&typeof $=="object"&&"default"in $?$.default:$}var React=reactExports,React__default=_interopDefault(React);function _defineProperty$2($,o,a){return o in $?Object.defineProperty($,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):$[o]=a,$}function _inheritsLoose($,o){$.prototype=Object.create(o.prototype),$.prototype.constructor=$,$.__proto__=o}var canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);function withSideEffect($,o,a){if(typeof $!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof o!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof a<"u"&&typeof a!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function j(_e){return _e.displayName||_e.name||"Component"}return function(et){if(typeof et!="function")throw new Error("Expected WrappedComponent to be a React component.");var tt=[],nt;function rt(){nt=$(tt.map(function(ot){return ot.props})),it.canUseDOM?o(nt):a&&(nt=a(nt))}var it=function(ot){_inheritsLoose(at,ot);function at(){return ot.apply(this,arguments)||this}at.peek=function(){return nt},at.rewind=function(){if(at.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var dt=nt;return nt=void 0,tt=[],dt};var ct=at.prototype;return ct.UNSAFE_componentWillMount=function(){tt.push(this),rt()},ct.componentDidUpdate=function(){rt()},ct.componentWillUnmount=function(){var dt=tt.indexOf(this);tt.splice(dt,1),rt()},ct.render=function(){return React__default.createElement(et,this.props)},at}(React.PureComponent);return _defineProperty$2(it,"displayName","SideEffect("+j(et)+")"),_defineProperty$2(it,"canUseDOM",canUseDOM),it}}var lib=withSideEffect,hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal($,o){if($===o)return!0;if($&&o&&typeof $=="object"&&typeof o=="object"){if($.constructor!==o.constructor)return!1;var a,j,_e;if(Array.isArray($)){if(a=$.length,a!=o.length)return!1;for(j=a;j--!==0;)if(!equal($[j],o[j]))return!1;return!0}var et;if(hasMap&&$ instanceof Map&&o instanceof Map){if($.size!==o.size)return!1;for(et=$.entries();!(j=et.next()).done;)if(!o.has(j.value[0]))return!1;for(et=$.entries();!(j=et.next()).done;)if(!equal(j.value[1],o.get(j.value[0])))return!1;return!0}if(hasSet&&$ instanceof Set&&o instanceof Set){if($.size!==o.size)return!1;for(et=$.entries();!(j=et.next()).done;)if(!o.has(j.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView($)&&ArrayBuffer.isView(o)){if(a=$.length,a!=o.length)return!1;for(j=a;j--!==0;)if($[j]!==o[j])return!1;return!0}if($.constructor===RegExp)return $.source===o.source&&$.flags===o.flags;if($.valueOf!==Object.prototype.valueOf&&typeof $.valueOf=="function"&&typeof o.valueOf=="function")return $.valueOf()===o.valueOf();if($.toString!==Object.prototype.toString&&typeof $.toString=="function"&&typeof o.toString=="function")return $.toString()===o.toString();if(_e=Object.keys($),a=_e.length,a!==Object.keys(o).length)return!1;for(j=a;j--!==0;)if(!Object.prototype.hasOwnProperty.call(o,_e[j]))return!1;if(hasElementType&&$ instanceof Element)return!1;for(j=a;j--!==0;)if(!((_e[j]==="_owner"||_e[j]==="__v"||_e[j]==="__o")&&$.$$typeof)&&!equal($[_e[j]],o[_e[j]]))return!1;return!0}return $!==$&&o!==o}var reactFastCompare=function $(o,a){try{return equal(o,a)}catch(j){if((j.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw j}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject($){if($==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object($)}function shouldUseNative(){try{if(!Object.assign)return!1;var $=new String("abc");if($[5]="de",Object.getOwnPropertyNames($)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var j=Object.getOwnPropertyNames(o).map(function(et){return o[et]});if(j.join("")!=="0123456789")return!1;var _e={};return"abcdefghijklmnopqrst".split("").forEach(function(et){_e[et]=et}),Object.keys(Object.assign({},_e)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign=shouldUseNative()?Object.assign:function($,o){for(var a,j=toObject($),_e,et=1;et<arguments.length;et++){a=Object(arguments[et]);for(var tt in a)hasOwnProperty.call(a,tt)&&(j[tt]=a[tt]);if(getOwnPropertySymbols){_e=getOwnPropertySymbols(a);for(var nt=0;nt<_e.length;nt++)propIsEnumerable.call(a,_e[nt])&&(j[_e[nt]]=a[_e[nt]])}}return j},ATTRIBUTE_NAMES={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},TAG_NAMES={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(TAG_NAMES).map(function($){return TAG_NAMES[$]});var TAG_PROPERTIES={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},HTML_TAG_MAP=Object.keys(REACT_TAG_MAP).reduce(function($,o){return $[REACT_TAG_MAP[o]]=o,$},{}),SELF_CLOSING_TAGS=[TAG_NAMES.NOSCRIPT,TAG_NAMES.SCRIPT,TAG_NAMES.STYLE],HELMET_ATTRIBUTE="data-react-helmet",_typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},classCallCheck=function($,o){if(!($ instanceof o))throw new TypeError("Cannot call a class as a function")},createClass=function(){function $(o,a){for(var j=0;j<a.length;j++){var _e=a[j];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(o,_e.key,_e)}}return function(o,a,j){return a&&$(o.prototype,a),j&&$(o,j),o}}(),_extends=Object.assign||function($){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var j in a)Object.prototype.hasOwnProperty.call(a,j)&&($[j]=a[j])}return $},inherits=function($,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);$.prototype=Object.create(o&&o.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf($,o):$.__proto__=o)},objectWithoutProperties=function($,o){var a={};for(var j in $)o.indexOf(j)>=0||Object.prototype.hasOwnProperty.call($,j)&&(a[j]=$[j]);return a},possibleConstructorReturn=function($,o){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:$},encodeSpecialCharacters=function $(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return a===!1?String(o):String(o).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},getTitleFromPropsList=function $(o){var a=getInnermostProperty(o,TAG_NAMES.TITLE),j=getInnermostProperty(o,HELMET_PROPS.TITLE_TEMPLATE);if(j&&a)return j.replace(/%s/g,function(){return Array.isArray(a)?a.join(""):a});var _e=getInnermostProperty(o,HELMET_PROPS.DEFAULT_TITLE);return a||_e||void 0},getOnChangeClientState=function $(o){return getInnermostProperty(o,HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||function(){}},getAttributesFromPropsList=function $(o,a){return a.filter(function(j){return typeof j[o]<"u"}).map(function(j){return j[o]}).reduce(function(j,_e){return _extends({},j,_e)},{})},getBaseTagFromPropsList=function $(o,a){return a.filter(function(j){return typeof j[TAG_NAMES.BASE]<"u"}).map(function(j){return j[TAG_NAMES.BASE]}).reverse().reduce(function(j,_e){if(!j.length)for(var et=Object.keys(_e),tt=0;tt<et.length;tt++){var nt=et[tt],rt=nt.toLowerCase();if(o.indexOf(rt)!==-1&&_e[rt])return j.concat(_e)}return j},[])},getTagsFromPropsList=function $(o,a,j){var _e={};return j.filter(function(et){return Array.isArray(et[o])?!0:(typeof et[o]<"u"&&warn("Helmet: "+o+' should be of type "Array". Instead found type "'+_typeof$1(et[o])+'"'),!1)}).map(function(et){return et[o]}).reverse().reduce(function(et,tt){var nt={};tt.filter(function(ct){for(var ut=void 0,dt=Object.keys(ct),ft=0;ft<dt.length;ft++){var ht=dt[ft],pt=ht.toLowerCase();a.indexOf(pt)!==-1&&!(ut===TAG_PROPERTIES.REL&&ct[ut].toLowerCase()==="canonical")&&!(pt===TAG_PROPERTIES.REL&&ct[pt].toLowerCase()==="stylesheet")&&(ut=pt),a.indexOf(ht)!==-1&&(ht===TAG_PROPERTIES.INNER_HTML||ht===TAG_PROPERTIES.CSS_TEXT||ht===TAG_PROPERTIES.ITEM_PROP)&&(ut=ht)}if(!ut||!ct[ut])return!1;var yt=ct[ut].toLowerCase();return _e[ut]||(_e[ut]={}),nt[ut]||(nt[ut]={}),_e[ut][yt]?!1:(nt[ut][yt]=!0,!0)}).reverse().forEach(function(ct){return et.push(ct)});for(var rt=Object.keys(nt),it=0;it<rt.length;it++){var ot=rt[it],at=objectAssign({},_e[ot],nt[ot]);_e[ot]=at}return et},[]).reverse()},getInnermostProperty=function $(o,a){for(var j=o.length-1;j>=0;j--){var _e=o[j];if(_e.hasOwnProperty(a))return _e[a]}return null},reducePropsToState=function $(o){return{baseTag:getBaseTagFromPropsList([TAG_PROPERTIES.HREF,TAG_PROPERTIES.TARGET],o),bodyAttributes:getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY,o),defer:getInnermostProperty(o,HELMET_PROPS.DEFER),encode:getInnermostProperty(o,HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML,o),linkTags:getTagsFromPropsList(TAG_NAMES.LINK,[TAG_PROPERTIES.REL,TAG_PROPERTIES.HREF],o),metaTags:getTagsFromPropsList(TAG_NAMES.META,[TAG_PROPERTIES.NAME,TAG_PROPERTIES.CHARSET,TAG_PROPERTIES.HTTPEQUIV,TAG_PROPERTIES.PROPERTY,TAG_PROPERTIES.ITEM_PROP],o),noscriptTags:getTagsFromPropsList(TAG_NAMES.NOSCRIPT,[TAG_PROPERTIES.INNER_HTML],o),onChangeClientState:getOnChangeClientState(o),scriptTags:getTagsFromPropsList(TAG_NAMES.SCRIPT,[TAG_PROPERTIES.SRC,TAG_PROPERTIES.INNER_HTML],o),styleTags:getTagsFromPropsList(TAG_NAMES.STYLE,[TAG_PROPERTIES.CSS_TEXT],o),title:getTitleFromPropsList(o),titleAttributes:getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE,o)}},rafPolyfill=function(){var $=Date.now();return function(o){var a=Date.now();a-$>16?($=a,o(a)):setTimeout(function(){rafPolyfill(o)},0)}}(),cafPolyfill=function $(o){return clearTimeout(o)},requestAnimationFrame$1=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||rafPolyfill:global.requestAnimationFrame||rafPolyfill,cancelAnimationFrame$1=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||cafPolyfill:global.cancelAnimationFrame||cafPolyfill,warn=function $(o){return console&&typeof console.warn=="function"&&console.warn(o)},_helmetCallback=null,handleClientStateChange=function $(o){_helmetCallback&&cancelAnimationFrame$1(_helmetCallback),o.defer?_helmetCallback=requestAnimationFrame$1(function(){commitTagChanges(o,function(){_helmetCallback=null})}):(commitTagChanges(o),_helmetCallback=null)},commitTagChanges=function $(o,a){var j=o.baseTag,_e=o.bodyAttributes,et=o.htmlAttributes,tt=o.linkTags,nt=o.metaTags,rt=o.noscriptTags,it=o.onChangeClientState,ot=o.scriptTags,at=o.styleTags,ct=o.title,ut=o.titleAttributes;updateAttributes(TAG_NAMES.BODY,_e),updateAttributes(TAG_NAMES.HTML,et),updateTitle(ct,ut);var dt={baseTag:updateTags(TAG_NAMES.BASE,j),linkTags:updateTags(TAG_NAMES.LINK,tt),metaTags:updateTags(TAG_NAMES.META,nt),noscriptTags:updateTags(TAG_NAMES.NOSCRIPT,rt),scriptTags:updateTags(TAG_NAMES.SCRIPT,ot),styleTags:updateTags(TAG_NAMES.STYLE,at)},ft={},ht={};Object.keys(dt).forEach(function(pt){var yt=dt[pt],gt=yt.newTags,bt=yt.oldTags;gt.length&&(ft[pt]=gt),bt.length&&(ht[pt]=dt[pt].oldTags)}),a&&a(),it(o,ft,ht)},flattenArray=function $(o){return Array.isArray(o)?o.join(""):o},updateTitle=function $(o,a){typeof o<"u"&&document.title!==o&&(document.title=flattenArray(o)),updateAttributes(TAG_NAMES.TITLE,a)},updateAttributes=function $(o,a){var j=document.getElementsByTagName(o)[0];if(j){for(var _e=j.getAttribute(HELMET_ATTRIBUTE),et=_e?_e.split(","):[],tt=[].concat(et),nt=Object.keys(a),rt=0;rt<nt.length;rt++){var it=nt[rt],ot=a[it]||"";j.getAttribute(it)!==ot&&j.setAttribute(it,ot),et.indexOf(it)===-1&&et.push(it);var at=tt.indexOf(it);at!==-1&&tt.splice(at,1)}for(var ct=tt.length-1;ct>=0;ct--)j.removeAttribute(tt[ct]);et.length===tt.length?j.removeAttribute(HELMET_ATTRIBUTE):j.getAttribute(HELMET_ATTRIBUTE)!==nt.join(",")&&j.setAttribute(HELMET_ATTRIBUTE,nt.join(","))}},updateTags=function $(o,a){var j=document.head||document.querySelector(TAG_NAMES.HEAD),_e=j.querySelectorAll(o+"["+HELMET_ATTRIBUTE+"]"),et=Array.prototype.slice.call(_e),tt=[],nt=void 0;return a&&a.length&&a.forEach(function(rt){var it=document.createElement(o);for(var ot in rt)if(rt.hasOwnProperty(ot))if(ot===TAG_PROPERTIES.INNER_HTML)it.innerHTML=rt.innerHTML;else if(ot===TAG_PROPERTIES.CSS_TEXT)it.styleSheet?it.styleSheet.cssText=rt.cssText:it.appendChild(document.createTextNode(rt.cssText));else{var at=typeof rt[ot]>"u"?"":rt[ot];it.setAttribute(ot,at)}it.setAttribute(HELMET_ATTRIBUTE,"true"),et.some(function(ct,ut){return nt=ut,it.isEqualNode(ct)})?et.splice(nt,1):tt.push(it)}),et.forEach(function(rt){return rt.parentNode.removeChild(rt)}),tt.forEach(function(rt){return j.appendChild(rt)}),{oldTags:et,newTags:tt}},generateElementAttributesAsString=function $(o){return Object.keys(o).reduce(function(a,j){var _e=typeof o[j]<"u"?j+'="'+o[j]+'"':""+j;return a?a+" "+_e:_e},"")},generateTitleAsString=function $(o,a,j,_e){var et=generateElementAttributesAsString(j),tt=flattenArray(a);return et?"<"+o+" "+HELMET_ATTRIBUTE+'="true" '+et+">"+encodeSpecialCharacters(tt,_e)+"</"+o+">":"<"+o+" "+HELMET_ATTRIBUTE+'="true">'+encodeSpecialCharacters(tt,_e)+"</"+o+">"},generateTagsAsString=function $(o,a,j){return a.reduce(function(_e,et){var tt=Object.keys(et).filter(function(it){return!(it===TAG_PROPERTIES.INNER_HTML||it===TAG_PROPERTIES.CSS_TEXT)}).reduce(function(it,ot){var at=typeof et[ot]>"u"?ot:ot+'="'+encodeSpecialCharacters(et[ot],j)+'"';return it?it+" "+at:at},""),nt=et.innerHTML||et.cssText||"",rt=SELF_CLOSING_TAGS.indexOf(o)===-1;return _e+"<"+o+" "+HELMET_ATTRIBUTE+'="true" '+tt+(rt?"/>":">"+nt+"</"+o+">")},"")},convertElementAttributestoReactProps=function $(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(o).reduce(function(j,_e){return j[REACT_TAG_MAP[_e]||_e]=o[_e],j},a)},convertReactPropstoHtmlAttributes=function $(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(o).reduce(function(j,_e){return j[HTML_TAG_MAP[_e]||_e]=o[_e],j},a)},generateTitleAsReactComponent=function $(o,a,j){var _e,et=(_e={key:a},_e[HELMET_ATTRIBUTE]=!0,_e),tt=convertElementAttributestoReactProps(j,et);return[React$1.createElement(TAG_NAMES.TITLE,tt,a)]},generateTagsAsReactComponent=function $(o,a){return a.map(function(j,_e){var et,tt=(et={key:_e},et[HELMET_ATTRIBUTE]=!0,et);return Object.keys(j).forEach(function(nt){var rt=REACT_TAG_MAP[nt]||nt;if(rt===TAG_PROPERTIES.INNER_HTML||rt===TAG_PROPERTIES.CSS_TEXT){var it=j.innerHTML||j.cssText;tt.dangerouslySetInnerHTML={__html:it}}else tt[rt]=j[nt]}),React$1.createElement(o,tt)})},getMethodsForTag=function $(o,a,j){switch(o){case TAG_NAMES.TITLE:return{toComponent:function(){return generateTitleAsReactComponent(o,a.title,a.titleAttributes)},toString:function(){return generateTitleAsString(o,a.title,a.titleAttributes,j)}};case ATTRIBUTE_NAMES.BODY:case ATTRIBUTE_NAMES.HTML:return{toComponent:function(){return convertElementAttributestoReactProps(a)},toString:function(){return generateElementAttributesAsString(a)}};default:return{toComponent:function(){return generateTagsAsReactComponent(o,a)},toString:function(){return generateTagsAsString(o,a,j)}}}},mapStateOnServer=function $(o){var a=o.baseTag,j=o.bodyAttributes,_e=o.encode,et=o.htmlAttributes,tt=o.linkTags,nt=o.metaTags,rt=o.noscriptTags,it=o.scriptTags,ot=o.styleTags,at=o.title,ct=at===void 0?"":at,ut=o.titleAttributes;return{base:getMethodsForTag(TAG_NAMES.BASE,a,_e),bodyAttributes:getMethodsForTag(ATTRIBUTE_NAMES.BODY,j,_e),htmlAttributes:getMethodsForTag(ATTRIBUTE_NAMES.HTML,et,_e),link:getMethodsForTag(TAG_NAMES.LINK,tt,_e),meta:getMethodsForTag(TAG_NAMES.META,nt,_e),noscript:getMethodsForTag(TAG_NAMES.NOSCRIPT,rt,_e),script:getMethodsForTag(TAG_NAMES.SCRIPT,it,_e),style:getMethodsForTag(TAG_NAMES.STYLE,ot,_e),title:getMethodsForTag(TAG_NAMES.TITLE,{title:ct,titleAttributes:ut},_e)}},Helmet=function $(o){var a,j;return j=a=function(_e){inherits(et,_e);function et(){return classCallCheck(this,et),possibleConstructorReturn(this,_e.apply(this,arguments))}return et.prototype.shouldComponentUpdate=function(nt){return!reactFastCompare(this.props,nt)},et.prototype.mapNestedChildrenToProps=function(nt,rt){if(!rt)return null;switch(nt.type){case TAG_NAMES.SCRIPT:case TAG_NAMES.NOSCRIPT:return{innerHTML:rt};case TAG_NAMES.STYLE:return{cssText:rt}}throw new Error("<"+nt.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},et.prototype.flattenArrayTypeChildren=function(nt){var rt,it=nt.child,ot=nt.arrayTypeChildren,at=nt.newChildProps,ct=nt.nestedChildren;return _extends({},ot,(rt={},rt[it.type]=[].concat(ot[it.type]||[],[_extends({},at,this.mapNestedChildrenToProps(it,ct))]),rt))},et.prototype.mapObjectTypeChildren=function(nt){var rt,it,ot=nt.child,at=nt.newProps,ct=nt.newChildProps,ut=nt.nestedChildren;switch(ot.type){case TAG_NAMES.TITLE:return _extends({},at,(rt={},rt[ot.type]=ut,rt.titleAttributes=_extends({},ct),rt));case TAG_NAMES.BODY:return _extends({},at,{bodyAttributes:_extends({},ct)});case TAG_NAMES.HTML:return _extends({},at,{htmlAttributes:_extends({},ct)})}return _extends({},at,(it={},it[ot.type]=_extends({},ct),it))},et.prototype.mapArrayTypeChildrenToProps=function(nt,rt){var it=_extends({},rt);return Object.keys(nt).forEach(function(ot){var at;it=_extends({},it,(at={},at[ot]=nt[ot],at))}),it},et.prototype.warnOnInvalidChildren=function(nt,rt){return!0},et.prototype.mapChildrenToProps=function(nt,rt){var it=this,ot={};return React$1.Children.forEach(nt,function(at){if(!(!at||!at.props)){var ct=at.props,ut=ct.children,dt=objectWithoutProperties(ct,["children"]),ft=convertReactPropstoHtmlAttributes(dt);switch(it.warnOnInvalidChildren(at,ut),at.type){case TAG_NAMES.LINK:case TAG_NAMES.META:case TAG_NAMES.NOSCRIPT:case TAG_NAMES.SCRIPT:case TAG_NAMES.STYLE:ot=it.flattenArrayTypeChildren({child:at,arrayTypeChildren:ot,newChildProps:ft,nestedChildren:ut});break;default:rt=it.mapObjectTypeChildren({child:at,newProps:rt,newChildProps:ft,nestedChildren:ut});break}}}),rt=this.mapArrayTypeChildrenToProps(ot,rt),rt},et.prototype.render=function(){var nt=this.props,rt=nt.children,it=objectWithoutProperties(nt,["children"]),ot=_extends({},it);return rt&&(ot=this.mapChildrenToProps(rt,ot)),React$1.createElement(o,ot)},createClass(et,null,[{key:"canUseDOM",set:function(nt){o.canUseDOM=nt}}]),et}(React$1.Component),a.propTypes={base:propTypesExports.object,bodyAttributes:propTypesExports.object,children:propTypesExports.oneOfType([propTypesExports.arrayOf(propTypesExports.node),propTypesExports.node]),defaultTitle:propTypesExports.string,defer:propTypesExports.bool,encodeSpecialCharacters:propTypesExports.bool,htmlAttributes:propTypesExports.object,link:propTypesExports.arrayOf(propTypesExports.object),meta:propTypesExports.arrayOf(propTypesExports.object),noscript:propTypesExports.arrayOf(propTypesExports.object),onChangeClientState:propTypesExports.func,script:propTypesExports.arrayOf(propTypesExports.object),style:propTypesExports.arrayOf(propTypesExports.object),title:propTypesExports.string,titleAttributes:propTypesExports.object,titleTemplate:propTypesExports.string},a.defaultProps={defer:!0,encodeSpecialCharacters:!0},a.peek=o.peek,a.rewind=function(){var _e=o.rewind();return _e||(_e=mapStateOnServer({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),_e},j},NullComponent=function $(){return null},HelmetSideEffects=lib(reducePropsToState,handleClientStateChange,mapStateOnServer)(NullComponent),HelmetExport=Helmet(HelmetSideEffects);HelmetExport.renderStatic=HelmetExport.rewind;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="149",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,TwoPassDoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",_SRGBAFormat=1035;class EventDispatcher{addEventListener(o,a){this._listeners===void 0&&(this._listeners={});const j=this._listeners;j[o]===void 0&&(j[o]=[]),j[o].indexOf(a)===-1&&j[o].push(a)}hasEventListener(o,a){if(this._listeners===void 0)return!1;const j=this._listeners;return j[o]!==void 0&&j[o].indexOf(a)!==-1}removeEventListener(o,a){if(this._listeners===void 0)return;const _e=this._listeners[o];if(_e!==void 0){const et=_e.indexOf(a);et!==-1&&_e.splice(et,1)}}dispatchEvent(o){if(this._listeners===void 0)return;const j=this._listeners[o.type];if(j!==void 0){o.target=this;const _e=j.slice(0);for(let et=0,tt=_e.length;et<tt;et++)_e[et].call(this,o);o.target=null}}}const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const $=Math.random()*4294967295|0,o=Math.random()*4294967295|0,a=Math.random()*4294967295|0,j=Math.random()*4294967295|0;return(_lut[$&255]+_lut[$>>8&255]+_lut[$>>16&255]+_lut[$>>24&255]+"-"+_lut[o&255]+_lut[o>>8&255]+"-"+_lut[o>>16&15|64]+_lut[o>>24&255]+"-"+_lut[a&63|128]+_lut[a>>8&255]+"-"+_lut[a>>16&255]+_lut[a>>24&255]+_lut[j&255]+_lut[j>>8&255]+_lut[j>>16&255]+_lut[j>>24&255]).toLowerCase()}function clamp($,o,a){return Math.max(o,Math.min(a,$))}function euclideanModulo($,o){return($%o+o)%o}function mapLinear($,o,a,j,_e){return j+($-o)*(_e-j)/(a-o)}function inverseLerp($,o,a){return $!==o?(a-$)/(o-$):0}function lerp($,o,a){return(1-a)*$+a*o}function damp($,o,a,j){return lerp($,o,1-Math.exp(-a*j))}function pingpong($,o=1){return o-Math.abs(euclideanModulo($,o*2)-o)}function smoothstep($,o,a){return $<=o?0:$>=a?1:($=($-o)/(a-o),$*$*(3-2*$))}function smootherstep($,o,a){return $<=o?0:$>=a?1:($=($-o)/(a-o),$*$*$*($*($*6-15)+10))}function randInt($,o){return $+Math.floor(Math.random()*(o-$+1))}function randFloat($,o){return $+Math.random()*(o-$)}function randFloatSpread($){return $*(.5-Math.random())}function seededRandom($){$!==void 0&&(_seed=$);let o=_seed+=1831565813;return o=Math.imul(o^o>>>15,o|1),o^=o+Math.imul(o^o>>>7,o|61),((o^o>>>14)>>>0)/4294967296}function degToRad($){return $*DEG2RAD}function radToDeg($){return $*RAD2DEG}function isPowerOfTwo($){return($&$-1)===0&&$!==0}function ceilPowerOfTwo($){return Math.pow(2,Math.ceil(Math.log($)/Math.LN2))}function floorPowerOfTwo($){return Math.pow(2,Math.floor(Math.log($)/Math.LN2))}function setQuaternionFromProperEuler($,o,a,j,_e){const et=Math.cos,tt=Math.sin,nt=et(a/2),rt=tt(a/2),it=et((o+j)/2),ot=tt((o+j)/2),at=et((o-j)/2),ct=tt((o-j)/2),ut=et((j-o)/2),dt=tt((j-o)/2);switch(_e){case"XYX":$.set(nt*ot,rt*at,rt*ct,nt*it);break;case"YZY":$.set(rt*ct,nt*ot,rt*at,nt*it);break;case"ZXZ":$.set(rt*at,rt*ct,nt*ot,nt*it);break;case"XZX":$.set(nt*ot,rt*dt,rt*ut,nt*it);break;case"YXY":$.set(rt*ut,nt*ot,rt*dt,nt*it);break;case"ZYZ":$.set(rt*dt,rt*ut,nt*ot,nt*it);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+_e)}}function denormalize($,o){switch(o.constructor){case Float32Array:return $;case Uint16Array:return $/65535;case Uint8Array:return $/255;case Int16Array:return Math.max($/32767,-1);case Int8Array:return Math.max($/127,-1);default:throw new Error("Invalid component type.")}}function normalize($,o){switch(o.constructor){case Float32Array:return $;case Uint16Array:return Math.round($*65535);case Uint8Array:return Math.round($*255);case Int16Array:return Math.round($*32767);case Int8Array:return Math.round($*127);default:throw new Error("Invalid component type.")}}var MathUtils=Object.freeze({__proto__:null,DEG2RAD,RAD2DEG,ceilPowerOfTwo,clamp,damp,degToRad,denormalize,euclideanModulo,floorPowerOfTwo,generateUUID,inverseLerp,isPowerOfTwo,lerp,mapLinear,normalize,pingpong,radToDeg,randFloat,randFloatSpread,randInt,seededRandom,setQuaternionFromProperEuler,smootherstep,smoothstep});class Vector2{constructor(o=0,a=0){Vector2.prototype.isVector2=!0,this.x=o,this.y=a}get width(){return this.x}set width(o){this.x=o}get height(){return this.y}set height(o){this.y=o}set(o,a){return this.x=o,this.y=a,this}setScalar(o){return this.x=o,this.y=o,this}setX(o){return this.x=o,this}setY(o){return this.y=o,this}setComponent(o,a){switch(o){case 0:this.x=a;break;case 1:this.y=a;break;default:throw new Error("index is out of range: "+o)}return this}getComponent(o){switch(o){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+o)}}clone(){return new this.constructor(this.x,this.y)}copy(o){return this.x=o.x,this.y=o.y,this}add(o){return this.x+=o.x,this.y+=o.y,this}addScalar(o){return this.x+=o,this.y+=o,this}addVectors(o,a){return this.x=o.x+a.x,this.y=o.y+a.y,this}addScaledVector(o,a){return this.x+=o.x*a,this.y+=o.y*a,this}sub(o){return this.x-=o.x,this.y-=o.y,this}subScalar(o){return this.x-=o,this.y-=o,this}subVectors(o,a){return this.x=o.x-a.x,this.y=o.y-a.y,this}multiply(o){return this.x*=o.x,this.y*=o.y,this}multiplyScalar(o){return this.x*=o,this.y*=o,this}divide(o){return this.x/=o.x,this.y/=o.y,this}divideScalar(o){return this.multiplyScalar(1/o)}applyMatrix3(o){const a=this.x,j=this.y,_e=o.elements;return this.x=_e[0]*a+_e[3]*j+_e[6],this.y=_e[1]*a+_e[4]*j+_e[7],this}min(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this}max(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this}clamp(o,a){return this.x=Math.max(o.x,Math.min(a.x,this.x)),this.y=Math.max(o.y,Math.min(a.y,this.y)),this}clampScalar(o,a){return this.x=Math.max(o,Math.min(a,this.x)),this.y=Math.max(o,Math.min(a,this.y)),this}clampLength(o,a){const j=this.length();return this.divideScalar(j||1).multiplyScalar(Math.max(o,Math.min(a,j)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(o){return this.x*o.x+this.y*o.y}cross(o){return this.x*o.y-this.y*o.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(o){return Math.sqrt(this.distanceToSquared(o))}distanceToSquared(o){const a=this.x-o.x,j=this.y-o.y;return a*a+j*j}manhattanDistanceTo(o){return Math.abs(this.x-o.x)+Math.abs(this.y-o.y)}setLength(o){return this.normalize().multiplyScalar(o)}lerp(o,a){return this.x+=(o.x-this.x)*a,this.y+=(o.y-this.y)*a,this}lerpVectors(o,a,j){return this.x=o.x+(a.x-o.x)*j,this.y=o.y+(a.y-o.y)*j,this}equals(o){return o.x===this.x&&o.y===this.y}fromArray(o,a=0){return this.x=o[a],this.y=o[a+1],this}toArray(o=[],a=0){return o[a]=this.x,o[a+1]=this.y,o}fromBufferAttribute(o,a){return this.x=o.getX(a),this.y=o.getY(a),this}rotateAround(o,a){const j=Math.cos(a),_e=Math.sin(a),et=this.x-o.x,tt=this.y-o.y;return this.x=et*j-tt*_e+o.x,this.y=et*_e+tt*j+o.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(o,a,j,_e,et,tt,nt,rt,it){const ot=this.elements;return ot[0]=o,ot[1]=_e,ot[2]=nt,ot[3]=a,ot[4]=et,ot[5]=rt,ot[6]=j,ot[7]=tt,ot[8]=it,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(o){const a=this.elements,j=o.elements;return a[0]=j[0],a[1]=j[1],a[2]=j[2],a[3]=j[3],a[4]=j[4],a[5]=j[5],a[6]=j[6],a[7]=j[7],a[8]=j[8],this}extractBasis(o,a,j){return o.setFromMatrix3Column(this,0),a.setFromMatrix3Column(this,1),j.setFromMatrix3Column(this,2),this}setFromMatrix4(o){const a=o.elements;return this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]),this}multiply(o){return this.multiplyMatrices(this,o)}premultiply(o){return this.multiplyMatrices(o,this)}multiplyMatrices(o,a){const j=o.elements,_e=a.elements,et=this.elements,tt=j[0],nt=j[3],rt=j[6],it=j[1],ot=j[4],at=j[7],ct=j[2],ut=j[5],dt=j[8],ft=_e[0],ht=_e[3],pt=_e[6],yt=_e[1],gt=_e[4],bt=_e[7],At=_e[2],Tt=_e[5],Pt=_e[8];return et[0]=tt*ft+nt*yt+rt*At,et[3]=tt*ht+nt*gt+rt*Tt,et[6]=tt*pt+nt*bt+rt*Pt,et[1]=it*ft+ot*yt+at*At,et[4]=it*ht+ot*gt+at*Tt,et[7]=it*pt+ot*bt+at*Pt,et[2]=ct*ft+ut*yt+dt*At,et[5]=ct*ht+ut*gt+dt*Tt,et[8]=ct*pt+ut*bt+dt*Pt,this}multiplyScalar(o){const a=this.elements;return a[0]*=o,a[3]*=o,a[6]*=o,a[1]*=o,a[4]*=o,a[7]*=o,a[2]*=o,a[5]*=o,a[8]*=o,this}determinant(){const o=this.elements,a=o[0],j=o[1],_e=o[2],et=o[3],tt=o[4],nt=o[5],rt=o[6],it=o[7],ot=o[8];return a*tt*ot-a*nt*it-j*et*ot+j*nt*rt+_e*et*it-_e*tt*rt}invert(){const o=this.elements,a=o[0],j=o[1],_e=o[2],et=o[3],tt=o[4],nt=o[5],rt=o[6],it=o[7],ot=o[8],at=ot*tt-nt*it,ct=nt*rt-ot*et,ut=it*et-tt*rt,dt=a*at+j*ct+_e*ut;if(dt===0)return this.set(0,0,0,0,0,0,0,0,0);const ft=1/dt;return o[0]=at*ft,o[1]=(_e*it-ot*j)*ft,o[2]=(nt*j-_e*tt)*ft,o[3]=ct*ft,o[4]=(ot*a-_e*rt)*ft,o[5]=(_e*et-nt*a)*ft,o[6]=ut*ft,o[7]=(j*rt-it*a)*ft,o[8]=(tt*a-j*et)*ft,this}transpose(){let o;const a=this.elements;return o=a[1],a[1]=a[3],a[3]=o,o=a[2],a[2]=a[6],a[6]=o,o=a[5],a[5]=a[7],a[7]=o,this}getNormalMatrix(o){return this.setFromMatrix4(o).invert().transpose()}transposeIntoArray(o){const a=this.elements;return o[0]=a[0],o[1]=a[3],o[2]=a[6],o[3]=a[1],o[4]=a[4],o[5]=a[7],o[6]=a[2],o[7]=a[5],o[8]=a[8],this}setUvTransform(o,a,j,_e,et,tt,nt){const rt=Math.cos(et),it=Math.sin(et);return this.set(j*rt,j*it,-j*(rt*tt+it*nt)+tt+o,-_e*it,_e*rt,-_e*(-it*tt+rt*nt)+nt+a,0,0,1),this}scale(o,a){return this.premultiply(_m3.makeScale(o,a)),this}rotate(o){return this.premultiply(_m3.makeRotation(-o)),this}translate(o,a){return this.premultiply(_m3.makeTranslation(o,a)),this}makeTranslation(o,a){return this.set(1,0,o,0,1,a,0,0,1),this}makeRotation(o){const a=Math.cos(o),j=Math.sin(o);return this.set(a,-j,0,j,a,0,0,0,1),this}makeScale(o,a){return this.set(o,0,0,0,a,0,0,0,1),this}equals(o){const a=this.elements,j=o.elements;for(let _e=0;_e<9;_e++)if(a[_e]!==j[_e])return!1;return!0}fromArray(o,a=0){for(let j=0;j<9;j++)this.elements[j]=o[j+a];return this}toArray(o=[],a=0){const j=this.elements;return o[a]=j[0],o[a+1]=j[1],o[a+2]=j[2],o[a+3]=j[3],o[a+4]=j[4],o[a+5]=j[5],o[a+6]=j[6],o[a+7]=j[7],o[a+8]=j[8],o}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32($){for(let o=$.length-1;o>=0;--o)if($[o]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray($,o){return new TYPED_ARRAYS[$](o)}function createElementNS($){return document.createElementNS("http://www.w3.org/1999/xhtml",$)}function SRGBToLinear($){return $<.04045?$*.0773993808:Math.pow($*.9478672986+.0521327014,2.4)}function LinearToSRGB($){return $<.0031308?$*12.92:1.055*Math.pow($,.41666)-.055}const FN={[SRGBColorSpace]:{[LinearSRGBColorSpace]:SRGBToLinear},[LinearSRGBColorSpace]:{[SRGBColorSpace]:LinearToSRGB}},ColorManagement={legacyMode:!0,get workingColorSpace(){return LinearSRGBColorSpace},set workingColorSpace($){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function($,o,a){if(this.legacyMode||o===a||!o||!a)return $;if(FN[o]&&FN[o][a]!==void 0){const j=FN[o][a];return $.r=j($.r),$.g=j($.g),$.b=j($.b),$}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function($,o){return this.convert($,this.workingColorSpace,o)},toWorkingColorSpace:function($,o){return this.convert($,o,this.workingColorSpace)}},_colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_rgb$1={r:0,g:0,b:0},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb($,o,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?$+(o-$)*6*a:a<1/2?o:a<2/3?$+(o-$)*6*(2/3-a):$}function toComponents($,o){return o.r=$.r,o.g=$.g,o.b=$.b,o}class Color{constructor(o,a,j){return this.isColor=!0,this.r=1,this.g=1,this.b=1,a===void 0&&j===void 0?this.set(o):this.setRGB(o,a,j)}set(o){return o&&o.isColor?this.copy(o):typeof o=="number"?this.setHex(o):typeof o=="string"&&this.setStyle(o),this}setScalar(o){return this.r=o,this.g=o,this.b=o,this}setHex(o,a=SRGBColorSpace){return o=Math.floor(o),this.r=(o>>16&255)/255,this.g=(o>>8&255)/255,this.b=(o&255)/255,ColorManagement.toWorkingColorSpace(this,a),this}setRGB(o,a,j,_e=ColorManagement.workingColorSpace){return this.r=o,this.g=a,this.b=j,ColorManagement.toWorkingColorSpace(this,_e),this}setHSL(o,a,j,_e=ColorManagement.workingColorSpace){if(o=euclideanModulo(o,1),a=clamp(a,0,1),j=clamp(j,0,1),a===0)this.r=this.g=this.b=j;else{const et=j<=.5?j*(1+a):j+a-j*a,tt=2*j-et;this.r=hue2rgb(tt,et,o+1/3),this.g=hue2rgb(tt,et,o),this.b=hue2rgb(tt,et,o-1/3)}return ColorManagement.toWorkingColorSpace(this,_e),this}setStyle(o,a=SRGBColorSpace){function j(et){et!==void 0&&parseFloat(et)<1&&console.warn("THREE.Color: Alpha component of "+o+" will be ignored.")}let _e;if(_e=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(o)){let et;const tt=_e[1],nt=_e[2];switch(tt){case"rgb":case"rgba":if(et=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(nt))return this.r=Math.min(255,parseInt(et[1],10))/255,this.g=Math.min(255,parseInt(et[2],10))/255,this.b=Math.min(255,parseInt(et[3],10))/255,ColorManagement.toWorkingColorSpace(this,a),j(et[4]),this;if(et=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(nt))return this.r=Math.min(100,parseInt(et[1],10))/100,this.g=Math.min(100,parseInt(et[2],10))/100,this.b=Math.min(100,parseInt(et[3],10))/100,ColorManagement.toWorkingColorSpace(this,a),j(et[4]),this;break;case"hsl":case"hsla":if(et=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(nt)){const rt=parseFloat(et[1])/360,it=parseFloat(et[2])/100,ot=parseFloat(et[3])/100;return j(et[4]),this.setHSL(rt,it,ot,a)}break}}else if(_e=/^\#([A-Fa-f\d]+)$/.exec(o)){const et=_e[1],tt=et.length;if(tt===3)return this.r=parseInt(et.charAt(0)+et.charAt(0),16)/255,this.g=parseInt(et.charAt(1)+et.charAt(1),16)/255,this.b=parseInt(et.charAt(2)+et.charAt(2),16)/255,ColorManagement.toWorkingColorSpace(this,a),this;if(tt===6)return this.r=parseInt(et.charAt(0)+et.charAt(1),16)/255,this.g=parseInt(et.charAt(2)+et.charAt(3),16)/255,this.b=parseInt(et.charAt(4)+et.charAt(5),16)/255,ColorManagement.toWorkingColorSpace(this,a),this}return o&&o.length>0?this.setColorName(o,a):this}setColorName(o,a=SRGBColorSpace){const j=_colorKeywords[o.toLowerCase()];return j!==void 0?this.setHex(j,a):console.warn("THREE.Color: Unknown color "+o),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(o){return this.r=o.r,this.g=o.g,this.b=o.b,this}copySRGBToLinear(o){return this.r=SRGBToLinear(o.r),this.g=SRGBToLinear(o.g),this.b=SRGBToLinear(o.b),this}copyLinearToSRGB(o){return this.r=LinearToSRGB(o.r),this.g=LinearToSRGB(o.g),this.b=LinearToSRGB(o.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(o=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),o),clamp(_rgb$1.r*255,0,255)<<16^clamp(_rgb$1.g*255,0,255)<<8^clamp(_rgb$1.b*255,0,255)<<0}getHexString(o=SRGBColorSpace){return("000000"+this.getHex(o).toString(16)).slice(-6)}getHSL(o,a=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),a);const j=_rgb$1.r,_e=_rgb$1.g,et=_rgb$1.b,tt=Math.max(j,_e,et),nt=Math.min(j,_e,et);let rt,it;const ot=(nt+tt)/2;if(nt===tt)rt=0,it=0;else{const at=tt-nt;switch(it=ot<=.5?at/(tt+nt):at/(2-tt-nt),tt){case j:rt=(_e-et)/at+(_e<et?6:0);break;case _e:rt=(et-j)/at+2;break;case et:rt=(j-_e)/at+4;break}rt/=6}return o.h=rt,o.s=it,o.l=ot,o}getRGB(o,a=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),a),o.r=_rgb$1.r,o.g=_rgb$1.g,o.b=_rgb$1.b,o}getStyle(o=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),o),o!==SRGBColorSpace?`color(${o} ${_rgb$1.r} ${_rgb$1.g} ${_rgb$1.b})`:`rgb(${_rgb$1.r*255|0},${_rgb$1.g*255|0},${_rgb$1.b*255|0})`}offsetHSL(o,a,j){return this.getHSL(_hslA),_hslA.h+=o,_hslA.s+=a,_hslA.l+=j,this.setHSL(_hslA.h,_hslA.s,_hslA.l),this}add(o){return this.r+=o.r,this.g+=o.g,this.b+=o.b,this}addColors(o,a){return this.r=o.r+a.r,this.g=o.g+a.g,this.b=o.b+a.b,this}addScalar(o){return this.r+=o,this.g+=o,this.b+=o,this}sub(o){return this.r=Math.max(0,this.r-o.r),this.g=Math.max(0,this.g-o.g),this.b=Math.max(0,this.b-o.b),this}multiply(o){return this.r*=o.r,this.g*=o.g,this.b*=o.b,this}multiplyScalar(o){return this.r*=o,this.g*=o,this.b*=o,this}lerp(o,a){return this.r+=(o.r-this.r)*a,this.g+=(o.g-this.g)*a,this.b+=(o.b-this.b)*a,this}lerpColors(o,a,j){return this.r=o.r+(a.r-o.r)*j,this.g=o.g+(a.g-o.g)*j,this.b=o.b+(a.b-o.b)*j,this}lerpHSL(o,a){this.getHSL(_hslA),o.getHSL(_hslB);const j=lerp(_hslA.h,_hslB.h,a),_e=lerp(_hslA.s,_hslB.s,a),et=lerp(_hslA.l,_hslB.l,a);return this.setHSL(j,_e,et),this}equals(o){return o.r===this.r&&o.g===this.g&&o.b===this.b}fromArray(o,a=0){return this.r=o[a],this.g=o[a+1],this.b=o[a+2],this}toArray(o=[],a=0){return o[a]=this.r,o[a+1]=this.g,o[a+2]=this.b,o}fromBufferAttribute(o,a){return this.r=o.getX(a),this.g=o.getY(a),this.b=o.getZ(a),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Color.NAMES=_colorKeywords;let _canvas;class ImageUtils{static getDataURL(o){if(/^data:/i.test(o.src)||typeof HTMLCanvasElement>"u")return o.src;let a;if(o instanceof HTMLCanvasElement)a=o;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=o.width,_canvas.height=o.height;const j=_canvas.getContext("2d");o instanceof ImageData?j.putImageData(o,0,0):j.drawImage(o,0,0,o.width,o.height),a=_canvas}return a.width>2048||a.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",o),a.toDataURL("image/jpeg",.6)):a.toDataURL("image/png")}static sRGBToLinear(o){if(typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&o instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&o instanceof ImageBitmap){const a=createElementNS("canvas");a.width=o.width,a.height=o.height;const j=a.getContext("2d");j.drawImage(o,0,0,o.width,o.height);const _e=j.getImageData(0,0,o.width,o.height),et=_e.data;for(let tt=0;tt<et.length;tt++)et[tt]=SRGBToLinear(et[tt]/255)*255;return j.putImageData(_e,0,0),a}else if(o.data){const a=o.data.slice(0);for(let j=0;j<a.length;j++)a instanceof Uint8Array||a instanceof Uint8ClampedArray?a[j]=Math.floor(SRGBToLinear(a[j]/255)*255):a[j]=SRGBToLinear(a[j]);return{data:a,width:o.width,height:o.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),o}}class Source{constructor(o=null){this.isSource=!0,this.uuid=generateUUID(),this.data=o,this.version=0}set needsUpdate(o){o===!0&&this.version++}toJSON(o){const a=o===void 0||typeof o=="string";if(!a&&o.images[this.uuid]!==void 0)return o.images[this.uuid];const j={uuid:this.uuid,url:""},_e=this.data;if(_e!==null){let et;if(Array.isArray(_e)){et=[];for(let tt=0,nt=_e.length;tt<nt;tt++)_e[tt].isDataTexture?et.push(serializeImage(_e[tt].image)):et.push(serializeImage(_e[tt]))}else et=serializeImage(_e);j.url=et}return a||(o.images[this.uuid]=j),j}}function serializeImage($){return typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap?ImageUtils.getDataURL($):$.data?{data:Array.from($.data),width:$.width,height:$.height,type:$.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let textureId=0;class Texture extends EventDispatcher{constructor(o=Texture.DEFAULT_IMAGE,a=Texture.DEFAULT_MAPPING,j=ClampToEdgeWrapping,_e=ClampToEdgeWrapping,et=LinearFilter,tt=LinearMipmapLinearFilter,nt=RGBAFormat,rt=UnsignedByteType,it=Texture.DEFAULT_ANISOTROPY,ot=LinearEncoding){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(o),this.mipmaps=[],this.mapping=a,this.wrapS=j,this.wrapT=_e,this.magFilter=et,this.minFilter=tt,this.anisotropy=it,this.format=nt,this.internalFormat=null,this.type=rt,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=ot,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(o){this.source.data=o}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(o){return this.name=o.name,this.source=o.source,this.mipmaps=o.mipmaps.slice(0),this.mapping=o.mapping,this.wrapS=o.wrapS,this.wrapT=o.wrapT,this.magFilter=o.magFilter,this.minFilter=o.minFilter,this.anisotropy=o.anisotropy,this.format=o.format,this.internalFormat=o.internalFormat,this.type=o.type,this.offset.copy(o.offset),this.repeat.copy(o.repeat),this.center.copy(o.center),this.rotation=o.rotation,this.matrixAutoUpdate=o.matrixAutoUpdate,this.matrix.copy(o.matrix),this.generateMipmaps=o.generateMipmaps,this.premultiplyAlpha=o.premultiplyAlpha,this.flipY=o.flipY,this.unpackAlignment=o.unpackAlignment,this.encoding=o.encoding,this.userData=JSON.parse(JSON.stringify(o.userData)),this.needsUpdate=!0,this}toJSON(o){const a=o===void 0||typeof o=="string";if(!a&&o.textures[this.uuid]!==void 0)return o.textures[this.uuid];const j={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(o).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(j.userData=this.userData),a||(o.textures[this.uuid]=j),j}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(o){if(this.mapping!==UVMapping)return o;if(o.applyMatrix3(this.matrix),o.x<0||o.x>1)switch(this.wrapS){case RepeatWrapping:o.x=o.x-Math.floor(o.x);break;case ClampToEdgeWrapping:o.x=o.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(o.x)%2)===1?o.x=Math.ceil(o.x)-o.x:o.x=o.x-Math.floor(o.x);break}if(o.y<0||o.y>1)switch(this.wrapT){case RepeatWrapping:o.y=o.y-Math.floor(o.y);break;case ClampToEdgeWrapping:o.y=o.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(o.y)%2)===1?o.y=Math.ceil(o.y)-o.y:o.y=o.y-Math.floor(o.y);break}return this.flipY&&(o.y=1-o.y),o}set needsUpdate(o){o===!0&&(this.version++,this.source.needsUpdate=!0)}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(o=0,a=0,j=0,_e=1){Vector4.prototype.isVector4=!0,this.x=o,this.y=a,this.z=j,this.w=_e}get width(){return this.z}set width(o){this.z=o}get height(){return this.w}set height(o){this.w=o}set(o,a,j,_e){return this.x=o,this.y=a,this.z=j,this.w=_e,this}setScalar(o){return this.x=o,this.y=o,this.z=o,this.w=o,this}setX(o){return this.x=o,this}setY(o){return this.y=o,this}setZ(o){return this.z=o,this}setW(o){return this.w=o,this}setComponent(o,a){switch(o){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;case 3:this.w=a;break;default:throw new Error("index is out of range: "+o)}return this}getComponent(o){switch(o){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+o)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(o){return this.x=o.x,this.y=o.y,this.z=o.z,this.w=o.w!==void 0?o.w:1,this}add(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z,this.w+=o.w,this}addScalar(o){return this.x+=o,this.y+=o,this.z+=o,this.w+=o,this}addVectors(o,a){return this.x=o.x+a.x,this.y=o.y+a.y,this.z=o.z+a.z,this.w=o.w+a.w,this}addScaledVector(o,a){return this.x+=o.x*a,this.y+=o.y*a,this.z+=o.z*a,this.w+=o.w*a,this}sub(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z,this.w-=o.w,this}subScalar(o){return this.x-=o,this.y-=o,this.z-=o,this.w-=o,this}subVectors(o,a){return this.x=o.x-a.x,this.y=o.y-a.y,this.z=o.z-a.z,this.w=o.w-a.w,this}multiply(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z,this.w*=o.w,this}multiplyScalar(o){return this.x*=o,this.y*=o,this.z*=o,this.w*=o,this}applyMatrix4(o){const a=this.x,j=this.y,_e=this.z,et=this.w,tt=o.elements;return this.x=tt[0]*a+tt[4]*j+tt[8]*_e+tt[12]*et,this.y=tt[1]*a+tt[5]*j+tt[9]*_e+tt[13]*et,this.z=tt[2]*a+tt[6]*j+tt[10]*_e+tt[14]*et,this.w=tt[3]*a+tt[7]*j+tt[11]*_e+tt[15]*et,this}divideScalar(o){return this.multiplyScalar(1/o)}setAxisAngleFromQuaternion(o){this.w=2*Math.acos(o.w);const a=Math.sqrt(1-o.w*o.w);return a<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=o.x/a,this.y=o.y/a,this.z=o.z/a),this}setAxisAngleFromRotationMatrix(o){let a,j,_e,et;const rt=o.elements,it=rt[0],ot=rt[4],at=rt[8],ct=rt[1],ut=rt[5],dt=rt[9],ft=rt[2],ht=rt[6],pt=rt[10];if(Math.abs(ot-ct)<.01&&Math.abs(at-ft)<.01&&Math.abs(dt-ht)<.01){if(Math.abs(ot+ct)<.1&&Math.abs(at+ft)<.1&&Math.abs(dt+ht)<.1&&Math.abs(it+ut+pt-3)<.1)return this.set(1,0,0,0),this;a=Math.PI;const gt=(it+1)/2,bt=(ut+1)/2,At=(pt+1)/2,Tt=(ot+ct)/4,Pt=(at+ft)/4,Ct=(dt+ht)/4;return gt>bt&&gt>At?gt<.01?(j=0,_e=.707106781,et=.707106781):(j=Math.sqrt(gt),_e=Tt/j,et=Pt/j):bt>At?bt<.01?(j=.707106781,_e=0,et=.707106781):(_e=Math.sqrt(bt),j=Tt/_e,et=Ct/_e):At<.01?(j=.707106781,_e=.707106781,et=0):(et=Math.sqrt(At),j=Pt/et,_e=Ct/et),this.set(j,_e,et,a),this}let yt=Math.sqrt((ht-dt)*(ht-dt)+(at-ft)*(at-ft)+(ct-ot)*(ct-ot));return Math.abs(yt)<.001&&(yt=1),this.x=(ht-dt)/yt,this.y=(at-ft)/yt,this.z=(ct-ot)/yt,this.w=Math.acos((it+ut+pt-1)/2),this}min(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this.w=Math.min(this.w,o.w),this}max(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this.w=Math.max(this.w,o.w),this}clamp(o,a){return this.x=Math.max(o.x,Math.min(a.x,this.x)),this.y=Math.max(o.y,Math.min(a.y,this.y)),this.z=Math.max(o.z,Math.min(a.z,this.z)),this.w=Math.max(o.w,Math.min(a.w,this.w)),this}clampScalar(o,a){return this.x=Math.max(o,Math.min(a,this.x)),this.y=Math.max(o,Math.min(a,this.y)),this.z=Math.max(o,Math.min(a,this.z)),this.w=Math.max(o,Math.min(a,this.w)),this}clampLength(o,a){const j=this.length();return this.divideScalar(j||1).multiplyScalar(Math.max(o,Math.min(a,j)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(o){return this.x*o.x+this.y*o.y+this.z*o.z+this.w*o.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(o){return this.normalize().multiplyScalar(o)}lerp(o,a){return this.x+=(o.x-this.x)*a,this.y+=(o.y-this.y)*a,this.z+=(o.z-this.z)*a,this.w+=(o.w-this.w)*a,this}lerpVectors(o,a,j){return this.x=o.x+(a.x-o.x)*j,this.y=o.y+(a.y-o.y)*j,this.z=o.z+(a.z-o.z)*j,this.w=o.w+(a.w-o.w)*j,this}equals(o){return o.x===this.x&&o.y===this.y&&o.z===this.z&&o.w===this.w}fromArray(o,a=0){return this.x=o[a],this.y=o[a+1],this.z=o[a+2],this.w=o[a+3],this}toArray(o=[],a=0){return o[a]=this.x,o[a+1]=this.y,o[a+2]=this.z,o[a+3]=this.w,o}fromBufferAttribute(o,a){return this.x=o.getX(a),this.y=o.getY(a),this.z=o.getZ(a),this.w=o.getW(a),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class WebGLRenderTarget extends EventDispatcher{constructor(o=1,a=1,j={}){super(),this.isWebGLRenderTarget=!0,this.width=o,this.height=a,this.depth=1,this.scissor=new Vector4(0,0,o,a),this.scissorTest=!1,this.viewport=new Vector4(0,0,o,a);const _e={width:o,height:a,depth:1};this.texture=new Texture(_e,j.mapping,j.wrapS,j.wrapT,j.magFilter,j.minFilter,j.format,j.type,j.anisotropy,j.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=j.generateMipmaps!==void 0?j.generateMipmaps:!1,this.texture.internalFormat=j.internalFormat!==void 0?j.internalFormat:null,this.texture.minFilter=j.minFilter!==void 0?j.minFilter:LinearFilter,this.depthBuffer=j.depthBuffer!==void 0?j.depthBuffer:!0,this.stencilBuffer=j.stencilBuffer!==void 0?j.stencilBuffer:!1,this.depthTexture=j.depthTexture!==void 0?j.depthTexture:null,this.samples=j.samples!==void 0?j.samples:0}setSize(o,a,j=1){(this.width!==o||this.height!==a||this.depth!==j)&&(this.width=o,this.height=a,this.depth=j,this.texture.image.width=o,this.texture.image.height=a,this.texture.image.depth=j,this.dispose()),this.viewport.set(0,0,o,a),this.scissor.set(0,0,o,a)}clone(){return new this.constructor().copy(this)}copy(o){this.width=o.width,this.height=o.height,this.depth=o.depth,this.viewport.copy(o.viewport),this.texture=o.texture.clone(),this.texture.isRenderTargetTexture=!0;const a=Object.assign({},o.texture.image);return this.texture.source=new Source(a),this.depthBuffer=o.depthBuffer,this.stencilBuffer=o.stencilBuffer,o.depthTexture!==null&&(this.depthTexture=o.depthTexture.clone()),this.samples=o.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class DataArrayTexture extends Texture{constructor(o=null,a=1,j=1,_e=1){super(null),this.isDataArrayTexture=!0,this.image={data:o,width:a,height:j,depth:_e},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(o=1,a=1,j=1){super(o,a),this.isWebGLArrayRenderTarget=!0,this.depth=j,this.texture=new DataArrayTexture(null,o,a,j),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(o=null,a=1,j=1,_e=1){super(null),this.isData3DTexture=!0,this.image={data:o,width:a,height:j,depth:_e},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(o=1,a=1,j=1){super(o,a),this.isWebGL3DRenderTarget=!0,this.depth=j,this.texture=new Data3DTexture(null,o,a,j),this.texture.isRenderTargetTexture=!0}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(o=1,a=1,j=1,_e={}){super(o,a,_e),this.isWebGLMultipleRenderTargets=!0;const et=this.texture;this.texture=[];for(let tt=0;tt<j;tt++)this.texture[tt]=et.clone(),this.texture[tt].isRenderTargetTexture=!0}setSize(o,a,j=1){if(this.width!==o||this.height!==a||this.depth!==j){this.width=o,this.height=a,this.depth=j;for(let _e=0,et=this.texture.length;_e<et;_e++)this.texture[_e].image.width=o,this.texture[_e].image.height=a,this.texture[_e].image.depth=j;this.dispose()}return this.viewport.set(0,0,o,a),this.scissor.set(0,0,o,a),this}copy(o){this.dispose(),this.width=o.width,this.height=o.height,this.depth=o.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=o.depthBuffer,this.stencilBuffer=o.stencilBuffer,o.depthTexture!==null&&(this.depthTexture=o.depthTexture.clone()),this.texture.length=0;for(let a=0,j=o.texture.length;a<j;a++)this.texture[a]=o.texture[a].clone(),this.texture[a].isRenderTargetTexture=!0;return this}}class Quaternion{constructor(o=0,a=0,j=0,_e=1){this.isQuaternion=!0,this._x=o,this._y=a,this._z=j,this._w=_e}static slerpFlat(o,a,j,_e,et,tt,nt){let rt=j[_e+0],it=j[_e+1],ot=j[_e+2],at=j[_e+3];const ct=et[tt+0],ut=et[tt+1],dt=et[tt+2],ft=et[tt+3];if(nt===0){o[a+0]=rt,o[a+1]=it,o[a+2]=ot,o[a+3]=at;return}if(nt===1){o[a+0]=ct,o[a+1]=ut,o[a+2]=dt,o[a+3]=ft;return}if(at!==ft||rt!==ct||it!==ut||ot!==dt){let ht=1-nt;const pt=rt*ct+it*ut+ot*dt+at*ft,yt=pt>=0?1:-1,gt=1-pt*pt;if(gt>Number.EPSILON){const At=Math.sqrt(gt),Tt=Math.atan2(At,pt*yt);ht=Math.sin(ht*Tt)/At,nt=Math.sin(nt*Tt)/At}const bt=nt*yt;if(rt=rt*ht+ct*bt,it=it*ht+ut*bt,ot=ot*ht+dt*bt,at=at*ht+ft*bt,ht===1-nt){const At=1/Math.sqrt(rt*rt+it*it+ot*ot+at*at);rt*=At,it*=At,ot*=At,at*=At}}o[a]=rt,o[a+1]=it,o[a+2]=ot,o[a+3]=at}static multiplyQuaternionsFlat(o,a,j,_e,et,tt){const nt=j[_e],rt=j[_e+1],it=j[_e+2],ot=j[_e+3],at=et[tt],ct=et[tt+1],ut=et[tt+2],dt=et[tt+3];return o[a]=nt*dt+ot*at+rt*ut-it*ct,o[a+1]=rt*dt+ot*ct+it*at-nt*ut,o[a+2]=it*dt+ot*ut+nt*ct-rt*at,o[a+3]=ot*dt-nt*at-rt*ct-it*ut,o}get x(){return this._x}set x(o){this._x=o,this._onChangeCallback()}get y(){return this._y}set y(o){this._y=o,this._onChangeCallback()}get z(){return this._z}set z(o){this._z=o,this._onChangeCallback()}get w(){return this._w}set w(o){this._w=o,this._onChangeCallback()}set(o,a,j,_e){return this._x=o,this._y=a,this._z=j,this._w=_e,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(o){return this._x=o.x,this._y=o.y,this._z=o.z,this._w=o.w,this._onChangeCallback(),this}setFromEuler(o,a){const j=o._x,_e=o._y,et=o._z,tt=o._order,nt=Math.cos,rt=Math.sin,it=nt(j/2),ot=nt(_e/2),at=nt(et/2),ct=rt(j/2),ut=rt(_e/2),dt=rt(et/2);switch(tt){case"XYZ":this._x=ct*ot*at+it*ut*dt,this._y=it*ut*at-ct*ot*dt,this._z=it*ot*dt+ct*ut*at,this._w=it*ot*at-ct*ut*dt;break;case"YXZ":this._x=ct*ot*at+it*ut*dt,this._y=it*ut*at-ct*ot*dt,this._z=it*ot*dt-ct*ut*at,this._w=it*ot*at+ct*ut*dt;break;case"ZXY":this._x=ct*ot*at-it*ut*dt,this._y=it*ut*at+ct*ot*dt,this._z=it*ot*dt+ct*ut*at,this._w=it*ot*at-ct*ut*dt;break;case"ZYX":this._x=ct*ot*at-it*ut*dt,this._y=it*ut*at+ct*ot*dt,this._z=it*ot*dt-ct*ut*at,this._w=it*ot*at+ct*ut*dt;break;case"YZX":this._x=ct*ot*at+it*ut*dt,this._y=it*ut*at+ct*ot*dt,this._z=it*ot*dt-ct*ut*at,this._w=it*ot*at-ct*ut*dt;break;case"XZY":this._x=ct*ot*at-it*ut*dt,this._y=it*ut*at-ct*ot*dt,this._z=it*ot*dt+ct*ut*at,this._w=it*ot*at+ct*ut*dt;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+tt)}return a!==!1&&this._onChangeCallback(),this}setFromAxisAngle(o,a){const j=a/2,_e=Math.sin(j);return this._x=o.x*_e,this._y=o.y*_e,this._z=o.z*_e,this._w=Math.cos(j),this._onChangeCallback(),this}setFromRotationMatrix(o){const a=o.elements,j=a[0],_e=a[4],et=a[8],tt=a[1],nt=a[5],rt=a[9],it=a[2],ot=a[6],at=a[10],ct=j+nt+at;if(ct>0){const ut=.5/Math.sqrt(ct+1);this._w=.25/ut,this._x=(ot-rt)*ut,this._y=(et-it)*ut,this._z=(tt-_e)*ut}else if(j>nt&&j>at){const ut=2*Math.sqrt(1+j-nt-at);this._w=(ot-rt)/ut,this._x=.25*ut,this._y=(_e+tt)/ut,this._z=(et+it)/ut}else if(nt>at){const ut=2*Math.sqrt(1+nt-j-at);this._w=(et-it)/ut,this._x=(_e+tt)/ut,this._y=.25*ut,this._z=(rt+ot)/ut}else{const ut=2*Math.sqrt(1+at-j-nt);this._w=(tt-_e)/ut,this._x=(et+it)/ut,this._y=(rt+ot)/ut,this._z=.25*ut}return this._onChangeCallback(),this}setFromUnitVectors(o,a){let j=o.dot(a)+1;return j<Number.EPSILON?(j=0,Math.abs(o.x)>Math.abs(o.z)?(this._x=-o.y,this._y=o.x,this._z=0,this._w=j):(this._x=0,this._y=-o.z,this._z=o.y,this._w=j)):(this._x=o.y*a.z-o.z*a.y,this._y=o.z*a.x-o.x*a.z,this._z=o.x*a.y-o.y*a.x,this._w=j),this.normalize()}angleTo(o){return 2*Math.acos(Math.abs(clamp(this.dot(o),-1,1)))}rotateTowards(o,a){const j=this.angleTo(o);if(j===0)return this;const _e=Math.min(1,a/j);return this.slerp(o,_e),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(o){return this._x*o._x+this._y*o._y+this._z*o._z+this._w*o._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let o=this.length();return o===0?(this._x=0,this._y=0,this._z=0,this._w=1):(o=1/o,this._x=this._x*o,this._y=this._y*o,this._z=this._z*o,this._w=this._w*o),this._onChangeCallback(),this}multiply(o){return this.multiplyQuaternions(this,o)}premultiply(o){return this.multiplyQuaternions(o,this)}multiplyQuaternions(o,a){const j=o._x,_e=o._y,et=o._z,tt=o._w,nt=a._x,rt=a._y,it=a._z,ot=a._w;return this._x=j*ot+tt*nt+_e*it-et*rt,this._y=_e*ot+tt*rt+et*nt-j*it,this._z=et*ot+tt*it+j*rt-_e*nt,this._w=tt*ot-j*nt-_e*rt-et*it,this._onChangeCallback(),this}slerp(o,a){if(a===0)return this;if(a===1)return this.copy(o);const j=this._x,_e=this._y,et=this._z,tt=this._w;let nt=tt*o._w+j*o._x+_e*o._y+et*o._z;if(nt<0?(this._w=-o._w,this._x=-o._x,this._y=-o._y,this._z=-o._z,nt=-nt):this.copy(o),nt>=1)return this._w=tt,this._x=j,this._y=_e,this._z=et,this;const rt=1-nt*nt;if(rt<=Number.EPSILON){const ut=1-a;return this._w=ut*tt+a*this._w,this._x=ut*j+a*this._x,this._y=ut*_e+a*this._y,this._z=ut*et+a*this._z,this.normalize(),this._onChangeCallback(),this}const it=Math.sqrt(rt),ot=Math.atan2(it,nt),at=Math.sin((1-a)*ot)/it,ct=Math.sin(a*ot)/it;return this._w=tt*at+this._w*ct,this._x=j*at+this._x*ct,this._y=_e*at+this._y*ct,this._z=et*at+this._z*ct,this._onChangeCallback(),this}slerpQuaternions(o,a,j){return this.copy(o).slerp(a,j)}random(){const o=Math.random(),a=Math.sqrt(1-o),j=Math.sqrt(o),_e=2*Math.PI*Math.random(),et=2*Math.PI*Math.random();return this.set(a*Math.cos(_e),j*Math.sin(et),j*Math.cos(et),a*Math.sin(_e))}equals(o){return o._x===this._x&&o._y===this._y&&o._z===this._z&&o._w===this._w}fromArray(o,a=0){return this._x=o[a],this._y=o[a+1],this._z=o[a+2],this._w=o[a+3],this._onChangeCallback(),this}toArray(o=[],a=0){return o[a]=this._x,o[a+1]=this._y,o[a+2]=this._z,o[a+3]=this._w,o}fromBufferAttribute(o,a){return this._x=o.getX(a),this._y=o.getY(a),this._z=o.getZ(a),this._w=o.getW(a),this}_onChange(o){return this._onChangeCallback=o,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(o=0,a=0,j=0){Vector3.prototype.isVector3=!0,this.x=o,this.y=a,this.z=j}set(o,a,j){return j===void 0&&(j=this.z),this.x=o,this.y=a,this.z=j,this}setScalar(o){return this.x=o,this.y=o,this.z=o,this}setX(o){return this.x=o,this}setY(o){return this.y=o,this}setZ(o){return this.z=o,this}setComponent(o,a){switch(o){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;default:throw new Error("index is out of range: "+o)}return this}getComponent(o){switch(o){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+o)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(o){return this.x=o.x,this.y=o.y,this.z=o.z,this}add(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z,this}addScalar(o){return this.x+=o,this.y+=o,this.z+=o,this}addVectors(o,a){return this.x=o.x+a.x,this.y=o.y+a.y,this.z=o.z+a.z,this}addScaledVector(o,a){return this.x+=o.x*a,this.y+=o.y*a,this.z+=o.z*a,this}sub(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z,this}subScalar(o){return this.x-=o,this.y-=o,this.z-=o,this}subVectors(o,a){return this.x=o.x-a.x,this.y=o.y-a.y,this.z=o.z-a.z,this}multiply(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z,this}multiplyScalar(o){return this.x*=o,this.y*=o,this.z*=o,this}multiplyVectors(o,a){return this.x=o.x*a.x,this.y=o.y*a.y,this.z=o.z*a.z,this}applyEuler(o){return this.applyQuaternion(_quaternion$4.setFromEuler(o))}applyAxisAngle(o,a){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(o,a))}applyMatrix3(o){const a=this.x,j=this.y,_e=this.z,et=o.elements;return this.x=et[0]*a+et[3]*j+et[6]*_e,this.y=et[1]*a+et[4]*j+et[7]*_e,this.z=et[2]*a+et[5]*j+et[8]*_e,this}applyNormalMatrix(o){return this.applyMatrix3(o).normalize()}applyMatrix4(o){const a=this.x,j=this.y,_e=this.z,et=o.elements,tt=1/(et[3]*a+et[7]*j+et[11]*_e+et[15]);return this.x=(et[0]*a+et[4]*j+et[8]*_e+et[12])*tt,this.y=(et[1]*a+et[5]*j+et[9]*_e+et[13])*tt,this.z=(et[2]*a+et[6]*j+et[10]*_e+et[14])*tt,this}applyQuaternion(o){const a=this.x,j=this.y,_e=this.z,et=o.x,tt=o.y,nt=o.z,rt=o.w,it=rt*a+tt*_e-nt*j,ot=rt*j+nt*a-et*_e,at=rt*_e+et*j-tt*a,ct=-et*a-tt*j-nt*_e;return this.x=it*rt+ct*-et+ot*-nt-at*-tt,this.y=ot*rt+ct*-tt+at*-et-it*-nt,this.z=at*rt+ct*-nt+it*-tt-ot*-et,this}project(o){return this.applyMatrix4(o.matrixWorldInverse).applyMatrix4(o.projectionMatrix)}unproject(o){return this.applyMatrix4(o.projectionMatrixInverse).applyMatrix4(o.matrixWorld)}transformDirection(o){const a=this.x,j=this.y,_e=this.z,et=o.elements;return this.x=et[0]*a+et[4]*j+et[8]*_e,this.y=et[1]*a+et[5]*j+et[9]*_e,this.z=et[2]*a+et[6]*j+et[10]*_e,this.normalize()}divide(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z,this}divideScalar(o){return this.multiplyScalar(1/o)}min(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this}max(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this}clamp(o,a){return this.x=Math.max(o.x,Math.min(a.x,this.x)),this.y=Math.max(o.y,Math.min(a.y,this.y)),this.z=Math.max(o.z,Math.min(a.z,this.z)),this}clampScalar(o,a){return this.x=Math.max(o,Math.min(a,this.x)),this.y=Math.max(o,Math.min(a,this.y)),this.z=Math.max(o,Math.min(a,this.z)),this}clampLength(o,a){const j=this.length();return this.divideScalar(j||1).multiplyScalar(Math.max(o,Math.min(a,j)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(o){return this.x*o.x+this.y*o.y+this.z*o.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(o){return this.normalize().multiplyScalar(o)}lerp(o,a){return this.x+=(o.x-this.x)*a,this.y+=(o.y-this.y)*a,this.z+=(o.z-this.z)*a,this}lerpVectors(o,a,j){return this.x=o.x+(a.x-o.x)*j,this.y=o.y+(a.y-o.y)*j,this.z=o.z+(a.z-o.z)*j,this}cross(o){return this.crossVectors(this,o)}crossVectors(o,a){const j=o.x,_e=o.y,et=o.z,tt=a.x,nt=a.y,rt=a.z;return this.x=_e*rt-et*nt,this.y=et*tt-j*rt,this.z=j*nt-_e*tt,this}projectOnVector(o){const a=o.lengthSq();if(a===0)return this.set(0,0,0);const j=o.dot(this)/a;return this.copy(o).multiplyScalar(j)}projectOnPlane(o){return _vector$c.copy(this).projectOnVector(o),this.sub(_vector$c)}reflect(o){return this.sub(_vector$c.copy(o).multiplyScalar(2*this.dot(o)))}angleTo(o){const a=Math.sqrt(this.lengthSq()*o.lengthSq());if(a===0)return Math.PI/2;const j=this.dot(o)/a;return Math.acos(clamp(j,-1,1))}distanceTo(o){return Math.sqrt(this.distanceToSquared(o))}distanceToSquared(o){const a=this.x-o.x,j=this.y-o.y,_e=this.z-o.z;return a*a+j*j+_e*_e}manhattanDistanceTo(o){return Math.abs(this.x-o.x)+Math.abs(this.y-o.y)+Math.abs(this.z-o.z)}setFromSpherical(o){return this.setFromSphericalCoords(o.radius,o.phi,o.theta)}setFromSphericalCoords(o,a,j){const _e=Math.sin(a)*o;return this.x=_e*Math.sin(j),this.y=Math.cos(a)*o,this.z=_e*Math.cos(j),this}setFromCylindrical(o){return this.setFromCylindricalCoords(o.radius,o.theta,o.y)}setFromCylindricalCoords(o,a,j){return this.x=o*Math.sin(a),this.y=j,this.z=o*Math.cos(a),this}setFromMatrixPosition(o){const a=o.elements;return this.x=a[12],this.y=a[13],this.z=a[14],this}setFromMatrixScale(o){const a=this.setFromMatrixColumn(o,0).length(),j=this.setFromMatrixColumn(o,1).length(),_e=this.setFromMatrixColumn(o,2).length();return this.x=a,this.y=j,this.z=_e,this}setFromMatrixColumn(o,a){return this.fromArray(o.elements,a*4)}setFromMatrix3Column(o,a){return this.fromArray(o.elements,a*3)}setFromEuler(o){return this.x=o._x,this.y=o._y,this.z=o._z,this}equals(o){return o.x===this.x&&o.y===this.y&&o.z===this.z}fromArray(o,a=0){return this.x=o[a],this.y=o[a+1],this.z=o[a+2],this}toArray(o=[],a=0){return o[a]=this.x,o[a+1]=this.y,o[a+2]=this.z,o}fromBufferAttribute(o,a){return this.x=o.getX(a),this.y=o.getY(a),this.z=o.getZ(a),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const o=(Math.random()-.5)*2,a=Math.random()*Math.PI*2,j=Math.sqrt(1-o**2);return this.x=j*Math.cos(a),this.y=j*Math.sin(a),this.z=o,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(o=new Vector3(1/0,1/0,1/0),a=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=o,this.max=a}set(o,a){return this.min.copy(o),this.max.copy(a),this}setFromArray(o){let a=1/0,j=1/0,_e=1/0,et=-1/0,tt=-1/0,nt=-1/0;for(let rt=0,it=o.length;rt<it;rt+=3){const ot=o[rt],at=o[rt+1],ct=o[rt+2];ot<a&&(a=ot),at<j&&(j=at),ct<_e&&(_e=ct),ot>et&&(et=ot),at>tt&&(tt=at),ct>nt&&(nt=ct)}return this.min.set(a,j,_e),this.max.set(et,tt,nt),this}setFromBufferAttribute(o){let a=1/0,j=1/0,_e=1/0,et=-1/0,tt=-1/0,nt=-1/0;for(let rt=0,it=o.count;rt<it;rt++){const ot=o.getX(rt),at=o.getY(rt),ct=o.getZ(rt);ot<a&&(a=ot),at<j&&(j=at),ct<_e&&(_e=ct),ot>et&&(et=ot),at>tt&&(tt=at),ct>nt&&(nt=ct)}return this.min.set(a,j,_e),this.max.set(et,tt,nt),this}setFromPoints(o){this.makeEmpty();for(let a=0,j=o.length;a<j;a++)this.expandByPoint(o[a]);return this}setFromCenterAndSize(o,a){const j=_vector$b.copy(a).multiplyScalar(.5);return this.min.copy(o).sub(j),this.max.copy(o).add(j),this}setFromObject(o,a=!1){return this.makeEmpty(),this.expandByObject(o,a)}clone(){return new this.constructor().copy(this)}copy(o){return this.min.copy(o.min),this.max.copy(o.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(o){return this.isEmpty()?o.set(0,0,0):o.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(o){return this.isEmpty()?o.set(0,0,0):o.subVectors(this.max,this.min)}expandByPoint(o){return this.min.min(o),this.max.max(o),this}expandByVector(o){return this.min.sub(o),this.max.add(o),this}expandByScalar(o){return this.min.addScalar(-o),this.max.addScalar(o),this}expandByObject(o,a=!1){o.updateWorldMatrix(!1,!1);const j=o.geometry;if(j!==void 0)if(a&&j.attributes!=null&&j.attributes.position!==void 0){const et=j.attributes.position;for(let tt=0,nt=et.count;tt<nt;tt++)_vector$b.fromBufferAttribute(et,tt).applyMatrix4(o.matrixWorld),this.expandByPoint(_vector$b)}else j.boundingBox===null&&j.computeBoundingBox(),_box$3.copy(j.boundingBox),_box$3.applyMatrix4(o.matrixWorld),this.union(_box$3);const _e=o.children;for(let et=0,tt=_e.length;et<tt;et++)this.expandByObject(_e[et],a);return this}containsPoint(o){return!(o.x<this.min.x||o.x>this.max.x||o.y<this.min.y||o.y>this.max.y||o.z<this.min.z||o.z>this.max.z)}containsBox(o){return this.min.x<=o.min.x&&o.max.x<=this.max.x&&this.min.y<=o.min.y&&o.max.y<=this.max.y&&this.min.z<=o.min.z&&o.max.z<=this.max.z}getParameter(o,a){return a.set((o.x-this.min.x)/(this.max.x-this.min.x),(o.y-this.min.y)/(this.max.y-this.min.y),(o.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(o){return!(o.max.x<this.min.x||o.min.x>this.max.x||o.max.y<this.min.y||o.min.y>this.max.y||o.max.z<this.min.z||o.min.z>this.max.z)}intersectsSphere(o){return this.clampPoint(o.center,_vector$b),_vector$b.distanceToSquared(o.center)<=o.radius*o.radius}intersectsPlane(o){let a,j;return o.normal.x>0?(a=o.normal.x*this.min.x,j=o.normal.x*this.max.x):(a=o.normal.x*this.max.x,j=o.normal.x*this.min.x),o.normal.y>0?(a+=o.normal.y*this.min.y,j+=o.normal.y*this.max.y):(a+=o.normal.y*this.max.y,j+=o.normal.y*this.min.y),o.normal.z>0?(a+=o.normal.z*this.min.z,j+=o.normal.z*this.max.z):(a+=o.normal.z*this.max.z,j+=o.normal.z*this.min.z),a<=-o.constant&&j>=-o.constant}intersectsTriangle(o){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(o.a,_center),_v1$7.subVectors(o.b,_center),_v2$4.subVectors(o.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let a=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(a,_v0$2,_v1$7,_v2$4,_extents)||(a=[1,0,0,0,1,0,0,0,1],!satForAxes(a,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),a=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(a,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(o,a){return a.copy(o).clamp(this.min,this.max)}distanceToPoint(o){return _vector$b.copy(o).clamp(this.min,this.max).sub(o).length()}getBoundingSphere(o){return this.getCenter(o.center),o.radius=this.getSize(_vector$b).length()*.5,o}intersect(o){return this.min.max(o.min),this.max.min(o.max),this.isEmpty()&&this.makeEmpty(),this}union(o){return this.min.min(o.min),this.max.max(o.max),this}applyMatrix4(o){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(o),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(o),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(o),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(o),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(o),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(o),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(o),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(o),this.setFromPoints(_points),this)}translate(o){return this.min.add(o),this.max.add(o),this}equals(o){return o.min.equals(this.min)&&o.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes($,o,a,j,_e){for(let et=0,tt=$.length-3;et<=tt;et+=3){_testAxis.fromArray($,et);const nt=_e.x*Math.abs(_testAxis.x)+_e.y*Math.abs(_testAxis.y)+_e.z*Math.abs(_testAxis.z),rt=o.dot(_testAxis),it=a.dot(_testAxis),ot=j.dot(_testAxis);if(Math.max(-Math.max(rt,it,ot),Math.min(rt,it,ot))>nt)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(o=new Vector3,a=-1){this.center=o,this.radius=a}set(o,a){return this.center.copy(o),this.radius=a,this}setFromPoints(o,a){const j=this.center;a!==void 0?j.copy(a):_box$2.setFromPoints(o).getCenter(j);let _e=0;for(let et=0,tt=o.length;et<tt;et++)_e=Math.max(_e,j.distanceToSquared(o[et]));return this.radius=Math.sqrt(_e),this}copy(o){return this.center.copy(o.center),this.radius=o.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(o){return o.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(o){return o.distanceTo(this.center)-this.radius}intersectsSphere(o){const a=this.radius+o.radius;return o.center.distanceToSquared(this.center)<=a*a}intersectsBox(o){return o.intersectsSphere(this)}intersectsPlane(o){return Math.abs(o.distanceToPoint(this.center))<=this.radius}clampPoint(o,a){const j=this.center.distanceToSquared(o);return a.copy(o),j>this.radius*this.radius&&(a.sub(this.center).normalize(),a.multiplyScalar(this.radius).add(this.center)),a}getBoundingBox(o){return this.isEmpty()?(o.makeEmpty(),o):(o.set(this.center,this.center),o.expandByScalar(this.radius),o)}applyMatrix4(o){return this.center.applyMatrix4(o),this.radius=this.radius*o.getMaxScaleOnAxis(),this}translate(o){return this.center.add(o),this}expandByPoint(o){if(this.isEmpty())return this.center.copy(o),this.radius=0,this;_v1$6.subVectors(o,this.center);const a=_v1$6.lengthSq();if(a>this.radius*this.radius){const j=Math.sqrt(a),_e=(j-this.radius)*.5;this.center.addScaledVector(_v1$6,_e/j),this.radius+=_e}return this}union(o){return o.isEmpty()?this:this.isEmpty()?(this.copy(o),this):(this.center.equals(o.center)===!0?this.radius=Math.max(this.radius,o.radius):(_v2$3.subVectors(o.center,this.center).setLength(o.radius),this.expandByPoint(_v1$6.copy(o.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(o.center).sub(_v2$3))),this)}equals(o){return o.center.equals(this.center)&&o.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(o=new Vector3,a=new Vector3(0,0,-1)){this.origin=o,this.direction=a}set(o,a){return this.origin.copy(o),this.direction.copy(a),this}copy(o){return this.origin.copy(o.origin),this.direction.copy(o.direction),this}at(o,a){return a.copy(this.direction).multiplyScalar(o).add(this.origin)}lookAt(o){return this.direction.copy(o).sub(this.origin).normalize(),this}recast(o){return this.origin.copy(this.at(o,_vector$a)),this}closestPointToPoint(o,a){a.subVectors(o,this.origin);const j=a.dot(this.direction);return j<0?a.copy(this.origin):a.copy(this.direction).multiplyScalar(j).add(this.origin)}distanceToPoint(o){return Math.sqrt(this.distanceSqToPoint(o))}distanceSqToPoint(o){const a=_vector$a.subVectors(o,this.origin).dot(this.direction);return a<0?this.origin.distanceToSquared(o):(_vector$a.copy(this.direction).multiplyScalar(a).add(this.origin),_vector$a.distanceToSquared(o))}distanceSqToSegment(o,a,j,_e){_segCenter.copy(o).add(a).multiplyScalar(.5),_segDir.copy(a).sub(o).normalize(),_diff.copy(this.origin).sub(_segCenter);const et=o.distanceTo(a)*.5,tt=-this.direction.dot(_segDir),nt=_diff.dot(this.direction),rt=-_diff.dot(_segDir),it=_diff.lengthSq(),ot=Math.abs(1-tt*tt);let at,ct,ut,dt;if(ot>0)if(at=tt*rt-nt,ct=tt*nt-rt,dt=et*ot,at>=0)if(ct>=-dt)if(ct<=dt){const ft=1/ot;at*=ft,ct*=ft,ut=at*(at+tt*ct+2*nt)+ct*(tt*at+ct+2*rt)+it}else ct=et,at=Math.max(0,-(tt*ct+nt)),ut=-at*at+ct*(ct+2*rt)+it;else ct=-et,at=Math.max(0,-(tt*ct+nt)),ut=-at*at+ct*(ct+2*rt)+it;else ct<=-dt?(at=Math.max(0,-(-tt*et+nt)),ct=at>0?-et:Math.min(Math.max(-et,-rt),et),ut=-at*at+ct*(ct+2*rt)+it):ct<=dt?(at=0,ct=Math.min(Math.max(-et,-rt),et),ut=ct*(ct+2*rt)+it):(at=Math.max(0,-(tt*et+nt)),ct=at>0?et:Math.min(Math.max(-et,-rt),et),ut=-at*at+ct*(ct+2*rt)+it);else ct=tt>0?-et:et,at=Math.max(0,-(tt*ct+nt)),ut=-at*at+ct*(ct+2*rt)+it;return j&&j.copy(this.direction).multiplyScalar(at).add(this.origin),_e&&_e.copy(_segDir).multiplyScalar(ct).add(_segCenter),ut}intersectSphere(o,a){_vector$a.subVectors(o.center,this.origin);const j=_vector$a.dot(this.direction),_e=_vector$a.dot(_vector$a)-j*j,et=o.radius*o.radius;if(_e>et)return null;const tt=Math.sqrt(et-_e),nt=j-tt,rt=j+tt;return nt<0&&rt<0?null:nt<0?this.at(rt,a):this.at(nt,a)}intersectsSphere(o){return this.distanceSqToPoint(o.center)<=o.radius*o.radius}distanceToPlane(o){const a=o.normal.dot(this.direction);if(a===0)return o.distanceToPoint(this.origin)===0?0:null;const j=-(this.origin.dot(o.normal)+o.constant)/a;return j>=0?j:null}intersectPlane(o,a){const j=this.distanceToPlane(o);return j===null?null:this.at(j,a)}intersectsPlane(o){const a=o.distanceToPoint(this.origin);return a===0||o.normal.dot(this.direction)*a<0}intersectBox(o,a){let j,_e,et,tt,nt,rt;const it=1/this.direction.x,ot=1/this.direction.y,at=1/this.direction.z,ct=this.origin;return it>=0?(j=(o.min.x-ct.x)*it,_e=(o.max.x-ct.x)*it):(j=(o.max.x-ct.x)*it,_e=(o.min.x-ct.x)*it),ot>=0?(et=(o.min.y-ct.y)*ot,tt=(o.max.y-ct.y)*ot):(et=(o.max.y-ct.y)*ot,tt=(o.min.y-ct.y)*ot),j>tt||et>_e||((et>j||isNaN(j))&&(j=et),(tt<_e||isNaN(_e))&&(_e=tt),at>=0?(nt=(o.min.z-ct.z)*at,rt=(o.max.z-ct.z)*at):(nt=(o.max.z-ct.z)*at,rt=(o.min.z-ct.z)*at),j>rt||nt>_e)||((nt>j||j!==j)&&(j=nt),(rt<_e||_e!==_e)&&(_e=rt),_e<0)?null:this.at(j>=0?j:_e,a)}intersectsBox(o){return this.intersectBox(o,_vector$a)!==null}intersectTriangle(o,a,j,_e,et){_edge1.subVectors(a,o),_edge2.subVectors(j,o),_normal$1.crossVectors(_edge1,_edge2);let tt=this.direction.dot(_normal$1),nt;if(tt>0){if(_e)return null;nt=1}else if(tt<0)nt=-1,tt=-tt;else return null;_diff.subVectors(this.origin,o);const rt=nt*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(rt<0)return null;const it=nt*this.direction.dot(_edge1.cross(_diff));if(it<0||rt+it>tt)return null;const ot=-nt*_diff.dot(_normal$1);return ot<0?null:this.at(ot/tt,et)}applyMatrix4(o){return this.origin.applyMatrix4(o),this.direction.transformDirection(o),this}equals(o){return o.origin.equals(this.origin)&&o.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(o,a,j,_e,et,tt,nt,rt,it,ot,at,ct,ut,dt,ft,ht){const pt=this.elements;return pt[0]=o,pt[4]=a,pt[8]=j,pt[12]=_e,pt[1]=et,pt[5]=tt,pt[9]=nt,pt[13]=rt,pt[2]=it,pt[6]=ot,pt[10]=at,pt[14]=ct,pt[3]=ut,pt[7]=dt,pt[11]=ft,pt[15]=ht,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(o){const a=this.elements,j=o.elements;return a[0]=j[0],a[1]=j[1],a[2]=j[2],a[3]=j[3],a[4]=j[4],a[5]=j[5],a[6]=j[6],a[7]=j[7],a[8]=j[8],a[9]=j[9],a[10]=j[10],a[11]=j[11],a[12]=j[12],a[13]=j[13],a[14]=j[14],a[15]=j[15],this}copyPosition(o){const a=this.elements,j=o.elements;return a[12]=j[12],a[13]=j[13],a[14]=j[14],this}setFromMatrix3(o){const a=o.elements;return this.set(a[0],a[3],a[6],0,a[1],a[4],a[7],0,a[2],a[5],a[8],0,0,0,0,1),this}extractBasis(o,a,j){return o.setFromMatrixColumn(this,0),a.setFromMatrixColumn(this,1),j.setFromMatrixColumn(this,2),this}makeBasis(o,a,j){return this.set(o.x,a.x,j.x,0,o.y,a.y,j.y,0,o.z,a.z,j.z,0,0,0,0,1),this}extractRotation(o){const a=this.elements,j=o.elements,_e=1/_v1$5.setFromMatrixColumn(o,0).length(),et=1/_v1$5.setFromMatrixColumn(o,1).length(),tt=1/_v1$5.setFromMatrixColumn(o,2).length();return a[0]=j[0]*_e,a[1]=j[1]*_e,a[2]=j[2]*_e,a[3]=0,a[4]=j[4]*et,a[5]=j[5]*et,a[6]=j[6]*et,a[7]=0,a[8]=j[8]*tt,a[9]=j[9]*tt,a[10]=j[10]*tt,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}makeRotationFromEuler(o){const a=this.elements,j=o.x,_e=o.y,et=o.z,tt=Math.cos(j),nt=Math.sin(j),rt=Math.cos(_e),it=Math.sin(_e),ot=Math.cos(et),at=Math.sin(et);if(o.order==="XYZ"){const ct=tt*ot,ut=tt*at,dt=nt*ot,ft=nt*at;a[0]=rt*ot,a[4]=-rt*at,a[8]=it,a[1]=ut+dt*it,a[5]=ct-ft*it,a[9]=-nt*rt,a[2]=ft-ct*it,a[6]=dt+ut*it,a[10]=tt*rt}else if(o.order==="YXZ"){const ct=rt*ot,ut=rt*at,dt=it*ot,ft=it*at;a[0]=ct+ft*nt,a[4]=dt*nt-ut,a[8]=tt*it,a[1]=tt*at,a[5]=tt*ot,a[9]=-nt,a[2]=ut*nt-dt,a[6]=ft+ct*nt,a[10]=tt*rt}else if(o.order==="ZXY"){const ct=rt*ot,ut=rt*at,dt=it*ot,ft=it*at;a[0]=ct-ft*nt,a[4]=-tt*at,a[8]=dt+ut*nt,a[1]=ut+dt*nt,a[5]=tt*ot,a[9]=ft-ct*nt,a[2]=-tt*it,a[6]=nt,a[10]=tt*rt}else if(o.order==="ZYX"){const ct=tt*ot,ut=tt*at,dt=nt*ot,ft=nt*at;a[0]=rt*ot,a[4]=dt*it-ut,a[8]=ct*it+ft,a[1]=rt*at,a[5]=ft*it+ct,a[9]=ut*it-dt,a[2]=-it,a[6]=nt*rt,a[10]=tt*rt}else if(o.order==="YZX"){const ct=tt*rt,ut=tt*it,dt=nt*rt,ft=nt*it;a[0]=rt*ot,a[4]=ft-ct*at,a[8]=dt*at+ut,a[1]=at,a[5]=tt*ot,a[9]=-nt*ot,a[2]=-it*ot,a[6]=ut*at+dt,a[10]=ct-ft*at}else if(o.order==="XZY"){const ct=tt*rt,ut=tt*it,dt=nt*rt,ft=nt*it;a[0]=rt*ot,a[4]=-at,a[8]=it*ot,a[1]=ct*at+ft,a[5]=tt*ot,a[9]=ut*at-dt,a[2]=dt*at-ut,a[6]=nt*ot,a[10]=ft*at+ct}return a[3]=0,a[7]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}makeRotationFromQuaternion(o){return this.compose(_zero,o,_one)}lookAt(o,a,j){const _e=this.elements;return _z.subVectors(o,a),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(j,_z),_x.lengthSq()===0&&(Math.abs(j.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(j,_z)),_x.normalize(),_y.crossVectors(_z,_x),_e[0]=_x.x,_e[4]=_y.x,_e[8]=_z.x,_e[1]=_x.y,_e[5]=_y.y,_e[9]=_z.y,_e[2]=_x.z,_e[6]=_y.z,_e[10]=_z.z,this}multiply(o){return this.multiplyMatrices(this,o)}premultiply(o){return this.multiplyMatrices(o,this)}multiplyMatrices(o,a){const j=o.elements,_e=a.elements,et=this.elements,tt=j[0],nt=j[4],rt=j[8],it=j[12],ot=j[1],at=j[5],ct=j[9],ut=j[13],dt=j[2],ft=j[6],ht=j[10],pt=j[14],yt=j[3],gt=j[7],bt=j[11],At=j[15],Tt=_e[0],Pt=_e[4],Ct=_e[8],It=_e[12],Vt=_e[1],Kt=_e[5],en=_e[9],kt=_e[13],vt=_e[2],St=_e[6],Lt=_e[10],zt=_e[14],Rt=_e[3],$t=_e[7],Gt=_e[11],Ft=_e[15];return et[0]=tt*Tt+nt*Vt+rt*vt+it*Rt,et[4]=tt*Pt+nt*Kt+rt*St+it*$t,et[8]=tt*Ct+nt*en+rt*Lt+it*Gt,et[12]=tt*It+nt*kt+rt*zt+it*Ft,et[1]=ot*Tt+at*Vt+ct*vt+ut*Rt,et[5]=ot*Pt+at*Kt+ct*St+ut*$t,et[9]=ot*Ct+at*en+ct*Lt+ut*Gt,et[13]=ot*It+at*kt+ct*zt+ut*Ft,et[2]=dt*Tt+ft*Vt+ht*vt+pt*Rt,et[6]=dt*Pt+ft*Kt+ht*St+pt*$t,et[10]=dt*Ct+ft*en+ht*Lt+pt*Gt,et[14]=dt*It+ft*kt+ht*zt+pt*Ft,et[3]=yt*Tt+gt*Vt+bt*vt+At*Rt,et[7]=yt*Pt+gt*Kt+bt*St+At*$t,et[11]=yt*Ct+gt*en+bt*Lt+At*Gt,et[15]=yt*It+gt*kt+bt*zt+At*Ft,this}multiplyScalar(o){const a=this.elements;return a[0]*=o,a[4]*=o,a[8]*=o,a[12]*=o,a[1]*=o,a[5]*=o,a[9]*=o,a[13]*=o,a[2]*=o,a[6]*=o,a[10]*=o,a[14]*=o,a[3]*=o,a[7]*=o,a[11]*=o,a[15]*=o,this}determinant(){const o=this.elements,a=o[0],j=o[4],_e=o[8],et=o[12],tt=o[1],nt=o[5],rt=o[9],it=o[13],ot=o[2],at=o[6],ct=o[10],ut=o[14],dt=o[3],ft=o[7],ht=o[11],pt=o[15];return dt*(+et*rt*at-_e*it*at-et*nt*ct+j*it*ct+_e*nt*ut-j*rt*ut)+ft*(+a*rt*ut-a*it*ct+et*tt*ct-_e*tt*ut+_e*it*ot-et*rt*ot)+ht*(+a*it*at-a*nt*ut-et*tt*at+j*tt*ut+et*nt*ot-j*it*ot)+pt*(-_e*nt*ot-a*rt*at+a*nt*ct+_e*tt*at-j*tt*ct+j*rt*ot)}transpose(){const o=this.elements;let a;return a=o[1],o[1]=o[4],o[4]=a,a=o[2],o[2]=o[8],o[8]=a,a=o[6],o[6]=o[9],o[9]=a,a=o[3],o[3]=o[12],o[12]=a,a=o[7],o[7]=o[13],o[13]=a,a=o[11],o[11]=o[14],o[14]=a,this}setPosition(o,a,j){const _e=this.elements;return o.isVector3?(_e[12]=o.x,_e[13]=o.y,_e[14]=o.z):(_e[12]=o,_e[13]=a,_e[14]=j),this}invert(){const o=this.elements,a=o[0],j=o[1],_e=o[2],et=o[3],tt=o[4],nt=o[5],rt=o[6],it=o[7],ot=o[8],at=o[9],ct=o[10],ut=o[11],dt=o[12],ft=o[13],ht=o[14],pt=o[15],yt=at*ht*it-ft*ct*it+ft*rt*ut-nt*ht*ut-at*rt*pt+nt*ct*pt,gt=dt*ct*it-ot*ht*it-dt*rt*ut+tt*ht*ut+ot*rt*pt-tt*ct*pt,bt=ot*ft*it-dt*at*it+dt*nt*ut-tt*ft*ut-ot*nt*pt+tt*at*pt,At=dt*at*rt-ot*ft*rt-dt*nt*ct+tt*ft*ct+ot*nt*ht-tt*at*ht,Tt=a*yt+j*gt+_e*bt+et*At;if(Tt===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Pt=1/Tt;return o[0]=yt*Pt,o[1]=(ft*ct*et-at*ht*et-ft*_e*ut+j*ht*ut+at*_e*pt-j*ct*pt)*Pt,o[2]=(nt*ht*et-ft*rt*et+ft*_e*it-j*ht*it-nt*_e*pt+j*rt*pt)*Pt,o[3]=(at*rt*et-nt*ct*et-at*_e*it+j*ct*it+nt*_e*ut-j*rt*ut)*Pt,o[4]=gt*Pt,o[5]=(ot*ht*et-dt*ct*et+dt*_e*ut-a*ht*ut-ot*_e*pt+a*ct*pt)*Pt,o[6]=(dt*rt*et-tt*ht*et-dt*_e*it+a*ht*it+tt*_e*pt-a*rt*pt)*Pt,o[7]=(tt*ct*et-ot*rt*et+ot*_e*it-a*ct*it-tt*_e*ut+a*rt*ut)*Pt,o[8]=bt*Pt,o[9]=(dt*at*et-ot*ft*et-dt*j*ut+a*ft*ut+ot*j*pt-a*at*pt)*Pt,o[10]=(tt*ft*et-dt*nt*et+dt*j*it-a*ft*it-tt*j*pt+a*nt*pt)*Pt,o[11]=(ot*nt*et-tt*at*et-ot*j*it+a*at*it+tt*j*ut-a*nt*ut)*Pt,o[12]=At*Pt,o[13]=(ot*ft*_e-dt*at*_e+dt*j*ct-a*ft*ct-ot*j*ht+a*at*ht)*Pt,o[14]=(dt*nt*_e-tt*ft*_e-dt*j*rt+a*ft*rt+tt*j*ht-a*nt*ht)*Pt,o[15]=(tt*at*_e-ot*nt*_e+ot*j*rt-a*at*rt-tt*j*ct+a*nt*ct)*Pt,this}scale(o){const a=this.elements,j=o.x,_e=o.y,et=o.z;return a[0]*=j,a[4]*=_e,a[8]*=et,a[1]*=j,a[5]*=_e,a[9]*=et,a[2]*=j,a[6]*=_e,a[10]*=et,a[3]*=j,a[7]*=_e,a[11]*=et,this}getMaxScaleOnAxis(){const o=this.elements,a=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],j=o[4]*o[4]+o[5]*o[5]+o[6]*o[6],_e=o[8]*o[8]+o[9]*o[9]+o[10]*o[10];return Math.sqrt(Math.max(a,j,_e))}makeTranslation(o,a,j){return this.set(1,0,0,o,0,1,0,a,0,0,1,j,0,0,0,1),this}makeRotationX(o){const a=Math.cos(o),j=Math.sin(o);return this.set(1,0,0,0,0,a,-j,0,0,j,a,0,0,0,0,1),this}makeRotationY(o){const a=Math.cos(o),j=Math.sin(o);return this.set(a,0,j,0,0,1,0,0,-j,0,a,0,0,0,0,1),this}makeRotationZ(o){const a=Math.cos(o),j=Math.sin(o);return this.set(a,-j,0,0,j,a,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(o,a){const j=Math.cos(a),_e=Math.sin(a),et=1-j,tt=o.x,nt=o.y,rt=o.z,it=et*tt,ot=et*nt;return this.set(it*tt+j,it*nt-_e*rt,it*rt+_e*nt,0,it*nt+_e*rt,ot*nt+j,ot*rt-_e*tt,0,it*rt-_e*nt,ot*rt+_e*tt,et*rt*rt+j,0,0,0,0,1),this}makeScale(o,a,j){return this.set(o,0,0,0,0,a,0,0,0,0,j,0,0,0,0,1),this}makeShear(o,a,j,_e,et,tt){return this.set(1,j,et,0,o,1,tt,0,a,_e,1,0,0,0,0,1),this}compose(o,a,j){const _e=this.elements,et=a._x,tt=a._y,nt=a._z,rt=a._w,it=et+et,ot=tt+tt,at=nt+nt,ct=et*it,ut=et*ot,dt=et*at,ft=tt*ot,ht=tt*at,pt=nt*at,yt=rt*it,gt=rt*ot,bt=rt*at,At=j.x,Tt=j.y,Pt=j.z;return _e[0]=(1-(ft+pt))*At,_e[1]=(ut+bt)*At,_e[2]=(dt-gt)*At,_e[3]=0,_e[4]=(ut-bt)*Tt,_e[5]=(1-(ct+pt))*Tt,_e[6]=(ht+yt)*Tt,_e[7]=0,_e[8]=(dt+gt)*Pt,_e[9]=(ht-yt)*Pt,_e[10]=(1-(ct+ft))*Pt,_e[11]=0,_e[12]=o.x,_e[13]=o.y,_e[14]=o.z,_e[15]=1,this}decompose(o,a,j){const _e=this.elements;let et=_v1$5.set(_e[0],_e[1],_e[2]).length();const tt=_v1$5.set(_e[4],_e[5],_e[6]).length(),nt=_v1$5.set(_e[8],_e[9],_e[10]).length();this.determinant()<0&&(et=-et),o.x=_e[12],o.y=_e[13],o.z=_e[14],_m1$2.copy(this);const it=1/et,ot=1/tt,at=1/nt;return _m1$2.elements[0]*=it,_m1$2.elements[1]*=it,_m1$2.elements[2]*=it,_m1$2.elements[4]*=ot,_m1$2.elements[5]*=ot,_m1$2.elements[6]*=ot,_m1$2.elements[8]*=at,_m1$2.elements[9]*=at,_m1$2.elements[10]*=at,a.setFromRotationMatrix(_m1$2),j.x=et,j.y=tt,j.z=nt,this}makePerspective(o,a,j,_e,et,tt){const nt=this.elements,rt=2*et/(a-o),it=2*et/(j-_e),ot=(a+o)/(a-o),at=(j+_e)/(j-_e),ct=-(tt+et)/(tt-et),ut=-2*tt*et/(tt-et);return nt[0]=rt,nt[4]=0,nt[8]=ot,nt[12]=0,nt[1]=0,nt[5]=it,nt[9]=at,nt[13]=0,nt[2]=0,nt[6]=0,nt[10]=ct,nt[14]=ut,nt[3]=0,nt[7]=0,nt[11]=-1,nt[15]=0,this}makeOrthographic(o,a,j,_e,et,tt){const nt=this.elements,rt=1/(a-o),it=1/(j-_e),ot=1/(tt-et),at=(a+o)*rt,ct=(j+_e)*it,ut=(tt+et)*ot;return nt[0]=2*rt,nt[4]=0,nt[8]=0,nt[12]=-at,nt[1]=0,nt[5]=2*it,nt[9]=0,nt[13]=-ct,nt[2]=0,nt[6]=0,nt[10]=-2*ot,nt[14]=-ut,nt[3]=0,nt[7]=0,nt[11]=0,nt[15]=1,this}equals(o){const a=this.elements,j=o.elements;for(let _e=0;_e<16;_e++)if(a[_e]!==j[_e])return!1;return!0}fromArray(o,a=0){for(let j=0;j<16;j++)this.elements[j]=o[j+a];return this}toArray(o=[],a=0){const j=this.elements;return o[a]=j[0],o[a+1]=j[1],o[a+2]=j[2],o[a+3]=j[3],o[a+4]=j[4],o[a+5]=j[5],o[a+6]=j[6],o[a+7]=j[7],o[a+8]=j[8],o[a+9]=j[9],o[a+10]=j[10],o[a+11]=j[11],o[a+12]=j[12],o[a+13]=j[13],o[a+14]=j[14],o[a+15]=j[15],o}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$1=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(o=0,a=0,j=0,_e=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=o,this._y=a,this._z=j,this._order=_e}get x(){return this._x}set x(o){this._x=o,this._onChangeCallback()}get y(){return this._y}set y(o){this._y=o,this._onChangeCallback()}get z(){return this._z}set z(o){this._z=o,this._onChangeCallback()}get order(){return this._order}set order(o){this._order=o,this._onChangeCallback()}set(o,a,j,_e=this._order){return this._x=o,this._y=a,this._z=j,this._order=_e,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(o){return this._x=o._x,this._y=o._y,this._z=o._z,this._order=o._order,this._onChangeCallback(),this}setFromRotationMatrix(o,a=this._order,j=!0){const _e=o.elements,et=_e[0],tt=_e[4],nt=_e[8],rt=_e[1],it=_e[5],ot=_e[9],at=_e[2],ct=_e[6],ut=_e[10];switch(a){case"XYZ":this._y=Math.asin(clamp(nt,-1,1)),Math.abs(nt)<.9999999?(this._x=Math.atan2(-ot,ut),this._z=Math.atan2(-tt,et)):(this._x=Math.atan2(ct,it),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(ot,-1,1)),Math.abs(ot)<.9999999?(this._y=Math.atan2(nt,ut),this._z=Math.atan2(rt,it)):(this._y=Math.atan2(-at,et),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(ct,-1,1)),Math.abs(ct)<.9999999?(this._y=Math.atan2(-at,ut),this._z=Math.atan2(-tt,it)):(this._y=0,this._z=Math.atan2(rt,et));break;case"ZYX":this._y=Math.asin(-clamp(at,-1,1)),Math.abs(at)<.9999999?(this._x=Math.atan2(ct,ut),this._z=Math.atan2(rt,et)):(this._x=0,this._z=Math.atan2(-tt,it));break;case"YZX":this._z=Math.asin(clamp(rt,-1,1)),Math.abs(rt)<.9999999?(this._x=Math.atan2(-ot,it),this._y=Math.atan2(-at,et)):(this._x=0,this._y=Math.atan2(nt,ut));break;case"XZY":this._z=Math.asin(-clamp(tt,-1,1)),Math.abs(tt)<.9999999?(this._x=Math.atan2(ct,it),this._y=Math.atan2(nt,et)):(this._x=Math.atan2(-ot,ut),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+a)}return this._order=a,j===!0&&this._onChangeCallback(),this}setFromQuaternion(o,a,j){return _matrix$1.makeRotationFromQuaternion(o),this.setFromRotationMatrix(_matrix$1,a,j)}setFromVector3(o,a=this._order){return this.set(o.x,o.y,o.z,a)}reorder(o){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,o)}equals(o){return o._x===this._x&&o._y===this._y&&o._z===this._z&&o._order===this._order}fromArray(o){return this._x=o[0],this._y=o[1],this._z=o[2],o[3]!==void 0&&(this._order=o[3]),this._onChangeCallback(),this}toArray(o=[],a=0){return o[a]=this._x,o[a+1]=this._y,o[a+2]=this._z,o[a+3]=this._order,o}_onChange(o){return this._onChangeCallback=o,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(o){this.mask=(1<<o|0)>>>0}enable(o){this.mask|=1<<o|0}enableAll(){this.mask=-1}toggle(o){this.mask^=1<<o|0}disable(o){this.mask&=~(1<<o|0)}disableAll(){this.mask=0}test(o){return(this.mask&o.mask)!==0}isEnabled(o){return(this.mask&(1<<o|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const o=new Vector3,a=new Euler,j=new Quaternion,_e=new Vector3(1,1,1);function et(){j.setFromEuler(a,!1)}function tt(){a.setFromQuaternion(j,void 0,!1)}a._onChange(et),j._onChange(tt),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:o},rotation:{configurable:!0,enumerable:!0,value:a},quaternion:{configurable:!0,enumerable:!0,value:j},scale:{configurable:!0,enumerable:!0,value:_e},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(o){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(o),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(o){return this.quaternion.premultiply(o),this}setRotationFromAxisAngle(o,a){this.quaternion.setFromAxisAngle(o,a)}setRotationFromEuler(o){this.quaternion.setFromEuler(o,!0)}setRotationFromMatrix(o){this.quaternion.setFromRotationMatrix(o)}setRotationFromQuaternion(o){this.quaternion.copy(o)}rotateOnAxis(o,a){return _q1.setFromAxisAngle(o,a),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(o,a){return _q1.setFromAxisAngle(o,a),this.quaternion.premultiply(_q1),this}rotateX(o){return this.rotateOnAxis(_xAxis,o)}rotateY(o){return this.rotateOnAxis(_yAxis,o)}rotateZ(o){return this.rotateOnAxis(_zAxis,o)}translateOnAxis(o,a){return _v1$4.copy(o).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(a)),this}translateX(o){return this.translateOnAxis(_xAxis,o)}translateY(o){return this.translateOnAxis(_yAxis,o)}translateZ(o){return this.translateOnAxis(_zAxis,o)}localToWorld(o){return this.updateWorldMatrix(!0,!1),o.applyMatrix4(this.matrixWorld)}worldToLocal(o){return this.updateWorldMatrix(!0,!1),o.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(o,a,j){o.isVector3?_target.copy(o):_target.set(o,a,j);const _e=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),_e&&(_m1$1.extractRotation(_e.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(o){if(arguments.length>1){for(let a=0;a<arguments.length;a++)this.add(arguments[a]);return this}return o===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",o),this):(o&&o.isObject3D?(o.parent!==null&&o.parent.remove(o),o.parent=this,this.children.push(o),o.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",o),this)}remove(o){if(arguments.length>1){for(let j=0;j<arguments.length;j++)this.remove(arguments[j]);return this}const a=this.children.indexOf(o);return a!==-1&&(o.parent=null,this.children.splice(a,1),o.dispatchEvent(_removedEvent)),this}removeFromParent(){const o=this.parent;return o!==null&&o.remove(this),this}clear(){for(let o=0;o<this.children.length;o++){const a=this.children[o];a.parent=null,a.dispatchEvent(_removedEvent)}return this.children.length=0,this}attach(o){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),o.parent!==null&&(o.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(o.parent.matrixWorld)),o.applyMatrix4(_m1$1),this.add(o),o.updateWorldMatrix(!1,!0),this}getObjectById(o){return this.getObjectByProperty("id",o)}getObjectByName(o){return this.getObjectByProperty("name",o)}getObjectByProperty(o,a){if(this[o]===a)return this;for(let j=0,_e=this.children.length;j<_e;j++){const tt=this.children[j].getObjectByProperty(o,a);if(tt!==void 0)return tt}}getObjectsByProperty(o,a){let j=[];this[o]===a&&j.push(this);for(let _e=0,et=this.children.length;_e<et;_e++){const tt=this.children[_e].getObjectsByProperty(o,a);tt.length>0&&(j=j.concat(tt))}return j}getWorldPosition(o){return this.updateWorldMatrix(!0,!1),o.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(o){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,o,_scale$2),o}getWorldScale(o){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,o),o}getWorldDirection(o){this.updateWorldMatrix(!0,!1);const a=this.matrixWorld.elements;return o.set(a[8],a[9],a[10]).normalize()}raycast(){}traverse(o){o(this);const a=this.children;for(let j=0,_e=a.length;j<_e;j++)a[j].traverse(o)}traverseVisible(o){if(this.visible===!1)return;o(this);const a=this.children;for(let j=0,_e=a.length;j<_e;j++)a[j].traverseVisible(o)}traverseAncestors(o){const a=this.parent;a!==null&&(o(a),a.traverseAncestors(o))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(o){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||o)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,o=!0);const a=this.children;for(let j=0,_e=a.length;j<_e;j++){const et=a[j];(et.matrixWorldAutoUpdate===!0||o===!0)&&et.updateMatrixWorld(o)}}updateWorldMatrix(o,a){const j=this.parent;if(o===!0&&j!==null&&j.matrixWorldAutoUpdate===!0&&j.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),a===!0){const _e=this.children;for(let et=0,tt=_e.length;et<tt;et++){const nt=_e[et];nt.matrixWorldAutoUpdate===!0&&nt.updateWorldMatrix(!1,!0)}}}toJSON(o){const a=o===void 0||typeof o=="string",j={};a&&(o={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},j.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const _e={};_e.uuid=this.uuid,_e.type=this.type,this.name!==""&&(_e.name=this.name),this.castShadow===!0&&(_e.castShadow=!0),this.receiveShadow===!0&&(_e.receiveShadow=!0),this.visible===!1&&(_e.visible=!1),this.frustumCulled===!1&&(_e.frustumCulled=!1),this.renderOrder!==0&&(_e.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(_e.userData=this.userData),_e.layers=this.layers.mask,_e.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(_e.matrixAutoUpdate=!1),this.isInstancedMesh&&(_e.type="InstancedMesh",_e.count=this.count,_e.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(_e.instanceColor=this.instanceColor.toJSON()));function et(nt,rt){return nt[rt.uuid]===void 0&&(nt[rt.uuid]=rt.toJSON(o)),rt.uuid}if(this.isScene)this.background&&(this.background.isColor?_e.background=this.background.toJSON():this.background.isTexture&&(_e.background=this.background.toJSON(o).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(_e.environment=this.environment.toJSON(o).uuid);else if(this.isMesh||this.isLine||this.isPoints){_e.geometry=et(o.geometries,this.geometry);const nt=this.geometry.parameters;if(nt!==void 0&&nt.shapes!==void 0){const rt=nt.shapes;if(Array.isArray(rt))for(let it=0,ot=rt.length;it<ot;it++){const at=rt[it];et(o.shapes,at)}else et(o.shapes,rt)}}if(this.isSkinnedMesh&&(_e.bindMode=this.bindMode,_e.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(et(o.skeletons,this.skeleton),_e.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const nt=[];for(let rt=0,it=this.material.length;rt<it;rt++)nt.push(et(o.materials,this.material[rt]));_e.material=nt}else _e.material=et(o.materials,this.material);if(this.children.length>0){_e.children=[];for(let nt=0;nt<this.children.length;nt++)_e.children.push(this.children[nt].toJSON(o).object)}if(this.animations.length>0){_e.animations=[];for(let nt=0;nt<this.animations.length;nt++){const rt=this.animations[nt];_e.animations.push(et(o.animations,rt))}}if(a){const nt=tt(o.geometries),rt=tt(o.materials),it=tt(o.textures),ot=tt(o.images),at=tt(o.shapes),ct=tt(o.skeletons),ut=tt(o.animations),dt=tt(o.nodes);nt.length>0&&(j.geometries=nt),rt.length>0&&(j.materials=rt),it.length>0&&(j.textures=it),ot.length>0&&(j.images=ot),at.length>0&&(j.shapes=at),ct.length>0&&(j.skeletons=ct),ut.length>0&&(j.animations=ut),dt.length>0&&(j.nodes=dt)}return j.object=_e,j;function tt(nt){const rt=[];for(const it in nt){const ot=nt[it];delete ot.metadata,rt.push(ot)}return rt}}clone(o){return new this.constructor().copy(this,o)}copy(o,a=!0){if(this.name=o.name,this.up.copy(o.up),this.position.copy(o.position),this.rotation.order=o.rotation.order,this.quaternion.copy(o.quaternion),this.scale.copy(o.scale),this.matrix.copy(o.matrix),this.matrixWorld.copy(o.matrixWorld),this.matrixAutoUpdate=o.matrixAutoUpdate,this.matrixWorldNeedsUpdate=o.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=o.matrixWorldAutoUpdate,this.layers.mask=o.layers.mask,this.visible=o.visible,this.castShadow=o.castShadow,this.receiveShadow=o.receiveShadow,this.frustumCulled=o.frustumCulled,this.renderOrder=o.renderOrder,this.userData=JSON.parse(JSON.stringify(o.userData)),a===!0)for(let j=0;j<o.children.length;j++){const _e=o.children[j];this.add(_e.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(o=new Vector3,a=new Vector3,j=new Vector3){this.a=o,this.b=a,this.c=j}static getNormal(o,a,j,_e){_e.subVectors(j,a),_v0$1.subVectors(o,a),_e.cross(_v0$1);const et=_e.lengthSq();return et>0?_e.multiplyScalar(1/Math.sqrt(et)):_e.set(0,0,0)}static getBarycoord(o,a,j,_e,et){_v0$1.subVectors(_e,a),_v1$3.subVectors(j,a),_v2$2.subVectors(o,a);const tt=_v0$1.dot(_v0$1),nt=_v0$1.dot(_v1$3),rt=_v0$1.dot(_v2$2),it=_v1$3.dot(_v1$3),ot=_v1$3.dot(_v2$2),at=tt*it-nt*nt;if(at===0)return et.set(-2,-1,-1);const ct=1/at,ut=(it*rt-nt*ot)*ct,dt=(tt*ot-nt*rt)*ct;return et.set(1-ut-dt,dt,ut)}static containsPoint(o,a,j,_e){return this.getBarycoord(o,a,j,_e,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(o,a,j,_e,et,tt,nt,rt){return this.getBarycoord(o,a,j,_e,_v3$1),rt.set(0,0),rt.addScaledVector(et,_v3$1.x),rt.addScaledVector(tt,_v3$1.y),rt.addScaledVector(nt,_v3$1.z),rt}static isFrontFacing(o,a,j,_e){return _v0$1.subVectors(j,a),_v1$3.subVectors(o,a),_v0$1.cross(_v1$3).dot(_e)<0}set(o,a,j){return this.a.copy(o),this.b.copy(a),this.c.copy(j),this}setFromPointsAndIndices(o,a,j,_e){return this.a.copy(o[a]),this.b.copy(o[j]),this.c.copy(o[_e]),this}setFromAttributeAndIndices(o,a,j,_e){return this.a.fromBufferAttribute(o,a),this.b.fromBufferAttribute(o,j),this.c.fromBufferAttribute(o,_e),this}clone(){return new this.constructor().copy(this)}copy(o){return this.a.copy(o.a),this.b.copy(o.b),this.c.copy(o.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(o){return o.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(o){return Triangle.getNormal(this.a,this.b,this.c,o)}getPlane(o){return o.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(o,a){return Triangle.getBarycoord(o,this.a,this.b,this.c,a)}getUV(o,a,j,_e,et){return Triangle.getUV(o,this.a,this.b,this.c,a,j,_e,et)}containsPoint(o){return Triangle.containsPoint(o,this.a,this.b,this.c)}isFrontFacing(o){return Triangle.isFrontFacing(this.a,this.b,this.c,o)}intersectsBox(o){return o.intersectsTriangle(this)}closestPointToPoint(o,a){const j=this.a,_e=this.b,et=this.c;let tt,nt;_vab.subVectors(_e,j),_vac.subVectors(et,j),_vap.subVectors(o,j);const rt=_vab.dot(_vap),it=_vac.dot(_vap);if(rt<=0&&it<=0)return a.copy(j);_vbp.subVectors(o,_e);const ot=_vab.dot(_vbp),at=_vac.dot(_vbp);if(ot>=0&&at<=ot)return a.copy(_e);const ct=rt*at-ot*it;if(ct<=0&&rt>=0&&ot<=0)return tt=rt/(rt-ot),a.copy(j).addScaledVector(_vab,tt);_vcp.subVectors(o,et);const ut=_vab.dot(_vcp),dt=_vac.dot(_vcp);if(dt>=0&&ut<=dt)return a.copy(et);const ft=ut*it-rt*dt;if(ft<=0&&it>=0&&dt<=0)return nt=it/(it-dt),a.copy(j).addScaledVector(_vac,nt);const ht=ot*dt-ut*at;if(ht<=0&&at-ot>=0&&ut-dt>=0)return _vbc.subVectors(et,_e),nt=(at-ot)/(at-ot+(ut-dt)),a.copy(_e).addScaledVector(_vbc,nt);const pt=1/(ht+ft+ct);return tt=ft*pt,nt=ct*pt,a.copy(j).addScaledVector(_vab,tt).addScaledVector(_vac,nt)}equals(o){return o.a.equals(this.a)&&o.b.equals(this.b)&&o.c.equals(this.c)}}let materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(o){this._alphaTest>0!=o>0&&this.version++,this._alphaTest=o}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(o){if(o!==void 0)for(const a in o){const j=o[a];if(j===void 0){console.warn("THREE.Material: '"+a+"' parameter is undefined.");continue}const _e=this[a];if(_e===void 0){console.warn("THREE."+this.type+": '"+a+"' is not a property of this material.");continue}_e&&_e.isColor?_e.set(j):_e&&_e.isVector3&&j&&j.isVector3?_e.copy(j):this[a]=j}}toJSON(o){const a=o===void 0||typeof o=="string";a&&(o={textures:{},images:{}});const j={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};j.uuid=this.uuid,j.type=this.type,this.name!==""&&(j.name=this.name),this.color&&this.color.isColor&&(j.color=this.color.getHex()),this.roughness!==void 0&&(j.roughness=this.roughness),this.metalness!==void 0&&(j.metalness=this.metalness),this.sheen!==void 0&&(j.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(j.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(j.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(j.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(j.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(j.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(j.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(j.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(j.shininess=this.shininess),this.clearcoat!==void 0&&(j.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(j.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(j.clearcoatMap=this.clearcoatMap.toJSON(o).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(j.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(o).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(j.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(o).uuid,j.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(j.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(j.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(j.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(j.iridescenceMap=this.iridescenceMap.toJSON(o).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(j.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(o).uuid),this.map&&this.map.isTexture&&(j.map=this.map.toJSON(o).uuid),this.matcap&&this.matcap.isTexture&&(j.matcap=this.matcap.toJSON(o).uuid),this.alphaMap&&this.alphaMap.isTexture&&(j.alphaMap=this.alphaMap.toJSON(o).uuid),this.lightMap&&this.lightMap.isTexture&&(j.lightMap=this.lightMap.toJSON(o).uuid,j.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(j.aoMap=this.aoMap.toJSON(o).uuid,j.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(j.bumpMap=this.bumpMap.toJSON(o).uuid,j.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(j.normalMap=this.normalMap.toJSON(o).uuid,j.normalMapType=this.normalMapType,j.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(j.displacementMap=this.displacementMap.toJSON(o).uuid,j.displacementScale=this.displacementScale,j.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(j.roughnessMap=this.roughnessMap.toJSON(o).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(j.metalnessMap=this.metalnessMap.toJSON(o).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(j.emissiveMap=this.emissiveMap.toJSON(o).uuid),this.specularMap&&this.specularMap.isTexture&&(j.specularMap=this.specularMap.toJSON(o).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(j.specularIntensityMap=this.specularIntensityMap.toJSON(o).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(j.specularColorMap=this.specularColorMap.toJSON(o).uuid),this.envMap&&this.envMap.isTexture&&(j.envMap=this.envMap.toJSON(o).uuid,this.combine!==void 0&&(j.combine=this.combine)),this.envMapIntensity!==void 0&&(j.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(j.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(j.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(j.gradientMap=this.gradientMap.toJSON(o).uuid),this.transmission!==void 0&&(j.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(j.transmissionMap=this.transmissionMap.toJSON(o).uuid),this.thickness!==void 0&&(j.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(j.thicknessMap=this.thicknessMap.toJSON(o).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(j.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(j.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(j.size=this.size),this.shadowSide!==null&&(j.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(j.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(j.blending=this.blending),this.side!==FrontSide&&(j.side=this.side),this.vertexColors&&(j.vertexColors=!0),this.opacity<1&&(j.opacity=this.opacity),this.transparent===!0&&(j.transparent=this.transparent),j.depthFunc=this.depthFunc,j.depthTest=this.depthTest,j.depthWrite=this.depthWrite,j.colorWrite=this.colorWrite,j.stencilWrite=this.stencilWrite,j.stencilWriteMask=this.stencilWriteMask,j.stencilFunc=this.stencilFunc,j.stencilRef=this.stencilRef,j.stencilFuncMask=this.stencilFuncMask,j.stencilFail=this.stencilFail,j.stencilZFail=this.stencilZFail,j.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(j.rotation=this.rotation),this.polygonOffset===!0&&(j.polygonOffset=!0),this.polygonOffsetFactor!==0&&(j.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(j.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(j.linewidth=this.linewidth),this.dashSize!==void 0&&(j.dashSize=this.dashSize),this.gapSize!==void 0&&(j.gapSize=this.gapSize),this.scale!==void 0&&(j.scale=this.scale),this.dithering===!0&&(j.dithering=!0),this.alphaTest>0&&(j.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(j.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(j.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(j.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(j.wireframe=this.wireframe),this.wireframeLinewidth>1&&(j.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(j.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(j.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(j.flatShading=this.flatShading),this.visible===!1&&(j.visible=!1),this.toneMapped===!1&&(j.toneMapped=!1),this.fog===!1&&(j.fog=!1),Object.keys(this.userData).length>0&&(j.userData=this.userData);function _e(et){const tt=[];for(const nt in et){const rt=et[nt];delete rt.metadata,tt.push(rt)}return tt}if(a){const et=_e(o.textures),tt=_e(o.images);et.length>0&&(j.textures=et),tt.length>0&&(j.images=tt)}return j}clone(){return new this.constructor().copy(this)}copy(o){this.name=o.name,this.blending=o.blending,this.side=o.side,this.vertexColors=o.vertexColors,this.opacity=o.opacity,this.transparent=o.transparent,this.blendSrc=o.blendSrc,this.blendDst=o.blendDst,this.blendEquation=o.blendEquation,this.blendSrcAlpha=o.blendSrcAlpha,this.blendDstAlpha=o.blendDstAlpha,this.blendEquationAlpha=o.blendEquationAlpha,this.depthFunc=o.depthFunc,this.depthTest=o.depthTest,this.depthWrite=o.depthWrite,this.stencilWriteMask=o.stencilWriteMask,this.stencilFunc=o.stencilFunc,this.stencilRef=o.stencilRef,this.stencilFuncMask=o.stencilFuncMask,this.stencilFail=o.stencilFail,this.stencilZFail=o.stencilZFail,this.stencilZPass=o.stencilZPass,this.stencilWrite=o.stencilWrite;const a=o.clippingPlanes;let j=null;if(a!==null){const _e=a.length;j=new Array(_e);for(let et=0;et!==_e;++et)j[et]=a[et].clone()}return this.clippingPlanes=j,this.clipIntersection=o.clipIntersection,this.clipShadows=o.clipShadows,this.shadowSide=o.shadowSide,this.colorWrite=o.colorWrite,this.precision=o.precision,this.polygonOffset=o.polygonOffset,this.polygonOffsetFactor=o.polygonOffsetFactor,this.polygonOffsetUnits=o.polygonOffsetUnits,this.dithering=o.dithering,this.alphaTest=o.alphaTest,this.alphaToCoverage=o.alphaToCoverage,this.premultipliedAlpha=o.premultipliedAlpha,this.forceSinglePass=o.forceSinglePass,this.visible=o.visible,this.toneMapped=o.toneMapped,this.userData=JSON.parse(JSON.stringify(o.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(o){o===!0&&this.version++}}class MeshBasicMaterial extends Material{constructor(o){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.specularMap=o.specularMap,this.alphaMap=o.alphaMap,this.envMap=o.envMap,this.combine=o.combine,this.reflectivity=o.reflectivity,this.refractionRatio=o.refractionRatio,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.fog=o.fog,this}}const _vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(o,a,j=!1){if(Array.isArray(o))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=o,this.itemSize=a,this.count=o!==void 0?o.length/a:0,this.normalized=j,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(o){o===!0&&this.version++}setUsage(o){return this.usage=o,this}copy(o){return this.name=o.name,this.array=new o.array.constructor(o.array),this.itemSize=o.itemSize,this.count=o.count,this.normalized=o.normalized,this.usage=o.usage,this}copyAt(o,a,j){o*=this.itemSize,j*=a.itemSize;for(let _e=0,et=this.itemSize;_e<et;_e++)this.array[o+_e]=a.array[j+_e];return this}copyArray(o){return this.array.set(o),this}applyMatrix3(o){if(this.itemSize===2)for(let a=0,j=this.count;a<j;a++)_vector2$1.fromBufferAttribute(this,a),_vector2$1.applyMatrix3(o),this.setXY(a,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let a=0,j=this.count;a<j;a++)_vector$9.fromBufferAttribute(this,a),_vector$9.applyMatrix3(o),this.setXYZ(a,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(o){for(let a=0,j=this.count;a<j;a++)_vector$9.fromBufferAttribute(this,a),_vector$9.applyMatrix4(o),this.setXYZ(a,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(o){for(let a=0,j=this.count;a<j;a++)_vector$9.fromBufferAttribute(this,a),_vector$9.applyNormalMatrix(o),this.setXYZ(a,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(o){for(let a=0,j=this.count;a<j;a++)_vector$9.fromBufferAttribute(this,a),_vector$9.transformDirection(o),this.setXYZ(a,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(o,a=0){return this.array.set(o,a),this}getX(o){let a=this.array[o*this.itemSize];return this.normalized&&(a=denormalize(a,this.array)),a}setX(o,a){return this.normalized&&(a=normalize(a,this.array)),this.array[o*this.itemSize]=a,this}getY(o){let a=this.array[o*this.itemSize+1];return this.normalized&&(a=denormalize(a,this.array)),a}setY(o,a){return this.normalized&&(a=normalize(a,this.array)),this.array[o*this.itemSize+1]=a,this}getZ(o){let a=this.array[o*this.itemSize+2];return this.normalized&&(a=denormalize(a,this.array)),a}setZ(o,a){return this.normalized&&(a=normalize(a,this.array)),this.array[o*this.itemSize+2]=a,this}getW(o){let a=this.array[o*this.itemSize+3];return this.normalized&&(a=denormalize(a,this.array)),a}setW(o,a){return this.normalized&&(a=normalize(a,this.array)),this.array[o*this.itemSize+3]=a,this}setXY(o,a,j){return o*=this.itemSize,this.normalized&&(a=normalize(a,this.array),j=normalize(j,this.array)),this.array[o+0]=a,this.array[o+1]=j,this}setXYZ(o,a,j,_e){return o*=this.itemSize,this.normalized&&(a=normalize(a,this.array),j=normalize(j,this.array),_e=normalize(_e,this.array)),this.array[o+0]=a,this.array[o+1]=j,this.array[o+2]=_e,this}setXYZW(o,a,j,_e,et){return o*=this.itemSize,this.normalized&&(a=normalize(a,this.array),j=normalize(j,this.array),_e=normalize(_e,this.array),et=normalize(et,this.array)),this.array[o+0]=a,this.array[o+1]=j,this.array[o+2]=_e,this.array[o+3]=et,this}onUpload(o){return this.onUploadCallback=o,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const o={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(o.name=this.name),this.usage!==StaticDrawUsage&&(o.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(o.updateRange=this.updateRange),o}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Int8BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Int8Array(o),a,j)}}class Uint8BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Uint8Array(o),a,j)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Uint8ClampedArray(o),a,j)}}class Int16BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Int16Array(o),a,j)}}class Uint16BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Uint16Array(o),a,j)}}class Int32BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Int32Array(o),a,j)}}class Uint32BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Uint32Array(o),a,j)}}class Float16BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Uint16Array(o),a,j),this.isFloat16BufferAttribute=!0}}class Float32BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Float32Array(o),a,j)}}class Float64BufferAttribute extends BufferAttribute{constructor(o,a,j){super(new Float64Array(o),a,j)}}let _id$1=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(o){return Array.isArray(o)?this.index=new(arrayNeedsUint32(o)?Uint32BufferAttribute:Uint16BufferAttribute)(o,1):this.index=o,this}getAttribute(o){return this.attributes[o]}setAttribute(o,a){return this.attributes[o]=a,this}deleteAttribute(o){return delete this.attributes[o],this}hasAttribute(o){return this.attributes[o]!==void 0}addGroup(o,a,j=0){this.groups.push({start:o,count:a,materialIndex:j})}clearGroups(){this.groups=[]}setDrawRange(o,a){this.drawRange.start=o,this.drawRange.count=a}applyMatrix4(o){const a=this.attributes.position;a!==void 0&&(a.applyMatrix4(o),a.needsUpdate=!0);const j=this.attributes.normal;if(j!==void 0){const et=new Matrix3().getNormalMatrix(o);j.applyNormalMatrix(et),j.needsUpdate=!0}const _e=this.attributes.tangent;return _e!==void 0&&(_e.transformDirection(o),_e.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(o){return _m1.makeRotationFromQuaternion(o),this.applyMatrix4(_m1),this}rotateX(o){return _m1.makeRotationX(o),this.applyMatrix4(_m1),this}rotateY(o){return _m1.makeRotationY(o),this.applyMatrix4(_m1),this}rotateZ(o){return _m1.makeRotationZ(o),this.applyMatrix4(_m1),this}translate(o,a,j){return _m1.makeTranslation(o,a,j),this.applyMatrix4(_m1),this}scale(o,a,j){return _m1.makeScale(o,a,j),this.applyMatrix4(_m1),this}lookAt(o){return _obj.lookAt(o),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(o){const a=[];for(let j=0,_e=o.length;j<_e;j++){const et=o[j];a.push(et.x,et.y,et.z||0)}return this.setAttribute("position",new Float32BufferAttribute(a,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const o=this.attributes.position,a=this.morphAttributes.position;if(o&&o.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(o!==void 0){if(this.boundingBox.setFromBufferAttribute(o),a)for(let j=0,_e=a.length;j<_e;j++){const et=a[j];_box$1.setFromBufferAttribute(et),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const o=this.attributes.position,a=this.morphAttributes.position;if(o&&o.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(o){const j=this.boundingSphere.center;if(_box$1.setFromBufferAttribute(o),a)for(let et=0,tt=a.length;et<tt;et++){const nt=a[et];_boxMorphTargets.setFromBufferAttribute(nt),this.morphTargetsRelative?(_vector$8.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$8),_vector$8.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$8)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter(j);let _e=0;for(let et=0,tt=o.count;et<tt;et++)_vector$8.fromBufferAttribute(o,et),_e=Math.max(_e,j.distanceToSquared(_vector$8));if(a)for(let et=0,tt=a.length;et<tt;et++){const nt=a[et],rt=this.morphTargetsRelative;for(let it=0,ot=nt.count;it<ot;it++)_vector$8.fromBufferAttribute(nt,it),rt&&(_offset.fromBufferAttribute(o,it),_vector$8.add(_offset)),_e=Math.max(_e,j.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(_e),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const o=this.index,a=this.attributes;if(o===null||a.position===void 0||a.normal===void 0||a.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const j=o.array,_e=a.position.array,et=a.normal.array,tt=a.uv.array,nt=_e.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*nt),4));const rt=this.getAttribute("tangent").array,it=[],ot=[];for(let Vt=0;Vt<nt;Vt++)it[Vt]=new Vector3,ot[Vt]=new Vector3;const at=new Vector3,ct=new Vector3,ut=new Vector3,dt=new Vector2,ft=new Vector2,ht=new Vector2,pt=new Vector3,yt=new Vector3;function gt(Vt,Kt,en){at.fromArray(_e,Vt*3),ct.fromArray(_e,Kt*3),ut.fromArray(_e,en*3),dt.fromArray(tt,Vt*2),ft.fromArray(tt,Kt*2),ht.fromArray(tt,en*2),ct.sub(at),ut.sub(at),ft.sub(dt),ht.sub(dt);const kt=1/(ft.x*ht.y-ht.x*ft.y);isFinite(kt)&&(pt.copy(ct).multiplyScalar(ht.y).addScaledVector(ut,-ft.y).multiplyScalar(kt),yt.copy(ut).multiplyScalar(ft.x).addScaledVector(ct,-ht.x).multiplyScalar(kt),it[Vt].add(pt),it[Kt].add(pt),it[en].add(pt),ot[Vt].add(yt),ot[Kt].add(yt),ot[en].add(yt))}let bt=this.groups;bt.length===0&&(bt=[{start:0,count:j.length}]);for(let Vt=0,Kt=bt.length;Vt<Kt;++Vt){const en=bt[Vt],kt=en.start,vt=en.count;for(let St=kt,Lt=kt+vt;St<Lt;St+=3)gt(j[St+0],j[St+1],j[St+2])}const At=new Vector3,Tt=new Vector3,Pt=new Vector3,Ct=new Vector3;function It(Vt){Pt.fromArray(et,Vt*3),Ct.copy(Pt);const Kt=it[Vt];At.copy(Kt),At.sub(Pt.multiplyScalar(Pt.dot(Kt))).normalize(),Tt.crossVectors(Ct,Kt);const kt=Tt.dot(ot[Vt])<0?-1:1;rt[Vt*4]=At.x,rt[Vt*4+1]=At.y,rt[Vt*4+2]=At.z,rt[Vt*4+3]=kt}for(let Vt=0,Kt=bt.length;Vt<Kt;++Vt){const en=bt[Vt],kt=en.start,vt=en.count;for(let St=kt,Lt=kt+vt;St<Lt;St+=3)It(j[St+0]),It(j[St+1]),It(j[St+2])}}computeVertexNormals(){const o=this.index,a=this.getAttribute("position");if(a!==void 0){let j=this.getAttribute("normal");if(j===void 0)j=new BufferAttribute(new Float32Array(a.count*3),3),this.setAttribute("normal",j);else for(let ct=0,ut=j.count;ct<ut;ct++)j.setXYZ(ct,0,0,0);const _e=new Vector3,et=new Vector3,tt=new Vector3,nt=new Vector3,rt=new Vector3,it=new Vector3,ot=new Vector3,at=new Vector3;if(o)for(let ct=0,ut=o.count;ct<ut;ct+=3){const dt=o.getX(ct+0),ft=o.getX(ct+1),ht=o.getX(ct+2);_e.fromBufferAttribute(a,dt),et.fromBufferAttribute(a,ft),tt.fromBufferAttribute(a,ht),ot.subVectors(tt,et),at.subVectors(_e,et),ot.cross(at),nt.fromBufferAttribute(j,dt),rt.fromBufferAttribute(j,ft),it.fromBufferAttribute(j,ht),nt.add(ot),rt.add(ot),it.add(ot),j.setXYZ(dt,nt.x,nt.y,nt.z),j.setXYZ(ft,rt.x,rt.y,rt.z),j.setXYZ(ht,it.x,it.y,it.z)}else for(let ct=0,ut=a.count;ct<ut;ct+=3)_e.fromBufferAttribute(a,ct+0),et.fromBufferAttribute(a,ct+1),tt.fromBufferAttribute(a,ct+2),ot.subVectors(tt,et),at.subVectors(_e,et),ot.cross(at),j.setXYZ(ct+0,ot.x,ot.y,ot.z),j.setXYZ(ct+1,ot.x,ot.y,ot.z),j.setXYZ(ct+2,ot.x,ot.y,ot.z);this.normalizeNormals(),j.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const o=this.attributes.normal;for(let a=0,j=o.count;a<j;a++)_vector$8.fromBufferAttribute(o,a),_vector$8.normalize(),o.setXYZ(a,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function o(nt,rt){const it=nt.array,ot=nt.itemSize,at=nt.normalized,ct=new it.constructor(rt.length*ot);let ut=0,dt=0;for(let ft=0,ht=rt.length;ft<ht;ft++){nt.isInterleavedBufferAttribute?ut=rt[ft]*nt.data.stride+nt.offset:ut=rt[ft]*ot;for(let pt=0;pt<ot;pt++)ct[dt++]=it[ut++]}return new BufferAttribute(ct,ot,at)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const a=new BufferGeometry,j=this.index.array,_e=this.attributes;for(const nt in _e){const rt=_e[nt],it=o(rt,j);a.setAttribute(nt,it)}const et=this.morphAttributes;for(const nt in et){const rt=[],it=et[nt];for(let ot=0,at=it.length;ot<at;ot++){const ct=it[ot],ut=o(ct,j);rt.push(ut)}a.morphAttributes[nt]=rt}a.morphTargetsRelative=this.morphTargetsRelative;const tt=this.groups;for(let nt=0,rt=tt.length;nt<rt;nt++){const it=tt[nt];a.addGroup(it.start,it.count,it.materialIndex)}return a}toJSON(){const o={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),Object.keys(this.userData).length>0&&(o.userData=this.userData),this.parameters!==void 0){const rt=this.parameters;for(const it in rt)rt[it]!==void 0&&(o[it]=rt[it]);return o}o.data={attributes:{}};const a=this.index;a!==null&&(o.data.index={type:a.array.constructor.name,array:Array.prototype.slice.call(a.array)});const j=this.attributes;for(const rt in j){const it=j[rt];o.data.attributes[rt]=it.toJSON(o.data)}const _e={};let et=!1;for(const rt in this.morphAttributes){const it=this.morphAttributes[rt],ot=[];for(let at=0,ct=it.length;at<ct;at++){const ut=it[at];ot.push(ut.toJSON(o.data))}ot.length>0&&(_e[rt]=ot,et=!0)}et&&(o.data.morphAttributes=_e,o.data.morphTargetsRelative=this.morphTargetsRelative);const tt=this.groups;tt.length>0&&(o.data.groups=JSON.parse(JSON.stringify(tt)));const nt=this.boundingSphere;return nt!==null&&(o.data.boundingSphere={center:nt.center.toArray(),radius:nt.radius}),o}clone(){return new this.constructor().copy(this)}copy(o){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const a={};this.name=o.name;const j=o.index;j!==null&&this.setIndex(j.clone(a));const _e=o.attributes;for(const it in _e){const ot=_e[it];this.setAttribute(it,ot.clone(a))}const et=o.morphAttributes;for(const it in et){const ot=[],at=et[it];for(let ct=0,ut=at.length;ct<ut;ct++)ot.push(at[ct].clone(a));this.morphAttributes[it]=ot}this.morphTargetsRelative=o.morphTargetsRelative;const tt=o.groups;for(let it=0,ot=tt.length;it<ot;it++){const at=tt[it];this.addGroup(at.start,at.count,at.materialIndex)}const nt=o.boundingBox;nt!==null&&(this.boundingBox=nt.clone());const rt=o.boundingSphere;return rt!==null&&(this.boundingSphere=rt.clone()),this.drawRange.start=o.drawRange.start,this.drawRange.count=o.drawRange.count,this.userData=o.userData,o.parameters!==void 0&&(this.parameters=Object.assign({},o.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$2=new Matrix4,_ray$2=new Ray,_sphere$3=new Sphere,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(o=new BufferGeometry,a=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=o,this.material=a,this.updateMorphTargets()}copy(o,a){return super.copy(o,a),o.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=o.morphTargetInfluences.slice()),o.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},o.morphTargetDictionary)),this.material=o.material,this.geometry=o.geometry,this}updateMorphTargets(){const a=this.geometry.morphAttributes,j=Object.keys(a);if(j.length>0){const _e=a[j[0]];if(_e!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let et=0,tt=_e.length;et<tt;et++){const nt=_e[et].name||String(et);this.morphTargetInfluences.push(0),this.morphTargetDictionary[nt]=et}}}}getVertexPosition(o,a){const j=this.geometry,_e=j.attributes.position,et=j.morphAttributes.position,tt=j.morphTargetsRelative;a.fromBufferAttribute(_e,o);const nt=this.morphTargetInfluences;if(et&&nt){_morphA.set(0,0,0);for(let rt=0,it=et.length;rt<it;rt++){const ot=nt[rt],at=et[rt];ot!==0&&(_tempA.fromBufferAttribute(at,o),tt?_morphA.addScaledVector(_tempA,ot):_morphA.addScaledVector(_tempA.sub(a),ot))}a.add(_morphA)}return this.isSkinnedMesh&&this.boneTransform(o,a),a}raycast(o,a){const j=this.geometry,_e=this.material,et=this.matrixWorld;if(_e===void 0||(j.boundingSphere===null&&j.computeBoundingSphere(),_sphere$3.copy(j.boundingSphere),_sphere$3.applyMatrix4(et),o.ray.intersectsSphere(_sphere$3)===!1)||(_inverseMatrix$2.copy(et).invert(),_ray$2.copy(o.ray).applyMatrix4(_inverseMatrix$2),j.boundingBox!==null&&_ray$2.intersectsBox(j.boundingBox)===!1))return;let tt;const nt=j.index,rt=j.attributes.position,it=j.attributes.uv,ot=j.attributes.uv2,at=j.groups,ct=j.drawRange;if(nt!==null)if(Array.isArray(_e))for(let ut=0,dt=at.length;ut<dt;ut++){const ft=at[ut],ht=_e[ft.materialIndex],pt=Math.max(ft.start,ct.start),yt=Math.min(nt.count,Math.min(ft.start+ft.count,ct.start+ct.count));for(let gt=pt,bt=yt;gt<bt;gt+=3){const At=nt.getX(gt),Tt=nt.getX(gt+1),Pt=nt.getX(gt+2);tt=checkBufferGeometryIntersection(this,ht,o,_ray$2,it,ot,At,Tt,Pt),tt&&(tt.faceIndex=Math.floor(gt/3),tt.face.materialIndex=ft.materialIndex,a.push(tt))}}else{const ut=Math.max(0,ct.start),dt=Math.min(nt.count,ct.start+ct.count);for(let ft=ut,ht=dt;ft<ht;ft+=3){const pt=nt.getX(ft),yt=nt.getX(ft+1),gt=nt.getX(ft+2);tt=checkBufferGeometryIntersection(this,_e,o,_ray$2,it,ot,pt,yt,gt),tt&&(tt.faceIndex=Math.floor(ft/3),a.push(tt))}}else if(rt!==void 0)if(Array.isArray(_e))for(let ut=0,dt=at.length;ut<dt;ut++){const ft=at[ut],ht=_e[ft.materialIndex],pt=Math.max(ft.start,ct.start),yt=Math.min(rt.count,Math.min(ft.start+ft.count,ct.start+ct.count));for(let gt=pt,bt=yt;gt<bt;gt+=3){const At=gt,Tt=gt+1,Pt=gt+2;tt=checkBufferGeometryIntersection(this,ht,o,_ray$2,it,ot,At,Tt,Pt),tt&&(tt.faceIndex=Math.floor(gt/3),tt.face.materialIndex=ft.materialIndex,a.push(tt))}}else{const ut=Math.max(0,ct.start),dt=Math.min(rt.count,ct.start+ct.count);for(let ft=ut,ht=dt;ft<ht;ft+=3){const pt=ft,yt=ft+1,gt=ft+2;tt=checkBufferGeometryIntersection(this,_e,o,_ray$2,it,ot,pt,yt,gt),tt&&(tt.faceIndex=Math.floor(ft/3),a.push(tt))}}}}function checkIntersection($,o,a,j,_e,et,tt,nt){let rt;if(o.side===BackSide?rt=j.intersectTriangle(tt,et,_e,!0,nt):rt=j.intersectTriangle(_e,et,tt,o.side===FrontSide,nt),rt===null)return null;_intersectionPointWorld.copy(nt),_intersectionPointWorld.applyMatrix4($.matrixWorld);const it=a.ray.origin.distanceTo(_intersectionPointWorld);return it<a.near||it>a.far?null:{distance:it,point:_intersectionPointWorld.clone(),object:$}}function checkBufferGeometryIntersection($,o,a,j,_e,et,tt,nt,rt){$.getVertexPosition(tt,_vA$1),$.getVertexPosition(nt,_vB$1),$.getVertexPosition(rt,_vC$1);const it=checkIntersection($,o,a,j,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(it){_e&&(_uvA$1.fromBufferAttribute(_e,tt),_uvB$1.fromBufferAttribute(_e,nt),_uvC$1.fromBufferAttribute(_e,rt),it.uv=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),et&&(_uvA$1.fromBufferAttribute(et,tt),_uvB$1.fromBufferAttribute(et,nt),_uvC$1.fromBufferAttribute(et,rt),it.uv2=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2));const ot={a:tt,b:nt,c:rt,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,ot.normal),it.face=ot}return it}class BoxGeometry extends BufferGeometry{constructor(o=1,a=1,j=1,_e=1,et=1,tt=1){super(),this.type="BoxGeometry",this.parameters={width:o,height:a,depth:j,widthSegments:_e,heightSegments:et,depthSegments:tt};const nt=this;_e=Math.floor(_e),et=Math.floor(et),tt=Math.floor(tt);const rt=[],it=[],ot=[],at=[];let ct=0,ut=0;dt("z","y","x",-1,-1,j,a,o,tt,et,0),dt("z","y","x",1,-1,j,a,-o,tt,et,1),dt("x","z","y",1,1,o,j,a,_e,tt,2),dt("x","z","y",1,-1,o,j,-a,_e,tt,3),dt("x","y","z",1,-1,o,a,j,_e,et,4),dt("x","y","z",-1,-1,o,a,-j,_e,et,5),this.setIndex(rt),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("normal",new Float32BufferAttribute(ot,3)),this.setAttribute("uv",new Float32BufferAttribute(at,2));function dt(ft,ht,pt,yt,gt,bt,At,Tt,Pt,Ct,It){const Vt=bt/Pt,Kt=At/Ct,en=bt/2,kt=At/2,vt=Tt/2,St=Pt+1,Lt=Ct+1;let zt=0,Rt=0;const $t=new Vector3;for(let Gt=0;Gt<Lt;Gt++){const Ft=Gt*Kt-kt;for(let wt=0;wt<St;wt++){const Ht=wt*Vt-en;$t[ft]=Ht*yt,$t[ht]=Ft*gt,$t[pt]=vt,it.push($t.x,$t.y,$t.z),$t[ft]=0,$t[ht]=0,$t[pt]=Tt>0?1:-1,ot.push($t.x,$t.y,$t.z),at.push(wt/Pt),at.push(1-Gt/Ct),zt+=1}}for(let Gt=0;Gt<Ct;Gt++)for(let Ft=0;Ft<Pt;Ft++){const wt=ct+Ft+St*Gt,Ht=ct+Ft+St*(Gt+1),nn=ct+(Ft+1)+St*(Gt+1),Dt=ct+(Ft+1)+St*Gt;rt.push(wt,Ht,Dt),rt.push(Ht,nn,Dt),Rt+=6}nt.addGroup(ut,Rt,It),ut+=Rt,ct+=zt}}static fromJSON(o){return new BoxGeometry(o.width,o.height,o.depth,o.widthSegments,o.heightSegments,o.depthSegments)}}function cloneUniforms($){const o={};for(const a in $){o[a]={};for(const j in $[a]){const _e=$[a][j];_e&&(_e.isColor||_e.isMatrix3||_e.isMatrix4||_e.isVector2||_e.isVector3||_e.isVector4||_e.isTexture||_e.isQuaternion)?o[a][j]=_e.clone():Array.isArray(_e)?o[a][j]=_e.slice():o[a][j]=_e}}return o}function mergeUniforms($){const o={};for(let a=0;a<$.length;a++){const j=cloneUniforms($[a]);for(const _e in j)o[_e]=j[_e]}return o}function cloneUniformsGroups($){const o=[];for(let a=0;a<$.length;a++)o.push($[a].clone());return o}function getUnlitUniformColorSpace($){return $.getRenderTarget()===null&&$.outputEncoding===sRGBEncoding?SRGBColorSpace:LinearSRGBColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(o){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,o!==void 0&&this.setValues(o)}copy(o){return super.copy(o),this.fragmentShader=o.fragmentShader,this.vertexShader=o.vertexShader,this.uniforms=cloneUniforms(o.uniforms),this.uniformsGroups=cloneUniformsGroups(o.uniformsGroups),this.defines=Object.assign({},o.defines),this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.fog=o.fog,this.lights=o.lights,this.clipping=o.clipping,this.extensions=Object.assign({},o.extensions),this.glslVersion=o.glslVersion,this}toJSON(o){const a=super.toJSON(o);a.glslVersion=this.glslVersion,a.uniforms={};for(const _e in this.uniforms){const tt=this.uniforms[_e].value;tt&&tt.isTexture?a.uniforms[_e]={type:"t",value:tt.toJSON(o).uuid}:tt&&tt.isColor?a.uniforms[_e]={type:"c",value:tt.getHex()}:tt&&tt.isVector2?a.uniforms[_e]={type:"v2",value:tt.toArray()}:tt&&tt.isVector3?a.uniforms[_e]={type:"v3",value:tt.toArray()}:tt&&tt.isVector4?a.uniforms[_e]={type:"v4",value:tt.toArray()}:tt&&tt.isMatrix3?a.uniforms[_e]={type:"m3",value:tt.toArray()}:tt&&tt.isMatrix4?a.uniforms[_e]={type:"m4",value:tt.toArray()}:a.uniforms[_e]={value:tt}}Object.keys(this.defines).length>0&&(a.defines=this.defines),a.vertexShader=this.vertexShader,a.fragmentShader=this.fragmentShader;const j={};for(const _e in this.extensions)this.extensions[_e]===!0&&(j[_e]=!0);return Object.keys(j).length>0&&(a.extensions=j),a}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}copy(o,a){return super.copy(o,a),this.matrixWorldInverse.copy(o.matrixWorldInverse),this.projectionMatrix.copy(o.projectionMatrix),this.projectionMatrixInverse.copy(o.projectionMatrixInverse),this}getWorldDirection(o){this.updateWorldMatrix(!0,!1);const a=this.matrixWorld.elements;return o.set(-a[8],-a[9],-a[10]).normalize()}updateMatrixWorld(o){super.updateMatrixWorld(o),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(o,a){super.updateWorldMatrix(o,a),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class PerspectiveCamera extends Camera{constructor(o=50,a=1,j=.1,_e=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=o,this.zoom=1,this.near=j,this.far=_e,this.focus=10,this.aspect=a,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(o,a){return super.copy(o,a),this.fov=o.fov,this.zoom=o.zoom,this.near=o.near,this.far=o.far,this.focus=o.focus,this.aspect=o.aspect,this.view=o.view===null?null:Object.assign({},o.view),this.filmGauge=o.filmGauge,this.filmOffset=o.filmOffset,this}setFocalLength(o){const a=.5*this.getFilmHeight()/o;this.fov=RAD2DEG*2*Math.atan(a),this.updateProjectionMatrix()}getFocalLength(){const o=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/o}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(o,a,j,_e,et,tt){this.aspect=o/a,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=o,this.view.fullHeight=a,this.view.offsetX=j,this.view.offsetY=_e,this.view.width=et,this.view.height=tt,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const o=this.near;let a=o*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,j=2*a,_e=this.aspect*j,et=-.5*_e;const tt=this.view;if(this.view!==null&&this.view.enabled){const rt=tt.fullWidth,it=tt.fullHeight;et+=tt.offsetX*_e/rt,a-=tt.offsetY*j/it,_e*=tt.width/rt,j*=tt.height/it}const nt=this.filmOffset;nt!==0&&(et+=o*nt/this.getFilmWidth()),this.projectionMatrix.makePerspective(et,et+_e,a,a-j,o,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(o){const a=super.toJSON(o);return a.object.fov=this.fov,a.object.zoom=this.zoom,a.object.near=this.near,a.object.far=this.far,a.object.focus=this.focus,a.object.aspect=this.aspect,this.view!==null&&(a.object.view=Object.assign({},this.view)),a.object.filmGauge=this.filmGauge,a.object.filmOffset=this.filmOffset,a}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(o,a,j){super(),this.type="CubeCamera",this.renderTarget=j;const _e=new PerspectiveCamera(fov,aspect,o,a);_e.layers=this.layers,_e.up.set(0,1,0),_e.lookAt(1,0,0),this.add(_e);const et=new PerspectiveCamera(fov,aspect,o,a);et.layers=this.layers,et.up.set(0,1,0),et.lookAt(-1,0,0),this.add(et);const tt=new PerspectiveCamera(fov,aspect,o,a);tt.layers=this.layers,tt.up.set(0,0,-1),tt.lookAt(0,1,0),this.add(tt);const nt=new PerspectiveCamera(fov,aspect,o,a);nt.layers=this.layers,nt.up.set(0,0,1),nt.lookAt(0,-1,0),this.add(nt);const rt=new PerspectiveCamera(fov,aspect,o,a);rt.layers=this.layers,rt.up.set(0,1,0),rt.lookAt(0,0,1),this.add(rt);const it=new PerspectiveCamera(fov,aspect,o,a);it.layers=this.layers,it.up.set(0,1,0),it.lookAt(0,0,-1),this.add(it)}update(o,a){this.parent===null&&this.updateMatrixWorld();const j=this.renderTarget,[_e,et,tt,nt,rt,it]=this.children,ot=o.getRenderTarget(),at=o.toneMapping,ct=o.xr.enabled;o.toneMapping=NoToneMapping,o.xr.enabled=!1;const ut=j.texture.generateMipmaps;j.texture.generateMipmaps=!1,o.setRenderTarget(j,0),o.render(a,_e),o.setRenderTarget(j,1),o.render(a,et),o.setRenderTarget(j,2),o.render(a,tt),o.setRenderTarget(j,3),o.render(a,nt),o.setRenderTarget(j,4),o.render(a,rt),j.texture.generateMipmaps=ut,o.setRenderTarget(j,5),o.render(a,it),o.setRenderTarget(ot),o.toneMapping=at,o.xr.enabled=ct,j.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(o,a,j,_e,et,tt,nt,rt,it,ot){o=o!==void 0?o:[],a=a!==void 0?a:CubeReflectionMapping,super(o,a,j,_e,et,tt,nt,rt,it,ot),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(o){this.image=o}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(o=1,a={}){super(o,o,a),this.isWebGLCubeRenderTarget=!0;const j={width:o,height:o,depth:1},_e=[j,j,j,j,j,j];this.texture=new CubeTexture(_e,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=a.generateMipmaps!==void 0?a.generateMipmaps:!1,this.texture.minFilter=a.minFilter!==void 0?a.minFilter:LinearFilter}fromEquirectangularTexture(o,a){this.texture.type=a.type,this.texture.encoding=a.encoding,this.texture.generateMipmaps=a.generateMipmaps,this.texture.minFilter=a.minFilter,this.texture.magFilter=a.magFilter;const j={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},_e=new BoxGeometry(5,5,5),et=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(j.uniforms),vertexShader:j.vertexShader,fragmentShader:j.fragmentShader,side:BackSide,blending:NoBlending});et.uniforms.tEquirect.value=a;const tt=new Mesh(_e,et),nt=a.minFilter;return a.minFilter===LinearMipmapLinearFilter&&(a.minFilter=LinearFilter),new CubeCamera(1,10,this).update(o,tt),a.minFilter=nt,tt.geometry.dispose(),tt.material.dispose(),this}clear(o,a,j,_e){const et=o.getRenderTarget();for(let tt=0;tt<6;tt++)o.setRenderTarget(this,tt),o.clear(a,j,_e);o.setRenderTarget(et)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(o=new Vector3(1,0,0),a=0){this.isPlane=!0,this.normal=o,this.constant=a}set(o,a){return this.normal.copy(o),this.constant=a,this}setComponents(o,a,j,_e){return this.normal.set(o,a,j),this.constant=_e,this}setFromNormalAndCoplanarPoint(o,a){return this.normal.copy(o),this.constant=-a.dot(this.normal),this}setFromCoplanarPoints(o,a,j){const _e=_vector1.subVectors(j,a).cross(_vector2.subVectors(o,a)).normalize();return this.setFromNormalAndCoplanarPoint(_e,o),this}copy(o){return this.normal.copy(o.normal),this.constant=o.constant,this}normalize(){const o=1/this.normal.length();return this.normal.multiplyScalar(o),this.constant*=o,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(o){return this.normal.dot(o)+this.constant}distanceToSphere(o){return this.distanceToPoint(o.center)-o.radius}projectPoint(o,a){return a.copy(this.normal).multiplyScalar(-this.distanceToPoint(o)).add(o)}intersectLine(o,a){const j=o.delta(_vector1),_e=this.normal.dot(j);if(_e===0)return this.distanceToPoint(o.start)===0?a.copy(o.start):null;const et=-(o.start.dot(this.normal)+this.constant)/_e;return et<0||et>1?null:a.copy(j).multiplyScalar(et).add(o.start)}intersectsLine(o){const a=this.distanceToPoint(o.start),j=this.distanceToPoint(o.end);return a<0&&j>0||j<0&&a>0}intersectsBox(o){return o.intersectsPlane(this)}intersectsSphere(o){return o.intersectsPlane(this)}coplanarPoint(o){return o.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(o,a){const j=a||_normalMatrix.getNormalMatrix(o),_e=this.coplanarPoint(_vector1).applyMatrix4(o),et=this.normal.applyMatrix3(j).normalize();return this.constant=-_e.dot(et),this}translate(o){return this.constant-=o.dot(this.normal),this}equals(o){return o.normal.equals(this.normal)&&o.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$2=new Sphere,_vector$7=new Vector3;class Frustum{constructor(o=new Plane,a=new Plane,j=new Plane,_e=new Plane,et=new Plane,tt=new Plane){this.planes=[o,a,j,_e,et,tt]}set(o,a,j,_e,et,tt){const nt=this.planes;return nt[0].copy(o),nt[1].copy(a),nt[2].copy(j),nt[3].copy(_e),nt[4].copy(et),nt[5].copy(tt),this}copy(o){const a=this.planes;for(let j=0;j<6;j++)a[j].copy(o.planes[j]);return this}setFromProjectionMatrix(o){const a=this.planes,j=o.elements,_e=j[0],et=j[1],tt=j[2],nt=j[3],rt=j[4],it=j[5],ot=j[6],at=j[7],ct=j[8],ut=j[9],dt=j[10],ft=j[11],ht=j[12],pt=j[13],yt=j[14],gt=j[15];return a[0].setComponents(nt-_e,at-rt,ft-ct,gt-ht).normalize(),a[1].setComponents(nt+_e,at+rt,ft+ct,gt+ht).normalize(),a[2].setComponents(nt+et,at+it,ft+ut,gt+pt).normalize(),a[3].setComponents(nt-et,at-it,ft-ut,gt-pt).normalize(),a[4].setComponents(nt-tt,at-ot,ft-dt,gt-yt).normalize(),a[5].setComponents(nt+tt,at+ot,ft+dt,gt+yt).normalize(),this}intersectsObject(o){const a=o.geometry;return a.boundingSphere===null&&a.computeBoundingSphere(),_sphere$2.copy(a.boundingSphere).applyMatrix4(o.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSprite(o){return _sphere$2.center.set(0,0,0),_sphere$2.radius=.7071067811865476,_sphere$2.applyMatrix4(o.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSphere(o){const a=this.planes,j=o.center,_e=-o.radius;for(let et=0;et<6;et++)if(a[et].distanceToPoint(j)<_e)return!1;return!0}intersectsBox(o){const a=this.planes;for(let j=0;j<6;j++){const _e=a[j];if(_vector$7.x=_e.normal.x>0?o.max.x:o.min.x,_vector$7.y=_e.normal.y>0?o.max.y:o.min.y,_vector$7.z=_e.normal.z>0?o.max.z:o.min.z,_e.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(o){const a=this.planes;for(let j=0;j<6;j++)if(a[j].distanceToPoint(o)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let $=null,o=!1,a=null,j=null;function _e(et,tt){a(et,tt),j=$.requestAnimationFrame(_e)}return{start:function(){o!==!0&&a!==null&&(j=$.requestAnimationFrame(_e),o=!0)},stop:function(){$.cancelAnimationFrame(j),o=!1},setAnimationLoop:function(et){a=et},setContext:function(et){$=et}}}function WebGLAttributes($,o){const a=o.isWebGL2,j=new WeakMap;function _e(it,ot){const at=it.array,ct=it.usage,ut=$.createBuffer();$.bindBuffer(ot,ut),$.bufferData(ot,at,ct),it.onUploadCallback();let dt;if(at instanceof Float32Array)dt=5126;else if(at instanceof Uint16Array)if(it.isFloat16BufferAttribute)if(a)dt=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else dt=5123;else if(at instanceof Int16Array)dt=5122;else if(at instanceof Uint32Array)dt=5125;else if(at instanceof Int32Array)dt=5124;else if(at instanceof Int8Array)dt=5120;else if(at instanceof Uint8Array)dt=5121;else if(at instanceof Uint8ClampedArray)dt=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+at);return{buffer:ut,type:dt,bytesPerElement:at.BYTES_PER_ELEMENT,version:it.version}}function et(it,ot,at){const ct=ot.array,ut=ot.updateRange;$.bindBuffer(at,it),ut.count===-1?$.bufferSubData(at,0,ct):(a?$.bufferSubData(at,ut.offset*ct.BYTES_PER_ELEMENT,ct,ut.offset,ut.count):$.bufferSubData(at,ut.offset*ct.BYTES_PER_ELEMENT,ct.subarray(ut.offset,ut.offset+ut.count)),ut.count=-1),ot.onUploadCallback()}function tt(it){return it.isInterleavedBufferAttribute&&(it=it.data),j.get(it)}function nt(it){it.isInterleavedBufferAttribute&&(it=it.data);const ot=j.get(it);ot&&($.deleteBuffer(ot.buffer),j.delete(it))}function rt(it,ot){if(it.isGLBufferAttribute){const ct=j.get(it);(!ct||ct.version<it.version)&&j.set(it,{buffer:it.buffer,type:it.type,bytesPerElement:it.elementSize,version:it.version});return}it.isInterleavedBufferAttribute&&(it=it.data);const at=j.get(it);at===void 0?j.set(it,_e(it,ot)):at.version<it.version&&(et(at.buffer,it,ot),at.version=it.version)}return{get:tt,remove:nt,update:rt}}class PlaneGeometry extends BufferGeometry{constructor(o=1,a=1,j=1,_e=1){super(),this.type="PlaneGeometry",this.parameters={width:o,height:a,widthSegments:j,heightSegments:_e};const et=o/2,tt=a/2,nt=Math.floor(j),rt=Math.floor(_e),it=nt+1,ot=rt+1,at=o/nt,ct=a/rt,ut=[],dt=[],ft=[],ht=[];for(let pt=0;pt<ot;pt++){const yt=pt*ct-tt;for(let gt=0;gt<it;gt++){const bt=gt*at-et;dt.push(bt,-yt,0),ft.push(0,0,1),ht.push(gt/nt),ht.push(1-pt/rt)}}for(let pt=0;pt<rt;pt++)for(let yt=0;yt<nt;yt++){const gt=yt+it*pt,bt=yt+it*(pt+1),At=yt+1+it*(pt+1),Tt=yt+1+it*pt;ut.push(gt,bt,Tt),ut.push(bt,At,Tt)}this.setIndex(ut),this.setAttribute("position",new Float32BufferAttribute(dt,3)),this.setAttribute("normal",new Float32BufferAttribute(ft,3)),this.setAttribute("uv",new Float32BufferAttribute(ht,2))}static fromJSON(o){return new PlaneGeometry(o.width,o.height,o.widthSegments,o.heightSegments)}}var alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex="vec3 transformed = vec3( position );",beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,output_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uv_pars_fragment=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,encodings_fragment,encodings_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,output_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,uv2_pars_fragment,uv2_pars_vertex,uv2_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3},uv2Transform:{value:new Matrix3},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0};function WebGLBackground($,o,a,j,_e,et,tt){const nt=new Color(0);let rt=et===!0?0:1,it,ot,at=null,ct=0,ut=null;function dt(ht,pt){let yt=!1,gt=pt.isScene===!0?pt.background:null;gt&&gt.isTexture&&(gt=(pt.backgroundBlurriness>0?a:o).get(gt));const bt=$.xr,At=bt.getSession&&bt.getSession();At&&At.environmentBlendMode==="additive"&&(gt=null),gt===null?ft(nt,rt):gt&&gt.isColor&&(ft(gt,1),yt=!0),($.autoClear||yt)&&$.clear($.autoClearColor,$.autoClearDepth,$.autoClearStencil),gt&&(gt.isCubeTexture||gt.mapping===CubeUVReflectionMapping)?(ot===void 0&&(ot=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),ot.geometry.deleteAttribute("normal"),ot.geometry.deleteAttribute("uv"),ot.onBeforeRender=function(Tt,Pt,Ct){this.matrixWorld.copyPosition(Ct.matrixWorld)},Object.defineProperty(ot.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),_e.update(ot)),ot.material.uniforms.envMap.value=gt,ot.material.uniforms.flipEnvMap.value=gt.isCubeTexture&&gt.isRenderTargetTexture===!1?-1:1,ot.material.uniforms.backgroundBlurriness.value=pt.backgroundBlurriness,ot.material.uniforms.backgroundIntensity.value=pt.backgroundIntensity,ot.material.toneMapped=gt.encoding!==sRGBEncoding,(at!==gt||ct!==gt.version||ut!==$.toneMapping)&&(ot.material.needsUpdate=!0,at=gt,ct=gt.version,ut=$.toneMapping),ot.layers.enableAll(),ht.unshift(ot,ot.geometry,ot.material,0,0,null)):gt&&gt.isTexture&&(it===void 0&&(it=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),it.geometry.deleteAttribute("normal"),Object.defineProperty(it.material,"map",{get:function(){return this.uniforms.t2D.value}}),_e.update(it)),it.material.uniforms.t2D.value=gt,it.material.uniforms.backgroundIntensity.value=pt.backgroundIntensity,it.material.toneMapped=gt.encoding!==sRGBEncoding,gt.matrixAutoUpdate===!0&&gt.updateMatrix(),it.material.uniforms.uvTransform.value.copy(gt.matrix),(at!==gt||ct!==gt.version||ut!==$.toneMapping)&&(it.material.needsUpdate=!0,at=gt,ct=gt.version,ut=$.toneMapping),it.layers.enableAll(),ht.unshift(it,it.geometry,it.material,0,0,null))}function ft(ht,pt){ht.getRGB(_rgb,getUnlitUniformColorSpace($)),j.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,pt,tt)}return{getClearColor:function(){return nt},setClearColor:function(ht,pt=1){nt.set(ht),rt=pt,ft(nt,rt)},getClearAlpha:function(){return rt},setClearAlpha:function(ht){rt=ht,ft(nt,rt)},render:dt}}function WebGLBindingStates($,o,a,j){const _e=$.getParameter(34921),et=j.isWebGL2?null:o.get("OES_vertex_array_object"),tt=j.isWebGL2||et!==null,nt={},rt=ht(null);let it=rt,ot=!1;function at(vt,St,Lt,zt,Rt){let $t=!1;if(tt){const Gt=ft(zt,Lt,St);it!==Gt&&(it=Gt,ut(it.object)),$t=pt(vt,zt,Lt,Rt),$t&&yt(vt,zt,Lt,Rt)}else{const Gt=St.wireframe===!0;(it.geometry!==zt.id||it.program!==Lt.id||it.wireframe!==Gt)&&(it.geometry=zt.id,it.program=Lt.id,it.wireframe=Gt,$t=!0)}Rt!==null&&a.update(Rt,34963),($t||ot)&&(ot=!1,Ct(vt,St,Lt,zt),Rt!==null&&$.bindBuffer(34963,a.get(Rt).buffer))}function ct(){return j.isWebGL2?$.createVertexArray():et.createVertexArrayOES()}function ut(vt){return j.isWebGL2?$.bindVertexArray(vt):et.bindVertexArrayOES(vt)}function dt(vt){return j.isWebGL2?$.deleteVertexArray(vt):et.deleteVertexArrayOES(vt)}function ft(vt,St,Lt){const zt=Lt.wireframe===!0;let Rt=nt[vt.id];Rt===void 0&&(Rt={},nt[vt.id]=Rt);let $t=Rt[St.id];$t===void 0&&($t={},Rt[St.id]=$t);let Gt=$t[zt];return Gt===void 0&&(Gt=ht(ct()),$t[zt]=Gt),Gt}function ht(vt){const St=[],Lt=[],zt=[];for(let Rt=0;Rt<_e;Rt++)St[Rt]=0,Lt[Rt]=0,zt[Rt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:St,enabledAttributes:Lt,attributeDivisors:zt,object:vt,attributes:{},index:null}}function pt(vt,St,Lt,zt){const Rt=it.attributes,$t=St.attributes;let Gt=0;const Ft=Lt.getAttributes();for(const wt in Ft)if(Ft[wt].location>=0){const nn=Rt[wt];let Dt=$t[wt];if(Dt===void 0&&(wt==="instanceMatrix"&&vt.instanceMatrix&&(Dt=vt.instanceMatrix),wt==="instanceColor"&&vt.instanceColor&&(Dt=vt.instanceColor)),nn===void 0||nn.attribute!==Dt||Dt&&nn.data!==Dt.data)return!0;Gt++}return it.attributesNum!==Gt||it.index!==zt}function yt(vt,St,Lt,zt){const Rt={},$t=St.attributes;let Gt=0;const Ft=Lt.getAttributes();for(const wt in Ft)if(Ft[wt].location>=0){let nn=$t[wt];nn===void 0&&(wt==="instanceMatrix"&&vt.instanceMatrix&&(nn=vt.instanceMatrix),wt==="instanceColor"&&vt.instanceColor&&(nn=vt.instanceColor));const Dt={};Dt.attribute=nn,nn&&nn.data&&(Dt.data=nn.data),Rt[wt]=Dt,Gt++}it.attributes=Rt,it.attributesNum=Gt,it.index=zt}function gt(){const vt=it.newAttributes;for(let St=0,Lt=vt.length;St<Lt;St++)vt[St]=0}function bt(vt){At(vt,0)}function At(vt,St){const Lt=it.newAttributes,zt=it.enabledAttributes,Rt=it.attributeDivisors;Lt[vt]=1,zt[vt]===0&&($.enableVertexAttribArray(vt),zt[vt]=1),Rt[vt]!==St&&((j.isWebGL2?$:o.get("ANGLE_instanced_arrays"))[j.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](vt,St),Rt[vt]=St)}function Tt(){const vt=it.newAttributes,St=it.enabledAttributes;for(let Lt=0,zt=St.length;Lt<zt;Lt++)St[Lt]!==vt[Lt]&&($.disableVertexAttribArray(Lt),St[Lt]=0)}function Pt(vt,St,Lt,zt,Rt,$t){j.isWebGL2===!0&&(Lt===5124||Lt===5125)?$.vertexAttribIPointer(vt,St,Lt,Rt,$t):$.vertexAttribPointer(vt,St,Lt,zt,Rt,$t)}function Ct(vt,St,Lt,zt){if(j.isWebGL2===!1&&(vt.isInstancedMesh||zt.isInstancedBufferGeometry)&&o.get("ANGLE_instanced_arrays")===null)return;gt();const Rt=zt.attributes,$t=Lt.getAttributes(),Gt=St.defaultAttributeValues;for(const Ft in $t){const wt=$t[Ft];if(wt.location>=0){let Ht=Rt[Ft];if(Ht===void 0&&(Ft==="instanceMatrix"&&vt.instanceMatrix&&(Ht=vt.instanceMatrix),Ft==="instanceColor"&&vt.instanceColor&&(Ht=vt.instanceColor)),Ht!==void 0){const nn=Ht.normalized,Dt=Ht.itemSize,Jt=a.get(Ht);if(Jt===void 0)continue;const on=Jt.buffer,sn=Jt.type,dn=Jt.bytesPerElement;if(Ht.isInterleavedBufferAttribute){const mn=Ht.data,ln=mn.stride,tn=Ht.offset;if(mn.isInstancedInterleavedBuffer){for(let cn=0;cn<wt.locationSize;cn++)At(wt.location+cn,mn.meshPerAttribute);vt.isInstancedMesh!==!0&&zt._maxInstanceCount===void 0&&(zt._maxInstanceCount=mn.meshPerAttribute*mn.count)}else for(let cn=0;cn<wt.locationSize;cn++)bt(wt.location+cn);$.bindBuffer(34962,on);for(let cn=0;cn<wt.locationSize;cn++)Pt(wt.location+cn,Dt/wt.locationSize,sn,nn,ln*dn,(tn+Dt/wt.locationSize*cn)*dn)}else{if(Ht.isInstancedBufferAttribute){for(let mn=0;mn<wt.locationSize;mn++)At(wt.location+mn,Ht.meshPerAttribute);vt.isInstancedMesh!==!0&&zt._maxInstanceCount===void 0&&(zt._maxInstanceCount=Ht.meshPerAttribute*Ht.count)}else for(let mn=0;mn<wt.locationSize;mn++)bt(wt.location+mn);$.bindBuffer(34962,on);for(let mn=0;mn<wt.locationSize;mn++)Pt(wt.location+mn,Dt/wt.locationSize,sn,nn,Dt*dn,Dt/wt.locationSize*mn*dn)}}else if(Gt!==void 0){const nn=Gt[Ft];if(nn!==void 0)switch(nn.length){case 2:$.vertexAttrib2fv(wt.location,nn);break;case 3:$.vertexAttrib3fv(wt.location,nn);break;case 4:$.vertexAttrib4fv(wt.location,nn);break;default:$.vertexAttrib1fv(wt.location,nn)}}}}Tt()}function It(){en();for(const vt in nt){const St=nt[vt];for(const Lt in St){const zt=St[Lt];for(const Rt in zt)dt(zt[Rt].object),delete zt[Rt];delete St[Lt]}delete nt[vt]}}function Vt(vt){if(nt[vt.id]===void 0)return;const St=nt[vt.id];for(const Lt in St){const zt=St[Lt];for(const Rt in zt)dt(zt[Rt].object),delete zt[Rt];delete St[Lt]}delete nt[vt.id]}function Kt(vt){for(const St in nt){const Lt=nt[St];if(Lt[vt.id]===void 0)continue;const zt=Lt[vt.id];for(const Rt in zt)dt(zt[Rt].object),delete zt[Rt];delete Lt[vt.id]}}function en(){kt(),ot=!0,it!==rt&&(it=rt,ut(it.object))}function kt(){rt.geometry=null,rt.program=null,rt.wireframe=!1}return{setup:at,reset:en,resetDefaultState:kt,dispose:It,releaseStatesOfGeometry:Vt,releaseStatesOfProgram:Kt,initAttributes:gt,enableAttribute:bt,disableUnusedAttributes:Tt}}function WebGLBufferRenderer($,o,a,j){const _e=j.isWebGL2;let et;function tt(it){et=it}function nt(it,ot){$.drawArrays(et,it,ot),a.update(ot,et,1)}function rt(it,ot,at){if(at===0)return;let ct,ut;if(_e)ct=$,ut="drawArraysInstanced";else if(ct=o.get("ANGLE_instanced_arrays"),ut="drawArraysInstancedANGLE",ct===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ct[ut](et,it,ot,at),a.update(ot,et,at)}this.setMode=tt,this.render=nt,this.renderInstances=rt}function WebGLCapabilities($,o,a){let j;function _e(){if(j!==void 0)return j;if(o.has("EXT_texture_filter_anisotropic")===!0){const Pt=o.get("EXT_texture_filter_anisotropic");j=$.getParameter(Pt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else j=0;return j}function et(Pt){if(Pt==="highp"){if($.getShaderPrecisionFormat(35633,36338).precision>0&&$.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Pt="mediump"}return Pt==="mediump"&&$.getShaderPrecisionFormat(35633,36337).precision>0&&$.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const tt=typeof WebGL2RenderingContext<"u"&&$ instanceof WebGL2RenderingContext;let nt=a.precision!==void 0?a.precision:"highp";const rt=et(nt);rt!==nt&&(console.warn("THREE.WebGLRenderer:",nt,"not supported, using",rt,"instead."),nt=rt);const it=tt||o.has("WEBGL_draw_buffers"),ot=a.logarithmicDepthBuffer===!0,at=$.getParameter(34930),ct=$.getParameter(35660),ut=$.getParameter(3379),dt=$.getParameter(34076),ft=$.getParameter(34921),ht=$.getParameter(36347),pt=$.getParameter(36348),yt=$.getParameter(36349),gt=ct>0,bt=tt||o.has("OES_texture_float"),At=gt&&bt,Tt=tt?$.getParameter(36183):0;return{isWebGL2:tt,drawBuffers:it,getMaxAnisotropy:_e,getMaxPrecision:et,precision:nt,logarithmicDepthBuffer:ot,maxTextures:at,maxVertexTextures:ct,maxTextureSize:ut,maxCubemapSize:dt,maxAttributes:ft,maxVertexUniforms:ht,maxVaryings:pt,maxFragmentUniforms:yt,vertexTextures:gt,floatFragmentTextures:bt,floatVertexTextures:At,maxSamples:Tt}}function WebGLClipping($){const o=this;let a=null,j=0,_e=!1,et=!1;const tt=new Plane,nt=new Matrix3,rt={value:null,needsUpdate:!1};this.uniform=rt,this.numPlanes=0,this.numIntersection=0,this.init=function(at,ct){const ut=at.length!==0||ct||j!==0||_e;return _e=ct,j=at.length,ut},this.beginShadows=function(){et=!0,ot(null)},this.endShadows=function(){et=!1},this.setGlobalState=function(at,ct){a=ot(at,ct,0)},this.setState=function(at,ct,ut){const dt=at.clippingPlanes,ft=at.clipIntersection,ht=at.clipShadows,pt=$.get(at);if(!_e||dt===null||dt.length===0||et&&!ht)et?ot(null):it();else{const yt=et?0:j,gt=yt*4;let bt=pt.clippingState||null;rt.value=bt,bt=ot(dt,ct,gt,ut);for(let At=0;At!==gt;++At)bt[At]=a[At];pt.clippingState=bt,this.numIntersection=ft?this.numPlanes:0,this.numPlanes+=yt}};function it(){rt.value!==a&&(rt.value=a,rt.needsUpdate=j>0),o.numPlanes=j,o.numIntersection=0}function ot(at,ct,ut,dt){const ft=at!==null?at.length:0;let ht=null;if(ft!==0){if(ht=rt.value,dt!==!0||ht===null){const pt=ut+ft*4,yt=ct.matrixWorldInverse;nt.getNormalMatrix(yt),(ht===null||ht.length<pt)&&(ht=new Float32Array(pt));for(let gt=0,bt=ut;gt!==ft;++gt,bt+=4)tt.copy(at[gt]).applyMatrix4(yt,nt),tt.normal.toArray(ht,bt),ht[bt+3]=tt.constant}rt.value=ht,rt.needsUpdate=!0}return o.numPlanes=ft,o.numIntersection=0,ht}}function WebGLCubeMaps($){let o=new WeakMap;function a(tt,nt){return nt===EquirectangularReflectionMapping?tt.mapping=CubeReflectionMapping:nt===EquirectangularRefractionMapping&&(tt.mapping=CubeRefractionMapping),tt}function j(tt){if(tt&&tt.isTexture&&tt.isRenderTargetTexture===!1){const nt=tt.mapping;if(nt===EquirectangularReflectionMapping||nt===EquirectangularRefractionMapping)if(o.has(tt)){const rt=o.get(tt).texture;return a(rt,tt.mapping)}else{const rt=tt.image;if(rt&&rt.height>0){const it=new WebGLCubeRenderTarget(rt.height/2);return it.fromEquirectangularTexture($,tt),o.set(tt,it),tt.addEventListener("dispose",_e),a(it.texture,tt.mapping)}else return null}}return tt}function _e(tt){const nt=tt.target;nt.removeEventListener("dispose",_e);const rt=o.get(nt);rt!==void 0&&(o.delete(nt),rt.dispose())}function et(){o=new WeakMap}return{get:j,dispose:et}}class OrthographicCamera extends Camera{constructor(o=-1,a=1,j=1,_e=-1,et=.1,tt=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=o,this.right=a,this.top=j,this.bottom=_e,this.near=et,this.far=tt,this.updateProjectionMatrix()}copy(o,a){return super.copy(o,a),this.left=o.left,this.right=o.right,this.top=o.top,this.bottom=o.bottom,this.near=o.near,this.far=o.far,this.zoom=o.zoom,this.view=o.view===null?null:Object.assign({},o.view),this}setViewOffset(o,a,j,_e,et,tt){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=o,this.view.fullHeight=a,this.view.offsetX=j,this.view.offsetY=_e,this.view.width=et,this.view.height=tt,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const o=(this.right-this.left)/(2*this.zoom),a=(this.top-this.bottom)/(2*this.zoom),j=(this.right+this.left)/2,_e=(this.top+this.bottom)/2;let et=j-o,tt=j+o,nt=_e+a,rt=_e-a;if(this.view!==null&&this.view.enabled){const it=(this.right-this.left)/this.view.fullWidth/this.zoom,ot=(this.top-this.bottom)/this.view.fullHeight/this.zoom;et+=it*this.view.offsetX,tt=et+it*this.view.width,nt-=ot*this.view.offsetY,rt=nt-ot*this.view.height}this.projectionMatrix.makeOrthographic(et,tt,nt,rt,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(o){const a=super.toJSON(o);return a.object.zoom=this.zoom,a.object.left=this.left,a.object.right=this.right,a.object.top=this.top,a.object.bottom=this.bottom,a.object.near=this.near,a.object.far=this.far,this.view!==null&&(a.object.view=Object.assign({},this.view)),a}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(o){this._renderer=o,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(o,a=0,j=.1,_e=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const et=this._allocateTargets();return et.depthBuffer=!0,this._sceneToCubeUV(o,j,_e,et),a>0&&this._blur(et,0,0,a),this._applyPMREM(et),this._cleanup(et),et}fromEquirectangular(o,a=null){return this._fromTexture(o,a)}fromCubemap(o,a=null){return this._fromTexture(o,a)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(o){this._lodMax=Math.floor(Math.log2(o)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let o=0;o<this._lodPlanes.length;o++)this._lodPlanes[o].dispose()}_cleanup(o){this._renderer.setRenderTarget(_oldTarget),o.scissorTest=!1,_setViewport(o,0,0,o.width,o.height)}_fromTexture(o,a){o.mapping===CubeReflectionMapping||o.mapping===CubeRefractionMapping?this._setSize(o.image.length===0?16:o.image[0].width||o.image[0].image.width):this._setSize(o.image.width/4),_oldTarget=this._renderer.getRenderTarget();const j=a||this._allocateTargets();return this._textureToCubeUV(o,j),this._applyPMREM(j),this._cleanup(j),j}_allocateTargets(){const o=3*Math.max(this._cubeSize,112),a=4*this._cubeSize,j={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,encoding:LinearEncoding,depthBuffer:!1},_e=_createRenderTarget(o,a,j);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==o||this._pingPongRenderTarget.height!==a){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(o,a,j);const{_lodMax:et}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(et)),this._blurMaterial=_getBlurShader(et,o,a)}return _e}_compileMaterial(o){const a=new Mesh(this._lodPlanes[0],o);this._renderer.compile(a,_flatCamera)}_sceneToCubeUV(o,a,j,_e){const nt=new PerspectiveCamera(90,1,a,j),rt=[1,-1,1,1,1,1],it=[1,1,1,-1,-1,-1],ot=this._renderer,at=ot.autoClear,ct=ot.toneMapping;ot.getClearColor(_clearColor),ot.toneMapping=NoToneMapping,ot.autoClear=!1;const ut=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),dt=new Mesh(new BoxGeometry,ut);let ft=!1;const ht=o.background;ht?ht.isColor&&(ut.color.copy(ht),o.background=null,ft=!0):(ut.color.copy(_clearColor),ft=!0);for(let pt=0;pt<6;pt++){const yt=pt%3;yt===0?(nt.up.set(0,rt[pt],0),nt.lookAt(it[pt],0,0)):yt===1?(nt.up.set(0,0,rt[pt]),nt.lookAt(0,it[pt],0)):(nt.up.set(0,rt[pt],0),nt.lookAt(0,0,it[pt]));const gt=this._cubeSize;_setViewport(_e,yt*gt,pt>2?gt:0,gt,gt),ot.setRenderTarget(_e),ft&&ot.render(dt,nt),ot.render(o,nt)}dt.geometry.dispose(),dt.material.dispose(),ot.toneMapping=ct,ot.autoClear=at,o.background=ht}_textureToCubeUV(o,a){const j=this._renderer,_e=o.mapping===CubeReflectionMapping||o.mapping===CubeRefractionMapping;_e?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=o.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const et=_e?this._cubemapMaterial:this._equirectMaterial,tt=new Mesh(this._lodPlanes[0],et),nt=et.uniforms;nt.envMap.value=o;const rt=this._cubeSize;_setViewport(a,0,0,3*rt,2*rt),j.setRenderTarget(a),j.render(tt,_flatCamera)}_applyPMREM(o){const a=this._renderer,j=a.autoClear;a.autoClear=!1;for(let _e=1;_e<this._lodPlanes.length;_e++){const et=Math.sqrt(this._sigmas[_e]*this._sigmas[_e]-this._sigmas[_e-1]*this._sigmas[_e-1]),tt=_axisDirections[(_e-1)%_axisDirections.length];this._blur(o,_e-1,_e,et,tt)}a.autoClear=j}_blur(o,a,j,_e,et){const tt=this._pingPongRenderTarget;this._halfBlur(o,tt,a,j,_e,"latitudinal",et),this._halfBlur(tt,o,j,j,_e,"longitudinal",et)}_halfBlur(o,a,j,_e,et,tt,nt){const rt=this._renderer,it=this._blurMaterial;tt!=="latitudinal"&&tt!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const ot=3,at=new Mesh(this._lodPlanes[_e],it),ct=it.uniforms,ut=this._sizeLods[j]-1,dt=isFinite(et)?Math.PI/(2*ut):2*Math.PI/(2*MAX_SAMPLES-1),ft=et/dt,ht=isFinite(et)?1+Math.floor(ot*ft):MAX_SAMPLES;ht>MAX_SAMPLES&&console.warn(`sigmaRadians, ${et}, is too large and will clip, as it requested ${ht} samples when the maximum is set to ${MAX_SAMPLES}`);const pt=[];let yt=0;for(let Pt=0;Pt<MAX_SAMPLES;++Pt){const Ct=Pt/ft,It=Math.exp(-Ct*Ct/2);pt.push(It),Pt===0?yt+=It:Pt<ht&&(yt+=2*It)}for(let Pt=0;Pt<pt.length;Pt++)pt[Pt]=pt[Pt]/yt;ct.envMap.value=o.texture,ct.samples.value=ht,ct.weights.value=pt,ct.latitudinal.value=tt==="latitudinal",nt&&(ct.poleAxis.value=nt);const{_lodMax:gt}=this;ct.dTheta.value=dt,ct.mipInt.value=gt-j;const bt=this._sizeLods[_e],At=3*bt*(_e>gt-LOD_MIN?_e-gt+LOD_MIN:0),Tt=4*(this._cubeSize-bt);_setViewport(a,At,Tt,3*bt,2*bt),rt.setRenderTarget(a),rt.render(at,_flatCamera)}}function _createPlanes($){const o=[],a=[],j=[];let _e=$;const et=$-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let tt=0;tt<et;tt++){const nt=Math.pow(2,_e);a.push(nt);let rt=1/nt;tt>$-LOD_MIN?rt=EXTRA_LOD_SIGMA[tt-$+LOD_MIN-1]:tt===0&&(rt=0),j.push(rt);const it=1/(nt-2),ot=-it,at=1+it,ct=[ot,ot,at,ot,at,at,ot,ot,at,at,ot,at],ut=6,dt=6,ft=3,ht=2,pt=1,yt=new Float32Array(ft*dt*ut),gt=new Float32Array(ht*dt*ut),bt=new Float32Array(pt*dt*ut);for(let Tt=0;Tt<ut;Tt++){const Pt=Tt%3*2/3-1,Ct=Tt>2?0:-1,It=[Pt,Ct,0,Pt+2/3,Ct,0,Pt+2/3,Ct+1,0,Pt,Ct,0,Pt+2/3,Ct+1,0,Pt,Ct+1,0];yt.set(It,ft*dt*Tt),gt.set(ct,ht*dt*Tt);const Vt=[Tt,Tt,Tt,Tt,Tt,Tt];bt.set(Vt,pt*dt*Tt)}const At=new BufferGeometry;At.setAttribute("position",new BufferAttribute(yt,ft)),At.setAttribute("uv",new BufferAttribute(gt,ht)),At.setAttribute("faceIndex",new BufferAttribute(bt,pt)),o.push(At),_e>LOD_MIN&&_e--}return{lodPlanes:o,sizeLods:a,sigmas:j}}function _createRenderTarget($,o,a){const j=new WebGLRenderTarget($,o,a);return j.texture.mapping=CubeUVReflectionMapping,j.texture.name="PMREM.cubeUv",j.scissorTest=!0,j}function _setViewport($,o,a,j,_e){$.viewport.set(o,a,j,_e),$.scissor.set(o,a,j,_e)}function _getBlurShader($,o,a){const j=new Float32Array(MAX_SAMPLES),_e=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/o,CUBEUV_TEXEL_HEIGHT:1/a,CUBEUV_MAX_MIP:`${$}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:j},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:_e}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps($){let o=new WeakMap,a=null;function j(nt){if(nt&&nt.isTexture){const rt=nt.mapping,it=rt===EquirectangularReflectionMapping||rt===EquirectangularRefractionMapping,ot=rt===CubeReflectionMapping||rt===CubeRefractionMapping;if(it||ot)if(nt.isRenderTargetTexture&&nt.needsPMREMUpdate===!0){nt.needsPMREMUpdate=!1;let at=o.get(nt);return a===null&&(a=new PMREMGenerator($)),at=it?a.fromEquirectangular(nt,at):a.fromCubemap(nt,at),o.set(nt,at),at.texture}else{if(o.has(nt))return o.get(nt).texture;{const at=nt.image;if(it&&at&&at.height>0||ot&&at&&_e(at)){a===null&&(a=new PMREMGenerator($));const ct=it?a.fromEquirectangular(nt):a.fromCubemap(nt);return o.set(nt,ct),nt.addEventListener("dispose",et),ct.texture}else return null}}}return nt}function _e(nt){let rt=0;const it=6;for(let ot=0;ot<it;ot++)nt[ot]!==void 0&&rt++;return rt===it}function et(nt){const rt=nt.target;rt.removeEventListener("dispose",et);const it=o.get(rt);it!==void 0&&(o.delete(rt),it.dispose())}function tt(){o=new WeakMap,a!==null&&(a.dispose(),a=null)}return{get:j,dispose:tt}}function WebGLExtensions($){const o={};function a(j){if(o[j]!==void 0)return o[j];let _e;switch(j){case"WEBGL_depth_texture":_e=$.getExtension("WEBGL_depth_texture")||$.getExtension("MOZ_WEBGL_depth_texture")||$.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":_e=$.getExtension("EXT_texture_filter_anisotropic")||$.getExtension("MOZ_EXT_texture_filter_anisotropic")||$.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":_e=$.getExtension("WEBGL_compressed_texture_s3tc")||$.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||$.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":_e=$.getExtension("WEBGL_compressed_texture_pvrtc")||$.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:_e=$.getExtension(j)}return o[j]=_e,_e}return{has:function(j){return a(j)!==null},init:function(j){j.isWebGL2?a("EXT_color_buffer_float"):(a("WEBGL_depth_texture"),a("OES_texture_float"),a("OES_texture_half_float"),a("OES_texture_half_float_linear"),a("OES_standard_derivatives"),a("OES_element_index_uint"),a("OES_vertex_array_object"),a("ANGLE_instanced_arrays")),a("OES_texture_float_linear"),a("EXT_color_buffer_half_float"),a("WEBGL_multisampled_render_to_texture")},get:function(j){const _e=a(j);return _e===null&&console.warn("THREE.WebGLRenderer: "+j+" extension not supported."),_e}}}function WebGLGeometries($,o,a,j){const _e={},et=new WeakMap;function tt(at){const ct=at.target;ct.index!==null&&o.remove(ct.index);for(const dt in ct.attributes)o.remove(ct.attributes[dt]);ct.removeEventListener("dispose",tt),delete _e[ct.id];const ut=et.get(ct);ut&&(o.remove(ut),et.delete(ct)),j.releaseStatesOfGeometry(ct),ct.isInstancedBufferGeometry===!0&&delete ct._maxInstanceCount,a.memory.geometries--}function nt(at,ct){return _e[ct.id]===!0||(ct.addEventListener("dispose",tt),_e[ct.id]=!0,a.memory.geometries++),ct}function rt(at){const ct=at.attributes;for(const dt in ct)o.update(ct[dt],34962);const ut=at.morphAttributes;for(const dt in ut){const ft=ut[dt];for(let ht=0,pt=ft.length;ht<pt;ht++)o.update(ft[ht],34962)}}function it(at){const ct=[],ut=at.index,dt=at.attributes.position;let ft=0;if(ut!==null){const yt=ut.array;ft=ut.version;for(let gt=0,bt=yt.length;gt<bt;gt+=3){const At=yt[gt+0],Tt=yt[gt+1],Pt=yt[gt+2];ct.push(At,Tt,Tt,Pt,Pt,At)}}else{const yt=dt.array;ft=dt.version;for(let gt=0,bt=yt.length/3-1;gt<bt;gt+=3){const At=gt+0,Tt=gt+1,Pt=gt+2;ct.push(At,Tt,Tt,Pt,Pt,At)}}const ht=new(arrayNeedsUint32(ct)?Uint32BufferAttribute:Uint16BufferAttribute)(ct,1);ht.version=ft;const pt=et.get(at);pt&&o.remove(pt),et.set(at,ht)}function ot(at){const ct=et.get(at);if(ct){const ut=at.index;ut!==null&&ct.version<ut.version&&it(at)}else it(at);return et.get(at)}return{get:nt,update:rt,getWireframeAttribute:ot}}function WebGLIndexedBufferRenderer($,o,a,j){const _e=j.isWebGL2;let et;function tt(ct){et=ct}let nt,rt;function it(ct){nt=ct.type,rt=ct.bytesPerElement}function ot(ct,ut){$.drawElements(et,ut,nt,ct*rt),a.update(ut,et,1)}function at(ct,ut,dt){if(dt===0)return;let ft,ht;if(_e)ft=$,ht="drawElementsInstanced";else if(ft=o.get("ANGLE_instanced_arrays"),ht="drawElementsInstancedANGLE",ft===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ft[ht](et,ut,nt,ct*rt,dt),a.update(ut,et,dt)}this.setMode=tt,this.setIndex=it,this.render=ot,this.renderInstances=at}function WebGLInfo($){const o={geometries:0,textures:0},a={frame:0,calls:0,triangles:0,points:0,lines:0};function j(et,tt,nt){switch(a.calls++,tt){case 4:a.triangles+=nt*(et/3);break;case 1:a.lines+=nt*(et/2);break;case 3:a.lines+=nt*(et-1);break;case 2:a.lines+=nt*et;break;case 0:a.points+=nt*et;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",tt);break}}function _e(){a.frame++,a.calls=0,a.triangles=0,a.points=0,a.lines=0}return{memory:o,render:a,programs:null,autoReset:!0,reset:_e,update:j}}function numericalSort($,o){return $[0]-o[0]}function absNumericalSort($,o){return Math.abs(o[1])-Math.abs($[1])}function WebGLMorphtargets($,o,a){const j={},_e=new Float32Array(8),et=new WeakMap,tt=new Vector4,nt=[];for(let it=0;it<8;it++)nt[it]=[it,0];function rt(it,ot,at,ct){const ut=it.morphTargetInfluences;if(o.isWebGL2===!0){const ft=ot.morphAttributes.position||ot.morphAttributes.normal||ot.morphAttributes.color,ht=ft!==void 0?ft.length:0;let pt=et.get(ot);if(pt===void 0||pt.count!==ht){let Lt=function(){vt.dispose(),et.delete(ot),ot.removeEventListener("dispose",Lt)};var dt=Lt;pt!==void 0&&pt.texture.dispose();const bt=ot.morphAttributes.position!==void 0,At=ot.morphAttributes.normal!==void 0,Tt=ot.morphAttributes.color!==void 0,Pt=ot.morphAttributes.position||[],Ct=ot.morphAttributes.normal||[],It=ot.morphAttributes.color||[];let Vt=0;bt===!0&&(Vt=1),At===!0&&(Vt=2),Tt===!0&&(Vt=3);let Kt=ot.attributes.position.count*Vt,en=1;Kt>o.maxTextureSize&&(en=Math.ceil(Kt/o.maxTextureSize),Kt=o.maxTextureSize);const kt=new Float32Array(Kt*en*4*ht),vt=new DataArrayTexture(kt,Kt,en,ht);vt.type=FloatType,vt.needsUpdate=!0;const St=Vt*4;for(let zt=0;zt<ht;zt++){const Rt=Pt[zt],$t=Ct[zt],Gt=It[zt],Ft=Kt*en*4*zt;for(let wt=0;wt<Rt.count;wt++){const Ht=wt*St;bt===!0&&(tt.fromBufferAttribute(Rt,wt),kt[Ft+Ht+0]=tt.x,kt[Ft+Ht+1]=tt.y,kt[Ft+Ht+2]=tt.z,kt[Ft+Ht+3]=0),At===!0&&(tt.fromBufferAttribute($t,wt),kt[Ft+Ht+4]=tt.x,kt[Ft+Ht+5]=tt.y,kt[Ft+Ht+6]=tt.z,kt[Ft+Ht+7]=0),Tt===!0&&(tt.fromBufferAttribute(Gt,wt),kt[Ft+Ht+8]=tt.x,kt[Ft+Ht+9]=tt.y,kt[Ft+Ht+10]=tt.z,kt[Ft+Ht+11]=Gt.itemSize===4?tt.w:1)}}pt={count:ht,texture:vt,size:new Vector2(Kt,en)},et.set(ot,pt),ot.addEventListener("dispose",Lt)}let yt=0;for(let bt=0;bt<ut.length;bt++)yt+=ut[bt];const gt=ot.morphTargetsRelative?1:1-yt;ct.getUniforms().setValue($,"morphTargetBaseInfluence",gt),ct.getUniforms().setValue($,"morphTargetInfluences",ut),ct.getUniforms().setValue($,"morphTargetsTexture",pt.texture,a),ct.getUniforms().setValue($,"morphTargetsTextureSize",pt.size)}else{const ft=ut===void 0?0:ut.length;let ht=j[ot.id];if(ht===void 0||ht.length!==ft){ht=[];for(let At=0;At<ft;At++)ht[At]=[At,0];j[ot.id]=ht}for(let At=0;At<ft;At++){const Tt=ht[At];Tt[0]=At,Tt[1]=ut[At]}ht.sort(absNumericalSort);for(let At=0;At<8;At++)At<ft&&ht[At][1]?(nt[At][0]=ht[At][0],nt[At][1]=ht[At][1]):(nt[At][0]=Number.MAX_SAFE_INTEGER,nt[At][1]=0);nt.sort(numericalSort);const pt=ot.morphAttributes.position,yt=ot.morphAttributes.normal;let gt=0;for(let At=0;At<8;At++){const Tt=nt[At],Pt=Tt[0],Ct=Tt[1];Pt!==Number.MAX_SAFE_INTEGER&&Ct?(pt&&ot.getAttribute("morphTarget"+At)!==pt[Pt]&&ot.setAttribute("morphTarget"+At,pt[Pt]),yt&&ot.getAttribute("morphNormal"+At)!==yt[Pt]&&ot.setAttribute("morphNormal"+At,yt[Pt]),_e[At]=Ct,gt+=Ct):(pt&&ot.hasAttribute("morphTarget"+At)===!0&&ot.deleteAttribute("morphTarget"+At),yt&&ot.hasAttribute("morphNormal"+At)===!0&&ot.deleteAttribute("morphNormal"+At),_e[At]=0)}const bt=ot.morphTargetsRelative?1:1-gt;ct.getUniforms().setValue($,"morphTargetBaseInfluence",bt),ct.getUniforms().setValue($,"morphTargetInfluences",_e)}}return{update:rt}}function WebGLObjects($,o,a,j){let _e=new WeakMap;function et(rt){const it=j.render.frame,ot=rt.geometry,at=o.get(rt,ot);return _e.get(at)!==it&&(o.update(at),_e.set(at,it)),rt.isInstancedMesh&&(rt.hasEventListener("dispose",nt)===!1&&rt.addEventListener("dispose",nt),a.update(rt.instanceMatrix,34962),rt.instanceColor!==null&&a.update(rt.instanceColor,34962)),at}function tt(){_e=new WeakMap}function nt(rt){const it=rt.target;it.removeEventListener("dispose",nt),a.remove(it.instanceMatrix),it.instanceColor!==null&&a.remove(it.instanceColor)}return{update:et,dispose:tt}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten($,o,a){const j=$[0];if(j<=0||j>0)return $;const _e=o*a;let et=arrayCacheF32[_e];if(et===void 0&&(et=new Float32Array(_e),arrayCacheF32[_e]=et),o!==0){j.toArray(et,0);for(let tt=1,nt=0;tt!==o;++tt)nt+=a,$[tt].toArray(et,nt)}return et}function arraysEqual($,o){if($.length!==o.length)return!1;for(let a=0,j=$.length;a<j;a++)if($[a]!==o[a])return!1;return!0}function copyArray($,o){for(let a=0,j=o.length;a<j;a++)$[a]=o[a]}function allocTexUnits($,o){let a=arrayCacheI32[o];a===void 0&&(a=new Int32Array(o),arrayCacheI32[o]=a);for(let j=0;j!==o;++j)a[j]=$.allocateTextureUnit();return a}function setValueV1f($,o){const a=this.cache;a[0]!==o&&($.uniform1f(this.addr,o),a[0]=o)}function setValueV2f($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y)&&($.uniform2f(this.addr,o.x,o.y),a[0]=o.x,a[1]=o.y);else{if(arraysEqual(a,o))return;$.uniform2fv(this.addr,o),copyArray(a,o)}}function setValueV3f($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y||a[2]!==o.z)&&($.uniform3f(this.addr,o.x,o.y,o.z),a[0]=o.x,a[1]=o.y,a[2]=o.z);else if(o.r!==void 0)(a[0]!==o.r||a[1]!==o.g||a[2]!==o.b)&&($.uniform3f(this.addr,o.r,o.g,o.b),a[0]=o.r,a[1]=o.g,a[2]=o.b);else{if(arraysEqual(a,o))return;$.uniform3fv(this.addr,o),copyArray(a,o)}}function setValueV4f($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y||a[2]!==o.z||a[3]!==o.w)&&($.uniform4f(this.addr,o.x,o.y,o.z,o.w),a[0]=o.x,a[1]=o.y,a[2]=o.z,a[3]=o.w);else{if(arraysEqual(a,o))return;$.uniform4fv(this.addr,o),copyArray(a,o)}}function setValueM2($,o){const a=this.cache,j=o.elements;if(j===void 0){if(arraysEqual(a,o))return;$.uniformMatrix2fv(this.addr,!1,o),copyArray(a,o)}else{if(arraysEqual(a,j))return;mat2array.set(j),$.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(a,j)}}function setValueM3($,o){const a=this.cache,j=o.elements;if(j===void 0){if(arraysEqual(a,o))return;$.uniformMatrix3fv(this.addr,!1,o),copyArray(a,o)}else{if(arraysEqual(a,j))return;mat3array.set(j),$.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(a,j)}}function setValueM4($,o){const a=this.cache,j=o.elements;if(j===void 0){if(arraysEqual(a,o))return;$.uniformMatrix4fv(this.addr,!1,o),copyArray(a,o)}else{if(arraysEqual(a,j))return;mat4array.set(j),$.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(a,j)}}function setValueV1i($,o){const a=this.cache;a[0]!==o&&($.uniform1i(this.addr,o),a[0]=o)}function setValueV2i($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y)&&($.uniform2i(this.addr,o.x,o.y),a[0]=o.x,a[1]=o.y);else{if(arraysEqual(a,o))return;$.uniform2iv(this.addr,o),copyArray(a,o)}}function setValueV3i($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y||a[2]!==o.z)&&($.uniform3i(this.addr,o.x,o.y,o.z),a[0]=o.x,a[1]=o.y,a[2]=o.z);else{if(arraysEqual(a,o))return;$.uniform3iv(this.addr,o),copyArray(a,o)}}function setValueV4i($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y||a[2]!==o.z||a[3]!==o.w)&&($.uniform4i(this.addr,o.x,o.y,o.z,o.w),a[0]=o.x,a[1]=o.y,a[2]=o.z,a[3]=o.w);else{if(arraysEqual(a,o))return;$.uniform4iv(this.addr,o),copyArray(a,o)}}function setValueV1ui($,o){const a=this.cache;a[0]!==o&&($.uniform1ui(this.addr,o),a[0]=o)}function setValueV2ui($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y)&&($.uniform2ui(this.addr,o.x,o.y),a[0]=o.x,a[1]=o.y);else{if(arraysEqual(a,o))return;$.uniform2uiv(this.addr,o),copyArray(a,o)}}function setValueV3ui($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y||a[2]!==o.z)&&($.uniform3ui(this.addr,o.x,o.y,o.z),a[0]=o.x,a[1]=o.y,a[2]=o.z);else{if(arraysEqual(a,o))return;$.uniform3uiv(this.addr,o),copyArray(a,o)}}function setValueV4ui($,o){const a=this.cache;if(o.x!==void 0)(a[0]!==o.x||a[1]!==o.y||a[2]!==o.z||a[3]!==o.w)&&($.uniform4ui(this.addr,o.x,o.y,o.z,o.w),a[0]=o.x,a[1]=o.y,a[2]=o.z,a[3]=o.w);else{if(arraysEqual(a,o))return;$.uniform4uiv(this.addr,o),copyArray(a,o)}}function setValueT1($,o,a){const j=this.cache,_e=a.allocateTextureUnit();j[0]!==_e&&($.uniform1i(this.addr,_e),j[0]=_e),a.setTexture2D(o||emptyTexture,_e)}function setValueT3D1($,o,a){const j=this.cache,_e=a.allocateTextureUnit();j[0]!==_e&&($.uniform1i(this.addr,_e),j[0]=_e),a.setTexture3D(o||empty3dTexture,_e)}function setValueT6($,o,a){const j=this.cache,_e=a.allocateTextureUnit();j[0]!==_e&&($.uniform1i(this.addr,_e),j[0]=_e),a.setTextureCube(o||emptyCubeTexture,_e)}function setValueT2DArray1($,o,a){const j=this.cache,_e=a.allocateTextureUnit();j[0]!==_e&&($.uniform1i(this.addr,_e),j[0]=_e),a.setTexture2DArray(o||emptyArrayTexture,_e)}function getSingularSetter($){switch($){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray($,o){$.uniform1fv(this.addr,o)}function setValueV2fArray($,o){const a=flatten(o,this.size,2);$.uniform2fv(this.addr,a)}function setValueV3fArray($,o){const a=flatten(o,this.size,3);$.uniform3fv(this.addr,a)}function setValueV4fArray($,o){const a=flatten(o,this.size,4);$.uniform4fv(this.addr,a)}function setValueM2Array($,o){const a=flatten(o,this.size,4);$.uniformMatrix2fv(this.addr,!1,a)}function setValueM3Array($,o){const a=flatten(o,this.size,9);$.uniformMatrix3fv(this.addr,!1,a)}function setValueM4Array($,o){const a=flatten(o,this.size,16);$.uniformMatrix4fv(this.addr,!1,a)}function setValueV1iArray($,o){$.uniform1iv(this.addr,o)}function setValueV2iArray($,o){$.uniform2iv(this.addr,o)}function setValueV3iArray($,o){$.uniform3iv(this.addr,o)}function setValueV4iArray($,o){$.uniform4iv(this.addr,o)}function setValueV1uiArray($,o){$.uniform1uiv(this.addr,o)}function setValueV2uiArray($,o){$.uniform2uiv(this.addr,o)}function setValueV3uiArray($,o){$.uniform3uiv(this.addr,o)}function setValueV4uiArray($,o){$.uniform4uiv(this.addr,o)}function setValueT1Array($,o,a){const j=this.cache,_e=o.length,et=allocTexUnits(a,_e);arraysEqual(j,et)||($.uniform1iv(this.addr,et),copyArray(j,et));for(let tt=0;tt!==_e;++tt)a.setTexture2D(o[tt]||emptyTexture,et[tt])}function setValueT3DArray($,o,a){const j=this.cache,_e=o.length,et=allocTexUnits(a,_e);arraysEqual(j,et)||($.uniform1iv(this.addr,et),copyArray(j,et));for(let tt=0;tt!==_e;++tt)a.setTexture3D(o[tt]||empty3dTexture,et[tt])}function setValueT6Array($,o,a){const j=this.cache,_e=o.length,et=allocTexUnits(a,_e);arraysEqual(j,et)||($.uniform1iv(this.addr,et),copyArray(j,et));for(let tt=0;tt!==_e;++tt)a.setTextureCube(o[tt]||emptyCubeTexture,et[tt])}function setValueT2DArrayArray($,o,a){const j=this.cache,_e=o.length,et=allocTexUnits(a,_e);arraysEqual(j,et)||($.uniform1iv(this.addr,et),copyArray(j,et));for(let tt=0;tt!==_e;++tt)a.setTexture2DArray(o[tt]||emptyArrayTexture,et[tt])}function getPureArraySetter($){switch($){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(o,a,j){this.id=o,this.addr=j,this.cache=[],this.setValue=getSingularSetter(a.type)}}class PureArrayUniform{constructor(o,a,j){this.id=o,this.addr=j,this.cache=[],this.size=a.size,this.setValue=getPureArraySetter(a.type)}}class StructuredUniform{constructor(o){this.id=o,this.seq=[],this.map={}}setValue(o,a,j){const _e=this.seq;for(let et=0,tt=_e.length;et!==tt;++et){const nt=_e[et];nt.setValue(o,a[nt.id],j)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform($,o){$.seq.push(o),$.map[o.id]=o}function parseUniform($,o,a){const j=$.name,_e=j.length;for(RePathPart.lastIndex=0;;){const et=RePathPart.exec(j),tt=RePathPart.lastIndex;let nt=et[1];const rt=et[2]==="]",it=et[3];if(rt&&(nt=nt|0),it===void 0||it==="["&&tt+2===_e){addUniform(a,it===void 0?new SingleUniform(nt,$,o):new PureArrayUniform(nt,$,o));break}else{let at=a.map[nt];at===void 0&&(at=new StructuredUniform(nt),addUniform(a,at)),a=at}}}class WebGLUniforms{constructor(o,a){this.seq=[],this.map={};const j=o.getProgramParameter(a,35718);for(let _e=0;_e<j;++_e){const et=o.getActiveUniform(a,_e),tt=o.getUniformLocation(a,et.name);parseUniform(et,tt,this)}}setValue(o,a,j,_e){const et=this.map[a];et!==void 0&&et.setValue(o,j,_e)}setOptional(o,a,j){const _e=a[j];_e!==void 0&&this.setValue(o,j,_e)}static upload(o,a,j,_e){for(let et=0,tt=a.length;et!==tt;++et){const nt=a[et],rt=j[nt.id];rt.needsUpdate!==!1&&nt.setValue(o,rt.value,_e)}}static seqWithValue(o,a){const j=[];for(let _e=0,et=o.length;_e!==et;++_e){const tt=o[_e];tt.id in a&&j.push(tt)}return j}}function WebGLShader($,o,a){const j=$.createShader(o);return $.shaderSource(j,a),$.compileShader(j),j}let programIdCount=0;function handleSource($,o){const a=$.split(`
`),j=[],_e=Math.max(o-6,0),et=Math.min(o+6,a.length);for(let tt=_e;tt<et;tt++){const nt=tt+1;j.push(`${nt===o?">":" "} ${nt}: ${a[tt]}`)}return j.join(`
`)}function getEncodingComponents($){switch($){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",$),["Linear","( value )"]}}function getShaderErrors($,o,a){const j=$.getShaderParameter(o,35713),_e=$.getShaderInfoLog(o).trim();if(j&&_e==="")return"";const et=/ERROR: 0:(\d+)/.exec(_e);if(et){const tt=parseInt(et[1]);return a.toUpperCase()+`

`+_e+`

`+handleSource($.getShaderSource(o),tt)}else return _e}function getTexelEncodingFunction($,o){const a=getEncodingComponents(o);return"vec4 "+$+"( vec4 value ) { return LinearTo"+a[0]+a[1]+"; }"}function getToneMappingFunction($,o){let a;switch(o){case LinearToneMapping:a="Linear";break;case ReinhardToneMapping:a="Reinhard";break;case CineonToneMapping:a="OptimizedCineon";break;case ACESFilmicToneMapping:a="ACESFilmic";break;case CustomToneMapping:a="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",o),a="Linear"}return"vec3 "+$+"( vec3 color ) { return "+a+"ToneMapping( color ); }"}function generateExtensions($){return[$.extensionDerivatives||$.envMapCubeUVHeight||$.bumpMap||$.tangentSpaceNormalMap||$.clearcoatNormalMap||$.flatShading||$.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",($.extensionFragDepth||$.logarithmicDepthBuffer)&&$.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",$.extensionDrawBuffers&&$.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",($.extensionShaderTextureLOD||$.envMap||$.transmission)&&$.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines($){const o=[];for(const a in $){const j=$[a];j!==!1&&o.push("#define "+a+" "+j)}return o.join(`
`)}function fetchAttributeLocations($,o){const a={},j=$.getProgramParameter(o,35721);for(let _e=0;_e<j;_e++){const et=$.getActiveAttrib(o,_e),tt=et.name;let nt=1;et.type===35674&&(nt=2),et.type===35675&&(nt=3),et.type===35676&&(nt=4),a[tt]={type:et.type,location:$.getAttribLocation(o,tt),locationSize:nt}}return a}function filterEmptyLine($){return $!==""}function replaceLightNums($,o){const a=o.numSpotLightShadows+o.numSpotLightMaps-o.numSpotLightShadowsWithMaps;return $.replace(/NUM_DIR_LIGHTS/g,o.numDirLights).replace(/NUM_SPOT_LIGHTS/g,o.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,o.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,a).replace(/NUM_RECT_AREA_LIGHTS/g,o.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,o.numPointLights).replace(/NUM_HEMI_LIGHTS/g,o.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,o.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,o.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,o.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,o.numPointLightShadows)}function replaceClippingPlaneNums($,o){return $.replace(/NUM_CLIPPING_PLANES/g,o.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,o.numClippingPlanes-o.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes($){return $.replace(includePattern,includeReplacer)}function includeReplacer($,o){const a=ShaderChunk[o];if(a===void 0)throw new Error("Can not resolve #include <"+o+">");return resolveIncludes(a)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops($){return $.replace(unrollLoopPattern,loopReplacer)}function loopReplacer($,o,a,j){let _e="";for(let et=parseInt(o);et<parseInt(a);et++)_e+=j.replace(/\[\s*i\s*\]/g,"[ "+et+" ]").replace(/UNROLLED_LOOP_INDEX/g,et);return _e}function generatePrecision($){let o="precision "+$.precision+` float;
precision `+$.precision+" int;";return $.precision==="highp"?o+=`
#define HIGH_PRECISION`:$.precision==="mediump"?o+=`
#define MEDIUM_PRECISION`:$.precision==="lowp"&&(o+=`
#define LOW_PRECISION`),o}function generateShadowMapTypeDefine($){let o="SHADOWMAP_TYPE_BASIC";return $.shadowMapType===PCFShadowMap?o="SHADOWMAP_TYPE_PCF":$.shadowMapType===PCFSoftShadowMap?o="SHADOWMAP_TYPE_PCF_SOFT":$.shadowMapType===VSMShadowMap&&(o="SHADOWMAP_TYPE_VSM"),o}function generateEnvMapTypeDefine($){let o="ENVMAP_TYPE_CUBE";if($.envMap)switch($.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:o="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:o="ENVMAP_TYPE_CUBE_UV";break}return o}function generateEnvMapModeDefine($){let o="ENVMAP_MODE_REFLECTION";if($.envMap)switch($.envMapMode){case CubeRefractionMapping:o="ENVMAP_MODE_REFRACTION";break}return o}function generateEnvMapBlendingDefine($){let o="ENVMAP_BLENDING_NONE";if($.envMap)switch($.combine){case MultiplyOperation:o="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:o="ENVMAP_BLENDING_MIX";break;case AddOperation:o="ENVMAP_BLENDING_ADD";break}return o}function generateCubeUVSize($){const o=$.envMapCubeUVHeight;if(o===null)return null;const a=Math.log2(o)-2,j=1/o;return{texelWidth:1/(3*Math.max(Math.pow(2,a),7*16)),texelHeight:j,maxMip:a}}function WebGLProgram($,o,a,j){const _e=$.getContext(),et=a.defines;let tt=a.vertexShader,nt=a.fragmentShader;const rt=generateShadowMapTypeDefine(a),it=generateEnvMapTypeDefine(a),ot=generateEnvMapModeDefine(a),at=generateEnvMapBlendingDefine(a),ct=generateCubeUVSize(a),ut=a.isWebGL2?"":generateExtensions(a),dt=generateDefines(et),ft=_e.createProgram();let ht,pt,yt=a.glslVersion?"#version "+a.glslVersion+`
`:"";a.isRawShaderMaterial?(ht=[dt].filter(filterEmptyLine).join(`
`),ht.length>0&&(ht+=`
`),pt=[ut,dt].filter(filterEmptyLine).join(`
`),pt.length>0&&(pt+=`
`)):(ht=[generatePrecision(a),"#define SHADER_NAME "+a.shaderName,dt,a.instancing?"#define USE_INSTANCING":"",a.instancingColor?"#define USE_INSTANCING_COLOR":"",a.supportsVertexTextures?"#define VERTEX_TEXTURES":"",a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+ot:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.normalMap&&a.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",a.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",a.specularColorMap?"#define USE_SPECULARCOLORMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.transmission?"#define USE_TRANSMISSION":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.thicknessMap?"#define USE_THICKNESSMAP":"",a.sheenColorMap?"#define USE_SHEENCOLORMAP":"",a.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.vertexAlphas?"#define USE_COLOR_ALPHA":"",a.vertexUvs?"#define USE_UV":"",a.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&a.flatShading===!1?"#define USE_MORPHNORMALS":"",a.morphColors&&a.isWebGL2?"#define USE_MORPHCOLORS":"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+a.morphTextureStride:"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_COUNT "+a.morphTargetsCount:"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+rt:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&a.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),pt=[ut,generatePrecision(a),"#define SHADER_NAME "+a.shaderName,dt,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+it:"",a.envMap?"#define "+ot:"",a.envMap?"#define "+at:"",ct?"#define CUBEUV_TEXEL_WIDTH "+ct.texelWidth:"",ct?"#define CUBEUV_TEXEL_HEIGHT "+ct.texelHeight:"",ct?"#define CUBEUV_MAX_MIP "+ct.maxMip+".0":"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.normalMap&&a.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",a.clearcoat?"#define USE_CLEARCOAT":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.iridescence?"#define USE_IRIDESCENCE":"",a.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",a.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",a.specularColorMap?"#define USE_SPECULARCOLORMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.alphaTest?"#define USE_ALPHATEST":"",a.sheen?"#define USE_SHEEN":"",a.sheenColorMap?"#define USE_SHEENCOLORMAP":"",a.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",a.transmission?"#define USE_TRANSMISSION":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.thicknessMap?"#define USE_THICKNESSMAP":"",a.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors||a.instancingColor?"#define USE_COLOR":"",a.vertexAlphas?"#define USE_COLOR_ALPHA":"",a.vertexUvs?"#define USE_UV":"",a.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+rt:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&a.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",a.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",a.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",a.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.opaque?"#define OPAQUE":"",ShaderChunk.encodings_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",a.outputEncoding),a.useDepthPacking?"#define DEPTH_PACKING "+a.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),tt=resolveIncludes(tt),tt=replaceLightNums(tt,a),tt=replaceClippingPlaneNums(tt,a),nt=resolveIncludes(nt),nt=replaceLightNums(nt,a),nt=replaceClippingPlaneNums(nt,a),tt=unrollLoops(tt),nt=unrollLoops(nt),a.isWebGL2&&a.isRawShaderMaterial!==!0&&(yt=`#version 300 es
`,ht=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+ht,pt=["#define varying in",a.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",a.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+pt);const gt=yt+ht+tt,bt=yt+pt+nt,At=WebGLShader(_e,35633,gt),Tt=WebGLShader(_e,35632,bt);if(_e.attachShader(ft,At),_e.attachShader(ft,Tt),a.index0AttributeName!==void 0?_e.bindAttribLocation(ft,0,a.index0AttributeName):a.morphTargets===!0&&_e.bindAttribLocation(ft,0,"position"),_e.linkProgram(ft),$.debug.checkShaderErrors){const It=_e.getProgramInfoLog(ft).trim(),Vt=_e.getShaderInfoLog(At).trim(),Kt=_e.getShaderInfoLog(Tt).trim();let en=!0,kt=!0;if(_e.getProgramParameter(ft,35714)===!1){en=!1;const vt=getShaderErrors(_e,At,"vertex"),St=getShaderErrors(_e,Tt,"fragment");console.error("THREE.WebGLProgram: Shader Error "+_e.getError()+" - VALIDATE_STATUS "+_e.getProgramParameter(ft,35715)+`

Program Info Log: `+It+`
`+vt+`
`+St)}else It!==""?console.warn("THREE.WebGLProgram: Program Info Log:",It):(Vt===""||Kt==="")&&(kt=!1);kt&&(this.diagnostics={runnable:en,programLog:It,vertexShader:{log:Vt,prefix:ht},fragmentShader:{log:Kt,prefix:pt}})}_e.deleteShader(At),_e.deleteShader(Tt);let Pt;this.getUniforms=function(){return Pt===void 0&&(Pt=new WebGLUniforms(_e,ft)),Pt};let Ct;return this.getAttributes=function(){return Ct===void 0&&(Ct=fetchAttributeLocations(_e,ft)),Ct},this.destroy=function(){j.releaseStatesOfProgram(this),_e.deleteProgram(ft),this.program=void 0},this.name=a.shaderName,this.id=programIdCount++,this.cacheKey=o,this.usedTimes=1,this.program=ft,this.vertexShader=At,this.fragmentShader=Tt,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(o){const a=o.vertexShader,j=o.fragmentShader,_e=this._getShaderStage(a),et=this._getShaderStage(j),tt=this._getShaderCacheForMaterial(o);return tt.has(_e)===!1&&(tt.add(_e),_e.usedTimes++),tt.has(et)===!1&&(tt.add(et),et.usedTimes++),this}remove(o){const a=this.materialCache.get(o);for(const j of a)j.usedTimes--,j.usedTimes===0&&this.shaderCache.delete(j.code);return this.materialCache.delete(o),this}getVertexShaderID(o){return this._getShaderStage(o.vertexShader).id}getFragmentShaderID(o){return this._getShaderStage(o.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(o){const a=this.materialCache;let j=a.get(o);return j===void 0&&(j=new Set,a.set(o,j)),j}_getShaderStage(o){const a=this.shaderCache;let j=a.get(o);return j===void 0&&(j=new WebGLShaderStage(o),a.set(o,j)),j}}class WebGLShaderStage{constructor(o){this.id=_id++,this.code=o,this.usedTimes=0}}function WebGLPrograms($,o,a,j,_e,et,tt){const nt=new Layers,rt=new WebGLShaderCache,it=[],ot=_e.isWebGL2,at=_e.logarithmicDepthBuffer,ct=_e.vertexTextures;let ut=_e.precision;const dt={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function ft(Ct,It,Vt,Kt,en){const kt=Kt.fog,vt=en.geometry,St=Ct.isMeshStandardMaterial?Kt.environment:null,Lt=(Ct.isMeshStandardMaterial?a:o).get(Ct.envMap||St),zt=Lt&&Lt.mapping===CubeUVReflectionMapping?Lt.image.height:null,Rt=dt[Ct.type];Ct.precision!==null&&(ut=_e.getMaxPrecision(Ct.precision),ut!==Ct.precision&&console.warn("THREE.WebGLProgram.getParameters:",Ct.precision,"not supported, using",ut,"instead."));const $t=vt.morphAttributes.position||vt.morphAttributes.normal||vt.morphAttributes.color,Gt=$t!==void 0?$t.length:0;let Ft=0;vt.morphAttributes.position!==void 0&&(Ft=1),vt.morphAttributes.normal!==void 0&&(Ft=2),vt.morphAttributes.color!==void 0&&(Ft=3);let wt,Ht,nn,Dt;if(Rt){const ln=ShaderLib[Rt];wt=ln.vertexShader,Ht=ln.fragmentShader}else wt=Ct.vertexShader,Ht=Ct.fragmentShader,rt.update(Ct),nn=rt.getVertexShaderID(Ct),Dt=rt.getFragmentShaderID(Ct);const Jt=$.getRenderTarget(),on=Ct.alphaTest>0,sn=Ct.clearcoat>0,dn=Ct.iridescence>0;return{isWebGL2:ot,shaderID:Rt,shaderName:Ct.type,vertexShader:wt,fragmentShader:Ht,defines:Ct.defines,customVertexShaderID:nn,customFragmentShaderID:Dt,isRawShaderMaterial:Ct.isRawShaderMaterial===!0,glslVersion:Ct.glslVersion,precision:ut,instancing:en.isInstancedMesh===!0,instancingColor:en.isInstancedMesh===!0&&en.instanceColor!==null,supportsVertexTextures:ct,outputEncoding:Jt===null?$.outputEncoding:Jt.isXRRenderTarget===!0?Jt.texture.encoding:LinearEncoding,map:!!Ct.map,matcap:!!Ct.matcap,envMap:!!Lt,envMapMode:Lt&&Lt.mapping,envMapCubeUVHeight:zt,lightMap:!!Ct.lightMap,aoMap:!!Ct.aoMap,emissiveMap:!!Ct.emissiveMap,bumpMap:!!Ct.bumpMap,normalMap:!!Ct.normalMap,objectSpaceNormalMap:Ct.normalMapType===ObjectSpaceNormalMap,tangentSpaceNormalMap:Ct.normalMapType===TangentSpaceNormalMap,decodeVideoTexture:!!Ct.map&&Ct.map.isVideoTexture===!0&&Ct.map.encoding===sRGBEncoding,clearcoat:sn,clearcoatMap:sn&&!!Ct.clearcoatMap,clearcoatRoughnessMap:sn&&!!Ct.clearcoatRoughnessMap,clearcoatNormalMap:sn&&!!Ct.clearcoatNormalMap,iridescence:dn,iridescenceMap:dn&&!!Ct.iridescenceMap,iridescenceThicknessMap:dn&&!!Ct.iridescenceThicknessMap,displacementMap:!!Ct.displacementMap,roughnessMap:!!Ct.roughnessMap,metalnessMap:!!Ct.metalnessMap,specularMap:!!Ct.specularMap,specularIntensityMap:!!Ct.specularIntensityMap,specularColorMap:!!Ct.specularColorMap,opaque:Ct.transparent===!1&&Ct.blending===NormalBlending,alphaMap:!!Ct.alphaMap,alphaTest:on,gradientMap:!!Ct.gradientMap,sheen:Ct.sheen>0,sheenColorMap:!!Ct.sheenColorMap,sheenRoughnessMap:!!Ct.sheenRoughnessMap,transmission:Ct.transmission>0,transmissionMap:!!Ct.transmissionMap,thicknessMap:!!Ct.thicknessMap,combine:Ct.combine,vertexTangents:!!Ct.normalMap&&!!vt.attributes.tangent,vertexColors:Ct.vertexColors,vertexAlphas:Ct.vertexColors===!0&&!!vt.attributes.color&&vt.attributes.color.itemSize===4,vertexUvs:!!Ct.map||!!Ct.bumpMap||!!Ct.normalMap||!!Ct.specularMap||!!Ct.alphaMap||!!Ct.emissiveMap||!!Ct.roughnessMap||!!Ct.metalnessMap||!!Ct.clearcoatMap||!!Ct.clearcoatRoughnessMap||!!Ct.clearcoatNormalMap||!!Ct.iridescenceMap||!!Ct.iridescenceThicknessMap||!!Ct.displacementMap||!!Ct.transmissionMap||!!Ct.thicknessMap||!!Ct.specularIntensityMap||!!Ct.specularColorMap||!!Ct.sheenColorMap||!!Ct.sheenRoughnessMap,uvsVertexOnly:!(Ct.map||Ct.bumpMap||Ct.normalMap||Ct.specularMap||Ct.alphaMap||Ct.emissiveMap||Ct.roughnessMap||Ct.metalnessMap||Ct.clearcoatNormalMap||Ct.iridescenceMap||Ct.iridescenceThicknessMap||Ct.transmission>0||Ct.transmissionMap||Ct.thicknessMap||Ct.specularIntensityMap||Ct.specularColorMap||Ct.sheen>0||Ct.sheenColorMap||Ct.sheenRoughnessMap)&&!!Ct.displacementMap,fog:!!kt,useFog:Ct.fog===!0,fogExp2:kt&&kt.isFogExp2,flatShading:!!Ct.flatShading,sizeAttenuation:Ct.sizeAttenuation,logarithmicDepthBuffer:at,skinning:en.isSkinnedMesh===!0,morphTargets:vt.morphAttributes.position!==void 0,morphNormals:vt.morphAttributes.normal!==void 0,morphColors:vt.morphAttributes.color!==void 0,morphTargetsCount:Gt,morphTextureStride:Ft,numDirLights:It.directional.length,numPointLights:It.point.length,numSpotLights:It.spot.length,numSpotLightMaps:It.spotLightMap.length,numRectAreaLights:It.rectArea.length,numHemiLights:It.hemi.length,numDirLightShadows:It.directionalShadowMap.length,numPointLightShadows:It.pointShadowMap.length,numSpotLightShadows:It.spotShadowMap.length,numSpotLightShadowsWithMaps:It.numSpotLightShadowsWithMaps,numClippingPlanes:tt.numPlanes,numClipIntersection:tt.numIntersection,dithering:Ct.dithering,shadowMapEnabled:$.shadowMap.enabled&&Vt.length>0,shadowMapType:$.shadowMap.type,toneMapping:Ct.toneMapped?$.toneMapping:NoToneMapping,physicallyCorrectLights:$.physicallyCorrectLights,premultipliedAlpha:Ct.premultipliedAlpha,doubleSided:Ct.side===DoubleSide,flipSided:Ct.side===BackSide,useDepthPacking:!!Ct.depthPacking,depthPacking:Ct.depthPacking||0,index0AttributeName:Ct.index0AttributeName,extensionDerivatives:Ct.extensions&&Ct.extensions.derivatives,extensionFragDepth:Ct.extensions&&Ct.extensions.fragDepth,extensionDrawBuffers:Ct.extensions&&Ct.extensions.drawBuffers,extensionShaderTextureLOD:Ct.extensions&&Ct.extensions.shaderTextureLOD,rendererExtensionFragDepth:ot||j.has("EXT_frag_depth"),rendererExtensionDrawBuffers:ot||j.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:ot||j.has("EXT_shader_texture_lod"),customProgramCacheKey:Ct.customProgramCacheKey()}}function ht(Ct){const It=[];if(Ct.shaderID?It.push(Ct.shaderID):(It.push(Ct.customVertexShaderID),It.push(Ct.customFragmentShaderID)),Ct.defines!==void 0)for(const Vt in Ct.defines)It.push(Vt),It.push(Ct.defines[Vt]);return Ct.isRawShaderMaterial===!1&&(pt(It,Ct),yt(It,Ct),It.push($.outputEncoding)),It.push(Ct.customProgramCacheKey),It.join()}function pt(Ct,It){Ct.push(It.precision),Ct.push(It.outputEncoding),Ct.push(It.envMapMode),Ct.push(It.envMapCubeUVHeight),Ct.push(It.combine),Ct.push(It.vertexUvs),Ct.push(It.fogExp2),Ct.push(It.sizeAttenuation),Ct.push(It.morphTargetsCount),Ct.push(It.morphAttributeCount),Ct.push(It.numDirLights),Ct.push(It.numPointLights),Ct.push(It.numSpotLights),Ct.push(It.numSpotLightMaps),Ct.push(It.numHemiLights),Ct.push(It.numRectAreaLights),Ct.push(It.numDirLightShadows),Ct.push(It.numPointLightShadows),Ct.push(It.numSpotLightShadows),Ct.push(It.numSpotLightShadowsWithMaps),Ct.push(It.shadowMapType),Ct.push(It.toneMapping),Ct.push(It.numClippingPlanes),Ct.push(It.numClipIntersection),Ct.push(It.depthPacking)}function yt(Ct,It){nt.disableAll(),It.isWebGL2&&nt.enable(0),It.supportsVertexTextures&&nt.enable(1),It.instancing&&nt.enable(2),It.instancingColor&&nt.enable(3),It.map&&nt.enable(4),It.matcap&&nt.enable(5),It.envMap&&nt.enable(6),It.lightMap&&nt.enable(7),It.aoMap&&nt.enable(8),It.emissiveMap&&nt.enable(9),It.bumpMap&&nt.enable(10),It.normalMap&&nt.enable(11),It.objectSpaceNormalMap&&nt.enable(12),It.tangentSpaceNormalMap&&nt.enable(13),It.clearcoat&&nt.enable(14),It.clearcoatMap&&nt.enable(15),It.clearcoatRoughnessMap&&nt.enable(16),It.clearcoatNormalMap&&nt.enable(17),It.iridescence&&nt.enable(18),It.iridescenceMap&&nt.enable(19),It.iridescenceThicknessMap&&nt.enable(20),It.displacementMap&&nt.enable(21),It.specularMap&&nt.enable(22),It.roughnessMap&&nt.enable(23),It.metalnessMap&&nt.enable(24),It.gradientMap&&nt.enable(25),It.alphaMap&&nt.enable(26),It.alphaTest&&nt.enable(27),It.vertexColors&&nt.enable(28),It.vertexAlphas&&nt.enable(29),It.vertexUvs&&nt.enable(30),It.vertexTangents&&nt.enable(31),It.uvsVertexOnly&&nt.enable(32),Ct.push(nt.mask),nt.disableAll(),It.fog&&nt.enable(0),It.useFog&&nt.enable(1),It.flatShading&&nt.enable(2),It.logarithmicDepthBuffer&&nt.enable(3),It.skinning&&nt.enable(4),It.morphTargets&&nt.enable(5),It.morphNormals&&nt.enable(6),It.morphColors&&nt.enable(7),It.premultipliedAlpha&&nt.enable(8),It.shadowMapEnabled&&nt.enable(9),It.physicallyCorrectLights&&nt.enable(10),It.doubleSided&&nt.enable(11),It.flipSided&&nt.enable(12),It.useDepthPacking&&nt.enable(13),It.dithering&&nt.enable(14),It.specularIntensityMap&&nt.enable(15),It.specularColorMap&&nt.enable(16),It.transmission&&nt.enable(17),It.transmissionMap&&nt.enable(18),It.thicknessMap&&nt.enable(19),It.sheen&&nt.enable(20),It.sheenColorMap&&nt.enable(21),It.sheenRoughnessMap&&nt.enable(22),It.decodeVideoTexture&&nt.enable(23),It.opaque&&nt.enable(24),Ct.push(nt.mask)}function gt(Ct){const It=dt[Ct.type];let Vt;if(It){const Kt=ShaderLib[It];Vt=UniformsUtils.clone(Kt.uniforms)}else Vt=Ct.uniforms;return Vt}function bt(Ct,It){let Vt;for(let Kt=0,en=it.length;Kt<en;Kt++){const kt=it[Kt];if(kt.cacheKey===It){Vt=kt,++Vt.usedTimes;break}}return Vt===void 0&&(Vt=new WebGLProgram($,It,Ct,et),it.push(Vt)),Vt}function At(Ct){if(--Ct.usedTimes===0){const It=it.indexOf(Ct);it[It]=it[it.length-1],it.pop(),Ct.destroy()}}function Tt(Ct){rt.remove(Ct)}function Pt(){rt.dispose()}return{getParameters:ft,getProgramCacheKey:ht,getUniforms:gt,acquireProgram:bt,releaseProgram:At,releaseShaderCache:Tt,programs:it,dispose:Pt}}function WebGLProperties(){let $=new WeakMap;function o(et){let tt=$.get(et);return tt===void 0&&(tt={},$.set(et,tt)),tt}function a(et){$.delete(et)}function j(et,tt,nt){$.get(et)[tt]=nt}function _e(){$=new WeakMap}return{get:o,remove:a,update:j,dispose:_e}}function painterSortStable($,o){return $.groupOrder!==o.groupOrder?$.groupOrder-o.groupOrder:$.renderOrder!==o.renderOrder?$.renderOrder-o.renderOrder:$.material.id!==o.material.id?$.material.id-o.material.id:$.z!==o.z?$.z-o.z:$.id-o.id}function reversePainterSortStable($,o){return $.groupOrder!==o.groupOrder?$.groupOrder-o.groupOrder:$.renderOrder!==o.renderOrder?$.renderOrder-o.renderOrder:$.z!==o.z?o.z-$.z:$.id-o.id}function WebGLRenderList(){const $=[];let o=0;const a=[],j=[],_e=[];function et(){o=0,a.length=0,j.length=0,_e.length=0}function tt(at,ct,ut,dt,ft,ht){let pt=$[o];return pt===void 0?(pt={id:at.id,object:at,geometry:ct,material:ut,groupOrder:dt,renderOrder:at.renderOrder,z:ft,group:ht},$[o]=pt):(pt.id=at.id,pt.object=at,pt.geometry=ct,pt.material=ut,pt.groupOrder=dt,pt.renderOrder=at.renderOrder,pt.z=ft,pt.group=ht),o++,pt}function nt(at,ct,ut,dt,ft,ht){const pt=tt(at,ct,ut,dt,ft,ht);ut.transmission>0?j.push(pt):ut.transparent===!0?_e.push(pt):a.push(pt)}function rt(at,ct,ut,dt,ft,ht){const pt=tt(at,ct,ut,dt,ft,ht);ut.transmission>0?j.unshift(pt):ut.transparent===!0?_e.unshift(pt):a.unshift(pt)}function it(at,ct){a.length>1&&a.sort(at||painterSortStable),j.length>1&&j.sort(ct||reversePainterSortStable),_e.length>1&&_e.sort(ct||reversePainterSortStable)}function ot(){for(let at=o,ct=$.length;at<ct;at++){const ut=$[at];if(ut.id===null)break;ut.id=null,ut.object=null,ut.geometry=null,ut.material=null,ut.group=null}}return{opaque:a,transmissive:j,transparent:_e,init:et,push:nt,unshift:rt,finish:ot,sort:it}}function WebGLRenderLists(){let $=new WeakMap;function o(j,_e){const et=$.get(j);let tt;return et===void 0?(tt=new WebGLRenderList,$.set(j,[tt])):_e>=et.length?(tt=new WebGLRenderList,et.push(tt)):tt=et[_e],tt}function a(){$=new WeakMap}return{get:o,dispose:a}}function UniformsCache(){const $={};return{get:function(o){if($[o.id]!==void 0)return $[o.id];let a;switch(o.type){case"DirectionalLight":a={direction:new Vector3,color:new Color};break;case"SpotLight":a={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":a={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":a={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":a={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return $[o.id]=a,a}}}function ShadowUniformsCache(){const $={};return{get:function(o){if($[o.id]!==void 0)return $[o.id];let a;switch(o.type){case"DirectionalLight":a={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":a={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":a={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return $[o.id]=a,a}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst($,o){return(o.castShadow?2:0)-($.castShadow?2:0)+(o.map?1:0)-($.map?1:0)}function WebGLLights($,o){const a=new UniformsCache,j=ShadowUniformsCache(),_e={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let ot=0;ot<9;ot++)_e.probe.push(new Vector3);const et=new Vector3,tt=new Matrix4,nt=new Matrix4;function rt(ot,at){let ct=0,ut=0,dt=0;for(let Kt=0;Kt<9;Kt++)_e.probe[Kt].set(0,0,0);let ft=0,ht=0,pt=0,yt=0,gt=0,bt=0,At=0,Tt=0,Pt=0,Ct=0;ot.sort(shadowCastingAndTexturingLightsFirst);const It=at!==!0?Math.PI:1;for(let Kt=0,en=ot.length;Kt<en;Kt++){const kt=ot[Kt],vt=kt.color,St=kt.intensity,Lt=kt.distance,zt=kt.shadow&&kt.shadow.map?kt.shadow.map.texture:null;if(kt.isAmbientLight)ct+=vt.r*St*It,ut+=vt.g*St*It,dt+=vt.b*St*It;else if(kt.isLightProbe)for(let Rt=0;Rt<9;Rt++)_e.probe[Rt].addScaledVector(kt.sh.coefficients[Rt],St);else if(kt.isDirectionalLight){const Rt=a.get(kt);if(Rt.color.copy(kt.color).multiplyScalar(kt.intensity*It),kt.castShadow){const $t=kt.shadow,Gt=j.get(kt);Gt.shadowBias=$t.bias,Gt.shadowNormalBias=$t.normalBias,Gt.shadowRadius=$t.radius,Gt.shadowMapSize=$t.mapSize,_e.directionalShadow[ft]=Gt,_e.directionalShadowMap[ft]=zt,_e.directionalShadowMatrix[ft]=kt.shadow.matrix,bt++}_e.directional[ft]=Rt,ft++}else if(kt.isSpotLight){const Rt=a.get(kt);Rt.position.setFromMatrixPosition(kt.matrixWorld),Rt.color.copy(vt).multiplyScalar(St*It),Rt.distance=Lt,Rt.coneCos=Math.cos(kt.angle),Rt.penumbraCos=Math.cos(kt.angle*(1-kt.penumbra)),Rt.decay=kt.decay,_e.spot[pt]=Rt;const $t=kt.shadow;if(kt.map&&(_e.spotLightMap[Pt]=kt.map,Pt++,$t.updateMatrices(kt),kt.castShadow&&Ct++),_e.spotLightMatrix[pt]=$t.matrix,kt.castShadow){const Gt=j.get(kt);Gt.shadowBias=$t.bias,Gt.shadowNormalBias=$t.normalBias,Gt.shadowRadius=$t.radius,Gt.shadowMapSize=$t.mapSize,_e.spotShadow[pt]=Gt,_e.spotShadowMap[pt]=zt,Tt++}pt++}else if(kt.isRectAreaLight){const Rt=a.get(kt);Rt.color.copy(vt).multiplyScalar(St),Rt.halfWidth.set(kt.width*.5,0,0),Rt.halfHeight.set(0,kt.height*.5,0),_e.rectArea[yt]=Rt,yt++}else if(kt.isPointLight){const Rt=a.get(kt);if(Rt.color.copy(kt.color).multiplyScalar(kt.intensity*It),Rt.distance=kt.distance,Rt.decay=kt.decay,kt.castShadow){const $t=kt.shadow,Gt=j.get(kt);Gt.shadowBias=$t.bias,Gt.shadowNormalBias=$t.normalBias,Gt.shadowRadius=$t.radius,Gt.shadowMapSize=$t.mapSize,Gt.shadowCameraNear=$t.camera.near,Gt.shadowCameraFar=$t.camera.far,_e.pointShadow[ht]=Gt,_e.pointShadowMap[ht]=zt,_e.pointShadowMatrix[ht]=kt.shadow.matrix,At++}_e.point[ht]=Rt,ht++}else if(kt.isHemisphereLight){const Rt=a.get(kt);Rt.skyColor.copy(kt.color).multiplyScalar(St*It),Rt.groundColor.copy(kt.groundColor).multiplyScalar(St*It),_e.hemi[gt]=Rt,gt++}}yt>0&&(o.isWebGL2||$.has("OES_texture_float_linear")===!0?(_e.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,_e.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):$.has("OES_texture_half_float_linear")===!0?(_e.rectAreaLTC1=UniformsLib.LTC_HALF_1,_e.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),_e.ambient[0]=ct,_e.ambient[1]=ut,_e.ambient[2]=dt;const Vt=_e.hash;(Vt.directionalLength!==ft||Vt.pointLength!==ht||Vt.spotLength!==pt||Vt.rectAreaLength!==yt||Vt.hemiLength!==gt||Vt.numDirectionalShadows!==bt||Vt.numPointShadows!==At||Vt.numSpotShadows!==Tt||Vt.numSpotMaps!==Pt)&&(_e.directional.length=ft,_e.spot.length=pt,_e.rectArea.length=yt,_e.point.length=ht,_e.hemi.length=gt,_e.directionalShadow.length=bt,_e.directionalShadowMap.length=bt,_e.pointShadow.length=At,_e.pointShadowMap.length=At,_e.spotShadow.length=Tt,_e.spotShadowMap.length=Tt,_e.directionalShadowMatrix.length=bt,_e.pointShadowMatrix.length=At,_e.spotLightMatrix.length=Tt+Pt-Ct,_e.spotLightMap.length=Pt,_e.numSpotLightShadowsWithMaps=Ct,Vt.directionalLength=ft,Vt.pointLength=ht,Vt.spotLength=pt,Vt.rectAreaLength=yt,Vt.hemiLength=gt,Vt.numDirectionalShadows=bt,Vt.numPointShadows=At,Vt.numSpotShadows=Tt,Vt.numSpotMaps=Pt,_e.version=nextVersion++)}function it(ot,at){let ct=0,ut=0,dt=0,ft=0,ht=0;const pt=at.matrixWorldInverse;for(let yt=0,gt=ot.length;yt<gt;yt++){const bt=ot[yt];if(bt.isDirectionalLight){const At=_e.directional[ct];At.direction.setFromMatrixPosition(bt.matrixWorld),et.setFromMatrixPosition(bt.target.matrixWorld),At.direction.sub(et),At.direction.transformDirection(pt),ct++}else if(bt.isSpotLight){const At=_e.spot[dt];At.position.setFromMatrixPosition(bt.matrixWorld),At.position.applyMatrix4(pt),At.direction.setFromMatrixPosition(bt.matrixWorld),et.setFromMatrixPosition(bt.target.matrixWorld),At.direction.sub(et),At.direction.transformDirection(pt),dt++}else if(bt.isRectAreaLight){const At=_e.rectArea[ft];At.position.setFromMatrixPosition(bt.matrixWorld),At.position.applyMatrix4(pt),nt.identity(),tt.copy(bt.matrixWorld),tt.premultiply(pt),nt.extractRotation(tt),At.halfWidth.set(bt.width*.5,0,0),At.halfHeight.set(0,bt.height*.5,0),At.halfWidth.applyMatrix4(nt),At.halfHeight.applyMatrix4(nt),ft++}else if(bt.isPointLight){const At=_e.point[ut];At.position.setFromMatrixPosition(bt.matrixWorld),At.position.applyMatrix4(pt),ut++}else if(bt.isHemisphereLight){const At=_e.hemi[ht];At.direction.setFromMatrixPosition(bt.matrixWorld),At.direction.transformDirection(pt),ht++}}}return{setup:rt,setupView:it,state:_e}}function WebGLRenderState($,o){const a=new WebGLLights($,o),j=[],_e=[];function et(){j.length=0,_e.length=0}function tt(at){j.push(at)}function nt(at){_e.push(at)}function rt(at){a.setup(j,at)}function it(at){a.setupView(j,at)}return{init:et,state:{lightsArray:j,shadowsArray:_e,lights:a},setupLights:rt,setupLightsView:it,pushLight:tt,pushShadow:nt}}function WebGLRenderStates($,o){let a=new WeakMap;function j(et,tt=0){const nt=a.get(et);let rt;return nt===void 0?(rt=new WebGLRenderState($,o),a.set(et,[rt])):tt>=nt.length?(rt=new WebGLRenderState($,o),nt.push(rt)):rt=nt[tt],rt}function _e(){a=new WeakMap}return{get:j,dispose:_e}}class MeshDepthMaterial extends Material{constructor(o){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(o)}copy(o){return super.copy(o),this.depthPacking=o.depthPacking,this.map=o.map,this.alphaMap=o.alphaMap,this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(o){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Vector3,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(o)}copy(o){return super.copy(o),this.referencePosition.copy(o.referencePosition),this.nearDistance=o.nearDistance,this.farDistance=o.farDistance,this.map=o.map,this.alphaMap=o.alphaMap,this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap($,o,a){let j=new Frustum;const _e=new Vector2,et=new Vector2,tt=new Vector4,nt=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),rt=new MeshDistanceMaterial,it={},ot=a.maxTextureSize,at={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},ct=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),ut=ct.clone();ut.defines.HORIZONTAL_PASS=1;const dt=new BufferGeometry;dt.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const ft=new Mesh(dt,ct),ht=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.render=function(bt,At,Tt){if(ht.enabled===!1||ht.autoUpdate===!1&&ht.needsUpdate===!1||bt.length===0)return;const Pt=$.getRenderTarget(),Ct=$.getActiveCubeFace(),It=$.getActiveMipmapLevel(),Vt=$.state;Vt.setBlending(NoBlending),Vt.buffers.color.setClear(1,1,1,1),Vt.buffers.depth.setTest(!0),Vt.setScissorTest(!1);for(let Kt=0,en=bt.length;Kt<en;Kt++){const kt=bt[Kt],vt=kt.shadow;if(vt===void 0){console.warn("THREE.WebGLShadowMap:",kt,"has no shadow.");continue}if(vt.autoUpdate===!1&&vt.needsUpdate===!1)continue;_e.copy(vt.mapSize);const St=vt.getFrameExtents();if(_e.multiply(St),et.copy(vt.mapSize),(_e.x>ot||_e.y>ot)&&(_e.x>ot&&(et.x=Math.floor(ot/St.x),_e.x=et.x*St.x,vt.mapSize.x=et.x),_e.y>ot&&(et.y=Math.floor(ot/St.y),_e.y=et.y*St.y,vt.mapSize.y=et.y)),vt.map===null){const zt=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};vt.map=new WebGLRenderTarget(_e.x,_e.y,zt),vt.map.texture.name=kt.name+".shadowMap",vt.camera.updateProjectionMatrix()}$.setRenderTarget(vt.map),$.clear();const Lt=vt.getViewportCount();for(let zt=0;zt<Lt;zt++){const Rt=vt.getViewport(zt);tt.set(et.x*Rt.x,et.y*Rt.y,et.x*Rt.z,et.y*Rt.w),Vt.viewport(tt),vt.updateMatrices(kt,zt),j=vt.getFrustum(),gt(At,Tt,vt.camera,kt,this.type)}vt.isPointLightShadow!==!0&&this.type===VSMShadowMap&&pt(vt,Tt),vt.needsUpdate=!1}ht.needsUpdate=!1,$.setRenderTarget(Pt,Ct,It)};function pt(bt,At){const Tt=o.update(ft);ct.defines.VSM_SAMPLES!==bt.blurSamples&&(ct.defines.VSM_SAMPLES=bt.blurSamples,ut.defines.VSM_SAMPLES=bt.blurSamples,ct.needsUpdate=!0,ut.needsUpdate=!0),bt.mapPass===null&&(bt.mapPass=new WebGLRenderTarget(_e.x,_e.y)),ct.uniforms.shadow_pass.value=bt.map.texture,ct.uniforms.resolution.value=bt.mapSize,ct.uniforms.radius.value=bt.radius,$.setRenderTarget(bt.mapPass),$.clear(),$.renderBufferDirect(At,null,Tt,ct,ft,null),ut.uniforms.shadow_pass.value=bt.mapPass.texture,ut.uniforms.resolution.value=bt.mapSize,ut.uniforms.radius.value=bt.radius,$.setRenderTarget(bt.map),$.clear(),$.renderBufferDirect(At,null,Tt,ut,ft,null)}function yt(bt,At,Tt,Pt,Ct,It){let Vt=null;const Kt=Tt.isPointLight===!0?bt.customDistanceMaterial:bt.customDepthMaterial;if(Kt!==void 0)Vt=Kt;else if(Vt=Tt.isPointLight===!0?rt:nt,$.localClippingEnabled&&At.clipShadows===!0&&Array.isArray(At.clippingPlanes)&&At.clippingPlanes.length!==0||At.displacementMap&&At.displacementScale!==0||At.alphaMap&&At.alphaTest>0||At.map&&At.alphaTest>0){const en=Vt.uuid,kt=At.uuid;let vt=it[en];vt===void 0&&(vt={},it[en]=vt);let St=vt[kt];St===void 0&&(St=Vt.clone(),vt[kt]=St),Vt=St}return Vt.visible=At.visible,Vt.wireframe=At.wireframe,It===VSMShadowMap?Vt.side=At.shadowSide!==null?At.shadowSide:At.side:Vt.side=At.shadowSide!==null?At.shadowSide:at[At.side],Vt.alphaMap=At.alphaMap,Vt.alphaTest=At.alphaTest,Vt.map=At.map,Vt.clipShadows=At.clipShadows,Vt.clippingPlanes=At.clippingPlanes,Vt.clipIntersection=At.clipIntersection,Vt.displacementMap=At.displacementMap,Vt.displacementScale=At.displacementScale,Vt.displacementBias=At.displacementBias,Vt.wireframeLinewidth=At.wireframeLinewidth,Vt.linewidth=At.linewidth,Tt.isPointLight===!0&&Vt.isMeshDistanceMaterial===!0&&(Vt.referencePosition.setFromMatrixPosition(Tt.matrixWorld),Vt.nearDistance=Pt,Vt.farDistance=Ct),Vt}function gt(bt,At,Tt,Pt,Ct){if(bt.visible===!1)return;if(bt.layers.test(At.layers)&&(bt.isMesh||bt.isLine||bt.isPoints)&&(bt.castShadow||bt.receiveShadow&&Ct===VSMShadowMap)&&(!bt.frustumCulled||j.intersectsObject(bt))){bt.modelViewMatrix.multiplyMatrices(Tt.matrixWorldInverse,bt.matrixWorld);const Kt=o.update(bt),en=bt.material;if(Array.isArray(en)){const kt=Kt.groups;for(let vt=0,St=kt.length;vt<St;vt++){const Lt=kt[vt],zt=en[Lt.materialIndex];if(zt&&zt.visible){const Rt=yt(bt,zt,Pt,Tt.near,Tt.far,Ct);$.renderBufferDirect(Tt,null,Kt,Rt,bt,Lt)}}}else if(en.visible){const kt=yt(bt,en,Pt,Tt.near,Tt.far,Ct);$.renderBufferDirect(Tt,null,Kt,kt,bt,null)}}const Vt=bt.children;for(let Kt=0,en=Vt.length;Kt<en;Kt++)gt(Vt[Kt],At,Tt,Pt,Ct)}}function WebGLState($,o,a){const j=a.isWebGL2;function _e(){let rn=!1;const wn=new Vector4;let Cn=null;const Dn=new Vector4(0,0,0,0);return{setMask:function(Wn){Cn!==Wn&&!rn&&($.colorMask(Wn,Wn,Wn,Wn),Cn=Wn)},setLocked:function(Wn){rn=Wn},setClear:function(Wn,Jn,er,Er,hr){hr===!0&&(Wn*=Er,Jn*=Er,er*=Er),wn.set(Wn,Jn,er,Er),Dn.equals(wn)===!1&&($.clearColor(Wn,Jn,er,Er),Dn.copy(wn))},reset:function(){rn=!1,Cn=null,Dn.set(-1,0,0,0)}}}function et(){let rn=!1,wn=null,Cn=null,Dn=null;return{setTest:function(Wn){Wn?on(2929):sn(2929)},setMask:function(Wn){wn!==Wn&&!rn&&($.depthMask(Wn),wn=Wn)},setFunc:function(Wn){if(Cn!==Wn){switch(Wn){case NeverDepth:$.depthFunc(512);break;case AlwaysDepth:$.depthFunc(519);break;case LessDepth:$.depthFunc(513);break;case LessEqualDepth:$.depthFunc(515);break;case EqualDepth:$.depthFunc(514);break;case GreaterEqualDepth:$.depthFunc(518);break;case GreaterDepth:$.depthFunc(516);break;case NotEqualDepth:$.depthFunc(517);break;default:$.depthFunc(515)}Cn=Wn}},setLocked:function(Wn){rn=Wn},setClear:function(Wn){Dn!==Wn&&($.clearDepth(Wn),Dn=Wn)},reset:function(){rn=!1,wn=null,Cn=null,Dn=null}}}function tt(){let rn=!1,wn=null,Cn=null,Dn=null,Wn=null,Jn=null,er=null,Er=null,hr=null;return{setTest:function(Yn){rn||(Yn?on(2960):sn(2960))},setMask:function(Yn){wn!==Yn&&!rn&&($.stencilMask(Yn),wn=Yn)},setFunc:function(Yn,Pr,cr){(Cn!==Yn||Dn!==Pr||Wn!==cr)&&($.stencilFunc(Yn,Pr,cr),Cn=Yn,Dn=Pr,Wn=cr)},setOp:function(Yn,Pr,cr){(Jn!==Yn||er!==Pr||Er!==cr)&&($.stencilOp(Yn,Pr,cr),Jn=Yn,er=Pr,Er=cr)},setLocked:function(Yn){rn=Yn},setClear:function(Yn){hr!==Yn&&($.clearStencil(Yn),hr=Yn)},reset:function(){rn=!1,wn=null,Cn=null,Dn=null,Wn=null,Jn=null,er=null,Er=null,hr=null}}}const nt=new _e,rt=new et,it=new tt,ot=new WeakMap,at=new WeakMap;let ct={},ut={},dt=new WeakMap,ft=[],ht=null,pt=!1,yt=null,gt=null,bt=null,At=null,Tt=null,Pt=null,Ct=null,It=!1,Vt=null,Kt=null,en=null,kt=null,vt=null;const St=$.getParameter(35661);let Lt=!1,zt=0;const Rt=$.getParameter(7938);Rt.indexOf("WebGL")!==-1?(zt=parseFloat(/^WebGL (\d)/.exec(Rt)[1]),Lt=zt>=1):Rt.indexOf("OpenGL ES")!==-1&&(zt=parseFloat(/^OpenGL ES (\d)/.exec(Rt)[1]),Lt=zt>=2);let $t=null,Gt={};const Ft=$.getParameter(3088),wt=$.getParameter(2978),Ht=new Vector4().fromArray(Ft),nn=new Vector4().fromArray(wt);function Dt(rn,wn,Cn){const Dn=new Uint8Array(4),Wn=$.createTexture();$.bindTexture(rn,Wn),$.texParameteri(rn,10241,9728),$.texParameteri(rn,10240,9728);for(let Jn=0;Jn<Cn;Jn++)$.texImage2D(wn+Jn,0,6408,1,1,0,6408,5121,Dn);return Wn}const Jt={};Jt[3553]=Dt(3553,3553,1),Jt[34067]=Dt(34067,34069,6),nt.setClear(0,0,0,1),rt.setClear(1),it.setClear(0),on(2929),rt.setFunc(LessEqualDepth),In(!1),Rn(CullFaceBack),on(2884),pn(NoBlending);function on(rn){ct[rn]!==!0&&($.enable(rn),ct[rn]=!0)}function sn(rn){ct[rn]!==!1&&($.disable(rn),ct[rn]=!1)}function dn(rn,wn){return ut[rn]!==wn?($.bindFramebuffer(rn,wn),ut[rn]=wn,j&&(rn===36009&&(ut[36160]=wn),rn===36160&&(ut[36009]=wn)),!0):!1}function mn(rn,wn){let Cn=ft,Dn=!1;if(rn)if(Cn=dt.get(wn),Cn===void 0&&(Cn=[],dt.set(wn,Cn)),rn.isWebGLMultipleRenderTargets){const Wn=rn.texture;if(Cn.length!==Wn.length||Cn[0]!==36064){for(let Jn=0,er=Wn.length;Jn<er;Jn++)Cn[Jn]=36064+Jn;Cn.length=Wn.length,Dn=!0}}else Cn[0]!==36064&&(Cn[0]=36064,Dn=!0);else Cn[0]!==1029&&(Cn[0]=1029,Dn=!0);Dn&&(a.isWebGL2?$.drawBuffers(Cn):o.get("WEBGL_draw_buffers").drawBuffersWEBGL(Cn))}function ln(rn){return ht!==rn?($.useProgram(rn),ht=rn,!0):!1}const tn={[AddEquation]:32774,[SubtractEquation]:32778,[ReverseSubtractEquation]:32779};if(j)tn[MinEquation]=32775,tn[MaxEquation]=32776;else{const rn=o.get("EXT_blend_minmax");rn!==null&&(tn[MinEquation]=rn.MIN_EXT,tn[MaxEquation]=rn.MAX_EXT)}const cn={[ZeroFactor]:0,[OneFactor]:1,[SrcColorFactor]:768,[SrcAlphaFactor]:770,[SrcAlphaSaturateFactor]:776,[DstColorFactor]:774,[DstAlphaFactor]:772,[OneMinusSrcColorFactor]:769,[OneMinusSrcAlphaFactor]:771,[OneMinusDstColorFactor]:775,[OneMinusDstAlphaFactor]:773};function pn(rn,wn,Cn,Dn,Wn,Jn,er,Er){if(rn===NoBlending){pt===!0&&(sn(3042),pt=!1);return}if(pt===!1&&(on(3042),pt=!0),rn!==CustomBlending){if(rn!==yt||Er!==It){if((gt!==AddEquation||Tt!==AddEquation)&&($.blendEquation(32774),gt=AddEquation,Tt=AddEquation),Er)switch(rn){case NormalBlending:$.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending:$.blendFunc(1,1);break;case SubtractiveBlending:$.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:$.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",rn);break}else switch(rn){case NormalBlending:$.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending:$.blendFunc(770,1);break;case SubtractiveBlending:$.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:$.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",rn);break}bt=null,At=null,Pt=null,Ct=null,yt=rn,It=Er}return}Wn=Wn||wn,Jn=Jn||Cn,er=er||Dn,(wn!==gt||Wn!==Tt)&&($.blendEquationSeparate(tn[wn],tn[Wn]),gt=wn,Tt=Wn),(Cn!==bt||Dn!==At||Jn!==Pt||er!==Ct)&&($.blendFuncSeparate(cn[Cn],cn[Dn],cn[Jn],cn[er]),bt=Cn,At=Dn,Pt=Jn,Ct=er),yt=rn,It=!1}function Mn(rn,wn){rn.side===DoubleSide?sn(2884):on(2884);let Cn=rn.side===BackSide;wn&&(Cn=!Cn),In(Cn),rn.blending===NormalBlending&&rn.transparent===!1?pn(NoBlending):pn(rn.blending,rn.blendEquation,rn.blendSrc,rn.blendDst,rn.blendEquationAlpha,rn.blendSrcAlpha,rn.blendDstAlpha,rn.premultipliedAlpha),rt.setFunc(rn.depthFunc),rt.setTest(rn.depthTest),rt.setMask(rn.depthWrite),nt.setMask(rn.colorWrite);const Dn=rn.stencilWrite;it.setTest(Dn),Dn&&(it.setMask(rn.stencilWriteMask),it.setFunc(rn.stencilFunc,rn.stencilRef,rn.stencilFuncMask),it.setOp(rn.stencilFail,rn.stencilZFail,rn.stencilZPass)),Fn(rn.polygonOffset,rn.polygonOffsetFactor,rn.polygonOffsetUnits),rn.alphaToCoverage===!0?on(32926):sn(32926)}function In(rn){Vt!==rn&&(rn?$.frontFace(2304):$.frontFace(2305),Vt=rn)}function Rn(rn){rn!==CullFaceNone?(on(2884),rn!==Kt&&(rn===CullFaceBack?$.cullFace(1029):rn===CullFaceFront?$.cullFace(1028):$.cullFace(1032))):sn(2884),Kt=rn}function Ln(rn){rn!==en&&(Lt&&$.lineWidth(rn),en=rn)}function Fn(rn,wn,Cn){rn?(on(32823),(kt!==wn||vt!==Cn)&&($.polygonOffset(wn,Cn),kt=wn,vt=Cn)):sn(32823)}function Un(rn){rn?on(3089):sn(3089)}function Nn(rn){rn===void 0&&(rn=33984+St-1),$t!==rn&&($.activeTexture(rn),$t=rn)}function Xt(rn,wn,Cn){Cn===void 0&&($t===null?Cn=33984+St-1:Cn=$t);let Dn=Gt[Cn];Dn===void 0&&(Dn={type:void 0,texture:void 0},Gt[Cn]=Dn),(Dn.type!==rn||Dn.texture!==wn)&&($t!==Cn&&($.activeTexture(Cn),$t=Cn),$.bindTexture(rn,wn||Jt[rn]),Dn.type=rn,Dn.texture=wn)}function jt(){const rn=Gt[$t];rn!==void 0&&rn.type!==void 0&&($.bindTexture(rn.type,null),rn.type=void 0,rn.texture=void 0)}function un(){try{$.compressedTexImage2D.apply($,arguments)}catch(rn){console.error("THREE.WebGLState:",rn)}}function Tn(){try{$.compressedTexImage3D.apply($,arguments)}catch(rn){console.error("THREE.WebGLState:",rn)}}function Bn(){try{$.texSubImage2D.apply($,arguments)}catch(rn){console.error("THREE.WebGLState:",rn)}}function Ot(){try{$.texSubImage3D.apply($,arguments)}catch(rn){console.error("THREE.WebGLState:",rn)}}function Mt(){try{$.compressedTexSubImage2D.apply($,arguments)}catch(rn){console.error("THREE.WebGLState:",rn)}}function Et(){try{$.compressedTexSubImage3D.apply($,arguments)}catch(rn){console.error("THREE.WebGLState:",rn)}}function Ut(){try{$.texStorage2D.apply($,arguments)}catch(rn){console.error("THREE.WebGLState:",rn)}}function Qt(){try{$.texStorage3D.apply($,arguments)}catch(rn){console.error("THREE.WebGLState:",rn)}}function Wt(){try{$.texImage2D.apply($,arguments)}catch(rn){console.error("THREE.WebGLState:",rn)}}function qt(){try{$.texImage3D.apply($,arguments)}catch(rn){console.error("THREE.WebGLState:",rn)}}function _n(rn){Ht.equals(rn)===!1&&($.scissor(rn.x,rn.y,rn.z,rn.w),Ht.copy(rn))}function En(rn){nn.equals(rn)===!1&&($.viewport(rn.x,rn.y,rn.z,rn.w),nn.copy(rn))}function Pn(rn,wn){let Cn=at.get(wn);Cn===void 0&&(Cn=new WeakMap,at.set(wn,Cn));let Dn=Cn.get(rn);Dn===void 0&&(Dn=$.getUniformBlockIndex(wn,rn.name),Cn.set(rn,Dn))}function Hn(rn,wn){const Dn=at.get(wn).get(rn);ot.get(wn)!==Dn&&($.uniformBlockBinding(wn,Dn,rn.__bindingPointIndex),ot.set(wn,Dn))}function On(){$.disable(3042),$.disable(2884),$.disable(2929),$.disable(32823),$.disable(3089),$.disable(2960),$.disable(32926),$.blendEquation(32774),$.blendFunc(1,0),$.blendFuncSeparate(1,0,1,0),$.colorMask(!0,!0,!0,!0),$.clearColor(0,0,0,0),$.depthMask(!0),$.depthFunc(513),$.clearDepth(1),$.stencilMask(4294967295),$.stencilFunc(519,0,4294967295),$.stencilOp(7680,7680,7680),$.clearStencil(0),$.cullFace(1029),$.frontFace(2305),$.polygonOffset(0,0),$.activeTexture(33984),$.bindFramebuffer(36160,null),j===!0&&($.bindFramebuffer(36009,null),$.bindFramebuffer(36008,null)),$.useProgram(null),$.lineWidth(1),$.scissor(0,0,$.canvas.width,$.canvas.height),$.viewport(0,0,$.canvas.width,$.canvas.height),ct={},$t=null,Gt={},ut={},dt=new WeakMap,ft=[],ht=null,pt=!1,yt=null,gt=null,bt=null,At=null,Tt=null,Pt=null,Ct=null,It=!1,Vt=null,Kt=null,en=null,kt=null,vt=null,Ht.set(0,0,$.canvas.width,$.canvas.height),nn.set(0,0,$.canvas.width,$.canvas.height),nt.reset(),rt.reset(),it.reset()}return{buffers:{color:nt,depth:rt,stencil:it},enable:on,disable:sn,bindFramebuffer:dn,drawBuffers:mn,useProgram:ln,setBlending:pn,setMaterial:Mn,setFlipSided:In,setCullFace:Rn,setLineWidth:Ln,setPolygonOffset:Fn,setScissorTest:Un,activeTexture:Nn,bindTexture:Xt,unbindTexture:jt,compressedTexImage2D:un,compressedTexImage3D:Tn,texImage2D:Wt,texImage3D:qt,updateUBOMapping:Pn,uniformBlockBinding:Hn,texStorage2D:Ut,texStorage3D:Qt,texSubImage2D:Bn,texSubImage3D:Ot,compressedTexSubImage2D:Mt,compressedTexSubImage3D:Et,scissor:_n,viewport:En,reset:On}}function WebGLTextures($,o,a,j,_e,et,tt){const nt=_e.isWebGL2,rt=_e.maxTextures,it=_e.maxCubemapSize,ot=_e.maxTextureSize,at=_e.maxSamples,ct=o.has("WEBGL_multisampled_render_to_texture")?o.get("WEBGL_multisampled_render_to_texture"):null,ut=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),dt=new WeakMap;let ft;const ht=new WeakMap;let pt=!1;try{pt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function yt(Xt,jt){return pt?new OffscreenCanvas(Xt,jt):createElementNS("canvas")}function gt(Xt,jt,un,Tn){let Bn=1;if((Xt.width>Tn||Xt.height>Tn)&&(Bn=Tn/Math.max(Xt.width,Xt.height)),Bn<1||jt===!0)if(typeof HTMLImageElement<"u"&&Xt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Xt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Xt instanceof ImageBitmap){const Ot=jt?floorPowerOfTwo:Math.floor,Mt=Ot(Bn*Xt.width),Et=Ot(Bn*Xt.height);ft===void 0&&(ft=yt(Mt,Et));const Ut=un?yt(Mt,Et):ft;return Ut.width=Mt,Ut.height=Et,Ut.getContext("2d").drawImage(Xt,0,0,Mt,Et),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Xt.width+"x"+Xt.height+") to ("+Mt+"x"+Et+")."),Ut}else return"data"in Xt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Xt.width+"x"+Xt.height+")."),Xt;return Xt}function bt(Xt){return isPowerOfTwo(Xt.width)&&isPowerOfTwo(Xt.height)}function At(Xt){return nt?!1:Xt.wrapS!==ClampToEdgeWrapping||Xt.wrapT!==ClampToEdgeWrapping||Xt.minFilter!==NearestFilter&&Xt.minFilter!==LinearFilter}function Tt(Xt,jt){return Xt.generateMipmaps&&jt&&Xt.minFilter!==NearestFilter&&Xt.minFilter!==LinearFilter}function Pt(Xt){$.generateMipmap(Xt)}function Ct(Xt,jt,un,Tn,Bn=!1){if(nt===!1)return jt;if(Xt!==null){if($[Xt]!==void 0)return $[Xt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Xt+"'")}let Ot=jt;return jt===6403&&(un===5126&&(Ot=33326),un===5131&&(Ot=33325),un===5121&&(Ot=33321)),jt===33319&&(un===5126&&(Ot=33328),un===5131&&(Ot=33327),un===5121&&(Ot=33323)),jt===6408&&(un===5126&&(Ot=34836),un===5131&&(Ot=34842),un===5121&&(Ot=Tn===sRGBEncoding&&Bn===!1?35907:32856),un===32819&&(Ot=32854),un===32820&&(Ot=32855)),(Ot===33325||Ot===33326||Ot===33327||Ot===33328||Ot===34842||Ot===34836)&&o.get("EXT_color_buffer_float"),Ot}function It(Xt,jt,un){return Tt(Xt,un)===!0||Xt.isFramebufferTexture&&Xt.minFilter!==NearestFilter&&Xt.minFilter!==LinearFilter?Math.log2(Math.max(jt.width,jt.height))+1:Xt.mipmaps!==void 0&&Xt.mipmaps.length>0?Xt.mipmaps.length:Xt.isCompressedTexture&&Array.isArray(Xt.image)?jt.mipmaps.length:1}function Vt(Xt){return Xt===NearestFilter||Xt===NearestMipmapNearestFilter||Xt===NearestMipmapLinearFilter?9728:9729}function Kt(Xt){const jt=Xt.target;jt.removeEventListener("dispose",Kt),kt(jt),jt.isVideoTexture&&dt.delete(jt)}function en(Xt){const jt=Xt.target;jt.removeEventListener("dispose",en),St(jt)}function kt(Xt){const jt=j.get(Xt);if(jt.__webglInit===void 0)return;const un=Xt.source,Tn=ht.get(un);if(Tn){const Bn=Tn[jt.__cacheKey];Bn.usedTimes--,Bn.usedTimes===0&&vt(Xt),Object.keys(Tn).length===0&&ht.delete(un)}j.remove(Xt)}function vt(Xt){const jt=j.get(Xt);$.deleteTexture(jt.__webglTexture);const un=Xt.source,Tn=ht.get(un);delete Tn[jt.__cacheKey],tt.memory.textures--}function St(Xt){const jt=Xt.texture,un=j.get(Xt),Tn=j.get(jt);if(Tn.__webglTexture!==void 0&&($.deleteTexture(Tn.__webglTexture),tt.memory.textures--),Xt.depthTexture&&Xt.depthTexture.dispose(),Xt.isWebGLCubeRenderTarget)for(let Bn=0;Bn<6;Bn++)$.deleteFramebuffer(un.__webglFramebuffer[Bn]),un.__webglDepthbuffer&&$.deleteRenderbuffer(un.__webglDepthbuffer[Bn]);else{if($.deleteFramebuffer(un.__webglFramebuffer),un.__webglDepthbuffer&&$.deleteRenderbuffer(un.__webglDepthbuffer),un.__webglMultisampledFramebuffer&&$.deleteFramebuffer(un.__webglMultisampledFramebuffer),un.__webglColorRenderbuffer)for(let Bn=0;Bn<un.__webglColorRenderbuffer.length;Bn++)un.__webglColorRenderbuffer[Bn]&&$.deleteRenderbuffer(un.__webglColorRenderbuffer[Bn]);un.__webglDepthRenderbuffer&&$.deleteRenderbuffer(un.__webglDepthRenderbuffer)}if(Xt.isWebGLMultipleRenderTargets)for(let Bn=0,Ot=jt.length;Bn<Ot;Bn++){const Mt=j.get(jt[Bn]);Mt.__webglTexture&&($.deleteTexture(Mt.__webglTexture),tt.memory.textures--),j.remove(jt[Bn])}j.remove(jt),j.remove(Xt)}let Lt=0;function zt(){Lt=0}function Rt(){const Xt=Lt;return Xt>=rt&&console.warn("THREE.WebGLTextures: Trying to use "+Xt+" texture units while this GPU supports only "+rt),Lt+=1,Xt}function $t(Xt){const jt=[];return jt.push(Xt.wrapS),jt.push(Xt.wrapT),jt.push(Xt.wrapR||0),jt.push(Xt.magFilter),jt.push(Xt.minFilter),jt.push(Xt.anisotropy),jt.push(Xt.internalFormat),jt.push(Xt.format),jt.push(Xt.type),jt.push(Xt.generateMipmaps),jt.push(Xt.premultiplyAlpha),jt.push(Xt.flipY),jt.push(Xt.unpackAlignment),jt.push(Xt.encoding),jt.join()}function Gt(Xt,jt){const un=j.get(Xt);if(Xt.isVideoTexture&&Un(Xt),Xt.isRenderTargetTexture===!1&&Xt.version>0&&un.__version!==Xt.version){const Tn=Xt.image;if(Tn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Tn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{sn(un,Xt,jt);return}}a.bindTexture(3553,un.__webglTexture,33984+jt)}function Ft(Xt,jt){const un=j.get(Xt);if(Xt.version>0&&un.__version!==Xt.version){sn(un,Xt,jt);return}a.bindTexture(35866,un.__webglTexture,33984+jt)}function wt(Xt,jt){const un=j.get(Xt);if(Xt.version>0&&un.__version!==Xt.version){sn(un,Xt,jt);return}a.bindTexture(32879,un.__webglTexture,33984+jt)}function Ht(Xt,jt){const un=j.get(Xt);if(Xt.version>0&&un.__version!==Xt.version){dn(un,Xt,jt);return}a.bindTexture(34067,un.__webglTexture,33984+jt)}const nn={[RepeatWrapping]:10497,[ClampToEdgeWrapping]:33071,[MirroredRepeatWrapping]:33648},Dt={[NearestFilter]:9728,[NearestMipmapNearestFilter]:9984,[NearestMipmapLinearFilter]:9986,[LinearFilter]:9729,[LinearMipmapNearestFilter]:9985,[LinearMipmapLinearFilter]:9987};function Jt(Xt,jt,un){if(un?($.texParameteri(Xt,10242,nn[jt.wrapS]),$.texParameteri(Xt,10243,nn[jt.wrapT]),(Xt===32879||Xt===35866)&&$.texParameteri(Xt,32882,nn[jt.wrapR]),$.texParameteri(Xt,10240,Dt[jt.magFilter]),$.texParameteri(Xt,10241,Dt[jt.minFilter])):($.texParameteri(Xt,10242,33071),$.texParameteri(Xt,10243,33071),(Xt===32879||Xt===35866)&&$.texParameteri(Xt,32882,33071),(jt.wrapS!==ClampToEdgeWrapping||jt.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),$.texParameteri(Xt,10240,Vt(jt.magFilter)),$.texParameteri(Xt,10241,Vt(jt.minFilter)),jt.minFilter!==NearestFilter&&jt.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),o.has("EXT_texture_filter_anisotropic")===!0){const Tn=o.get("EXT_texture_filter_anisotropic");if(jt.magFilter===NearestFilter||jt.minFilter!==NearestMipmapLinearFilter&&jt.minFilter!==LinearMipmapLinearFilter||jt.type===FloatType&&o.has("OES_texture_float_linear")===!1||nt===!1&&jt.type===HalfFloatType&&o.has("OES_texture_half_float_linear")===!1)return;(jt.anisotropy>1||j.get(jt).__currentAnisotropy)&&($.texParameterf(Xt,Tn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(jt.anisotropy,_e.getMaxAnisotropy())),j.get(jt).__currentAnisotropy=jt.anisotropy)}}function on(Xt,jt){let un=!1;Xt.__webglInit===void 0&&(Xt.__webglInit=!0,jt.addEventListener("dispose",Kt));const Tn=jt.source;let Bn=ht.get(Tn);Bn===void 0&&(Bn={},ht.set(Tn,Bn));const Ot=$t(jt);if(Ot!==Xt.__cacheKey){Bn[Ot]===void 0&&(Bn[Ot]={texture:$.createTexture(),usedTimes:0},tt.memory.textures++,un=!0),Bn[Ot].usedTimes++;const Mt=Bn[Xt.__cacheKey];Mt!==void 0&&(Bn[Xt.__cacheKey].usedTimes--,Mt.usedTimes===0&&vt(jt)),Xt.__cacheKey=Ot,Xt.__webglTexture=Bn[Ot].texture}return un}function sn(Xt,jt,un){let Tn=3553;(jt.isDataArrayTexture||jt.isCompressedArrayTexture)&&(Tn=35866),jt.isData3DTexture&&(Tn=32879);const Bn=on(Xt,jt),Ot=jt.source;a.bindTexture(Tn,Xt.__webglTexture,33984+un);const Mt=j.get(Ot);if(Ot.version!==Mt.__version||Bn===!0){a.activeTexture(33984+un),$.pixelStorei(37440,jt.flipY),$.pixelStorei(37441,jt.premultiplyAlpha),$.pixelStorei(3317,jt.unpackAlignment),$.pixelStorei(37443,0);const Et=At(jt)&&bt(jt.image)===!1;let Ut=gt(jt.image,Et,!1,ot);Ut=Nn(jt,Ut);const Qt=bt(Ut)||nt,Wt=et.convert(jt.format,jt.encoding);let qt=et.convert(jt.type),_n=Ct(jt.internalFormat,Wt,qt,jt.encoding,jt.isVideoTexture);Jt(Tn,jt,Qt);let En;const Pn=jt.mipmaps,Hn=nt&&jt.isVideoTexture!==!0,On=Mt.__version===void 0||Bn===!0,rn=It(jt,Ut,Qt);if(jt.isDepthTexture)_n=6402,nt?jt.type===FloatType?_n=36012:jt.type===UnsignedIntType?_n=33190:jt.type===UnsignedInt248Type?_n=35056:_n=33189:jt.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),jt.format===DepthFormat&&_n===6402&&jt.type!==UnsignedShortType&&jt.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),jt.type=UnsignedIntType,qt=et.convert(jt.type)),jt.format===DepthStencilFormat&&_n===6402&&(_n=34041,jt.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),jt.type=UnsignedInt248Type,qt=et.convert(jt.type))),On&&(Hn?a.texStorage2D(3553,1,_n,Ut.width,Ut.height):a.texImage2D(3553,0,_n,Ut.width,Ut.height,0,Wt,qt,null));else if(jt.isDataTexture)if(Pn.length>0&&Qt){Hn&&On&&a.texStorage2D(3553,rn,_n,Pn[0].width,Pn[0].height);for(let wn=0,Cn=Pn.length;wn<Cn;wn++)En=Pn[wn],Hn?a.texSubImage2D(3553,wn,0,0,En.width,En.height,Wt,qt,En.data):a.texImage2D(3553,wn,_n,En.width,En.height,0,Wt,qt,En.data);jt.generateMipmaps=!1}else Hn?(On&&a.texStorage2D(3553,rn,_n,Ut.width,Ut.height),a.texSubImage2D(3553,0,0,0,Ut.width,Ut.height,Wt,qt,Ut.data)):a.texImage2D(3553,0,_n,Ut.width,Ut.height,0,Wt,qt,Ut.data);else if(jt.isCompressedTexture)if(jt.isCompressedArrayTexture){Hn&&On&&a.texStorage3D(35866,rn,_n,Pn[0].width,Pn[0].height,Ut.depth);for(let wn=0,Cn=Pn.length;wn<Cn;wn++)En=Pn[wn],jt.format!==RGBAFormat?Wt!==null?Hn?a.compressedTexSubImage3D(35866,wn,0,0,0,En.width,En.height,Ut.depth,Wt,En.data,0,0):a.compressedTexImage3D(35866,wn,_n,En.width,En.height,Ut.depth,0,En.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Hn?a.texSubImage3D(35866,wn,0,0,0,En.width,En.height,Ut.depth,Wt,qt,En.data):a.texImage3D(35866,wn,_n,En.width,En.height,Ut.depth,0,Wt,qt,En.data)}else{Hn&&On&&a.texStorage2D(3553,rn,_n,Pn[0].width,Pn[0].height);for(let wn=0,Cn=Pn.length;wn<Cn;wn++)En=Pn[wn],jt.format!==RGBAFormat?Wt!==null?Hn?a.compressedTexSubImage2D(3553,wn,0,0,En.width,En.height,Wt,En.data):a.compressedTexImage2D(3553,wn,_n,En.width,En.height,0,En.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Hn?a.texSubImage2D(3553,wn,0,0,En.width,En.height,Wt,qt,En.data):a.texImage2D(3553,wn,_n,En.width,En.height,0,Wt,qt,En.data)}else if(jt.isDataArrayTexture)Hn?(On&&a.texStorage3D(35866,rn,_n,Ut.width,Ut.height,Ut.depth),a.texSubImage3D(35866,0,0,0,0,Ut.width,Ut.height,Ut.depth,Wt,qt,Ut.data)):a.texImage3D(35866,0,_n,Ut.width,Ut.height,Ut.depth,0,Wt,qt,Ut.data);else if(jt.isData3DTexture)Hn?(On&&a.texStorage3D(32879,rn,_n,Ut.width,Ut.height,Ut.depth),a.texSubImage3D(32879,0,0,0,0,Ut.width,Ut.height,Ut.depth,Wt,qt,Ut.data)):a.texImage3D(32879,0,_n,Ut.width,Ut.height,Ut.depth,0,Wt,qt,Ut.data);else if(jt.isFramebufferTexture){if(On)if(Hn)a.texStorage2D(3553,rn,_n,Ut.width,Ut.height);else{let wn=Ut.width,Cn=Ut.height;for(let Dn=0;Dn<rn;Dn++)a.texImage2D(3553,Dn,_n,wn,Cn,0,Wt,qt,null),wn>>=1,Cn>>=1}}else if(Pn.length>0&&Qt){Hn&&On&&a.texStorage2D(3553,rn,_n,Pn[0].width,Pn[0].height);for(let wn=0,Cn=Pn.length;wn<Cn;wn++)En=Pn[wn],Hn?a.texSubImage2D(3553,wn,0,0,Wt,qt,En):a.texImage2D(3553,wn,_n,Wt,qt,En);jt.generateMipmaps=!1}else Hn?(On&&a.texStorage2D(3553,rn,_n,Ut.width,Ut.height),a.texSubImage2D(3553,0,0,0,Wt,qt,Ut)):a.texImage2D(3553,0,_n,Wt,qt,Ut);Tt(jt,Qt)&&Pt(Tn),Mt.__version=Ot.version,jt.onUpdate&&jt.onUpdate(jt)}Xt.__version=jt.version}function dn(Xt,jt,un){if(jt.image.length!==6)return;const Tn=on(Xt,jt),Bn=jt.source;a.bindTexture(34067,Xt.__webglTexture,33984+un);const Ot=j.get(Bn);if(Bn.version!==Ot.__version||Tn===!0){a.activeTexture(33984+un),$.pixelStorei(37440,jt.flipY),$.pixelStorei(37441,jt.premultiplyAlpha),$.pixelStorei(3317,jt.unpackAlignment),$.pixelStorei(37443,0);const Mt=jt.isCompressedTexture||jt.image[0].isCompressedTexture,Et=jt.image[0]&&jt.image[0].isDataTexture,Ut=[];for(let wn=0;wn<6;wn++)!Mt&&!Et?Ut[wn]=gt(jt.image[wn],!1,!0,it):Ut[wn]=Et?jt.image[wn].image:jt.image[wn],Ut[wn]=Nn(jt,Ut[wn]);const Qt=Ut[0],Wt=bt(Qt)||nt,qt=et.convert(jt.format,jt.encoding),_n=et.convert(jt.type),En=Ct(jt.internalFormat,qt,_n,jt.encoding),Pn=nt&&jt.isVideoTexture!==!0,Hn=Ot.__version===void 0||Tn===!0;let On=It(jt,Qt,Wt);Jt(34067,jt,Wt);let rn;if(Mt){Pn&&Hn&&a.texStorage2D(34067,On,En,Qt.width,Qt.height);for(let wn=0;wn<6;wn++){rn=Ut[wn].mipmaps;for(let Cn=0;Cn<rn.length;Cn++){const Dn=rn[Cn];jt.format!==RGBAFormat?qt!==null?Pn?a.compressedTexSubImage2D(34069+wn,Cn,0,0,Dn.width,Dn.height,qt,Dn.data):a.compressedTexImage2D(34069+wn,Cn,En,Dn.width,Dn.height,0,Dn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Pn?a.texSubImage2D(34069+wn,Cn,0,0,Dn.width,Dn.height,qt,_n,Dn.data):a.texImage2D(34069+wn,Cn,En,Dn.width,Dn.height,0,qt,_n,Dn.data)}}}else{rn=jt.mipmaps,Pn&&Hn&&(rn.length>0&&On++,a.texStorage2D(34067,On,En,Ut[0].width,Ut[0].height));for(let wn=0;wn<6;wn++)if(Et){Pn?a.texSubImage2D(34069+wn,0,0,0,Ut[wn].width,Ut[wn].height,qt,_n,Ut[wn].data):a.texImage2D(34069+wn,0,En,Ut[wn].width,Ut[wn].height,0,qt,_n,Ut[wn].data);for(let Cn=0;Cn<rn.length;Cn++){const Wn=rn[Cn].image[wn].image;Pn?a.texSubImage2D(34069+wn,Cn+1,0,0,Wn.width,Wn.height,qt,_n,Wn.data):a.texImage2D(34069+wn,Cn+1,En,Wn.width,Wn.height,0,qt,_n,Wn.data)}}else{Pn?a.texSubImage2D(34069+wn,0,0,0,qt,_n,Ut[wn]):a.texImage2D(34069+wn,0,En,qt,_n,Ut[wn]);for(let Cn=0;Cn<rn.length;Cn++){const Dn=rn[Cn];Pn?a.texSubImage2D(34069+wn,Cn+1,0,0,qt,_n,Dn.image[wn]):a.texImage2D(34069+wn,Cn+1,En,qt,_n,Dn.image[wn])}}}Tt(jt,Wt)&&Pt(34067),Ot.__version=Bn.version,jt.onUpdate&&jt.onUpdate(jt)}Xt.__version=jt.version}function mn(Xt,jt,un,Tn,Bn){const Ot=et.convert(un.format,un.encoding),Mt=et.convert(un.type),Et=Ct(un.internalFormat,Ot,Mt,un.encoding);j.get(jt).__hasExternalTextures||(Bn===32879||Bn===35866?a.texImage3D(Bn,0,Et,jt.width,jt.height,jt.depth,0,Ot,Mt,null):a.texImage2D(Bn,0,Et,jt.width,jt.height,0,Ot,Mt,null)),a.bindFramebuffer(36160,Xt),Fn(jt)?ct.framebufferTexture2DMultisampleEXT(36160,Tn,Bn,j.get(un).__webglTexture,0,Ln(jt)):(Bn===3553||Bn>=34069&&Bn<=34074)&&$.framebufferTexture2D(36160,Tn,Bn,j.get(un).__webglTexture,0),a.bindFramebuffer(36160,null)}function ln(Xt,jt,un){if($.bindRenderbuffer(36161,Xt),jt.depthBuffer&&!jt.stencilBuffer){let Tn=33189;if(un||Fn(jt)){const Bn=jt.depthTexture;Bn&&Bn.isDepthTexture&&(Bn.type===FloatType?Tn=36012:Bn.type===UnsignedIntType&&(Tn=33190));const Ot=Ln(jt);Fn(jt)?ct.renderbufferStorageMultisampleEXT(36161,Ot,Tn,jt.width,jt.height):$.renderbufferStorageMultisample(36161,Ot,Tn,jt.width,jt.height)}else $.renderbufferStorage(36161,Tn,jt.width,jt.height);$.framebufferRenderbuffer(36160,36096,36161,Xt)}else if(jt.depthBuffer&&jt.stencilBuffer){const Tn=Ln(jt);un&&Fn(jt)===!1?$.renderbufferStorageMultisample(36161,Tn,35056,jt.width,jt.height):Fn(jt)?ct.renderbufferStorageMultisampleEXT(36161,Tn,35056,jt.width,jt.height):$.renderbufferStorage(36161,34041,jt.width,jt.height),$.framebufferRenderbuffer(36160,33306,36161,Xt)}else{const Tn=jt.isWebGLMultipleRenderTargets===!0?jt.texture:[jt.texture];for(let Bn=0;Bn<Tn.length;Bn++){const Ot=Tn[Bn],Mt=et.convert(Ot.format,Ot.encoding),Et=et.convert(Ot.type),Ut=Ct(Ot.internalFormat,Mt,Et,Ot.encoding),Qt=Ln(jt);un&&Fn(jt)===!1?$.renderbufferStorageMultisample(36161,Qt,Ut,jt.width,jt.height):Fn(jt)?ct.renderbufferStorageMultisampleEXT(36161,Qt,Ut,jt.width,jt.height):$.renderbufferStorage(36161,Ut,jt.width,jt.height)}}$.bindRenderbuffer(36161,null)}function tn(Xt,jt){if(jt&&jt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(a.bindFramebuffer(36160,Xt),!(jt.depthTexture&&jt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!j.get(jt.depthTexture).__webglTexture||jt.depthTexture.image.width!==jt.width||jt.depthTexture.image.height!==jt.height)&&(jt.depthTexture.image.width=jt.width,jt.depthTexture.image.height=jt.height,jt.depthTexture.needsUpdate=!0),Gt(jt.depthTexture,0);const Tn=j.get(jt.depthTexture).__webglTexture,Bn=Ln(jt);if(jt.depthTexture.format===DepthFormat)Fn(jt)?ct.framebufferTexture2DMultisampleEXT(36160,36096,3553,Tn,0,Bn):$.framebufferTexture2D(36160,36096,3553,Tn,0);else if(jt.depthTexture.format===DepthStencilFormat)Fn(jt)?ct.framebufferTexture2DMultisampleEXT(36160,33306,3553,Tn,0,Bn):$.framebufferTexture2D(36160,33306,3553,Tn,0);else throw new Error("Unknown depthTexture format")}function cn(Xt){const jt=j.get(Xt),un=Xt.isWebGLCubeRenderTarget===!0;if(Xt.depthTexture&&!jt.__autoAllocateDepthBuffer){if(un)throw new Error("target.depthTexture not supported in Cube render targets");tn(jt.__webglFramebuffer,Xt)}else if(un){jt.__webglDepthbuffer=[];for(let Tn=0;Tn<6;Tn++)a.bindFramebuffer(36160,jt.__webglFramebuffer[Tn]),jt.__webglDepthbuffer[Tn]=$.createRenderbuffer(),ln(jt.__webglDepthbuffer[Tn],Xt,!1)}else a.bindFramebuffer(36160,jt.__webglFramebuffer),jt.__webglDepthbuffer=$.createRenderbuffer(),ln(jt.__webglDepthbuffer,Xt,!1);a.bindFramebuffer(36160,null)}function pn(Xt,jt,un){const Tn=j.get(Xt);jt!==void 0&&mn(Tn.__webglFramebuffer,Xt,Xt.texture,36064,3553),un!==void 0&&cn(Xt)}function Mn(Xt){const jt=Xt.texture,un=j.get(Xt),Tn=j.get(jt);Xt.addEventListener("dispose",en),Xt.isWebGLMultipleRenderTargets!==!0&&(Tn.__webglTexture===void 0&&(Tn.__webglTexture=$.createTexture()),Tn.__version=jt.version,tt.memory.textures++);const Bn=Xt.isWebGLCubeRenderTarget===!0,Ot=Xt.isWebGLMultipleRenderTargets===!0,Mt=bt(Xt)||nt;if(Bn){un.__webglFramebuffer=[];for(let Et=0;Et<6;Et++)un.__webglFramebuffer[Et]=$.createFramebuffer()}else{if(un.__webglFramebuffer=$.createFramebuffer(),Ot)if(_e.drawBuffers){const Et=Xt.texture;for(let Ut=0,Qt=Et.length;Ut<Qt;Ut++){const Wt=j.get(Et[Ut]);Wt.__webglTexture===void 0&&(Wt.__webglTexture=$.createTexture(),tt.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(nt&&Xt.samples>0&&Fn(Xt)===!1){const Et=Ot?jt:[jt];un.__webglMultisampledFramebuffer=$.createFramebuffer(),un.__webglColorRenderbuffer=[],a.bindFramebuffer(36160,un.__webglMultisampledFramebuffer);for(let Ut=0;Ut<Et.length;Ut++){const Qt=Et[Ut];un.__webglColorRenderbuffer[Ut]=$.createRenderbuffer(),$.bindRenderbuffer(36161,un.__webglColorRenderbuffer[Ut]);const Wt=et.convert(Qt.format,Qt.encoding),qt=et.convert(Qt.type),_n=Ct(Qt.internalFormat,Wt,qt,Qt.encoding,Xt.isXRRenderTarget===!0),En=Ln(Xt);$.renderbufferStorageMultisample(36161,En,_n,Xt.width,Xt.height),$.framebufferRenderbuffer(36160,36064+Ut,36161,un.__webglColorRenderbuffer[Ut])}$.bindRenderbuffer(36161,null),Xt.depthBuffer&&(un.__webglDepthRenderbuffer=$.createRenderbuffer(),ln(un.__webglDepthRenderbuffer,Xt,!0)),a.bindFramebuffer(36160,null)}}if(Bn){a.bindTexture(34067,Tn.__webglTexture),Jt(34067,jt,Mt);for(let Et=0;Et<6;Et++)mn(un.__webglFramebuffer[Et],Xt,jt,36064,34069+Et);Tt(jt,Mt)&&Pt(34067),a.unbindTexture()}else if(Ot){const Et=Xt.texture;for(let Ut=0,Qt=Et.length;Ut<Qt;Ut++){const Wt=Et[Ut],qt=j.get(Wt);a.bindTexture(3553,qt.__webglTexture),Jt(3553,Wt,Mt),mn(un.__webglFramebuffer,Xt,Wt,36064+Ut,3553),Tt(Wt,Mt)&&Pt(3553)}a.unbindTexture()}else{let Et=3553;(Xt.isWebGL3DRenderTarget||Xt.isWebGLArrayRenderTarget)&&(nt?Et=Xt.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),a.bindTexture(Et,Tn.__webglTexture),Jt(Et,jt,Mt),mn(un.__webglFramebuffer,Xt,jt,36064,Et),Tt(jt,Mt)&&Pt(Et),a.unbindTexture()}Xt.depthBuffer&&cn(Xt)}function In(Xt){const jt=bt(Xt)||nt,un=Xt.isWebGLMultipleRenderTargets===!0?Xt.texture:[Xt.texture];for(let Tn=0,Bn=un.length;Tn<Bn;Tn++){const Ot=un[Tn];if(Tt(Ot,jt)){const Mt=Xt.isWebGLCubeRenderTarget?34067:3553,Et=j.get(Ot).__webglTexture;a.bindTexture(Mt,Et),Pt(Mt),a.unbindTexture()}}}function Rn(Xt){if(nt&&Xt.samples>0&&Fn(Xt)===!1){const jt=Xt.isWebGLMultipleRenderTargets?Xt.texture:[Xt.texture],un=Xt.width,Tn=Xt.height;let Bn=16384;const Ot=[],Mt=Xt.stencilBuffer?33306:36096,Et=j.get(Xt),Ut=Xt.isWebGLMultipleRenderTargets===!0;if(Ut)for(let Qt=0;Qt<jt.length;Qt++)a.bindFramebuffer(36160,Et.__webglMultisampledFramebuffer),$.framebufferRenderbuffer(36160,36064+Qt,36161,null),a.bindFramebuffer(36160,Et.__webglFramebuffer),$.framebufferTexture2D(36009,36064+Qt,3553,null,0);a.bindFramebuffer(36008,Et.__webglMultisampledFramebuffer),a.bindFramebuffer(36009,Et.__webglFramebuffer);for(let Qt=0;Qt<jt.length;Qt++){Ot.push(36064+Qt),Xt.depthBuffer&&Ot.push(Mt);const Wt=Et.__ignoreDepthValues!==void 0?Et.__ignoreDepthValues:!1;if(Wt===!1&&(Xt.depthBuffer&&(Bn|=256),Xt.stencilBuffer&&(Bn|=1024)),Ut&&$.framebufferRenderbuffer(36008,36064,36161,Et.__webglColorRenderbuffer[Qt]),Wt===!0&&($.invalidateFramebuffer(36008,[Mt]),$.invalidateFramebuffer(36009,[Mt])),Ut){const qt=j.get(jt[Qt]).__webglTexture;$.framebufferTexture2D(36009,36064,3553,qt,0)}$.blitFramebuffer(0,0,un,Tn,0,0,un,Tn,Bn,9728),ut&&$.invalidateFramebuffer(36008,Ot)}if(a.bindFramebuffer(36008,null),a.bindFramebuffer(36009,null),Ut)for(let Qt=0;Qt<jt.length;Qt++){a.bindFramebuffer(36160,Et.__webglMultisampledFramebuffer),$.framebufferRenderbuffer(36160,36064+Qt,36161,Et.__webglColorRenderbuffer[Qt]);const Wt=j.get(jt[Qt]).__webglTexture;a.bindFramebuffer(36160,Et.__webglFramebuffer),$.framebufferTexture2D(36009,36064+Qt,3553,Wt,0)}a.bindFramebuffer(36009,Et.__webglMultisampledFramebuffer)}}function Ln(Xt){return Math.min(at,Xt.samples)}function Fn(Xt){const jt=j.get(Xt);return nt&&Xt.samples>0&&o.has("WEBGL_multisampled_render_to_texture")===!0&&jt.__useRenderToTexture!==!1}function Un(Xt){const jt=tt.render.frame;dt.get(Xt)!==jt&&(dt.set(Xt,jt),Xt.update())}function Nn(Xt,jt){const un=Xt.encoding,Tn=Xt.format,Bn=Xt.type;return Xt.isCompressedTexture===!0||Xt.isVideoTexture===!0||Xt.format===_SRGBAFormat||un!==LinearEncoding&&(un===sRGBEncoding?nt===!1?o.has("EXT_sRGB")===!0&&Tn===RGBAFormat?(Xt.format=_SRGBAFormat,Xt.minFilter=LinearFilter,Xt.generateMipmaps=!1):jt=ImageUtils.sRGBToLinear(jt):(Tn!==RGBAFormat||Bn!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",un)),jt}this.allocateTextureUnit=Rt,this.resetTextureUnits=zt,this.setTexture2D=Gt,this.setTexture2DArray=Ft,this.setTexture3D=wt,this.setTextureCube=Ht,this.rebindTextures=pn,this.setupRenderTarget=Mn,this.updateRenderTargetMipmap=In,this.updateMultisampleRenderTarget=Rn,this.setupDepthRenderbuffer=cn,this.setupFrameBufferTexture=mn,this.useMultisampledRTT=Fn}function WebGLUtils($,o,a){const j=a.isWebGL2;function _e(et,tt=null){let nt;if(et===UnsignedByteType)return 5121;if(et===UnsignedShort4444Type)return 32819;if(et===UnsignedShort5551Type)return 32820;if(et===ByteType)return 5120;if(et===ShortType)return 5122;if(et===UnsignedShortType)return 5123;if(et===IntType)return 5124;if(et===UnsignedIntType)return 5125;if(et===FloatType)return 5126;if(et===HalfFloatType)return j?5131:(nt=o.get("OES_texture_half_float"),nt!==null?nt.HALF_FLOAT_OES:null);if(et===AlphaFormat)return 6406;if(et===RGBAFormat)return 6408;if(et===LuminanceFormat)return 6409;if(et===LuminanceAlphaFormat)return 6410;if(et===DepthFormat)return 6402;if(et===DepthStencilFormat)return 34041;if(et===_SRGBAFormat)return nt=o.get("EXT_sRGB"),nt!==null?nt.SRGB_ALPHA_EXT:null;if(et===RedFormat)return 6403;if(et===RedIntegerFormat)return 36244;if(et===RGFormat)return 33319;if(et===RGIntegerFormat)return 33320;if(et===RGBAIntegerFormat)return 36249;if(et===RGB_S3TC_DXT1_Format||et===RGBA_S3TC_DXT1_Format||et===RGBA_S3TC_DXT3_Format||et===RGBA_S3TC_DXT5_Format)if(tt===sRGBEncoding)if(nt=o.get("WEBGL_compressed_texture_s3tc_srgb"),nt!==null){if(et===RGB_S3TC_DXT1_Format)return nt.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(et===RGBA_S3TC_DXT1_Format)return nt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(et===RGBA_S3TC_DXT3_Format)return nt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(et===RGBA_S3TC_DXT5_Format)return nt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(nt=o.get("WEBGL_compressed_texture_s3tc"),nt!==null){if(et===RGB_S3TC_DXT1_Format)return nt.COMPRESSED_RGB_S3TC_DXT1_EXT;if(et===RGBA_S3TC_DXT1_Format)return nt.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(et===RGBA_S3TC_DXT3_Format)return nt.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(et===RGBA_S3TC_DXT5_Format)return nt.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(et===RGB_PVRTC_4BPPV1_Format||et===RGB_PVRTC_2BPPV1_Format||et===RGBA_PVRTC_4BPPV1_Format||et===RGBA_PVRTC_2BPPV1_Format)if(nt=o.get("WEBGL_compressed_texture_pvrtc"),nt!==null){if(et===RGB_PVRTC_4BPPV1_Format)return nt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(et===RGB_PVRTC_2BPPV1_Format)return nt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(et===RGBA_PVRTC_4BPPV1_Format)return nt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(et===RGBA_PVRTC_2BPPV1_Format)return nt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(et===RGB_ETC1_Format)return nt=o.get("WEBGL_compressed_texture_etc1"),nt!==null?nt.COMPRESSED_RGB_ETC1_WEBGL:null;if(et===RGB_ETC2_Format||et===RGBA_ETC2_EAC_Format)if(nt=o.get("WEBGL_compressed_texture_etc"),nt!==null){if(et===RGB_ETC2_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ETC2:nt.COMPRESSED_RGB8_ETC2;if(et===RGBA_ETC2_EAC_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:nt.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(et===RGBA_ASTC_4x4_Format||et===RGBA_ASTC_5x4_Format||et===RGBA_ASTC_5x5_Format||et===RGBA_ASTC_6x5_Format||et===RGBA_ASTC_6x6_Format||et===RGBA_ASTC_8x5_Format||et===RGBA_ASTC_8x6_Format||et===RGBA_ASTC_8x8_Format||et===RGBA_ASTC_10x5_Format||et===RGBA_ASTC_10x6_Format||et===RGBA_ASTC_10x8_Format||et===RGBA_ASTC_10x10_Format||et===RGBA_ASTC_12x10_Format||et===RGBA_ASTC_12x12_Format)if(nt=o.get("WEBGL_compressed_texture_astc"),nt!==null){if(et===RGBA_ASTC_4x4_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:nt.COMPRESSED_RGBA_ASTC_4x4_KHR;if(et===RGBA_ASTC_5x4_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:nt.COMPRESSED_RGBA_ASTC_5x4_KHR;if(et===RGBA_ASTC_5x5_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:nt.COMPRESSED_RGBA_ASTC_5x5_KHR;if(et===RGBA_ASTC_6x5_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:nt.COMPRESSED_RGBA_ASTC_6x5_KHR;if(et===RGBA_ASTC_6x6_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:nt.COMPRESSED_RGBA_ASTC_6x6_KHR;if(et===RGBA_ASTC_8x5_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:nt.COMPRESSED_RGBA_ASTC_8x5_KHR;if(et===RGBA_ASTC_8x6_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:nt.COMPRESSED_RGBA_ASTC_8x6_KHR;if(et===RGBA_ASTC_8x8_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:nt.COMPRESSED_RGBA_ASTC_8x8_KHR;if(et===RGBA_ASTC_10x5_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:nt.COMPRESSED_RGBA_ASTC_10x5_KHR;if(et===RGBA_ASTC_10x6_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:nt.COMPRESSED_RGBA_ASTC_10x6_KHR;if(et===RGBA_ASTC_10x8_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:nt.COMPRESSED_RGBA_ASTC_10x8_KHR;if(et===RGBA_ASTC_10x10_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:nt.COMPRESSED_RGBA_ASTC_10x10_KHR;if(et===RGBA_ASTC_12x10_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:nt.COMPRESSED_RGBA_ASTC_12x10_KHR;if(et===RGBA_ASTC_12x12_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:nt.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(et===RGBA_BPTC_Format)if(nt=o.get("EXT_texture_compression_bptc"),nt!==null){if(et===RGBA_BPTC_Format)return tt===sRGBEncoding?nt.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:nt.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(et===RED_RGTC1_Format||et===SIGNED_RED_RGTC1_Format||et===RED_GREEN_RGTC2_Format||et===SIGNED_RED_GREEN_RGTC2_Format)if(nt=o.get("EXT_texture_compression_rgtc"),nt!==null){if(et===RGBA_BPTC_Format)return nt.COMPRESSED_RED_RGTC1_EXT;if(et===SIGNED_RED_RGTC1_Format)return nt.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(et===RED_GREEN_RGTC2_Format)return nt.COMPRESSED_RED_GREEN_RGTC2_EXT;if(et===SIGNED_RED_GREEN_RGTC2_Format)return nt.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return et===UnsignedInt248Type?j?34042:(nt=o.get("WEBGL_depth_texture"),nt!==null?nt.UNSIGNED_INT_24_8_WEBGL:null):$[et]!==void 0?$[et]:null}return{convert:_e}}class ArrayCamera extends PerspectiveCamera{constructor(o=[]){super(),this.isArrayCamera=!0,this.cameras=o}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(o){return this._targetRay!==null&&this._targetRay.dispatchEvent(o),this._grip!==null&&this._grip.dispatchEvent(o),this._hand!==null&&this._hand.dispatchEvent(o),this}connect(o){if(o&&o.hand){const a=this._hand;if(a)for(const j of o.hand.values())this._getHandJoint(a,j)}return this.dispatchEvent({type:"connected",data:o}),this}disconnect(o){return this.dispatchEvent({type:"disconnected",data:o}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(o,a,j){let _e=null,et=null,tt=null;const nt=this._targetRay,rt=this._grip,it=this._hand;if(o&&a.session.visibilityState!=="visible-blurred"){if(it&&o.hand){tt=!0;for(const ft of o.hand.values()){const ht=a.getJointPose(ft,j),pt=this._getHandJoint(it,ft);ht!==null&&(pt.matrix.fromArray(ht.transform.matrix),pt.matrix.decompose(pt.position,pt.rotation,pt.scale),pt.jointRadius=ht.radius),pt.visible=ht!==null}const ot=it.joints["index-finger-tip"],at=it.joints["thumb-tip"],ct=ot.position.distanceTo(at.position),ut=.02,dt=.005;it.inputState.pinching&&ct>ut+dt?(it.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:o.handedness,target:this})):!it.inputState.pinching&&ct<=ut-dt&&(it.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:o.handedness,target:this}))}else rt!==null&&o.gripSpace&&(et=a.getPose(o.gripSpace,j),et!==null&&(rt.matrix.fromArray(et.transform.matrix),rt.matrix.decompose(rt.position,rt.rotation,rt.scale),et.linearVelocity?(rt.hasLinearVelocity=!0,rt.linearVelocity.copy(et.linearVelocity)):rt.hasLinearVelocity=!1,et.angularVelocity?(rt.hasAngularVelocity=!0,rt.angularVelocity.copy(et.angularVelocity)):rt.hasAngularVelocity=!1));nt!==null&&(_e=a.getPose(o.targetRaySpace,j),_e===null&&et!==null&&(_e=et),_e!==null&&(nt.matrix.fromArray(_e.transform.matrix),nt.matrix.decompose(nt.position,nt.rotation,nt.scale),_e.linearVelocity?(nt.hasLinearVelocity=!0,nt.linearVelocity.copy(_e.linearVelocity)):nt.hasLinearVelocity=!1,_e.angularVelocity?(nt.hasAngularVelocity=!0,nt.angularVelocity.copy(_e.angularVelocity)):nt.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return nt!==null&&(nt.visible=_e!==null),rt!==null&&(rt.visible=et!==null),it!==null&&(it.visible=tt!==null),this}_getHandJoint(o,a){if(o.joints[a.jointName]===void 0){const j=new Group;j.matrixAutoUpdate=!1,j.visible=!1,o.joints[a.jointName]=j,o.add(j)}return o.joints[a.jointName]}}class DepthTexture extends Texture{constructor(o,a,j,_e,et,tt,nt,rt,it,ot){if(ot=ot!==void 0?ot:DepthFormat,ot!==DepthFormat&&ot!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");j===void 0&&ot===DepthFormat&&(j=UnsignedIntType),j===void 0&&ot===DepthStencilFormat&&(j=UnsignedInt248Type),super(null,_e,et,tt,nt,rt,ot,j,it),this.isDepthTexture=!0,this.image={width:o,height:a},this.magFilter=nt!==void 0?nt:NearestFilter,this.minFilter=rt!==void 0?rt:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}}class WebXRManager extends EventDispatcher{constructor(o,a){super();const j=this;let _e=null,et=1,tt=null,nt="local-floor",rt=1,it=null,ot=null,at=null,ct=null,ut=null,dt=null;const ft=a.getContextAttributes();let ht=null,pt=null;const yt=[],gt=[],bt=new Set,At=new Map,Tt=new PerspectiveCamera;Tt.layers.enable(1),Tt.viewport=new Vector4;const Pt=new PerspectiveCamera;Pt.layers.enable(2),Pt.viewport=new Vector4;const Ct=[Tt,Pt],It=new ArrayCamera;It.layers.enable(1),It.layers.enable(2);let Vt=null,Kt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(wt){let Ht=yt[wt];return Ht===void 0&&(Ht=new WebXRController,yt[wt]=Ht),Ht.getTargetRaySpace()},this.getControllerGrip=function(wt){let Ht=yt[wt];return Ht===void 0&&(Ht=new WebXRController,yt[wt]=Ht),Ht.getGripSpace()},this.getHand=function(wt){let Ht=yt[wt];return Ht===void 0&&(Ht=new WebXRController,yt[wt]=Ht),Ht.getHandSpace()};function en(wt){const Ht=gt.indexOf(wt.inputSource);if(Ht===-1)return;const nn=yt[Ht];nn!==void 0&&nn.dispatchEvent({type:wt.type,data:wt.inputSource})}function kt(){_e.removeEventListener("select",en),_e.removeEventListener("selectstart",en),_e.removeEventListener("selectend",en),_e.removeEventListener("squeeze",en),_e.removeEventListener("squeezestart",en),_e.removeEventListener("squeezeend",en),_e.removeEventListener("end",kt),_e.removeEventListener("inputsourceschange",vt);for(let wt=0;wt<yt.length;wt++){const Ht=gt[wt];Ht!==null&&(gt[wt]=null,yt[wt].disconnect(Ht))}Vt=null,Kt=null,o.setRenderTarget(ht),ut=null,ct=null,at=null,_e=null,pt=null,Ft.stop(),j.isPresenting=!1,j.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(wt){et=wt,j.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(wt){nt=wt,j.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return it||tt},this.setReferenceSpace=function(wt){it=wt},this.getBaseLayer=function(){return ct!==null?ct:ut},this.getBinding=function(){return at},this.getFrame=function(){return dt},this.getSession=function(){return _e},this.setSession=async function(wt){if(_e=wt,_e!==null){if(ht=o.getRenderTarget(),_e.addEventListener("select",en),_e.addEventListener("selectstart",en),_e.addEventListener("selectend",en),_e.addEventListener("squeeze",en),_e.addEventListener("squeezestart",en),_e.addEventListener("squeezeend",en),_e.addEventListener("end",kt),_e.addEventListener("inputsourceschange",vt),ft.xrCompatible!==!0&&await a.makeXRCompatible(),_e.renderState.layers===void 0||o.capabilities.isWebGL2===!1){const Ht={antialias:_e.renderState.layers===void 0?ft.antialias:!0,alpha:ft.alpha,depth:ft.depth,stencil:ft.stencil,framebufferScaleFactor:et};ut=new XRWebGLLayer(_e,a,Ht),_e.updateRenderState({baseLayer:ut}),pt=new WebGLRenderTarget(ut.framebufferWidth,ut.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,encoding:o.outputEncoding,stencilBuffer:ft.stencil})}else{let Ht=null,nn=null,Dt=null;ft.depth&&(Dt=ft.stencil?35056:33190,Ht=ft.stencil?DepthStencilFormat:DepthFormat,nn=ft.stencil?UnsignedInt248Type:UnsignedIntType);const Jt={colorFormat:32856,depthFormat:Dt,scaleFactor:et};at=new XRWebGLBinding(_e,a),ct=at.createProjectionLayer(Jt),_e.updateRenderState({layers:[ct]}),pt=new WebGLRenderTarget(ct.textureWidth,ct.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(ct.textureWidth,ct.textureHeight,nn,void 0,void 0,void 0,void 0,void 0,void 0,Ht),stencilBuffer:ft.stencil,encoding:o.outputEncoding,samples:ft.antialias?4:0});const on=o.properties.get(pt);on.__ignoreDepthValues=ct.ignoreDepthValues}pt.isXRRenderTarget=!0,this.setFoveation(rt),it=null,tt=await _e.requestReferenceSpace(nt),Ft.setContext(_e),Ft.start(),j.isPresenting=!0,j.dispatchEvent({type:"sessionstart"})}};function vt(wt){for(let Ht=0;Ht<wt.removed.length;Ht++){const nn=wt.removed[Ht],Dt=gt.indexOf(nn);Dt>=0&&(gt[Dt]=null,yt[Dt].disconnect(nn))}for(let Ht=0;Ht<wt.added.length;Ht++){const nn=wt.added[Ht];let Dt=gt.indexOf(nn);if(Dt===-1){for(let on=0;on<yt.length;on++)if(on>=gt.length){gt.push(nn),Dt=on;break}else if(gt[on]===null){gt[on]=nn,Dt=on;break}if(Dt===-1)break}const Jt=yt[Dt];Jt&&Jt.connect(nn)}}const St=new Vector3,Lt=new Vector3;function zt(wt,Ht,nn){St.setFromMatrixPosition(Ht.matrixWorld),Lt.setFromMatrixPosition(nn.matrixWorld);const Dt=St.distanceTo(Lt),Jt=Ht.projectionMatrix.elements,on=nn.projectionMatrix.elements,sn=Jt[14]/(Jt[10]-1),dn=Jt[14]/(Jt[10]+1),mn=(Jt[9]+1)/Jt[5],ln=(Jt[9]-1)/Jt[5],tn=(Jt[8]-1)/Jt[0],cn=(on[8]+1)/on[0],pn=sn*tn,Mn=sn*cn,In=Dt/(-tn+cn),Rn=In*-tn;Ht.matrixWorld.decompose(wt.position,wt.quaternion,wt.scale),wt.translateX(Rn),wt.translateZ(In),wt.matrixWorld.compose(wt.position,wt.quaternion,wt.scale),wt.matrixWorldInverse.copy(wt.matrixWorld).invert();const Ln=sn+In,Fn=dn+In,Un=pn-Rn,Nn=Mn+(Dt-Rn),Xt=mn*dn/Fn*Ln,jt=ln*dn/Fn*Ln;wt.projectionMatrix.makePerspective(Un,Nn,Xt,jt,Ln,Fn)}function Rt(wt,Ht){Ht===null?wt.matrixWorld.copy(wt.matrix):wt.matrixWorld.multiplyMatrices(Ht.matrixWorld,wt.matrix),wt.matrixWorldInverse.copy(wt.matrixWorld).invert()}this.updateCamera=function(wt){if(_e===null)return;It.near=Pt.near=Tt.near=wt.near,It.far=Pt.far=Tt.far=wt.far,(Vt!==It.near||Kt!==It.far)&&(_e.updateRenderState({depthNear:It.near,depthFar:It.far}),Vt=It.near,Kt=It.far);const Ht=wt.parent,nn=It.cameras;Rt(It,Ht);for(let Jt=0;Jt<nn.length;Jt++)Rt(nn[Jt],Ht);It.matrixWorld.decompose(It.position,It.quaternion,It.scale),wt.matrix.copy(It.matrix),wt.matrix.decompose(wt.position,wt.quaternion,wt.scale);const Dt=wt.children;for(let Jt=0,on=Dt.length;Jt<on;Jt++)Dt[Jt].updateMatrixWorld(!0);nn.length===2?zt(It,Tt,Pt):It.projectionMatrix.copy(Tt.projectionMatrix)},this.getCamera=function(){return It},this.getFoveation=function(){if(!(ct===null&&ut===null))return rt},this.setFoveation=function(wt){rt=wt,ct!==null&&(ct.fixedFoveation=wt),ut!==null&&ut.fixedFoveation!==void 0&&(ut.fixedFoveation=wt)},this.getPlanes=function(){return bt};let $t=null;function Gt(wt,Ht){if(ot=Ht.getViewerPose(it||tt),dt=Ht,ot!==null){const nn=ot.views;ut!==null&&(o.setRenderTargetFramebuffer(pt,ut.framebuffer),o.setRenderTarget(pt));let Dt=!1;nn.length!==It.cameras.length&&(It.cameras.length=0,Dt=!0);for(let Jt=0;Jt<nn.length;Jt++){const on=nn[Jt];let sn=null;if(ut!==null)sn=ut.getViewport(on);else{const mn=at.getViewSubImage(ct,on);sn=mn.viewport,Jt===0&&(o.setRenderTargetTextures(pt,mn.colorTexture,ct.ignoreDepthValues?void 0:mn.depthStencilTexture),o.setRenderTarget(pt))}let dn=Ct[Jt];dn===void 0&&(dn=new PerspectiveCamera,dn.layers.enable(Jt),dn.viewport=new Vector4,Ct[Jt]=dn),dn.matrix.fromArray(on.transform.matrix),dn.projectionMatrix.fromArray(on.projectionMatrix),dn.viewport.set(sn.x,sn.y,sn.width,sn.height),Jt===0&&It.matrix.copy(dn.matrix),Dt===!0&&It.cameras.push(dn)}}for(let nn=0;nn<yt.length;nn++){const Dt=gt[nn],Jt=yt[nn];Dt!==null&&Jt!==void 0&&Jt.update(Dt,Ht,it||tt)}if($t&&$t(wt,Ht),Ht.detectedPlanes){j.dispatchEvent({type:"planesdetected",data:Ht.detectedPlanes});let nn=null;for(const Dt of bt)Ht.detectedPlanes.has(Dt)||(nn===null&&(nn=[]),nn.push(Dt));if(nn!==null)for(const Dt of nn)bt.delete(Dt),At.delete(Dt),j.dispatchEvent({type:"planeremoved",data:Dt});for(const Dt of Ht.detectedPlanes)if(!bt.has(Dt))bt.add(Dt),At.set(Dt,Ht.lastChangedTime),j.dispatchEvent({type:"planeadded",data:Dt});else{const Jt=At.get(Dt);Dt.lastChangedTime>Jt&&(At.set(Dt,Dt.lastChangedTime),j.dispatchEvent({type:"planechanged",data:Dt}))}}dt=null}const Ft=new WebGLAnimation;Ft.setAnimationLoop(Gt),this.setAnimationLoop=function(wt){$t=wt},this.dispose=function(){}}}function WebGLMaterials($,o){function a(ft,ht){ht.color.getRGB(ft.fogColor.value,getUnlitUniformColorSpace($)),ht.isFog?(ft.fogNear.value=ht.near,ft.fogFar.value=ht.far):ht.isFogExp2&&(ft.fogDensity.value=ht.density)}function j(ft,ht,pt,yt,gt){ht.isMeshBasicMaterial||ht.isMeshLambertMaterial?_e(ft,ht):ht.isMeshToonMaterial?(_e(ft,ht),ot(ft,ht)):ht.isMeshPhongMaterial?(_e(ft,ht),it(ft,ht)):ht.isMeshStandardMaterial?(_e(ft,ht),at(ft,ht),ht.isMeshPhysicalMaterial&&ct(ft,ht,gt)):ht.isMeshMatcapMaterial?(_e(ft,ht),ut(ft,ht)):ht.isMeshDepthMaterial?_e(ft,ht):ht.isMeshDistanceMaterial?(_e(ft,ht),dt(ft,ht)):ht.isMeshNormalMaterial?_e(ft,ht):ht.isLineBasicMaterial?(et(ft,ht),ht.isLineDashedMaterial&&tt(ft,ht)):ht.isPointsMaterial?nt(ft,ht,pt,yt):ht.isSpriteMaterial?rt(ft,ht):ht.isShadowMaterial?(ft.color.value.copy(ht.color),ft.opacity.value=ht.opacity):ht.isShaderMaterial&&(ht.uniformsNeedUpdate=!1)}function _e(ft,ht){ft.opacity.value=ht.opacity,ht.color&&ft.diffuse.value.copy(ht.color),ht.emissive&&ft.emissive.value.copy(ht.emissive).multiplyScalar(ht.emissiveIntensity),ht.map&&(ft.map.value=ht.map),ht.alphaMap&&(ft.alphaMap.value=ht.alphaMap),ht.bumpMap&&(ft.bumpMap.value=ht.bumpMap,ft.bumpScale.value=ht.bumpScale,ht.side===BackSide&&(ft.bumpScale.value*=-1)),ht.displacementMap&&(ft.displacementMap.value=ht.displacementMap,ft.displacementScale.value=ht.displacementScale,ft.displacementBias.value=ht.displacementBias),ht.emissiveMap&&(ft.emissiveMap.value=ht.emissiveMap),ht.normalMap&&(ft.normalMap.value=ht.normalMap,ft.normalScale.value.copy(ht.normalScale),ht.side===BackSide&&ft.normalScale.value.negate()),ht.specularMap&&(ft.specularMap.value=ht.specularMap),ht.alphaTest>0&&(ft.alphaTest.value=ht.alphaTest);const pt=o.get(ht).envMap;if(pt&&(ft.envMap.value=pt,ft.flipEnvMap.value=pt.isCubeTexture&&pt.isRenderTargetTexture===!1?-1:1,ft.reflectivity.value=ht.reflectivity,ft.ior.value=ht.ior,ft.refractionRatio.value=ht.refractionRatio),ht.lightMap){ft.lightMap.value=ht.lightMap;const bt=$.physicallyCorrectLights!==!0?Math.PI:1;ft.lightMapIntensity.value=ht.lightMapIntensity*bt}ht.aoMap&&(ft.aoMap.value=ht.aoMap,ft.aoMapIntensity.value=ht.aoMapIntensity);let yt;ht.map?yt=ht.map:ht.specularMap?yt=ht.specularMap:ht.displacementMap?yt=ht.displacementMap:ht.normalMap?yt=ht.normalMap:ht.bumpMap?yt=ht.bumpMap:ht.roughnessMap?yt=ht.roughnessMap:ht.metalnessMap?yt=ht.metalnessMap:ht.alphaMap?yt=ht.alphaMap:ht.emissiveMap?yt=ht.emissiveMap:ht.clearcoatMap?yt=ht.clearcoatMap:ht.clearcoatNormalMap?yt=ht.clearcoatNormalMap:ht.clearcoatRoughnessMap?yt=ht.clearcoatRoughnessMap:ht.iridescenceMap?yt=ht.iridescenceMap:ht.iridescenceThicknessMap?yt=ht.iridescenceThicknessMap:ht.specularIntensityMap?yt=ht.specularIntensityMap:ht.specularColorMap?yt=ht.specularColorMap:ht.transmissionMap?yt=ht.transmissionMap:ht.thicknessMap?yt=ht.thicknessMap:ht.sheenColorMap?yt=ht.sheenColorMap:ht.sheenRoughnessMap&&(yt=ht.sheenRoughnessMap),yt!==void 0&&(yt.isWebGLRenderTarget&&(yt=yt.texture),yt.matrixAutoUpdate===!0&&yt.updateMatrix(),ft.uvTransform.value.copy(yt.matrix));let gt;ht.aoMap?gt=ht.aoMap:ht.lightMap&&(gt=ht.lightMap),gt!==void 0&&(gt.isWebGLRenderTarget&&(gt=gt.texture),gt.matrixAutoUpdate===!0&&gt.updateMatrix(),ft.uv2Transform.value.copy(gt.matrix))}function et(ft,ht){ft.diffuse.value.copy(ht.color),ft.opacity.value=ht.opacity}function tt(ft,ht){ft.dashSize.value=ht.dashSize,ft.totalSize.value=ht.dashSize+ht.gapSize,ft.scale.value=ht.scale}function nt(ft,ht,pt,yt){ft.diffuse.value.copy(ht.color),ft.opacity.value=ht.opacity,ft.size.value=ht.size*pt,ft.scale.value=yt*.5,ht.map&&(ft.map.value=ht.map),ht.alphaMap&&(ft.alphaMap.value=ht.alphaMap),ht.alphaTest>0&&(ft.alphaTest.value=ht.alphaTest);let gt;ht.map?gt=ht.map:ht.alphaMap&&(gt=ht.alphaMap),gt!==void 0&&(gt.matrixAutoUpdate===!0&&gt.updateMatrix(),ft.uvTransform.value.copy(gt.matrix))}function rt(ft,ht){ft.diffuse.value.copy(ht.color),ft.opacity.value=ht.opacity,ft.rotation.value=ht.rotation,ht.map&&(ft.map.value=ht.map),ht.alphaMap&&(ft.alphaMap.value=ht.alphaMap),ht.alphaTest>0&&(ft.alphaTest.value=ht.alphaTest);let pt;ht.map?pt=ht.map:ht.alphaMap&&(pt=ht.alphaMap),pt!==void 0&&(pt.matrixAutoUpdate===!0&&pt.updateMatrix(),ft.uvTransform.value.copy(pt.matrix))}function it(ft,ht){ft.specular.value.copy(ht.specular),ft.shininess.value=Math.max(ht.shininess,1e-4)}function ot(ft,ht){ht.gradientMap&&(ft.gradientMap.value=ht.gradientMap)}function at(ft,ht){ft.roughness.value=ht.roughness,ft.metalness.value=ht.metalness,ht.roughnessMap&&(ft.roughnessMap.value=ht.roughnessMap),ht.metalnessMap&&(ft.metalnessMap.value=ht.metalnessMap),o.get(ht).envMap&&(ft.envMapIntensity.value=ht.envMapIntensity)}function ct(ft,ht,pt){ft.ior.value=ht.ior,ht.sheen>0&&(ft.sheenColor.value.copy(ht.sheenColor).multiplyScalar(ht.sheen),ft.sheenRoughness.value=ht.sheenRoughness,ht.sheenColorMap&&(ft.sheenColorMap.value=ht.sheenColorMap),ht.sheenRoughnessMap&&(ft.sheenRoughnessMap.value=ht.sheenRoughnessMap)),ht.clearcoat>0&&(ft.clearcoat.value=ht.clearcoat,ft.clearcoatRoughness.value=ht.clearcoatRoughness,ht.clearcoatMap&&(ft.clearcoatMap.value=ht.clearcoatMap),ht.clearcoatRoughnessMap&&(ft.clearcoatRoughnessMap.value=ht.clearcoatRoughnessMap),ht.clearcoatNormalMap&&(ft.clearcoatNormalScale.value.copy(ht.clearcoatNormalScale),ft.clearcoatNormalMap.value=ht.clearcoatNormalMap,ht.side===BackSide&&ft.clearcoatNormalScale.value.negate())),ht.iridescence>0&&(ft.iridescence.value=ht.iridescence,ft.iridescenceIOR.value=ht.iridescenceIOR,ft.iridescenceThicknessMinimum.value=ht.iridescenceThicknessRange[0],ft.iridescenceThicknessMaximum.value=ht.iridescenceThicknessRange[1],ht.iridescenceMap&&(ft.iridescenceMap.value=ht.iridescenceMap),ht.iridescenceThicknessMap&&(ft.iridescenceThicknessMap.value=ht.iridescenceThicknessMap)),ht.transmission>0&&(ft.transmission.value=ht.transmission,ft.transmissionSamplerMap.value=pt.texture,ft.transmissionSamplerSize.value.set(pt.width,pt.height),ht.transmissionMap&&(ft.transmissionMap.value=ht.transmissionMap),ft.thickness.value=ht.thickness,ht.thicknessMap&&(ft.thicknessMap.value=ht.thicknessMap),ft.attenuationDistance.value=ht.attenuationDistance,ft.attenuationColor.value.copy(ht.attenuationColor)),ft.specularIntensity.value=ht.specularIntensity,ft.specularColor.value.copy(ht.specularColor),ht.specularIntensityMap&&(ft.specularIntensityMap.value=ht.specularIntensityMap),ht.specularColorMap&&(ft.specularColorMap.value=ht.specularColorMap)}function ut(ft,ht){ht.matcap&&(ft.matcap.value=ht.matcap)}function dt(ft,ht){ft.referencePosition.value.copy(ht.referencePosition),ft.nearDistance.value=ht.nearDistance,ft.farDistance.value=ht.farDistance}return{refreshFogUniforms:a,refreshMaterialUniforms:j}}function WebGLUniformsGroups($,o,a,j){let _e={},et={},tt=[];const nt=a.isWebGL2?$.getParameter(35375):0;function rt(yt,gt){const bt=gt.program;j.uniformBlockBinding(yt,bt)}function it(yt,gt){let bt=_e[yt.id];bt===void 0&&(dt(yt),bt=ot(yt),_e[yt.id]=bt,yt.addEventListener("dispose",ht));const At=gt.program;j.updateUBOMapping(yt,At);const Tt=o.render.frame;et[yt.id]!==Tt&&(ct(yt),et[yt.id]=Tt)}function ot(yt){const gt=at();yt.__bindingPointIndex=gt;const bt=$.createBuffer(),At=yt.__size,Tt=yt.usage;return $.bindBuffer(35345,bt),$.bufferData(35345,At,Tt),$.bindBuffer(35345,null),$.bindBufferBase(35345,gt,bt),bt}function at(){for(let yt=0;yt<nt;yt++)if(tt.indexOf(yt)===-1)return tt.push(yt),yt;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function ct(yt){const gt=_e[yt.id],bt=yt.uniforms,At=yt.__cache;$.bindBuffer(35345,gt);for(let Tt=0,Pt=bt.length;Tt<Pt;Tt++){const Ct=bt[Tt];if(ut(Ct,Tt,At)===!0){const It=Ct.__offset,Vt=Array.isArray(Ct.value)?Ct.value:[Ct.value];let Kt=0;for(let en=0;en<Vt.length;en++){const kt=Vt[en],vt=ft(kt);typeof kt=="number"?(Ct.__data[0]=kt,$.bufferSubData(35345,It+Kt,Ct.__data)):kt.isMatrix3?(Ct.__data[0]=kt.elements[0],Ct.__data[1]=kt.elements[1],Ct.__data[2]=kt.elements[2],Ct.__data[3]=kt.elements[0],Ct.__data[4]=kt.elements[3],Ct.__data[5]=kt.elements[4],Ct.__data[6]=kt.elements[5],Ct.__data[7]=kt.elements[0],Ct.__data[8]=kt.elements[6],Ct.__data[9]=kt.elements[7],Ct.__data[10]=kt.elements[8],Ct.__data[11]=kt.elements[0]):(kt.toArray(Ct.__data,Kt),Kt+=vt.storage/Float32Array.BYTES_PER_ELEMENT)}$.bufferSubData(35345,It,Ct.__data)}}$.bindBuffer(35345,null)}function ut(yt,gt,bt){const At=yt.value;if(bt[gt]===void 0){if(typeof At=="number")bt[gt]=At;else{const Tt=Array.isArray(At)?At:[At],Pt=[];for(let Ct=0;Ct<Tt.length;Ct++)Pt.push(Tt[Ct].clone());bt[gt]=Pt}return!0}else if(typeof At=="number"){if(bt[gt]!==At)return bt[gt]=At,!0}else{const Tt=Array.isArray(bt[gt])?bt[gt]:[bt[gt]],Pt=Array.isArray(At)?At:[At];for(let Ct=0;Ct<Tt.length;Ct++){const It=Tt[Ct];if(It.equals(Pt[Ct])===!1)return It.copy(Pt[Ct]),!0}}return!1}function dt(yt){const gt=yt.uniforms;let bt=0;const At=16;let Tt=0;for(let Pt=0,Ct=gt.length;Pt<Ct;Pt++){const It=gt[Pt],Vt={boundary:0,storage:0},Kt=Array.isArray(It.value)?It.value:[It.value];for(let en=0,kt=Kt.length;en<kt;en++){const vt=Kt[en],St=ft(vt);Vt.boundary+=St.boundary,Vt.storage+=St.storage}if(It.__data=new Float32Array(Vt.storage/Float32Array.BYTES_PER_ELEMENT),It.__offset=bt,Pt>0){Tt=bt%At;const en=At-Tt;Tt!==0&&en-Vt.boundary<0&&(bt+=At-Tt,It.__offset=bt)}bt+=Vt.storage}return Tt=bt%At,Tt>0&&(bt+=At-Tt),yt.__size=bt,yt.__cache={},this}function ft(yt){const gt={boundary:0,storage:0};return typeof yt=="number"?(gt.boundary=4,gt.storage=4):yt.isVector2?(gt.boundary=8,gt.storage=8):yt.isVector3||yt.isColor?(gt.boundary=16,gt.storage=12):yt.isVector4?(gt.boundary=16,gt.storage=16):yt.isMatrix3?(gt.boundary=48,gt.storage=48):yt.isMatrix4?(gt.boundary=64,gt.storage=64):yt.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",yt),gt}function ht(yt){const gt=yt.target;gt.removeEventListener("dispose",ht);const bt=tt.indexOf(gt.__bindingPointIndex);tt.splice(bt,1),$.deleteBuffer(_e[gt.id]),delete _e[gt.id],delete et[gt.id]}function pt(){for(const yt in _e)$.deleteBuffer(_e[yt]);tt=[],_e={},et={}}return{bind:rt,update:it,dispose:pt}}function createCanvasElement(){const $=createElementNS("canvas");return $.style.display="block",$}function WebGLRenderer($={}){this.isWebGLRenderer=!0;const o=$.canvas!==void 0?$.canvas:createCanvasElement(),a=$.context!==void 0?$.context:null,j=$.depth!==void 0?$.depth:!0,_e=$.stencil!==void 0?$.stencil:!0,et=$.antialias!==void 0?$.antialias:!1,tt=$.premultipliedAlpha!==void 0?$.premultipliedAlpha:!0,nt=$.preserveDrawingBuffer!==void 0?$.preserveDrawingBuffer:!1,rt=$.powerPreference!==void 0?$.powerPreference:"default",it=$.failIfMajorPerformanceCaveat!==void 0?$.failIfMajorPerformanceCaveat:!1;let ot;a!==null?ot=a.getContextAttributes().alpha:ot=$.alpha!==void 0?$.alpha:!1;let at=null,ct=null;const ut=[],dt=[];this.domElement=o,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=LinearEncoding,this.physicallyCorrectLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const ft=this;let ht=!1,pt=0,yt=0,gt=null,bt=-1,At=null;const Tt=new Vector4,Pt=new Vector4;let Ct=null,It=o.width,Vt=o.height,Kt=1,en=null,kt=null;const vt=new Vector4(0,0,It,Vt),St=new Vector4(0,0,It,Vt);let Lt=!1;const zt=new Frustum;let Rt=!1,$t=!1,Gt=null;const Ft=new Matrix4,wt=new Vector2,Ht=new Vector3,nn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Dt(){return gt===null?Kt:1}let Jt=a;function on(Yt,fn){for(let vn=0;vn<Yt.length;vn++){const gn=Yt[vn],xn=o.getContext(gn,fn);if(xn!==null)return xn}return null}try{const Yt={alpha:!0,depth:j,stencil:_e,antialias:et,premultipliedAlpha:tt,preserveDrawingBuffer:nt,powerPreference:rt,failIfMajorPerformanceCaveat:it};if("setAttribute"in o&&o.setAttribute("data-engine",`three.js r${REVISION}`),o.addEventListener("webglcontextlost",_n,!1),o.addEventListener("webglcontextrestored",En,!1),o.addEventListener("webglcontextcreationerror",Pn,!1),Jt===null){const fn=["webgl2","webgl","experimental-webgl"];if(ft.isWebGL1Renderer===!0&&fn.shift(),Jt=on(fn,Yt),Jt===null)throw on(fn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Jt.getShaderPrecisionFormat===void 0&&(Jt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Yt){throw console.error("THREE.WebGLRenderer: "+Yt.message),Yt}let sn,dn,mn,ln,tn,cn,pn,Mn,In,Rn,Ln,Fn,Un,Nn,Xt,jt,un,Tn,Bn,Ot,Mt,Et,Ut,Qt;function Wt(){sn=new WebGLExtensions(Jt),dn=new WebGLCapabilities(Jt,sn,$),sn.init(dn),Et=new WebGLUtils(Jt,sn,dn),mn=new WebGLState(Jt,sn,dn),ln=new WebGLInfo,tn=new WebGLProperties,cn=new WebGLTextures(Jt,sn,mn,tn,dn,Et,ln),pn=new WebGLCubeMaps(ft),Mn=new WebGLCubeUVMaps(ft),In=new WebGLAttributes(Jt,dn),Ut=new WebGLBindingStates(Jt,sn,In,dn),Rn=new WebGLGeometries(Jt,In,ln,Ut),Ln=new WebGLObjects(Jt,Rn,In,ln),Bn=new WebGLMorphtargets(Jt,dn,cn),jt=new WebGLClipping(tn),Fn=new WebGLPrograms(ft,pn,Mn,sn,dn,Ut,jt),Un=new WebGLMaterials(ft,tn),Nn=new WebGLRenderLists,Xt=new WebGLRenderStates(sn,dn),Tn=new WebGLBackground(ft,pn,Mn,mn,Ln,ot,tt),un=new WebGLShadowMap(ft,Ln,dn),Qt=new WebGLUniformsGroups(Jt,ln,dn,mn),Ot=new WebGLBufferRenderer(Jt,sn,ln,dn),Mt=new WebGLIndexedBufferRenderer(Jt,sn,ln,dn),ln.programs=Fn.programs,ft.capabilities=dn,ft.extensions=sn,ft.properties=tn,ft.renderLists=Nn,ft.shadowMap=un,ft.state=mn,ft.info=ln}Wt();const qt=new WebXRManager(ft,Jt);this.xr=qt,this.getContext=function(){return Jt},this.getContextAttributes=function(){return Jt.getContextAttributes()},this.forceContextLoss=function(){const Yt=sn.get("WEBGL_lose_context");Yt&&Yt.loseContext()},this.forceContextRestore=function(){const Yt=sn.get("WEBGL_lose_context");Yt&&Yt.restoreContext()},this.getPixelRatio=function(){return Kt},this.setPixelRatio=function(Yt){Yt!==void 0&&(Kt=Yt,this.setSize(It,Vt,!1))},this.getSize=function(Yt){return Yt.set(It,Vt)},this.setSize=function(Yt,fn,vn){if(qt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}It=Yt,Vt=fn,o.width=Math.floor(Yt*Kt),o.height=Math.floor(fn*Kt),vn!==!1&&(o.style.width=Yt+"px",o.style.height=fn+"px"),this.setViewport(0,0,Yt,fn)},this.getDrawingBufferSize=function(Yt){return Yt.set(It*Kt,Vt*Kt).floor()},this.setDrawingBufferSize=function(Yt,fn,vn){It=Yt,Vt=fn,Kt=vn,o.width=Math.floor(Yt*vn),o.height=Math.floor(fn*vn),this.setViewport(0,0,Yt,fn)},this.getCurrentViewport=function(Yt){return Yt.copy(Tt)},this.getViewport=function(Yt){return Yt.copy(vt)},this.setViewport=function(Yt,fn,vn,gn){Yt.isVector4?vt.set(Yt.x,Yt.y,Yt.z,Yt.w):vt.set(Yt,fn,vn,gn),mn.viewport(Tt.copy(vt).multiplyScalar(Kt).floor())},this.getScissor=function(Yt){return Yt.copy(St)},this.setScissor=function(Yt,fn,vn,gn){Yt.isVector4?St.set(Yt.x,Yt.y,Yt.z,Yt.w):St.set(Yt,fn,vn,gn),mn.scissor(Pt.copy(St).multiplyScalar(Kt).floor())},this.getScissorTest=function(){return Lt},this.setScissorTest=function(Yt){mn.setScissorTest(Lt=Yt)},this.setOpaqueSort=function(Yt){en=Yt},this.setTransparentSort=function(Yt){kt=Yt},this.getClearColor=function(Yt){return Yt.copy(Tn.getClearColor())},this.setClearColor=function(){Tn.setClearColor.apply(Tn,arguments)},this.getClearAlpha=function(){return Tn.getClearAlpha()},this.setClearAlpha=function(){Tn.setClearAlpha.apply(Tn,arguments)},this.clear=function(Yt=!0,fn=!0,vn=!0){let gn=0;Yt&&(gn|=16384),fn&&(gn|=256),vn&&(gn|=1024),Jt.clear(gn)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){o.removeEventListener("webglcontextlost",_n,!1),o.removeEventListener("webglcontextrestored",En,!1),o.removeEventListener("webglcontextcreationerror",Pn,!1),Nn.dispose(),Xt.dispose(),tn.dispose(),pn.dispose(),Mn.dispose(),Ln.dispose(),Ut.dispose(),Qt.dispose(),Fn.dispose(),qt.dispose(),qt.removeEventListener("sessionstart",Dn),qt.removeEventListener("sessionend",Wn),Gt&&(Gt.dispose(),Gt=null),Jn.stop()};function _n(Yt){Yt.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),ht=!0}function En(){console.log("THREE.WebGLRenderer: Context Restored."),ht=!1;const Yt=ln.autoReset,fn=un.enabled,vn=un.autoUpdate,gn=un.needsUpdate,xn=un.type;Wt(),ln.autoReset=Yt,un.enabled=fn,un.autoUpdate=vn,un.needsUpdate=gn,un.type=xn}function Pn(Yt){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Yt.statusMessage)}function Hn(Yt){const fn=Yt.target;fn.removeEventListener("dispose",Hn),On(fn)}function On(Yt){rn(Yt),tn.remove(Yt)}function rn(Yt){const fn=tn.get(Yt).programs;fn!==void 0&&(fn.forEach(function(vn){Fn.releaseProgram(vn)}),Yt.isShaderMaterial&&Fn.releaseShaderCache(Yt))}this.renderBufferDirect=function(Yt,fn,vn,gn,xn,$n){fn===null&&(fn=nn);const Qn=xn.isMesh&&xn.matrixWorld.determinant()<0,Vn=po(Yt,fn,vn,gn,xn);mn.setMaterial(gn,Qn);let jn=vn.index,ir=1;gn.wireframe===!0&&(jn=Rn.getWireframeAttribute(vn),ir=2);const tr=vn.drawRange,nr=vn.attributes.position;let xr=tr.start*ir,Cr=(tr.start+tr.count)*ir;$n!==null&&(xr=Math.max(xr,$n.start*ir),Cr=Math.min(Cr,($n.start+$n.count)*ir)),jn!==null?(xr=Math.max(xr,0),Cr=Math.min(Cr,jn.count)):nr!=null&&(xr=Math.max(xr,0),Cr=Math.min(Cr,nr.count));const Kr=Cr-xr;if(Kr<0||Kr===1/0)return;Ut.setup(xn,gn,Vn,vn,jn);let _i,wr=Ot;if(jn!==null&&(_i=In.get(jn),wr=Mt,wr.setIndex(_i)),xn.isMesh)gn.wireframe===!0?(mn.setLineWidth(gn.wireframeLinewidth*Dt()),wr.setMode(1)):wr.setMode(4);else if(xn.isLine){let sr=gn.linewidth;sr===void 0&&(sr=1),mn.setLineWidth(sr*Dt()),xn.isLineSegments?wr.setMode(1):xn.isLineLoop?wr.setMode(2):wr.setMode(3)}else xn.isPoints?wr.setMode(0):xn.isSprite&&wr.setMode(4);if(xn.isInstancedMesh)wr.renderInstances(xr,Kr,xn.count);else if(vn.isInstancedBufferGeometry){const sr=vn._maxInstanceCount!==void 0?vn._maxInstanceCount:1/0,mo=Math.min(vn.instanceCount,sr);wr.renderInstances(xr,Kr,mo)}else wr.render(xr,Kr)},this.compile=function(Yt,fn){function vn(gn,xn,$n){gn.transparent===!0&&gn.side===DoubleSide&&gn.forceSinglePass===!1?(gn.side=BackSide,gn.needsUpdate=!0,cr(gn,xn,$n),gn.side=FrontSide,gn.needsUpdate=!0,cr(gn,xn,$n),gn.side=DoubleSide):cr(gn,xn,$n)}ct=Xt.get(Yt),ct.init(),dt.push(ct),Yt.traverseVisible(function(gn){gn.isLight&&gn.layers.test(fn.layers)&&(ct.pushLight(gn),gn.castShadow&&ct.pushShadow(gn))}),ct.setupLights(ft.physicallyCorrectLights),Yt.traverse(function(gn){const xn=gn.material;if(xn)if(Array.isArray(xn))for(let $n=0;$n<xn.length;$n++){const Qn=xn[$n];vn(Qn,Yt,gn)}else vn(xn,Yt,gn)}),dt.pop(),ct=null};let wn=null;function Cn(Yt){wn&&wn(Yt)}function Dn(){Jn.stop()}function Wn(){Jn.start()}const Jn=new WebGLAnimation;Jn.setAnimationLoop(Cn),typeof self<"u"&&Jn.setContext(self),this.setAnimationLoop=function(Yt){wn=Yt,qt.setAnimationLoop(Yt),Yt===null?Jn.stop():Jn.start()},qt.addEventListener("sessionstart",Dn),qt.addEventListener("sessionend",Wn),this.render=function(Yt,fn){if(fn!==void 0&&fn.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(ht===!0)return;Yt.matrixWorldAutoUpdate===!0&&Yt.updateMatrixWorld(),fn.parent===null&&fn.matrixWorldAutoUpdate===!0&&fn.updateMatrixWorld(),qt.enabled===!0&&qt.isPresenting===!0&&(qt.cameraAutoUpdate===!0&&qt.updateCamera(fn),fn=qt.getCamera()),Yt.isScene===!0&&Yt.onBeforeRender(ft,Yt,fn,gt),ct=Xt.get(Yt,dt.length),ct.init(),dt.push(ct),Ft.multiplyMatrices(fn.projectionMatrix,fn.matrixWorldInverse),zt.setFromProjectionMatrix(Ft),$t=this.localClippingEnabled,Rt=jt.init(this.clippingPlanes,$t),at=Nn.get(Yt,ut.length),at.init(),ut.push(at),er(Yt,fn,0,ft.sortObjects),at.finish(),ft.sortObjects===!0&&at.sort(en,kt),Rt===!0&&jt.beginShadows();const vn=ct.state.shadowsArray;if(un.render(vn,Yt,fn),Rt===!0&&jt.endShadows(),this.info.autoReset===!0&&this.info.reset(),Tn.render(at,Yt),ct.setupLights(ft.physicallyCorrectLights),fn.isArrayCamera){const gn=fn.cameras;for(let xn=0,$n=gn.length;xn<$n;xn++){const Qn=gn[xn];Er(at,Yt,Qn,Qn.viewport)}}else Er(at,Yt,fn);gt!==null&&(cn.updateMultisampleRenderTarget(gt),cn.updateRenderTargetMipmap(gt)),Yt.isScene===!0&&Yt.onAfterRender(ft,Yt,fn),Ut.resetDefaultState(),bt=-1,At=null,dt.pop(),dt.length>0?ct=dt[dt.length-1]:ct=null,ut.pop(),ut.length>0?at=ut[ut.length-1]:at=null};function er(Yt,fn,vn,gn){if(Yt.visible===!1)return;if(Yt.layers.test(fn.layers)){if(Yt.isGroup)vn=Yt.renderOrder;else if(Yt.isLOD)Yt.autoUpdate===!0&&Yt.update(fn);else if(Yt.isLight)ct.pushLight(Yt),Yt.castShadow&&ct.pushShadow(Yt);else if(Yt.isSprite){if(!Yt.frustumCulled||zt.intersectsSprite(Yt)){gn&&Ht.setFromMatrixPosition(Yt.matrixWorld).applyMatrix4(Ft);const Qn=Ln.update(Yt),Vn=Yt.material;Vn.visible&&at.push(Yt,Qn,Vn,vn,Ht.z,null)}}else if((Yt.isMesh||Yt.isLine||Yt.isPoints)&&(Yt.isSkinnedMesh&&Yt.skeleton.frame!==ln.render.frame&&(Yt.skeleton.update(),Yt.skeleton.frame=ln.render.frame),!Yt.frustumCulled||zt.intersectsObject(Yt))){gn&&Ht.setFromMatrixPosition(Yt.matrixWorld).applyMatrix4(Ft);const Qn=Ln.update(Yt),Vn=Yt.material;if(Array.isArray(Vn)){const jn=Qn.groups;for(let ir=0,tr=jn.length;ir<tr;ir++){const nr=jn[ir],xr=Vn[nr.materialIndex];xr&&xr.visible&&at.push(Yt,Qn,xr,vn,Ht.z,nr)}}else Vn.visible&&at.push(Yt,Qn,Vn,vn,Ht.z,null)}}const $n=Yt.children;for(let Qn=0,Vn=$n.length;Qn<Vn;Qn++)er($n[Qn],fn,vn,gn)}function Er(Yt,fn,vn,gn){const xn=Yt.opaque,$n=Yt.transmissive,Qn=Yt.transparent;ct.setupLightsView(vn),Rt===!0&&jt.setGlobalState(ft.clippingPlanes,vn),$n.length>0&&hr(xn,fn,vn),gn&&mn.viewport(Tt.copy(gn)),xn.length>0&&Yn(xn,fn,vn),$n.length>0&&Yn($n,fn,vn),Qn.length>0&&Yn(Qn,fn,vn),mn.buffers.depth.setTest(!0),mn.buffers.depth.setMask(!0),mn.buffers.color.setMask(!0),mn.setPolygonOffset(!1)}function hr(Yt,fn,vn){const gn=dn.isWebGL2;Gt===null&&(Gt=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:sn.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:gn&&et===!0?4:0})),ft.getDrawingBufferSize(wt),gn?Gt.setSize(wt.x,wt.y):Gt.setSize(floorPowerOfTwo(wt.x),floorPowerOfTwo(wt.y));const xn=ft.getRenderTarget();ft.setRenderTarget(Gt),ft.clear();const $n=ft.toneMapping;ft.toneMapping=NoToneMapping,Yn(Yt,fn,vn),ft.toneMapping=$n,cn.updateMultisampleRenderTarget(Gt),cn.updateRenderTargetMipmap(Gt),ft.setRenderTarget(xn)}function Yn(Yt,fn,vn){const gn=fn.isScene===!0?fn.overrideMaterial:null;for(let xn=0,$n=Yt.length;xn<$n;xn++){const Qn=Yt[xn],Vn=Qn.object,jn=Qn.geometry,ir=gn===null?Qn.material:gn,tr=Qn.group;Vn.layers.test(vn.layers)&&Pr(Vn,fn,vn,jn,ir,tr)}}function Pr(Yt,fn,vn,gn,xn,$n){Yt.onBeforeRender(ft,fn,vn,gn,xn,$n),Yt.modelViewMatrix.multiplyMatrices(vn.matrixWorldInverse,Yt.matrixWorld),Yt.normalMatrix.getNormalMatrix(Yt.modelViewMatrix),xn.onBeforeRender(ft,fn,vn,gn,Yt,$n),xn.transparent===!0&&xn.side===DoubleSide&&xn.forceSinglePass===!1?(xn.side=BackSide,xn.needsUpdate=!0,ft.renderBufferDirect(vn,fn,gn,xn,Yt,$n),xn.side=FrontSide,xn.needsUpdate=!0,ft.renderBufferDirect(vn,fn,gn,xn,Yt,$n),xn.side=DoubleSide):ft.renderBufferDirect(vn,fn,gn,xn,Yt,$n),Yt.onAfterRender(ft,fn,vn,gn,xn,$n)}function cr(Yt,fn,vn){fn.isScene!==!0&&(fn=nn);const gn=tn.get(Yt),xn=ct.state.lights,$n=ct.state.shadowsArray,Qn=xn.state.version,Vn=Fn.getParameters(Yt,xn.state,$n,fn,vn),jn=Fn.getProgramCacheKey(Vn);let ir=gn.programs;gn.environment=Yt.isMeshStandardMaterial?fn.environment:null,gn.fog=fn.fog,gn.envMap=(Yt.isMeshStandardMaterial?Mn:pn).get(Yt.envMap||gn.environment),ir===void 0&&(Yt.addEventListener("dispose",Hn),ir=new Map,gn.programs=ir);let tr=ir.get(jn);if(tr!==void 0){if(gn.currentProgram===tr&&gn.lightsStateVersion===Qn)return _r(Yt,Vn),tr}else Vn.uniforms=Fn.getUniforms(Yt),Yt.onBuild(vn,Vn,ft),Yt.onBeforeCompile(Vn,ft),tr=Fn.acquireProgram(Vn,jn),ir.set(jn,tr),gn.uniforms=Vn.uniforms;const nr=gn.uniforms;(!Yt.isShaderMaterial&&!Yt.isRawShaderMaterial||Yt.clipping===!0)&&(nr.clippingPlanes=jt.uniform),_r(Yt,Vn),gn.needsLights=vr(Yt),gn.lightsStateVersion=Qn,gn.needsLights&&(nr.ambientLightColor.value=xn.state.ambient,nr.lightProbe.value=xn.state.probe,nr.directionalLights.value=xn.state.directional,nr.directionalLightShadows.value=xn.state.directionalShadow,nr.spotLights.value=xn.state.spot,nr.spotLightShadows.value=xn.state.spotShadow,nr.rectAreaLights.value=xn.state.rectArea,nr.ltc_1.value=xn.state.rectAreaLTC1,nr.ltc_2.value=xn.state.rectAreaLTC2,nr.pointLights.value=xn.state.point,nr.pointLightShadows.value=xn.state.pointShadow,nr.hemisphereLights.value=xn.state.hemi,nr.directionalShadowMap.value=xn.state.directionalShadowMap,nr.directionalShadowMatrix.value=xn.state.directionalShadowMatrix,nr.spotShadowMap.value=xn.state.spotShadowMap,nr.spotLightMatrix.value=xn.state.spotLightMatrix,nr.spotLightMap.value=xn.state.spotLightMap,nr.pointShadowMap.value=xn.state.pointShadowMap,nr.pointShadowMatrix.value=xn.state.pointShadowMatrix);const xr=tr.getUniforms(),Cr=WebGLUniforms.seqWithValue(xr.seq,nr);return gn.currentProgram=tr,gn.uniformsList=Cr,tr}function _r(Yt,fn){const vn=tn.get(Yt);vn.outputEncoding=fn.outputEncoding,vn.instancing=fn.instancing,vn.skinning=fn.skinning,vn.morphTargets=fn.morphTargets,vn.morphNormals=fn.morphNormals,vn.morphColors=fn.morphColors,vn.morphTargetsCount=fn.morphTargetsCount,vn.numClippingPlanes=fn.numClippingPlanes,vn.numIntersection=fn.numClipIntersection,vn.vertexAlphas=fn.vertexAlphas,vn.vertexTangents=fn.vertexTangents,vn.toneMapping=fn.toneMapping}function po(Yt,fn,vn,gn,xn){fn.isScene!==!0&&(fn=nn),cn.resetTextureUnits();const $n=fn.fog,Qn=gn.isMeshStandardMaterial?fn.environment:null,Vn=gt===null?ft.outputEncoding:gt.isXRRenderTarget===!0?gt.texture.encoding:LinearEncoding,jn=(gn.isMeshStandardMaterial?Mn:pn).get(gn.envMap||Qn),ir=gn.vertexColors===!0&&!!vn.attributes.color&&vn.attributes.color.itemSize===4,tr=!!gn.normalMap&&!!vn.attributes.tangent,nr=!!vn.morphAttributes.position,xr=!!vn.morphAttributes.normal,Cr=!!vn.morphAttributes.color,Kr=gn.toneMapped?ft.toneMapping:NoToneMapping,_i=vn.morphAttributes.position||vn.morphAttributes.normal||vn.morphAttributes.color,wr=_i!==void 0?_i.length:0,sr=tn.get(gn),mo=ct.state.lights;if(Rt===!0&&($t===!0||Yt!==At)){const pr=Yt===At&&gn.id===bt;jt.setState(gn,Yt,pr)}let Sr=!1;gn.version===sr.__version?(sr.needsLights&&sr.lightsStateVersion!==mo.state.version||sr.outputEncoding!==Vn||xn.isInstancedMesh&&sr.instancing===!1||!xn.isInstancedMesh&&sr.instancing===!0||xn.isSkinnedMesh&&sr.skinning===!1||!xn.isSkinnedMesh&&sr.skinning===!0||sr.envMap!==jn||gn.fog===!0&&sr.fog!==$n||sr.numClippingPlanes!==void 0&&(sr.numClippingPlanes!==jt.numPlanes||sr.numIntersection!==jt.numIntersection)||sr.vertexAlphas!==ir||sr.vertexTangents!==tr||sr.morphTargets!==nr||sr.morphNormals!==xr||sr.morphColors!==Cr||sr.toneMapping!==Kr||dn.isWebGL2===!0&&sr.morphTargetsCount!==wr)&&(Sr=!0):(Sr=!0,sr.__version=gn.version);let eo=sr.currentProgram;Sr===!0&&(eo=cr(gn,fn,xn));let xo=!1,Ur=!1,Gr=!1;const rr=eo.getUniforms(),dr=sr.uniforms;if(mn.useProgram(eo.program)&&(xo=!0,Ur=!0,Gr=!0),gn.id!==bt&&(bt=gn.id,Ur=!0),xo||At!==Yt){if(rr.setValue(Jt,"projectionMatrix",Yt.projectionMatrix),dn.logarithmicDepthBuffer&&rr.setValue(Jt,"logDepthBufFC",2/(Math.log(Yt.far+1)/Math.LN2)),At!==Yt&&(At=Yt,Ur=!0,Gr=!0),gn.isShaderMaterial||gn.isMeshPhongMaterial||gn.isMeshToonMaterial||gn.isMeshStandardMaterial||gn.envMap){const pr=rr.map.cameraPosition;pr!==void 0&&pr.setValue(Jt,Ht.setFromMatrixPosition(Yt.matrixWorld))}(gn.isMeshPhongMaterial||gn.isMeshToonMaterial||gn.isMeshLambertMaterial||gn.isMeshBasicMaterial||gn.isMeshStandardMaterial||gn.isShaderMaterial)&&rr.setValue(Jt,"isOrthographic",Yt.isOrthographicCamera===!0),(gn.isMeshPhongMaterial||gn.isMeshToonMaterial||gn.isMeshLambertMaterial||gn.isMeshBasicMaterial||gn.isMeshStandardMaterial||gn.isShaderMaterial||gn.isShadowMaterial||xn.isSkinnedMesh)&&rr.setValue(Jt,"viewMatrix",Yt.matrixWorldInverse)}if(xn.isSkinnedMesh){rr.setOptional(Jt,xn,"bindMatrix"),rr.setOptional(Jt,xn,"bindMatrixInverse");const pr=xn.skeleton;pr&&(dn.floatVertexTextures?(pr.boneTexture===null&&pr.computeBoneTexture(),rr.setValue(Jt,"boneTexture",pr.boneTexture,cn),rr.setValue(Jt,"boneTextureSize",pr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const zr=vn.morphAttributes;if((zr.position!==void 0||zr.normal!==void 0||zr.color!==void 0&&dn.isWebGL2===!0)&&Bn.update(xn,vn,gn,eo),(Ur||sr.receiveShadow!==xn.receiveShadow)&&(sr.receiveShadow=xn.receiveShadow,rr.setValue(Jt,"receiveShadow",xn.receiveShadow)),gn.isMeshGouraudMaterial&&gn.envMap!==null&&(dr.envMap.value=jn,dr.flipEnvMap.value=jn.isCubeTexture&&jn.isRenderTargetTexture===!1?-1:1),Ur&&(rr.setValue(Jt,"toneMappingExposure",ft.toneMappingExposure),sr.needsLights&&br(dr,Gr),$n&&gn.fog===!0&&Un.refreshFogUniforms(dr,$n),Un.refreshMaterialUniforms(dr,gn,Kt,Vt,Gt),WebGLUniforms.upload(Jt,sr.uniformsList,dr,cn)),gn.isShaderMaterial&&gn.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Jt,sr.uniformsList,dr,cn),gn.uniformsNeedUpdate=!1),gn.isSpriteMaterial&&rr.setValue(Jt,"center",xn.center),rr.setValue(Jt,"modelViewMatrix",xn.modelViewMatrix),rr.setValue(Jt,"normalMatrix",xn.normalMatrix),rr.setValue(Jt,"modelMatrix",xn.matrixWorld),gn.isShaderMaterial||gn.isRawShaderMaterial){const pr=gn.uniformsGroups;for(let kr=0,Mo=pr.length;kr<Mo;kr++)if(dn.isWebGL2){const To=pr[kr];Qt.update(To,eo),Qt.bind(To,eo)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return eo}function br(Yt,fn){Yt.ambientLightColor.needsUpdate=fn,Yt.lightProbe.needsUpdate=fn,Yt.directionalLights.needsUpdate=fn,Yt.directionalLightShadows.needsUpdate=fn,Yt.pointLights.needsUpdate=fn,Yt.pointLightShadows.needsUpdate=fn,Yt.spotLights.needsUpdate=fn,Yt.spotLightShadows.needsUpdate=fn,Yt.rectAreaLights.needsUpdate=fn,Yt.hemisphereLights.needsUpdate=fn}function vr(Yt){return Yt.isMeshLambertMaterial||Yt.isMeshToonMaterial||Yt.isMeshPhongMaterial||Yt.isMeshStandardMaterial||Yt.isShadowMaterial||Yt.isShaderMaterial&&Yt.lights===!0}this.getActiveCubeFace=function(){return pt},this.getActiveMipmapLevel=function(){return yt},this.getRenderTarget=function(){return gt},this.setRenderTargetTextures=function(Yt,fn,vn){tn.get(Yt.texture).__webglTexture=fn,tn.get(Yt.depthTexture).__webglTexture=vn;const gn=tn.get(Yt);gn.__hasExternalTextures=!0,gn.__hasExternalTextures&&(gn.__autoAllocateDepthBuffer=vn===void 0,gn.__autoAllocateDepthBuffer||sn.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),gn.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Yt,fn){const vn=tn.get(Yt);vn.__webglFramebuffer=fn,vn.__useDefaultFramebuffer=fn===void 0},this.setRenderTarget=function(Yt,fn=0,vn=0){gt=Yt,pt=fn,yt=vn;let gn=!0,xn=null,$n=!1,Qn=!1;if(Yt){const jn=tn.get(Yt);jn.__useDefaultFramebuffer!==void 0?(mn.bindFramebuffer(36160,null),gn=!1):jn.__webglFramebuffer===void 0?cn.setupRenderTarget(Yt):jn.__hasExternalTextures&&cn.rebindTextures(Yt,tn.get(Yt.texture).__webglTexture,tn.get(Yt.depthTexture).__webglTexture);const ir=Yt.texture;(ir.isData3DTexture||ir.isDataArrayTexture||ir.isCompressedArrayTexture)&&(Qn=!0);const tr=tn.get(Yt).__webglFramebuffer;Yt.isWebGLCubeRenderTarget?(xn=tr[fn],$n=!0):dn.isWebGL2&&Yt.samples>0&&cn.useMultisampledRTT(Yt)===!1?xn=tn.get(Yt).__webglMultisampledFramebuffer:xn=tr,Tt.copy(Yt.viewport),Pt.copy(Yt.scissor),Ct=Yt.scissorTest}else Tt.copy(vt).multiplyScalar(Kt).floor(),Pt.copy(St).multiplyScalar(Kt).floor(),Ct=Lt;if(mn.bindFramebuffer(36160,xn)&&dn.drawBuffers&&gn&&mn.drawBuffers(Yt,xn),mn.viewport(Tt),mn.scissor(Pt),mn.setScissorTest(Ct),$n){const jn=tn.get(Yt.texture);Jt.framebufferTexture2D(36160,36064,34069+fn,jn.__webglTexture,vn)}else if(Qn){const jn=tn.get(Yt.texture),ir=fn||0;Jt.framebufferTextureLayer(36160,36064,jn.__webglTexture,vn||0,ir)}bt=-1},this.readRenderTargetPixels=function(Yt,fn,vn,gn,xn,$n,Qn){if(!(Yt&&Yt.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Vn=tn.get(Yt).__webglFramebuffer;if(Yt.isWebGLCubeRenderTarget&&Qn!==void 0&&(Vn=Vn[Qn]),Vn){mn.bindFramebuffer(36160,Vn);try{const jn=Yt.texture,ir=jn.format,tr=jn.type;if(ir!==RGBAFormat&&Et.convert(ir)!==Jt.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const nr=tr===HalfFloatType&&(sn.has("EXT_color_buffer_half_float")||dn.isWebGL2&&sn.has("EXT_color_buffer_float"));if(tr!==UnsignedByteType&&Et.convert(tr)!==Jt.getParameter(35738)&&!(tr===FloatType&&(dn.isWebGL2||sn.has("OES_texture_float")||sn.has("WEBGL_color_buffer_float")))&&!nr){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}fn>=0&&fn<=Yt.width-gn&&vn>=0&&vn<=Yt.height-xn&&Jt.readPixels(fn,vn,gn,xn,Et.convert(ir),Et.convert(tr),$n)}finally{const jn=gt!==null?tn.get(gt).__webglFramebuffer:null;mn.bindFramebuffer(36160,jn)}}},this.copyFramebufferToTexture=function(Yt,fn,vn=0){const gn=Math.pow(2,-vn),xn=Math.floor(fn.image.width*gn),$n=Math.floor(fn.image.height*gn);cn.setTexture2D(fn,0),Jt.copyTexSubImage2D(3553,vn,0,0,Yt.x,Yt.y,xn,$n),mn.unbindTexture()},this.copyTextureToTexture=function(Yt,fn,vn,gn=0){const xn=fn.image.width,$n=fn.image.height,Qn=Et.convert(vn.format),Vn=Et.convert(vn.type);cn.setTexture2D(vn,0),Jt.pixelStorei(37440,vn.flipY),Jt.pixelStorei(37441,vn.premultiplyAlpha),Jt.pixelStorei(3317,vn.unpackAlignment),fn.isDataTexture?Jt.texSubImage2D(3553,gn,Yt.x,Yt.y,xn,$n,Qn,Vn,fn.image.data):fn.isCompressedTexture?Jt.compressedTexSubImage2D(3553,gn,Yt.x,Yt.y,fn.mipmaps[0].width,fn.mipmaps[0].height,Qn,fn.mipmaps[0].data):Jt.texSubImage2D(3553,gn,Yt.x,Yt.y,Qn,Vn,fn.image),gn===0&&vn.generateMipmaps&&Jt.generateMipmap(3553),mn.unbindTexture()},this.copyTextureToTexture3D=function(Yt,fn,vn,gn,xn=0){if(ft.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const $n=Yt.max.x-Yt.min.x+1,Qn=Yt.max.y-Yt.min.y+1,Vn=Yt.max.z-Yt.min.z+1,jn=Et.convert(gn.format),ir=Et.convert(gn.type);let tr;if(gn.isData3DTexture)cn.setTexture3D(gn,0),tr=32879;else if(gn.isDataArrayTexture)cn.setTexture2DArray(gn,0),tr=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Jt.pixelStorei(37440,gn.flipY),Jt.pixelStorei(37441,gn.premultiplyAlpha),Jt.pixelStorei(3317,gn.unpackAlignment);const nr=Jt.getParameter(3314),xr=Jt.getParameter(32878),Cr=Jt.getParameter(3316),Kr=Jt.getParameter(3315),_i=Jt.getParameter(32877),wr=vn.isCompressedTexture?vn.mipmaps[0]:vn.image;Jt.pixelStorei(3314,wr.width),Jt.pixelStorei(32878,wr.height),Jt.pixelStorei(3316,Yt.min.x),Jt.pixelStorei(3315,Yt.min.y),Jt.pixelStorei(32877,Yt.min.z),vn.isDataTexture||vn.isData3DTexture?Jt.texSubImage3D(tr,xn,fn.x,fn.y,fn.z,$n,Qn,Vn,jn,ir,wr.data):vn.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Jt.compressedTexSubImage3D(tr,xn,fn.x,fn.y,fn.z,$n,Qn,Vn,jn,wr.data)):Jt.texSubImage3D(tr,xn,fn.x,fn.y,fn.z,$n,Qn,Vn,jn,ir,wr),Jt.pixelStorei(3314,nr),Jt.pixelStorei(32878,xr),Jt.pixelStorei(3316,Cr),Jt.pixelStorei(3315,Kr),Jt.pixelStorei(32877,_i),xn===0&&gn.generateMipmaps&&Jt.generateMipmap(tr),mn.unbindTexture()},this.initTexture=function(Yt){Yt.isCubeTexture?cn.setTextureCube(Yt,0):Yt.isData3DTexture?cn.setTexture3D(Yt,0):Yt.isDataArrayTexture||Yt.isCompressedArrayTexture?cn.setTexture2DArray(Yt,0):cn.setTexture2D(Yt,0),mn.unbindTexture()},this.resetState=function(){pt=0,yt=0,gt=null,mn.reset(),Ut.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class FogExp2{constructor(o,a=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color(o),this.density=a}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Fog{constructor(o,a=1,j=1e3){this.isFog=!0,this.name="",this.color=new Color(o),this.near=a,this.far=j}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(o,a){return super.copy(o,a),o.background!==null&&(this.background=o.background.clone()),o.environment!==null&&(this.environment=o.environment.clone()),o.fog!==null&&(this.fog=o.fog.clone()),this.backgroundBlurriness=o.backgroundBlurriness,this.backgroundIntensity=o.backgroundIntensity,o.overrideMaterial!==null&&(this.overrideMaterial=o.overrideMaterial.clone()),this.matrixAutoUpdate=o.matrixAutoUpdate,this}toJSON(o){const a=super.toJSON(o);return this.fog!==null&&(a.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(a.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(a.object.backgroundIntensity=this.backgroundIntensity),a}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(o){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=o}}class InterleavedBuffer{constructor(o,a){this.isInterleavedBuffer=!0,this.array=o,this.stride=a,this.count=o!==void 0?o.length/a:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(o){o===!0&&this.version++}setUsage(o){return this.usage=o,this}copy(o){return this.array=new o.array.constructor(o.array),this.count=o.count,this.stride=o.stride,this.usage=o.usage,this}copyAt(o,a,j){o*=this.stride,j*=a.stride;for(let _e=0,et=this.stride;_e<et;_e++)this.array[o+_e]=a.array[j+_e];return this}set(o,a=0){return this.array.set(o,a),this}clone(o){o.arrayBuffers===void 0&&(o.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),o.arrayBuffers[this.array.buffer._uuid]===void 0&&(o.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const a=new this.array.constructor(o.arrayBuffers[this.array.buffer._uuid]),j=new this.constructor(a,this.stride);return j.setUsage(this.usage),j}onUpload(o){return this.onUploadCallback=o,this}toJSON(o){return o.arrayBuffers===void 0&&(o.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),o.arrayBuffers[this.array.buffer._uuid]===void 0&&(o.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(o,a,j,_e=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=o,this.itemSize=a,this.offset=j,this.normalized=_e}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(o){this.data.needsUpdate=o}applyMatrix4(o){for(let a=0,j=this.data.count;a<j;a++)_vector$6.fromBufferAttribute(this,a),_vector$6.applyMatrix4(o),this.setXYZ(a,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(o){for(let a=0,j=this.count;a<j;a++)_vector$6.fromBufferAttribute(this,a),_vector$6.applyNormalMatrix(o),this.setXYZ(a,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(o){for(let a=0,j=this.count;a<j;a++)_vector$6.fromBufferAttribute(this,a),_vector$6.transformDirection(o),this.setXYZ(a,_vector$6.x,_vector$6.y,_vector$6.z);return this}setX(o,a){return this.normalized&&(a=normalize(a,this.array)),this.data.array[o*this.data.stride+this.offset]=a,this}setY(o,a){return this.normalized&&(a=normalize(a,this.array)),this.data.array[o*this.data.stride+this.offset+1]=a,this}setZ(o,a){return this.normalized&&(a=normalize(a,this.array)),this.data.array[o*this.data.stride+this.offset+2]=a,this}setW(o,a){return this.normalized&&(a=normalize(a,this.array)),this.data.array[o*this.data.stride+this.offset+3]=a,this}getX(o){let a=this.data.array[o*this.data.stride+this.offset];return this.normalized&&(a=denormalize(a,this.array)),a}getY(o){let a=this.data.array[o*this.data.stride+this.offset+1];return this.normalized&&(a=denormalize(a,this.array)),a}getZ(o){let a=this.data.array[o*this.data.stride+this.offset+2];return this.normalized&&(a=denormalize(a,this.array)),a}getW(o){let a=this.data.array[o*this.data.stride+this.offset+3];return this.normalized&&(a=denormalize(a,this.array)),a}setXY(o,a,j){return o=o*this.data.stride+this.offset,this.normalized&&(a=normalize(a,this.array),j=normalize(j,this.array)),this.data.array[o+0]=a,this.data.array[o+1]=j,this}setXYZ(o,a,j,_e){return o=o*this.data.stride+this.offset,this.normalized&&(a=normalize(a,this.array),j=normalize(j,this.array),_e=normalize(_e,this.array)),this.data.array[o+0]=a,this.data.array[o+1]=j,this.data.array[o+2]=_e,this}setXYZW(o,a,j,_e,et){return o=o*this.data.stride+this.offset,this.normalized&&(a=normalize(a,this.array),j=normalize(j,this.array),_e=normalize(_e,this.array),et=normalize(et,this.array)),this.data.array[o+0]=a,this.data.array[o+1]=j,this.data.array[o+2]=_e,this.data.array[o+3]=et,this}clone(o){if(o===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const a=[];for(let j=0;j<this.count;j++){const _e=j*this.data.stride+this.offset;for(let et=0;et<this.itemSize;et++)a.push(this.data.array[_e+et])}return new BufferAttribute(new this.array.constructor(a),this.itemSize,this.normalized)}else return o.interleavedBuffers===void 0&&(o.interleavedBuffers={}),o.interleavedBuffers[this.data.uuid]===void 0&&(o.interleavedBuffers[this.data.uuid]=this.data.clone(o)),new InterleavedBufferAttribute(o.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(o){if(o===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const a=[];for(let j=0;j<this.count;j++){const _e=j*this.data.stride+this.offset;for(let et=0;et<this.itemSize;et++)a.push(this.data.array[_e+et])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:a,normalized:this.normalized}}else return o.interleavedBuffers===void 0&&(o.interleavedBuffers={}),o.interleavedBuffers[this.data.uuid]===void 0&&(o.interleavedBuffers[this.data.uuid]=this.data.toJSON(o)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(o){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.alphaMap=o.alphaMap,this.rotation=o.rotation,this.sizeAttenuation=o.sizeAttenuation,this.fog=o.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(o){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const a=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),j=new InterleavedBuffer(a,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(j,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(j,2,3,!1))}this.geometry=_geometry,this.material=o!==void 0?o:new SpriteMaterial,this.center=new Vector2(.5,.5)}raycast(o,a){o.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(o.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(o.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),o.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const j=this.material.rotation;let _e,et;j!==0&&(et=Math.cos(j),_e=Math.sin(j));const tt=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,tt,_worldScale,_e,et),transformVertex(_vB.set(.5,-.5,0),_mvPosition,tt,_worldScale,_e,et),transformVertex(_vC.set(.5,.5,0),_mvPosition,tt,_worldScale,_e,et),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let nt=o.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(nt===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,tt,_worldScale,_e,et),_uvB.set(0,1),nt=o.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),nt===null))return;const rt=o.ray.origin.distanceTo(_intersectPoint);rt<o.near||rt>o.far||a.push({distance:rt,point:_intersectPoint.clone(),uv:Triangle.getUV(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(o,a){return super.copy(o,a),o.center!==void 0&&this.center.copy(o.center),this.material=o.material,this}}function transformVertex($,o,a,j,_e,et){_alignedPosition.subVectors($,a).addScalar(.5).multiply(j),_e!==void 0?(_rotatedPosition.x=et*_alignedPosition.x-_e*_alignedPosition.y,_rotatedPosition.y=_e*_alignedPosition.x+et*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),$.copy(o),$.x+=_rotatedPosition.x,$.y+=_rotatedPosition.y,$.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(o){super.copy(o,!1);const a=o.levels;for(let j=0,_e=a.length;j<_e;j++){const et=a[j];this.addLevel(et.object.clone(),et.distance,et.hysteresis)}return this.autoUpdate=o.autoUpdate,this}addLevel(o,a=0,j=0){a=Math.abs(a);const _e=this.levels;let et;for(et=0;et<_e.length&&!(a<_e[et].distance);et++);return _e.splice(et,0,{distance:a,hysteresis:j,object:o}),this.add(o),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(o){const a=this.levels;if(a.length>0){let j,_e;for(j=1,_e=a.length;j<_e;j++){let et=a[j].distance;if(a[j].object.visible&&(et-=et*a[j].hysteresis),o<et)break}return a[j-1].object}return null}raycast(o,a){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const _e=o.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(_e).raycast(o,a)}}update(o){const a=this.levels;if(a.length>1){_v1$2.setFromMatrixPosition(o.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const j=_v1$2.distanceTo(_v2$1)/o.zoom;a[0].object.visible=!0;let _e,et;for(_e=1,et=a.length;_e<et;_e++){let tt=a[_e].distance;if(a[_e].object.visible&&(tt-=tt*a[_e].hysteresis),j>=tt)a[_e-1].object.visible=!1,a[_e].object.visible=!0;else break}for(this._currentLevel=_e-1;_e<et;_e++)a[_e].object.visible=!1}}toJSON(o){const a=super.toJSON(o);this.autoUpdate===!1&&(a.object.autoUpdate=!1),a.object.levels=[];const j=this.levels;for(let _e=0,et=j.length;_e<et;_e++){const tt=j[_e];a.object.levels.push({object:tt.object.uuid,distance:tt.distance,hysteresis:tt.hysteresis})}return a}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector$5=new Vector3,_matrix=new Matrix4;class SkinnedMesh extends Mesh{constructor(o,a){super(o,a),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4}copy(o,a){return super.copy(o,a),this.bindMode=o.bindMode,this.bindMatrix.copy(o.bindMatrix),this.bindMatrixInverse.copy(o.bindMatrixInverse),this.skeleton=o.skeleton,this}bind(o,a){this.skeleton=o,a===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),a=this.matrixWorld),this.bindMatrix.copy(a),this.bindMatrixInverse.copy(a).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const o=new Vector4,a=this.geometry.attributes.skinWeight;for(let j=0,_e=a.count;j<_e;j++){o.fromBufferAttribute(a,j);const et=1/o.manhattanLength();et!==1/0?o.multiplyScalar(et):o.set(1,0,0,0),a.setXYZW(j,o.x,o.y,o.z,o.w)}}updateMatrixWorld(o){super.updateMatrixWorld(o),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(o,a){const j=this.skeleton,_e=this.geometry;_skinIndex.fromBufferAttribute(_e.attributes.skinIndex,o),_skinWeight.fromBufferAttribute(_e.attributes.skinWeight,o),_basePosition.copy(a).applyMatrix4(this.bindMatrix),a.set(0,0,0);for(let et=0;et<4;et++){const tt=_skinWeight.getComponent(et);if(tt!==0){const nt=_skinIndex.getComponent(et);_matrix.multiplyMatrices(j.bones[nt].matrixWorld,j.boneInverses[nt]),a.addScaledVector(_vector$5.copy(_basePosition).applyMatrix4(_matrix),tt)}}return a.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(o=null,a=1,j=1,_e,et,tt,nt,rt,it=NearestFilter,ot=NearestFilter,at,ct){super(null,tt,nt,rt,it,ot,_e,et,at,ct),this.isDataTexture=!0,this.image={data:o,width:a,height:j},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix=new Matrix4;class Skeleton{constructor(o=[],a=[]){this.uuid=generateUUID(),this.bones=o.slice(0),this.boneInverses=a,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const o=this.bones,a=this.boneInverses;if(this.boneMatrices=new Float32Array(o.length*16),a.length===0)this.calculateInverses();else if(o.length!==a.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let j=0,_e=this.bones.length;j<_e;j++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let o=0,a=this.bones.length;o<a;o++){const j=new Matrix4;this.bones[o]&&j.copy(this.bones[o].matrixWorld).invert(),this.boneInverses.push(j)}}pose(){for(let o=0,a=this.bones.length;o<a;o++){const j=this.bones[o];j&&j.matrixWorld.copy(this.boneInverses[o]).invert()}for(let o=0,a=this.bones.length;o<a;o++){const j=this.bones[o];j&&(j.parent&&j.parent.isBone?(j.matrix.copy(j.parent.matrixWorld).invert(),j.matrix.multiply(j.matrixWorld)):j.matrix.copy(j.matrixWorld),j.matrix.decompose(j.position,j.quaternion,j.scale))}}update(){const o=this.bones,a=this.boneInverses,j=this.boneMatrices,_e=this.boneTexture;for(let et=0,tt=o.length;et<tt;et++){const nt=o[et]?o[et].matrixWorld:_identityMatrix;_offsetMatrix.multiplyMatrices(nt,a[et]),_offsetMatrix.toArray(j,et*16)}_e!==null&&(_e.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let o=Math.sqrt(this.bones.length*4);o=ceilPowerOfTwo(o),o=Math.max(o,4);const a=new Float32Array(o*o*4);a.set(this.boneMatrices);const j=new DataTexture(a,o,o,RGBAFormat,FloatType);return j.needsUpdate=!0,this.boneMatrices=a,this.boneTexture=j,this.boneTextureSize=o,this}getBoneByName(o){for(let a=0,j=this.bones.length;a<j;a++){const _e=this.bones[a];if(_e.name===o)return _e}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(o,a){this.uuid=o.uuid;for(let j=0,_e=o.bones.length;j<_e;j++){const et=o.bones[j];let tt=a[et];tt===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",et),tt=new Bone),this.bones.push(tt),this.boneInverses.push(new Matrix4().fromArray(o.boneInverses[j]))}return this.init(),this}toJSON(){const o={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};o.uuid=this.uuid;const a=this.bones,j=this.boneInverses;for(let _e=0,et=a.length;_e<et;_e++){const tt=a[_e];o.bones.push(tt.uuid);const nt=j[_e];o.boneInverses.push(nt.toArray())}return o}}class InstancedBufferAttribute extends BufferAttribute{constructor(o,a,j,_e=1){super(o,a,j),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=_e}copy(o){return super.copy(o),this.meshPerAttribute=o.meshPerAttribute,this}toJSON(){const o=super.toJSON();return o.meshPerAttribute=this.meshPerAttribute,o.isInstancedBufferAttribute=!0,o}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_identity=new Matrix4,_mesh=new Mesh;class InstancedMesh extends Mesh{constructor(o,a,j){super(o,a),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(j*16),16),this.instanceColor=null,this.count=j,this.frustumCulled=!1;for(let _e=0;_e<j;_e++)this.setMatrixAt(_e,_identity)}copy(o,a){return super.copy(o,a),this.instanceMatrix.copy(o.instanceMatrix),o.instanceColor!==null&&(this.instanceColor=o.instanceColor.clone()),this.count=o.count,this}getColorAt(o,a){a.fromArray(this.instanceColor.array,o*3)}getMatrixAt(o,a){a.fromArray(this.instanceMatrix.array,o*16)}raycast(o,a){const j=this.matrixWorld,_e=this.count;if(_mesh.geometry=this.geometry,_mesh.material=this.material,_mesh.material!==void 0)for(let et=0;et<_e;et++){this.getMatrixAt(et,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(j,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_mesh.raycast(o,_instanceIntersects);for(let tt=0,nt=_instanceIntersects.length;tt<nt;tt++){const rt=_instanceIntersects[tt];rt.instanceId=et,rt.object=this,a.push(rt)}_instanceIntersects.length=0}}setColorAt(o,a){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),a.toArray(this.instanceColor.array,o*3)}setMatrixAt(o,a){a.toArray(this.instanceMatrix.array,o*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class LineBasicMaterial extends Material{constructor(o){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.linewidth=o.linewidth,this.linecap=o.linecap,this.linejoin=o.linejoin,this.fog=o.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(o=new BufferGeometry,a=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=o,this.material=a,this.updateMorphTargets()}copy(o,a){return super.copy(o,a),this.material=o.material,this.geometry=o.geometry,this}computeLineDistances(){const o=this.geometry;if(o.index===null){const a=o.attributes.position,j=[0];for(let _e=1,et=a.count;_e<et;_e++)_start$1.fromBufferAttribute(a,_e-1),_end$1.fromBufferAttribute(a,_e),j[_e]=j[_e-1],j[_e]+=_start$1.distanceTo(_end$1);o.setAttribute("lineDistance",new Float32BufferAttribute(j,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(o,a){const j=this.geometry,_e=this.matrixWorld,et=o.params.Line.threshold,tt=j.drawRange;if(j.boundingSphere===null&&j.computeBoundingSphere(),_sphere$1.copy(j.boundingSphere),_sphere$1.applyMatrix4(_e),_sphere$1.radius+=et,o.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(_e).invert(),_ray$1.copy(o.ray).applyMatrix4(_inverseMatrix$1);const nt=et/((this.scale.x+this.scale.y+this.scale.z)/3),rt=nt*nt,it=new Vector3,ot=new Vector3,at=new Vector3,ct=new Vector3,ut=this.isLineSegments?2:1,dt=j.index,ht=j.attributes.position;if(dt!==null){const pt=Math.max(0,tt.start),yt=Math.min(dt.count,tt.start+tt.count);for(let gt=pt,bt=yt-1;gt<bt;gt+=ut){const At=dt.getX(gt),Tt=dt.getX(gt+1);if(it.fromBufferAttribute(ht,At),ot.fromBufferAttribute(ht,Tt),_ray$1.distanceSqToSegment(it,ot,ct,at)>rt)continue;ct.applyMatrix4(this.matrixWorld);const Ct=o.ray.origin.distanceTo(ct);Ct<o.near||Ct>o.far||a.push({distance:Ct,point:at.clone().applyMatrix4(this.matrixWorld),index:gt,face:null,faceIndex:null,object:this})}}else{const pt=Math.max(0,tt.start),yt=Math.min(ht.count,tt.start+tt.count);for(let gt=pt,bt=yt-1;gt<bt;gt+=ut){if(it.fromBufferAttribute(ht,gt),ot.fromBufferAttribute(ht,gt+1),_ray$1.distanceSqToSegment(it,ot,ct,at)>rt)continue;ct.applyMatrix4(this.matrixWorld);const Tt=o.ray.origin.distanceTo(ct);Tt<o.near||Tt>o.far||a.push({distance:Tt,point:at.clone().applyMatrix4(this.matrixWorld),index:gt,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const a=this.geometry.morphAttributes,j=Object.keys(a);if(j.length>0){const _e=a[j[0]];if(_e!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let et=0,tt=_e.length;et<tt;et++){const nt=_e[et].name||String(et);this.morphTargetInfluences.push(0),this.morphTargetDictionary[nt]=et}}}}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(o,a){super(o,a),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const o=this.geometry;if(o.index===null){const a=o.attributes.position,j=[];for(let _e=0,et=a.count;_e<et;_e+=2)_start.fromBufferAttribute(a,_e),_end.fromBufferAttribute(a,_e+1),j[_e]=_e===0?0:j[_e-1],j[_e+1]=j[_e]+_start.distanceTo(_end);o.setAttribute("lineDistance",new Float32BufferAttribute(j,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(o,a){super(o,a),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(o){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.alphaMap=o.alphaMap,this.size=o.size,this.sizeAttenuation=o.sizeAttenuation,this.fog=o.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;let Points$1=class extends Object3D{constructor(o=new BufferGeometry,a=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=o,this.material=a,this.updateMorphTargets()}copy(o,a){return super.copy(o,a),this.material=o.material,this.geometry=o.geometry,this}raycast(o,a){const j=this.geometry,_e=this.matrixWorld,et=o.params.Points.threshold,tt=j.drawRange;if(j.boundingSphere===null&&j.computeBoundingSphere(),_sphere.copy(j.boundingSphere),_sphere.applyMatrix4(_e),_sphere.radius+=et,o.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(_e).invert(),_ray.copy(o.ray).applyMatrix4(_inverseMatrix);const nt=et/((this.scale.x+this.scale.y+this.scale.z)/3),rt=nt*nt,it=j.index,at=j.attributes.position;if(it!==null){const ct=Math.max(0,tt.start),ut=Math.min(it.count,tt.start+tt.count);for(let dt=ct,ft=ut;dt<ft;dt++){const ht=it.getX(dt);_position$2.fromBufferAttribute(at,ht),testPoint(_position$2,ht,rt,_e,o,a,this)}}else{const ct=Math.max(0,tt.start),ut=Math.min(at.count,tt.start+tt.count);for(let dt=ct,ft=ut;dt<ft;dt++)_position$2.fromBufferAttribute(at,dt),testPoint(_position$2,dt,rt,_e,o,a,this)}}updateMorphTargets(){const a=this.geometry.morphAttributes,j=Object.keys(a);if(j.length>0){const _e=a[j[0]];if(_e!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let et=0,tt=_e.length;et<tt;et++){const nt=_e[et].name||String(et);this.morphTargetInfluences.push(0),this.morphTargetDictionary[nt]=et}}}}};function testPoint($,o,a,j,_e,et,tt){const nt=_ray.distanceSqToPoint($);if(nt<a){const rt=new Vector3;_ray.closestPointToPoint($,rt),rt.applyMatrix4(j);const it=_e.ray.origin.distanceTo(rt);if(it<_e.near||it>_e.far)return;et.push({distance:it,distanceToRay:Math.sqrt(nt),point:rt,index:o,face:null,object:tt})}}class VideoTexture extends Texture{constructor(o,a,j,_e,et,tt,nt,rt,it){super(o,a,j,_e,et,tt,nt,rt,it),this.isVideoTexture=!0,this.minFilter=tt!==void 0?tt:LinearFilter,this.magFilter=et!==void 0?et:LinearFilter,this.generateMipmaps=!1;const ot=this;function at(){ot.needsUpdate=!0,o.requestVideoFrameCallback(at)}"requestVideoFrameCallback"in o&&o.requestVideoFrameCallback(at)}clone(){return new this.constructor(this.image).copy(this)}update(){const o=this.image;"requestVideoFrameCallback"in o===!1&&o.readyState>=o.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(o,a,j){super({width:o,height:a}),this.isFramebufferTexture=!0,this.format=j,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(o,a,j,_e,et,tt,nt,rt,it,ot,at,ct){super(null,tt,nt,rt,it,ot,_e,et,at,ct),this.isCompressedTexture=!0,this.image={width:a,height:j},this.mipmaps=o,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(o,a,j,_e,et,tt){super(o,a,j,et,tt),this.isCompressedArrayTexture=!0,this.image.depth=_e,this.wrapR=ClampToEdgeWrapping}}class CanvasTexture extends Texture{constructor(o,a,j,_e,et,tt,nt,rt,it){super(o,a,j,_e,et,tt,nt,rt,it),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(o,a){const j=this.getUtoTmapping(o);return this.getPoint(j,a)}getPoints(o=5){const a=[];for(let j=0;j<=o;j++)a.push(this.getPoint(j/o));return a}getSpacedPoints(o=5){const a=[];for(let j=0;j<=o;j++)a.push(this.getPointAt(j/o));return a}getLength(){const o=this.getLengths();return o[o.length-1]}getLengths(o=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===o+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const a=[];let j,_e=this.getPoint(0),et=0;a.push(0);for(let tt=1;tt<=o;tt++)j=this.getPoint(tt/o),et+=j.distanceTo(_e),a.push(et),_e=j;return this.cacheArcLengths=a,a}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(o,a){const j=this.getLengths();let _e=0;const et=j.length;let tt;a?tt=a:tt=o*j[et-1];let nt=0,rt=et-1,it;for(;nt<=rt;)if(_e=Math.floor(nt+(rt-nt)/2),it=j[_e]-tt,it<0)nt=_e+1;else if(it>0)rt=_e-1;else{rt=_e;break}if(_e=rt,j[_e]===tt)return _e/(et-1);const ot=j[_e],ct=j[_e+1]-ot,ut=(tt-ot)/ct;return(_e+ut)/(et-1)}getTangent(o,a){let _e=o-1e-4,et=o+1e-4;_e<0&&(_e=0),et>1&&(et=1);const tt=this.getPoint(_e),nt=this.getPoint(et),rt=a||(tt.isVector2?new Vector2:new Vector3);return rt.copy(nt).sub(tt).normalize(),rt}getTangentAt(o,a){const j=this.getUtoTmapping(o);return this.getTangent(j,a)}computeFrenetFrames(o,a){const j=new Vector3,_e=[],et=[],tt=[],nt=new Vector3,rt=new Matrix4;for(let ut=0;ut<=o;ut++){const dt=ut/o;_e[ut]=this.getTangentAt(dt,new Vector3)}et[0]=new Vector3,tt[0]=new Vector3;let it=Number.MAX_VALUE;const ot=Math.abs(_e[0].x),at=Math.abs(_e[0].y),ct=Math.abs(_e[0].z);ot<=it&&(it=ot,j.set(1,0,0)),at<=it&&(it=at,j.set(0,1,0)),ct<=it&&j.set(0,0,1),nt.crossVectors(_e[0],j).normalize(),et[0].crossVectors(_e[0],nt),tt[0].crossVectors(_e[0],et[0]);for(let ut=1;ut<=o;ut++){if(et[ut]=et[ut-1].clone(),tt[ut]=tt[ut-1].clone(),nt.crossVectors(_e[ut-1],_e[ut]),nt.length()>Number.EPSILON){nt.normalize();const dt=Math.acos(clamp(_e[ut-1].dot(_e[ut]),-1,1));et[ut].applyMatrix4(rt.makeRotationAxis(nt,dt))}tt[ut].crossVectors(_e[ut],et[ut])}if(a===!0){let ut=Math.acos(clamp(et[0].dot(et[o]),-1,1));ut/=o,_e[0].dot(nt.crossVectors(et[0],et[o]))>0&&(ut=-ut);for(let dt=1;dt<=o;dt++)et[dt].applyMatrix4(rt.makeRotationAxis(_e[dt],ut*dt)),tt[dt].crossVectors(_e[dt],et[dt])}return{tangents:_e,normals:et,binormals:tt}}clone(){return new this.constructor().copy(this)}copy(o){return this.arcLengthDivisions=o.arcLengthDivisions,this}toJSON(){const o={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return o.arcLengthDivisions=this.arcLengthDivisions,o.type=this.type,o}fromJSON(o){return this.arcLengthDivisions=o.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(o=0,a=0,j=1,_e=1,et=0,tt=Math.PI*2,nt=!1,rt=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=o,this.aY=a,this.xRadius=j,this.yRadius=_e,this.aStartAngle=et,this.aEndAngle=tt,this.aClockwise=nt,this.aRotation=rt}getPoint(o,a){const j=a||new Vector2,_e=Math.PI*2;let et=this.aEndAngle-this.aStartAngle;const tt=Math.abs(et)<Number.EPSILON;for(;et<0;)et+=_e;for(;et>_e;)et-=_e;et<Number.EPSILON&&(tt?et=0:et=_e),this.aClockwise===!0&&!tt&&(et===_e?et=-_e:et=et-_e);const nt=this.aStartAngle+o*et;let rt=this.aX+this.xRadius*Math.cos(nt),it=this.aY+this.yRadius*Math.sin(nt);if(this.aRotation!==0){const ot=Math.cos(this.aRotation),at=Math.sin(this.aRotation),ct=rt-this.aX,ut=it-this.aY;rt=ct*ot-ut*at+this.aX,it=ct*at+ut*ot+this.aY}return j.set(rt,it)}copy(o){return super.copy(o),this.aX=o.aX,this.aY=o.aY,this.xRadius=o.xRadius,this.yRadius=o.yRadius,this.aStartAngle=o.aStartAngle,this.aEndAngle=o.aEndAngle,this.aClockwise=o.aClockwise,this.aRotation=o.aRotation,this}toJSON(){const o=super.toJSON();return o.aX=this.aX,o.aY=this.aY,o.xRadius=this.xRadius,o.yRadius=this.yRadius,o.aStartAngle=this.aStartAngle,o.aEndAngle=this.aEndAngle,o.aClockwise=this.aClockwise,o.aRotation=this.aRotation,o}fromJSON(o){return super.fromJSON(o),this.aX=o.aX,this.aY=o.aY,this.xRadius=o.xRadius,this.yRadius=o.yRadius,this.aStartAngle=o.aStartAngle,this.aEndAngle=o.aEndAngle,this.aClockwise=o.aClockwise,this.aRotation=o.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(o,a,j,_e,et,tt){super(o,a,j,j,_e,et,tt),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let $=0,o=0,a=0,j=0;function _e(et,tt,nt,rt){$=et,o=nt,a=-3*et+3*tt-2*nt-rt,j=2*et-2*tt+nt+rt}return{initCatmullRom:function(et,tt,nt,rt,it){_e(tt,nt,it*(nt-et),it*(rt-tt))},initNonuniformCatmullRom:function(et,tt,nt,rt,it,ot,at){let ct=(tt-et)/it-(nt-et)/(it+ot)+(nt-tt)/ot,ut=(nt-tt)/ot-(rt-tt)/(ot+at)+(rt-nt)/at;ct*=ot,ut*=ot,_e(tt,nt,ct,ut)},calc:function(et){const tt=et*et,nt=tt*et;return $+o*et+a*tt+j*nt}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(o=[],a=!1,j="centripetal",_e=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=o,this.closed=a,this.curveType=j,this.tension=_e}getPoint(o,a=new Vector3){const j=a,_e=this.points,et=_e.length,tt=(et-(this.closed?0:1))*o;let nt=Math.floor(tt),rt=tt-nt;this.closed?nt+=nt>0?0:(Math.floor(Math.abs(nt)/et)+1)*et:rt===0&&nt===et-1&&(nt=et-2,rt=1);let it,ot;this.closed||nt>0?it=_e[(nt-1)%et]:(tmp.subVectors(_e[0],_e[1]).add(_e[0]),it=tmp);const at=_e[nt%et],ct=_e[(nt+1)%et];if(this.closed||nt+2<et?ot=_e[(nt+2)%et]:(tmp.subVectors(_e[et-1],_e[et-2]).add(_e[et-1]),ot=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const ut=this.curveType==="chordal"?.5:.25;let dt=Math.pow(it.distanceToSquared(at),ut),ft=Math.pow(at.distanceToSquared(ct),ut),ht=Math.pow(ct.distanceToSquared(ot),ut);ft<1e-4&&(ft=1),dt<1e-4&&(dt=ft),ht<1e-4&&(ht=ft),px.initNonuniformCatmullRom(it.x,at.x,ct.x,ot.x,dt,ft,ht),py.initNonuniformCatmullRom(it.y,at.y,ct.y,ot.y,dt,ft,ht),pz.initNonuniformCatmullRom(it.z,at.z,ct.z,ot.z,dt,ft,ht)}else this.curveType==="catmullrom"&&(px.initCatmullRom(it.x,at.x,ct.x,ot.x,this.tension),py.initCatmullRom(it.y,at.y,ct.y,ot.y,this.tension),pz.initCatmullRom(it.z,at.z,ct.z,ot.z,this.tension));return j.set(px.calc(rt),py.calc(rt),pz.calc(rt)),j}copy(o){super.copy(o),this.points=[];for(let a=0,j=o.points.length;a<j;a++){const _e=o.points[a];this.points.push(_e.clone())}return this.closed=o.closed,this.curveType=o.curveType,this.tension=o.tension,this}toJSON(){const o=super.toJSON();o.points=[];for(let a=0,j=this.points.length;a<j;a++){const _e=this.points[a];o.points.push(_e.toArray())}return o.closed=this.closed,o.curveType=this.curveType,o.tension=this.tension,o}fromJSON(o){super.fromJSON(o),this.points=[];for(let a=0,j=o.points.length;a<j;a++){const _e=o.points[a];this.points.push(new Vector3().fromArray(_e))}return this.closed=o.closed,this.curveType=o.curveType,this.tension=o.tension,this}}function CatmullRom($,o,a,j,_e){const et=(j-o)*.5,tt=(_e-a)*.5,nt=$*$,rt=$*nt;return(2*a-2*j+et+tt)*rt+(-3*a+3*j-2*et-tt)*nt+et*$+a}function QuadraticBezierP0($,o){const a=1-$;return a*a*o}function QuadraticBezierP1($,o){return 2*(1-$)*$*o}function QuadraticBezierP2($,o){return $*$*o}function QuadraticBezier($,o,a,j){return QuadraticBezierP0($,o)+QuadraticBezierP1($,a)+QuadraticBezierP2($,j)}function CubicBezierP0($,o){const a=1-$;return a*a*a*o}function CubicBezierP1($,o){const a=1-$;return 3*a*a*$*o}function CubicBezierP2($,o){return 3*(1-$)*$*$*o}function CubicBezierP3($,o){return $*$*$*o}function CubicBezier($,o,a,j,_e){return CubicBezierP0($,o)+CubicBezierP1($,a)+CubicBezierP2($,j)+CubicBezierP3($,_e)}class CubicBezierCurve extends Curve{constructor(o=new Vector2,a=new Vector2,j=new Vector2,_e=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=o,this.v1=a,this.v2=j,this.v3=_e}getPoint(o,a=new Vector2){const j=a,_e=this.v0,et=this.v1,tt=this.v2,nt=this.v3;return j.set(CubicBezier(o,_e.x,et.x,tt.x,nt.x),CubicBezier(o,_e.y,et.y,tt.y,nt.y)),j}copy(o){return super.copy(o),this.v0.copy(o.v0),this.v1.copy(o.v1),this.v2.copy(o.v2),this.v3.copy(o.v3),this}toJSON(){const o=super.toJSON();return o.v0=this.v0.toArray(),o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o.v3=this.v3.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v0.fromArray(o.v0),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this.v3.fromArray(o.v3),this}}class CubicBezierCurve3 extends Curve{constructor(o=new Vector3,a=new Vector3,j=new Vector3,_e=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=o,this.v1=a,this.v2=j,this.v3=_e}getPoint(o,a=new Vector3){const j=a,_e=this.v0,et=this.v1,tt=this.v2,nt=this.v3;return j.set(CubicBezier(o,_e.x,et.x,tt.x,nt.x),CubicBezier(o,_e.y,et.y,tt.y,nt.y),CubicBezier(o,_e.z,et.z,tt.z,nt.z)),j}copy(o){return super.copy(o),this.v0.copy(o.v0),this.v1.copy(o.v1),this.v2.copy(o.v2),this.v3.copy(o.v3),this}toJSON(){const o=super.toJSON();return o.v0=this.v0.toArray(),o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o.v3=this.v3.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v0.fromArray(o.v0),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this.v3.fromArray(o.v3),this}}class LineCurve extends Curve{constructor(o=new Vector2,a=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=o,this.v2=a}getPoint(o,a=new Vector2){const j=a;return o===1?j.copy(this.v2):(j.copy(this.v2).sub(this.v1),j.multiplyScalar(o).add(this.v1)),j}getPointAt(o,a){return this.getPoint(o,a)}getTangent(o,a){const j=a||new Vector2;return j.copy(this.v2).sub(this.v1).normalize(),j}copy(o){return super.copy(o),this.v1.copy(o.v1),this.v2.copy(o.v2),this}toJSON(){const o=super.toJSON();return o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this}}class LineCurve3 extends Curve{constructor(o=new Vector3,a=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=o,this.v2=a}getPoint(o,a=new Vector3){const j=a;return o===1?j.copy(this.v2):(j.copy(this.v2).sub(this.v1),j.multiplyScalar(o).add(this.v1)),j}getPointAt(o,a){return this.getPoint(o,a)}copy(o){return super.copy(o),this.v1.copy(o.v1),this.v2.copy(o.v2),this}toJSON(){const o=super.toJSON();return o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this}}class QuadraticBezierCurve extends Curve{constructor(o=new Vector2,a=new Vector2,j=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=o,this.v1=a,this.v2=j}getPoint(o,a=new Vector2){const j=a,_e=this.v0,et=this.v1,tt=this.v2;return j.set(QuadraticBezier(o,_e.x,et.x,tt.x),QuadraticBezier(o,_e.y,et.y,tt.y)),j}copy(o){return super.copy(o),this.v0.copy(o.v0),this.v1.copy(o.v1),this.v2.copy(o.v2),this}toJSON(){const o=super.toJSON();return o.v0=this.v0.toArray(),o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v0.fromArray(o.v0),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(o=new Vector3,a=new Vector3,j=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=o,this.v1=a,this.v2=j}getPoint(o,a=new Vector3){const j=a,_e=this.v0,et=this.v1,tt=this.v2;return j.set(QuadraticBezier(o,_e.x,et.x,tt.x),QuadraticBezier(o,_e.y,et.y,tt.y),QuadraticBezier(o,_e.z,et.z,tt.z)),j}copy(o){return super.copy(o),this.v0.copy(o.v0),this.v1.copy(o.v1),this.v2.copy(o.v2),this}toJSON(){const o=super.toJSON();return o.v0=this.v0.toArray(),o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v0.fromArray(o.v0),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this}}class SplineCurve extends Curve{constructor(o=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=o}getPoint(o,a=new Vector2){const j=a,_e=this.points,et=(_e.length-1)*o,tt=Math.floor(et),nt=et-tt,rt=_e[tt===0?tt:tt-1],it=_e[tt],ot=_e[tt>_e.length-2?_e.length-1:tt+1],at=_e[tt>_e.length-3?_e.length-1:tt+2];return j.set(CatmullRom(nt,rt.x,it.x,ot.x,at.x),CatmullRom(nt,rt.y,it.y,ot.y,at.y)),j}copy(o){super.copy(o),this.points=[];for(let a=0,j=o.points.length;a<j;a++){const _e=o.points[a];this.points.push(_e.clone())}return this}toJSON(){const o=super.toJSON();o.points=[];for(let a=0,j=this.points.length;a<j;a++){const _e=this.points[a];o.points.push(_e.toArray())}return o}fromJSON(o){super.fromJSON(o),this.points=[];for(let a=0,j=o.points.length;a<j;a++){const _e=o.points[a];this.points.push(new Vector2().fromArray(_e))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(o){this.curves.push(o)}closePath(){const o=this.curves[0].getPoint(0),a=this.curves[this.curves.length-1].getPoint(1);o.equals(a)||this.curves.push(new LineCurve(a,o))}getPoint(o,a){const j=o*this.getLength(),_e=this.getCurveLengths();let et=0;for(;et<_e.length;){if(_e[et]>=j){const tt=_e[et]-j,nt=this.curves[et],rt=nt.getLength(),it=rt===0?0:1-tt/rt;return nt.getPointAt(it,a)}et++}return null}getLength(){const o=this.getCurveLengths();return o[o.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const o=[];let a=0;for(let j=0,_e=this.curves.length;j<_e;j++)a+=this.curves[j].getLength(),o.push(a);return this.cacheLengths=o,o}getSpacedPoints(o=40){const a=[];for(let j=0;j<=o;j++)a.push(this.getPoint(j/o));return this.autoClose&&a.push(a[0]),a}getPoints(o=12){const a=[];let j;for(let _e=0,et=this.curves;_e<et.length;_e++){const tt=et[_e],nt=tt.isEllipseCurve?o*2:tt.isLineCurve||tt.isLineCurve3?1:tt.isSplineCurve?o*tt.points.length:o,rt=tt.getPoints(nt);for(let it=0;it<rt.length;it++){const ot=rt[it];j&&j.equals(ot)||(a.push(ot),j=ot)}}return this.autoClose&&a.length>1&&!a[a.length-1].equals(a[0])&&a.push(a[0]),a}copy(o){super.copy(o),this.curves=[];for(let a=0,j=o.curves.length;a<j;a++){const _e=o.curves[a];this.curves.push(_e.clone())}return this.autoClose=o.autoClose,this}toJSON(){const o=super.toJSON();o.autoClose=this.autoClose,o.curves=[];for(let a=0,j=this.curves.length;a<j;a++){const _e=this.curves[a];o.curves.push(_e.toJSON())}return o}fromJSON(o){super.fromJSON(o),this.autoClose=o.autoClose,this.curves=[];for(let a=0,j=o.curves.length;a<j;a++){const _e=o.curves[a];this.curves.push(new Curves[_e.type]().fromJSON(_e))}return this}}class Path extends CurvePath{constructor(o){super(),this.type="Path",this.currentPoint=new Vector2,o&&this.setFromPoints(o)}setFromPoints(o){this.moveTo(o[0].x,o[0].y);for(let a=1,j=o.length;a<j;a++)this.lineTo(o[a].x,o[a].y);return this}moveTo(o,a){return this.currentPoint.set(o,a),this}lineTo(o,a){const j=new LineCurve(this.currentPoint.clone(),new Vector2(o,a));return this.curves.push(j),this.currentPoint.set(o,a),this}quadraticCurveTo(o,a,j,_e){const et=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(o,a),new Vector2(j,_e));return this.curves.push(et),this.currentPoint.set(j,_e),this}bezierCurveTo(o,a,j,_e,et,tt){const nt=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(o,a),new Vector2(j,_e),new Vector2(et,tt));return this.curves.push(nt),this.currentPoint.set(et,tt),this}splineThru(o){const a=[this.currentPoint.clone()].concat(o),j=new SplineCurve(a);return this.curves.push(j),this.currentPoint.copy(o[o.length-1]),this}arc(o,a,j,_e,et,tt){const nt=this.currentPoint.x,rt=this.currentPoint.y;return this.absarc(o+nt,a+rt,j,_e,et,tt),this}absarc(o,a,j,_e,et,tt){return this.absellipse(o,a,j,j,_e,et,tt),this}ellipse(o,a,j,_e,et,tt,nt,rt){const it=this.currentPoint.x,ot=this.currentPoint.y;return this.absellipse(o+it,a+ot,j,_e,et,tt,nt,rt),this}absellipse(o,a,j,_e,et,tt,nt,rt){const it=new EllipseCurve(o,a,j,_e,et,tt,nt,rt);if(this.curves.length>0){const at=it.getPoint(0);at.equals(this.currentPoint)||this.lineTo(at.x,at.y)}this.curves.push(it);const ot=it.getPoint(1);return this.currentPoint.copy(ot),this}copy(o){return super.copy(o),this.currentPoint.copy(o.currentPoint),this}toJSON(){const o=super.toJSON();return o.currentPoint=this.currentPoint.toArray(),o}fromJSON(o){return super.fromJSON(o),this.currentPoint.fromArray(o.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(o=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],a=12,j=0,_e=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:o,segments:a,phiStart:j,phiLength:_e},a=Math.floor(a),_e=clamp(_e,0,Math.PI*2);const et=[],tt=[],nt=[],rt=[],it=[],ot=1/a,at=new Vector3,ct=new Vector2,ut=new Vector3,dt=new Vector3,ft=new Vector3;let ht=0,pt=0;for(let yt=0;yt<=o.length-1;yt++)switch(yt){case 0:ht=o[yt+1].x-o[yt].x,pt=o[yt+1].y-o[yt].y,ut.x=pt*1,ut.y=-ht,ut.z=pt*0,ft.copy(ut),ut.normalize(),rt.push(ut.x,ut.y,ut.z);break;case o.length-1:rt.push(ft.x,ft.y,ft.z);break;default:ht=o[yt+1].x-o[yt].x,pt=o[yt+1].y-o[yt].y,ut.x=pt*1,ut.y=-ht,ut.z=pt*0,dt.copy(ut),ut.x+=ft.x,ut.y+=ft.y,ut.z+=ft.z,ut.normalize(),rt.push(ut.x,ut.y,ut.z),ft.copy(dt)}for(let yt=0;yt<=a;yt++){const gt=j+yt*ot*_e,bt=Math.sin(gt),At=Math.cos(gt);for(let Tt=0;Tt<=o.length-1;Tt++){at.x=o[Tt].x*bt,at.y=o[Tt].y,at.z=o[Tt].x*At,tt.push(at.x,at.y,at.z),ct.x=yt/a,ct.y=Tt/(o.length-1),nt.push(ct.x,ct.y);const Pt=rt[3*Tt+0]*bt,Ct=rt[3*Tt+1],It=rt[3*Tt+0]*At;it.push(Pt,Ct,It)}}for(let yt=0;yt<a;yt++)for(let gt=0;gt<o.length-1;gt++){const bt=gt+yt*o.length,At=bt,Tt=bt+o.length,Pt=bt+o.length+1,Ct=bt+1;et.push(At,Tt,Ct),et.push(Pt,Ct,Tt)}this.setIndex(et),this.setAttribute("position",new Float32BufferAttribute(tt,3)),this.setAttribute("uv",new Float32BufferAttribute(nt,2)),this.setAttribute("normal",new Float32BufferAttribute(it,3))}static fromJSON(o){return new LatheGeometry(o.points,o.segments,o.phiStart,o.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(o=1,a=1,j=4,_e=8){const et=new Path;et.absarc(0,-a/2,o,Math.PI*1.5,0),et.absarc(0,a/2,o,0,Math.PI*.5),super(et.getPoints(j),_e),this.type="CapsuleGeometry",this.parameters={radius:o,height:a,capSegments:j,radialSegments:_e}}static fromJSON(o){return new CapsuleGeometry(o.radius,o.length,o.capSegments,o.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(o=1,a=32,j=0,_e=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:o,segments:a,thetaStart:j,thetaLength:_e},a=Math.max(3,a);const et=[],tt=[],nt=[],rt=[],it=new Vector3,ot=new Vector2;tt.push(0,0,0),nt.push(0,0,1),rt.push(.5,.5);for(let at=0,ct=3;at<=a;at++,ct+=3){const ut=j+at/a*_e;it.x=o*Math.cos(ut),it.y=o*Math.sin(ut),tt.push(it.x,it.y,it.z),nt.push(0,0,1),ot.x=(tt[ct]/o+1)/2,ot.y=(tt[ct+1]/o+1)/2,rt.push(ot.x,ot.y)}for(let at=1;at<=a;at++)et.push(at,at+1,0);this.setIndex(et),this.setAttribute("position",new Float32BufferAttribute(tt,3)),this.setAttribute("normal",new Float32BufferAttribute(nt,3)),this.setAttribute("uv",new Float32BufferAttribute(rt,2))}static fromJSON(o){return new CircleGeometry(o.radius,o.segments,o.thetaStart,o.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(o=1,a=1,j=1,_e=32,et=1,tt=!1,nt=0,rt=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:o,radiusBottom:a,height:j,radialSegments:_e,heightSegments:et,openEnded:tt,thetaStart:nt,thetaLength:rt};const it=this;_e=Math.floor(_e),et=Math.floor(et);const ot=[],at=[],ct=[],ut=[];let dt=0;const ft=[],ht=j/2;let pt=0;yt(),tt===!1&&(o>0&&gt(!0),a>0&&gt(!1)),this.setIndex(ot),this.setAttribute("position",new Float32BufferAttribute(at,3)),this.setAttribute("normal",new Float32BufferAttribute(ct,3)),this.setAttribute("uv",new Float32BufferAttribute(ut,2));function yt(){const bt=new Vector3,At=new Vector3;let Tt=0;const Pt=(a-o)/j;for(let Ct=0;Ct<=et;Ct++){const It=[],Vt=Ct/et,Kt=Vt*(a-o)+o;for(let en=0;en<=_e;en++){const kt=en/_e,vt=kt*rt+nt,St=Math.sin(vt),Lt=Math.cos(vt);At.x=Kt*St,At.y=-Vt*j+ht,At.z=Kt*Lt,at.push(At.x,At.y,At.z),bt.set(St,Pt,Lt).normalize(),ct.push(bt.x,bt.y,bt.z),ut.push(kt,1-Vt),It.push(dt++)}ft.push(It)}for(let Ct=0;Ct<_e;Ct++)for(let It=0;It<et;It++){const Vt=ft[It][Ct],Kt=ft[It+1][Ct],en=ft[It+1][Ct+1],kt=ft[It][Ct+1];ot.push(Vt,Kt,kt),ot.push(Kt,en,kt),Tt+=6}it.addGroup(pt,Tt,0),pt+=Tt}function gt(bt){const At=dt,Tt=new Vector2,Pt=new Vector3;let Ct=0;const It=bt===!0?o:a,Vt=bt===!0?1:-1;for(let en=1;en<=_e;en++)at.push(0,ht*Vt,0),ct.push(0,Vt,0),ut.push(.5,.5),dt++;const Kt=dt;for(let en=0;en<=_e;en++){const vt=en/_e*rt+nt,St=Math.cos(vt),Lt=Math.sin(vt);Pt.x=It*Lt,Pt.y=ht*Vt,Pt.z=It*St,at.push(Pt.x,Pt.y,Pt.z),ct.push(0,Vt,0),Tt.x=St*.5+.5,Tt.y=Lt*.5*Vt+.5,ut.push(Tt.x,Tt.y),dt++}for(let en=0;en<_e;en++){const kt=At+en,vt=Kt+en;bt===!0?ot.push(vt,vt+1,kt):ot.push(vt+1,vt,kt),Ct+=3}it.addGroup(pt,Ct,bt===!0?1:2),pt+=Ct}}static fromJSON(o){return new CylinderGeometry(o.radiusTop,o.radiusBottom,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(o=1,a=1,j=32,_e=1,et=!1,tt=0,nt=Math.PI*2){super(0,o,a,j,_e,et,tt,nt),this.type="ConeGeometry",this.parameters={radius:o,height:a,radialSegments:j,heightSegments:_e,openEnded:et,thetaStart:tt,thetaLength:nt}}static fromJSON(o){return new ConeGeometry(o.radius,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(o=[],a=[],j=1,_e=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:o,indices:a,radius:j,detail:_e};const et=[],tt=[];nt(_e),it(j),ot(),this.setAttribute("position",new Float32BufferAttribute(et,3)),this.setAttribute("normal",new Float32BufferAttribute(et.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(tt,2)),_e===0?this.computeVertexNormals():this.normalizeNormals();function nt(yt){const gt=new Vector3,bt=new Vector3,At=new Vector3;for(let Tt=0;Tt<a.length;Tt+=3)ut(a[Tt+0],gt),ut(a[Tt+1],bt),ut(a[Tt+2],At),rt(gt,bt,At,yt)}function rt(yt,gt,bt,At){const Tt=At+1,Pt=[];for(let Ct=0;Ct<=Tt;Ct++){Pt[Ct]=[];const It=yt.clone().lerp(bt,Ct/Tt),Vt=gt.clone().lerp(bt,Ct/Tt),Kt=Tt-Ct;for(let en=0;en<=Kt;en++)en===0&&Ct===Tt?Pt[Ct][en]=It:Pt[Ct][en]=It.clone().lerp(Vt,en/Kt)}for(let Ct=0;Ct<Tt;Ct++)for(let It=0;It<2*(Tt-Ct)-1;It++){const Vt=Math.floor(It/2);It%2===0?(ct(Pt[Ct][Vt+1]),ct(Pt[Ct+1][Vt]),ct(Pt[Ct][Vt])):(ct(Pt[Ct][Vt+1]),ct(Pt[Ct+1][Vt+1]),ct(Pt[Ct+1][Vt]))}}function it(yt){const gt=new Vector3;for(let bt=0;bt<et.length;bt+=3)gt.x=et[bt+0],gt.y=et[bt+1],gt.z=et[bt+2],gt.normalize().multiplyScalar(yt),et[bt+0]=gt.x,et[bt+1]=gt.y,et[bt+2]=gt.z}function ot(){const yt=new Vector3;for(let gt=0;gt<et.length;gt+=3){yt.x=et[gt+0],yt.y=et[gt+1],yt.z=et[gt+2];const bt=ht(yt)/2/Math.PI+.5,At=pt(yt)/Math.PI+.5;tt.push(bt,1-At)}dt(),at()}function at(){for(let yt=0;yt<tt.length;yt+=6){const gt=tt[yt+0],bt=tt[yt+2],At=tt[yt+4],Tt=Math.max(gt,bt,At),Pt=Math.min(gt,bt,At);Tt>.9&&Pt<.1&&(gt<.2&&(tt[yt+0]+=1),bt<.2&&(tt[yt+2]+=1),At<.2&&(tt[yt+4]+=1))}}function ct(yt){et.push(yt.x,yt.y,yt.z)}function ut(yt,gt){const bt=yt*3;gt.x=o[bt+0],gt.y=o[bt+1],gt.z=o[bt+2]}function dt(){const yt=new Vector3,gt=new Vector3,bt=new Vector3,At=new Vector3,Tt=new Vector2,Pt=new Vector2,Ct=new Vector2;for(let It=0,Vt=0;It<et.length;It+=9,Vt+=6){yt.set(et[It+0],et[It+1],et[It+2]),gt.set(et[It+3],et[It+4],et[It+5]),bt.set(et[It+6],et[It+7],et[It+8]),Tt.set(tt[Vt+0],tt[Vt+1]),Pt.set(tt[Vt+2],tt[Vt+3]),Ct.set(tt[Vt+4],tt[Vt+5]),At.copy(yt).add(gt).add(bt).divideScalar(3);const Kt=ht(At);ft(Tt,Vt+0,yt,Kt),ft(Pt,Vt+2,gt,Kt),ft(Ct,Vt+4,bt,Kt)}}function ft(yt,gt,bt,At){At<0&&yt.x===1&&(tt[gt]=yt.x-1),bt.x===0&&bt.z===0&&(tt[gt]=At/2/Math.PI+.5)}function ht(yt){return Math.atan2(yt.z,-yt.x)}function pt(yt){return Math.atan2(-yt.y,Math.sqrt(yt.x*yt.x+yt.z*yt.z))}}static fromJSON(o){return new PolyhedronGeometry(o.vertices,o.indices,o.radius,o.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(o=1,a=0){const j=(1+Math.sqrt(5))/2,_e=1/j,et=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-_e,-j,0,-_e,j,0,_e,-j,0,_e,j,-_e,-j,0,-_e,j,0,_e,-j,0,_e,j,0,-j,0,-_e,j,0,-_e,-j,0,_e,j,0,_e],tt=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(et,tt,o,a),this.type="DodecahedronGeometry",this.parameters={radius:o,detail:a}}static fromJSON(o){return new DodecahedronGeometry(o.radius,o.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(o=null,a=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:o,thresholdAngle:a},o!==null){const _e=Math.pow(10,4),et=Math.cos(DEG2RAD*a),tt=o.getIndex(),nt=o.getAttribute("position"),rt=tt?tt.count:nt.count,it=[0,0,0],ot=["a","b","c"],at=new Array(3),ct={},ut=[];for(let dt=0;dt<rt;dt+=3){tt?(it[0]=tt.getX(dt),it[1]=tt.getX(dt+1),it[2]=tt.getX(dt+2)):(it[0]=dt,it[1]=dt+1,it[2]=dt+2);const{a:ft,b:ht,c:pt}=_triangle;if(ft.fromBufferAttribute(nt,it[0]),ht.fromBufferAttribute(nt,it[1]),pt.fromBufferAttribute(nt,it[2]),_triangle.getNormal(_normal),at[0]=`${Math.round(ft.x*_e)},${Math.round(ft.y*_e)},${Math.round(ft.z*_e)}`,at[1]=`${Math.round(ht.x*_e)},${Math.round(ht.y*_e)},${Math.round(ht.z*_e)}`,at[2]=`${Math.round(pt.x*_e)},${Math.round(pt.y*_e)},${Math.round(pt.z*_e)}`,!(at[0]===at[1]||at[1]===at[2]||at[2]===at[0]))for(let yt=0;yt<3;yt++){const gt=(yt+1)%3,bt=at[yt],At=at[gt],Tt=_triangle[ot[yt]],Pt=_triangle[ot[gt]],Ct=`${bt}_${At}`,It=`${At}_${bt}`;It in ct&&ct[It]?(_normal.dot(ct[It].normal)<=et&&(ut.push(Tt.x,Tt.y,Tt.z),ut.push(Pt.x,Pt.y,Pt.z)),ct[It]=null):Ct in ct||(ct[Ct]={index0:it[yt],index1:it[gt],normal:_normal.clone()})}}for(const dt in ct)if(ct[dt]){const{index0:ft,index1:ht}=ct[dt];_v0.fromBufferAttribute(nt,ft),_v1$1.fromBufferAttribute(nt,ht),ut.push(_v0.x,_v0.y,_v0.z),ut.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(ut,3))}}}class Shape extends Path{constructor(o){super(o),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(o){const a=[];for(let j=0,_e=this.holes.length;j<_e;j++)a[j]=this.holes[j].getPoints(o);return a}extractPoints(o){return{shape:this.getPoints(o),holes:this.getPointsHoles(o)}}copy(o){super.copy(o),this.holes=[];for(let a=0,j=o.holes.length;a<j;a++){const _e=o.holes[a];this.holes.push(_e.clone())}return this}toJSON(){const o=super.toJSON();o.uuid=this.uuid,o.holes=[];for(let a=0,j=this.holes.length;a<j;a++){const _e=this.holes[a];o.holes.push(_e.toJSON())}return o}fromJSON(o){super.fromJSON(o),this.uuid=o.uuid,this.holes=[];for(let a=0,j=o.holes.length;a<j;a++){const _e=o.holes[a];this.holes.push(new Path().fromJSON(_e))}return this}}const Earcut={triangulate:function($,o,a=2){const j=o&&o.length,_e=j?o[0]*a:$.length;let et=linkedList($,0,_e,a,!0);const tt=[];if(!et||et.next===et.prev)return tt;let nt,rt,it,ot,at,ct,ut;if(j&&(et=eliminateHoles($,o,et,a)),$.length>80*a){nt=it=$[0],rt=ot=$[1];for(let dt=a;dt<_e;dt+=a)at=$[dt],ct=$[dt+1],at<nt&&(nt=at),ct<rt&&(rt=ct),at>it&&(it=at),ct>ot&&(ot=ct);ut=Math.max(it-nt,ot-rt),ut=ut!==0?32767/ut:0}return earcutLinked(et,tt,a,nt,rt,ut,0),tt}};function linkedList($,o,a,j,_e){let et,tt;if(_e===signedArea($,o,a,j)>0)for(et=o;et<a;et+=j)tt=insertNode(et,$[et],$[et+1],tt);else for(et=a-j;et>=o;et-=j)tt=insertNode(et,$[et],$[et+1],tt);return tt&&equals(tt,tt.next)&&(removeNode(tt),tt=tt.next),tt}function filterPoints($,o){if(!$)return $;o||(o=$);let a=$,j;do if(j=!1,!a.steiner&&(equals(a,a.next)||area(a.prev,a,a.next)===0)){if(removeNode(a),a=o=a.prev,a===a.next)break;j=!0}else a=a.next;while(j||a!==o);return o}function earcutLinked($,o,a,j,_e,et,tt){if(!$)return;!tt&&et&&indexCurve($,j,_e,et);let nt=$,rt,it;for(;$.prev!==$.next;){if(rt=$.prev,it=$.next,et?isEarHashed($,j,_e,et):isEar($)){o.push(rt.i/a|0),o.push($.i/a|0),o.push(it.i/a|0),removeNode($),$=it.next,nt=it.next;continue}if($=it,$===nt){tt?tt===1?($=cureLocalIntersections(filterPoints($),o,a),earcutLinked($,o,a,j,_e,et,2)):tt===2&&splitEarcut($,o,a,j,_e,et):earcutLinked(filterPoints($),o,a,j,_e,et,1);break}}}function isEar($){const o=$.prev,a=$,j=$.next;if(area(o,a,j)>=0)return!1;const _e=o.x,et=a.x,tt=j.x,nt=o.y,rt=a.y,it=j.y,ot=_e<et?_e<tt?_e:tt:et<tt?et:tt,at=nt<rt?nt<it?nt:it:rt<it?rt:it,ct=_e>et?_e>tt?_e:tt:et>tt?et:tt,ut=nt>rt?nt>it?nt:it:rt>it?rt:it;let dt=j.next;for(;dt!==o;){if(dt.x>=ot&&dt.x<=ct&&dt.y>=at&&dt.y<=ut&&pointInTriangle(_e,nt,et,rt,tt,it,dt.x,dt.y)&&area(dt.prev,dt,dt.next)>=0)return!1;dt=dt.next}return!0}function isEarHashed($,o,a,j){const _e=$.prev,et=$,tt=$.next;if(area(_e,et,tt)>=0)return!1;const nt=_e.x,rt=et.x,it=tt.x,ot=_e.y,at=et.y,ct=tt.y,ut=nt<rt?nt<it?nt:it:rt<it?rt:it,dt=ot<at?ot<ct?ot:ct:at<ct?at:ct,ft=nt>rt?nt>it?nt:it:rt>it?rt:it,ht=ot>at?ot>ct?ot:ct:at>ct?at:ct,pt=zOrder(ut,dt,o,a,j),yt=zOrder(ft,ht,o,a,j);let gt=$.prevZ,bt=$.nextZ;for(;gt&&gt.z>=pt&&bt&&bt.z<=yt;){if(gt.x>=ut&&gt.x<=ft&&gt.y>=dt&&gt.y<=ht&&gt!==_e&&gt!==tt&&pointInTriangle(nt,ot,rt,at,it,ct,gt.x,gt.y)&&area(gt.prev,gt,gt.next)>=0||(gt=gt.prevZ,bt.x>=ut&&bt.x<=ft&&bt.y>=dt&&bt.y<=ht&&bt!==_e&&bt!==tt&&pointInTriangle(nt,ot,rt,at,it,ct,bt.x,bt.y)&&area(bt.prev,bt,bt.next)>=0))return!1;bt=bt.nextZ}for(;gt&&gt.z>=pt;){if(gt.x>=ut&&gt.x<=ft&&gt.y>=dt&&gt.y<=ht&&gt!==_e&&gt!==tt&&pointInTriangle(nt,ot,rt,at,it,ct,gt.x,gt.y)&&area(gt.prev,gt,gt.next)>=0)return!1;gt=gt.prevZ}for(;bt&&bt.z<=yt;){if(bt.x>=ut&&bt.x<=ft&&bt.y>=dt&&bt.y<=ht&&bt!==_e&&bt!==tt&&pointInTriangle(nt,ot,rt,at,it,ct,bt.x,bt.y)&&area(bt.prev,bt,bt.next)>=0)return!1;bt=bt.nextZ}return!0}function cureLocalIntersections($,o,a){let j=$;do{const _e=j.prev,et=j.next.next;!equals(_e,et)&&intersects(_e,j,j.next,et)&&locallyInside(_e,et)&&locallyInside(et,_e)&&(o.push(_e.i/a|0),o.push(j.i/a|0),o.push(et.i/a|0),removeNode(j),removeNode(j.next),j=$=et),j=j.next}while(j!==$);return filterPoints(j)}function splitEarcut($,o,a,j,_e,et){let tt=$;do{let nt=tt.next.next;for(;nt!==tt.prev;){if(tt.i!==nt.i&&isValidDiagonal(tt,nt)){let rt=splitPolygon(tt,nt);tt=filterPoints(tt,tt.next),rt=filterPoints(rt,rt.next),earcutLinked(tt,o,a,j,_e,et,0),earcutLinked(rt,o,a,j,_e,et,0);return}nt=nt.next}tt=tt.next}while(tt!==$)}function eliminateHoles($,o,a,j){const _e=[];let et,tt,nt,rt,it;for(et=0,tt=o.length;et<tt;et++)nt=o[et]*j,rt=et<tt-1?o[et+1]*j:$.length,it=linkedList($,nt,rt,j,!1),it===it.next&&(it.steiner=!0),_e.push(getLeftmost(it));for(_e.sort(compareX),et=0;et<_e.length;et++)a=eliminateHole(_e[et],a);return a}function compareX($,o){return $.x-o.x}function eliminateHole($,o){const a=findHoleBridge($,o);if(!a)return o;const j=splitPolygon(a,$);return filterPoints(j,j.next),filterPoints(a,a.next)}function findHoleBridge($,o){let a=o,j=-1/0,_e;const et=$.x,tt=$.y;do{if(tt<=a.y&&tt>=a.next.y&&a.next.y!==a.y){const ct=a.x+(tt-a.y)*(a.next.x-a.x)/(a.next.y-a.y);if(ct<=et&&ct>j&&(j=ct,_e=a.x<a.next.x?a:a.next,ct===et))return _e}a=a.next}while(a!==o);if(!_e)return null;const nt=_e,rt=_e.x,it=_e.y;let ot=1/0,at;a=_e;do et>=a.x&&a.x>=rt&&et!==a.x&&pointInTriangle(tt<it?et:j,tt,rt,it,tt<it?j:et,tt,a.x,a.y)&&(at=Math.abs(tt-a.y)/(et-a.x),locallyInside(a,$)&&(at<ot||at===ot&&(a.x>_e.x||a.x===_e.x&&sectorContainsSector(_e,a)))&&(_e=a,ot=at)),a=a.next;while(a!==nt);return _e}function sectorContainsSector($,o){return area($.prev,$,o.prev)<0&&area(o.next,$,$.next)<0}function indexCurve($,o,a,j){let _e=$;do _e.z===0&&(_e.z=zOrder(_e.x,_e.y,o,a,j)),_e.prevZ=_e.prev,_e.nextZ=_e.next,_e=_e.next;while(_e!==$);_e.prevZ.nextZ=null,_e.prevZ=null,sortLinked(_e)}function sortLinked($){let o,a,j,_e,et,tt,nt,rt,it=1;do{for(a=$,$=null,et=null,tt=0;a;){for(tt++,j=a,nt=0,o=0;o<it&&(nt++,j=j.nextZ,!!j);o++);for(rt=it;nt>0||rt>0&&j;)nt!==0&&(rt===0||!j||a.z<=j.z)?(_e=a,a=a.nextZ,nt--):(_e=j,j=j.nextZ,rt--),et?et.nextZ=_e:$=_e,_e.prevZ=et,et=_e;a=j}et.nextZ=null,it*=2}while(tt>1);return $}function zOrder($,o,a,j,_e){return $=($-a)*_e|0,o=(o-j)*_e|0,$=($|$<<8)&16711935,$=($|$<<4)&252645135,$=($|$<<2)&858993459,$=($|$<<1)&1431655765,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,$|o<<1}function getLeftmost($){let o=$,a=$;do(o.x<a.x||o.x===a.x&&o.y<a.y)&&(a=o),o=o.next;while(o!==$);return a}function pointInTriangle($,o,a,j,_e,et,tt,nt){return(_e-tt)*(o-nt)>=($-tt)*(et-nt)&&($-tt)*(j-nt)>=(a-tt)*(o-nt)&&(a-tt)*(et-nt)>=(_e-tt)*(j-nt)}function isValidDiagonal($,o){return $.next.i!==o.i&&$.prev.i!==o.i&&!intersectsPolygon($,o)&&(locallyInside($,o)&&locallyInside(o,$)&&middleInside($,o)&&(area($.prev,$,o.prev)||area($,o.prev,o))||equals($,o)&&area($.prev,$,$.next)>0&&area(o.prev,o,o.next)>0)}function area($,o,a){return(o.y-$.y)*(a.x-o.x)-(o.x-$.x)*(a.y-o.y)}function equals($,o){return $.x===o.x&&$.y===o.y}function intersects($,o,a,j){const _e=sign(area($,o,a)),et=sign(area($,o,j)),tt=sign(area(a,j,$)),nt=sign(area(a,j,o));return!!(_e!==et&&tt!==nt||_e===0&&onSegment($,a,o)||et===0&&onSegment($,j,o)||tt===0&&onSegment(a,$,j)||nt===0&&onSegment(a,o,j))}function onSegment($,o,a){return o.x<=Math.max($.x,a.x)&&o.x>=Math.min($.x,a.x)&&o.y<=Math.max($.y,a.y)&&o.y>=Math.min($.y,a.y)}function sign($){return $>0?1:$<0?-1:0}function intersectsPolygon($,o){let a=$;do{if(a.i!==$.i&&a.next.i!==$.i&&a.i!==o.i&&a.next.i!==o.i&&intersects(a,a.next,$,o))return!0;a=a.next}while(a!==$);return!1}function locallyInside($,o){return area($.prev,$,$.next)<0?area($,o,$.next)>=0&&area($,$.prev,o)>=0:area($,o,$.prev)<0||area($,$.next,o)<0}function middleInside($,o){let a=$,j=!1;const _e=($.x+o.x)/2,et=($.y+o.y)/2;do a.y>et!=a.next.y>et&&a.next.y!==a.y&&_e<(a.next.x-a.x)*(et-a.y)/(a.next.y-a.y)+a.x&&(j=!j),a=a.next;while(a!==$);return j}function splitPolygon($,o){const a=new Node($.i,$.x,$.y),j=new Node(o.i,o.x,o.y),_e=$.next,et=o.prev;return $.next=o,o.prev=$,a.next=_e,_e.prev=a,j.next=a,a.prev=j,et.next=j,j.prev=et,j}function insertNode($,o,a,j){const _e=new Node($,o,a);return j?(_e.next=j.next,_e.prev=j,j.next.prev=_e,j.next=_e):(_e.prev=_e,_e.next=_e),_e}function removeNode($){$.next.prev=$.prev,$.prev.next=$.next,$.prevZ&&($.prevZ.nextZ=$.nextZ),$.nextZ&&($.nextZ.prevZ=$.prevZ)}function Node($,o,a){this.i=$,this.x=o,this.y=a,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea($,o,a,j){let _e=0;for(let et=o,tt=a-j;et<a;et+=j)_e+=($[tt]-$[et])*($[et+1]+$[tt+1]),tt=et;return _e}class ShapeUtils{static area(o){const a=o.length;let j=0;for(let _e=a-1,et=0;et<a;_e=et++)j+=o[_e].x*o[et].y-o[et].x*o[_e].y;return j*.5}static isClockWise(o){return ShapeUtils.area(o)<0}static triangulateShape(o,a){const j=[],_e=[],et=[];removeDupEndPts(o),addContour(j,o);let tt=o.length;a.forEach(removeDupEndPts);for(let rt=0;rt<a.length;rt++)_e.push(tt),tt+=a[rt].length,addContour(j,a[rt]);const nt=Earcut.triangulate(j,_e);for(let rt=0;rt<nt.length;rt+=3)et.push(nt.slice(rt,rt+3));return et}}function removeDupEndPts($){const o=$.length;o>2&&$[o-1].equals($[0])&&$.pop()}function addContour($,o){for(let a=0;a<o.length;a++)$.push(o[a].x),$.push(o[a].y)}class ExtrudeGeometry extends BufferGeometry{constructor(o=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),a={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:o,options:a},o=Array.isArray(o)?o:[o];const j=this,_e=[],et=[];for(let nt=0,rt=o.length;nt<rt;nt++){const it=o[nt];tt(it)}this.setAttribute("position",new Float32BufferAttribute(_e,3)),this.setAttribute("uv",new Float32BufferAttribute(et,2)),this.computeVertexNormals();function tt(nt){const rt=[],it=a.curveSegments!==void 0?a.curveSegments:12,ot=a.steps!==void 0?a.steps:1,at=a.depth!==void 0?a.depth:1;let ct=a.bevelEnabled!==void 0?a.bevelEnabled:!0,ut=a.bevelThickness!==void 0?a.bevelThickness:.2,dt=a.bevelSize!==void 0?a.bevelSize:ut-.1,ft=a.bevelOffset!==void 0?a.bevelOffset:0,ht=a.bevelSegments!==void 0?a.bevelSegments:3;const pt=a.extrudePath,yt=a.UVGenerator!==void 0?a.UVGenerator:WorldUVGenerator;let gt,bt=!1,At,Tt,Pt,Ct;pt&&(gt=pt.getSpacedPoints(ot),bt=!0,ct=!1,At=pt.computeFrenetFrames(ot,!1),Tt=new Vector3,Pt=new Vector3,Ct=new Vector3),ct||(ht=0,ut=0,dt=0,ft=0);const It=nt.extractPoints(it);let Vt=It.shape;const Kt=It.holes;if(!ShapeUtils.isClockWise(Vt)){Vt=Vt.reverse();for(let tn=0,cn=Kt.length;tn<cn;tn++){const pn=Kt[tn];ShapeUtils.isClockWise(pn)&&(Kt[tn]=pn.reverse())}}const kt=ShapeUtils.triangulateShape(Vt,Kt),vt=Vt;for(let tn=0,cn=Kt.length;tn<cn;tn++){const pn=Kt[tn];Vt=Vt.concat(pn)}function St(tn,cn,pn){return cn||console.error("THREE.ExtrudeGeometry: vec does not exist"),cn.clone().multiplyScalar(pn).add(tn)}const Lt=Vt.length,zt=kt.length;function Rt(tn,cn,pn){let Mn,In,Rn;const Ln=tn.x-cn.x,Fn=tn.y-cn.y,Un=pn.x-tn.x,Nn=pn.y-tn.y,Xt=Ln*Ln+Fn*Fn,jt=Ln*Nn-Fn*Un;if(Math.abs(jt)>Number.EPSILON){const un=Math.sqrt(Xt),Tn=Math.sqrt(Un*Un+Nn*Nn),Bn=cn.x-Fn/un,Ot=cn.y+Ln/un,Mt=pn.x-Nn/Tn,Et=pn.y+Un/Tn,Ut=((Mt-Bn)*Nn-(Et-Ot)*Un)/(Ln*Nn-Fn*Un);Mn=Bn+Ln*Ut-tn.x,In=Ot+Fn*Ut-tn.y;const Qt=Mn*Mn+In*In;if(Qt<=2)return new Vector2(Mn,In);Rn=Math.sqrt(Qt/2)}else{let un=!1;Ln>Number.EPSILON?Un>Number.EPSILON&&(un=!0):Ln<-Number.EPSILON?Un<-Number.EPSILON&&(un=!0):Math.sign(Fn)===Math.sign(Nn)&&(un=!0),un?(Mn=-Fn,In=Ln,Rn=Math.sqrt(Xt)):(Mn=Ln,In=Fn,Rn=Math.sqrt(Xt/2))}return new Vector2(Mn/Rn,In/Rn)}const $t=[];for(let tn=0,cn=vt.length,pn=cn-1,Mn=tn+1;tn<cn;tn++,pn++,Mn++)pn===cn&&(pn=0),Mn===cn&&(Mn=0),$t[tn]=Rt(vt[tn],vt[pn],vt[Mn]);const Gt=[];let Ft,wt=$t.concat();for(let tn=0,cn=Kt.length;tn<cn;tn++){const pn=Kt[tn];Ft=[];for(let Mn=0,In=pn.length,Rn=In-1,Ln=Mn+1;Mn<In;Mn++,Rn++,Ln++)Rn===In&&(Rn=0),Ln===In&&(Ln=0),Ft[Mn]=Rt(pn[Mn],pn[Rn],pn[Ln]);Gt.push(Ft),wt=wt.concat(Ft)}for(let tn=0;tn<ht;tn++){const cn=tn/ht,pn=ut*Math.cos(cn*Math.PI/2),Mn=dt*Math.sin(cn*Math.PI/2)+ft;for(let In=0,Rn=vt.length;In<Rn;In++){const Ln=St(vt[In],$t[In],Mn);on(Ln.x,Ln.y,-pn)}for(let In=0,Rn=Kt.length;In<Rn;In++){const Ln=Kt[In];Ft=Gt[In];for(let Fn=0,Un=Ln.length;Fn<Un;Fn++){const Nn=St(Ln[Fn],Ft[Fn],Mn);on(Nn.x,Nn.y,-pn)}}}const Ht=dt+ft;for(let tn=0;tn<Lt;tn++){const cn=ct?St(Vt[tn],wt[tn],Ht):Vt[tn];bt?(Pt.copy(At.normals[0]).multiplyScalar(cn.x),Tt.copy(At.binormals[0]).multiplyScalar(cn.y),Ct.copy(gt[0]).add(Pt).add(Tt),on(Ct.x,Ct.y,Ct.z)):on(cn.x,cn.y,0)}for(let tn=1;tn<=ot;tn++)for(let cn=0;cn<Lt;cn++){const pn=ct?St(Vt[cn],wt[cn],Ht):Vt[cn];bt?(Pt.copy(At.normals[tn]).multiplyScalar(pn.x),Tt.copy(At.binormals[tn]).multiplyScalar(pn.y),Ct.copy(gt[tn]).add(Pt).add(Tt),on(Ct.x,Ct.y,Ct.z)):on(pn.x,pn.y,at/ot*tn)}for(let tn=ht-1;tn>=0;tn--){const cn=tn/ht,pn=ut*Math.cos(cn*Math.PI/2),Mn=dt*Math.sin(cn*Math.PI/2)+ft;for(let In=0,Rn=vt.length;In<Rn;In++){const Ln=St(vt[In],$t[In],Mn);on(Ln.x,Ln.y,at+pn)}for(let In=0,Rn=Kt.length;In<Rn;In++){const Ln=Kt[In];Ft=Gt[In];for(let Fn=0,Un=Ln.length;Fn<Un;Fn++){const Nn=St(Ln[Fn],Ft[Fn],Mn);bt?on(Nn.x,Nn.y+gt[ot-1].y,gt[ot-1].x+pn):on(Nn.x,Nn.y,at+pn)}}}nn(),Dt();function nn(){const tn=_e.length/3;if(ct){let cn=0,pn=Lt*cn;for(let Mn=0;Mn<zt;Mn++){const In=kt[Mn];sn(In[2]+pn,In[1]+pn,In[0]+pn)}cn=ot+ht*2,pn=Lt*cn;for(let Mn=0;Mn<zt;Mn++){const In=kt[Mn];sn(In[0]+pn,In[1]+pn,In[2]+pn)}}else{for(let cn=0;cn<zt;cn++){const pn=kt[cn];sn(pn[2],pn[1],pn[0])}for(let cn=0;cn<zt;cn++){const pn=kt[cn];sn(pn[0]+Lt*ot,pn[1]+Lt*ot,pn[2]+Lt*ot)}}j.addGroup(tn,_e.length/3-tn,0)}function Dt(){const tn=_e.length/3;let cn=0;Jt(vt,cn),cn+=vt.length;for(let pn=0,Mn=Kt.length;pn<Mn;pn++){const In=Kt[pn];Jt(In,cn),cn+=In.length}j.addGroup(tn,_e.length/3-tn,1)}function Jt(tn,cn){let pn=tn.length;for(;--pn>=0;){const Mn=pn;let In=pn-1;In<0&&(In=tn.length-1);for(let Rn=0,Ln=ot+ht*2;Rn<Ln;Rn++){const Fn=Lt*Rn,Un=Lt*(Rn+1),Nn=cn+Mn+Fn,Xt=cn+In+Fn,jt=cn+In+Un,un=cn+Mn+Un;dn(Nn,Xt,jt,un)}}}function on(tn,cn,pn){rt.push(tn),rt.push(cn),rt.push(pn)}function sn(tn,cn,pn){mn(tn),mn(cn),mn(pn);const Mn=_e.length/3,In=yt.generateTopUV(j,_e,Mn-3,Mn-2,Mn-1);ln(In[0]),ln(In[1]),ln(In[2])}function dn(tn,cn,pn,Mn){mn(tn),mn(cn),mn(Mn),mn(cn),mn(pn),mn(Mn);const In=_e.length/3,Rn=yt.generateSideWallUV(j,_e,In-6,In-3,In-2,In-1);ln(Rn[0]),ln(Rn[1]),ln(Rn[3]),ln(Rn[1]),ln(Rn[2]),ln(Rn[3])}function mn(tn){_e.push(rt[tn*3+0]),_e.push(rt[tn*3+1]),_e.push(rt[tn*3+2])}function ln(tn){et.push(tn.x),et.push(tn.y)}}}toJSON(){const o=super.toJSON(),a=this.parameters.shapes,j=this.parameters.options;return toJSON$1(a,j,o)}static fromJSON(o,a){const j=[];for(let et=0,tt=o.shapes.length;et<tt;et++){const nt=a[o.shapes[et]];j.push(nt)}const _e=o.options.extrudePath;return _e!==void 0&&(o.options.extrudePath=new Curves[_e.type]().fromJSON(_e)),new ExtrudeGeometry(j,o.options)}}const WorldUVGenerator={generateTopUV:function($,o,a,j,_e){const et=o[a*3],tt=o[a*3+1],nt=o[j*3],rt=o[j*3+1],it=o[_e*3],ot=o[_e*3+1];return[new Vector2(et,tt),new Vector2(nt,rt),new Vector2(it,ot)]},generateSideWallUV:function($,o,a,j,_e,et){const tt=o[a*3],nt=o[a*3+1],rt=o[a*3+2],it=o[j*3],ot=o[j*3+1],at=o[j*3+2],ct=o[_e*3],ut=o[_e*3+1],dt=o[_e*3+2],ft=o[et*3],ht=o[et*3+1],pt=o[et*3+2];return Math.abs(nt-ot)<Math.abs(tt-it)?[new Vector2(tt,1-rt),new Vector2(it,1-at),new Vector2(ct,1-dt),new Vector2(ft,1-pt)]:[new Vector2(nt,1-rt),new Vector2(ot,1-at),new Vector2(ut,1-dt),new Vector2(ht,1-pt)]}};function toJSON$1($,o,a){if(a.shapes=[],Array.isArray($))for(let j=0,_e=$.length;j<_e;j++){const et=$[j];a.shapes.push(et.uuid)}else a.shapes.push($.uuid);return a.options=Object.assign({},o),o.extrudePath!==void 0&&(a.options.extrudePath=o.extrudePath.toJSON()),a}class IcosahedronGeometry extends PolyhedronGeometry{constructor(o=1,a=0){const j=(1+Math.sqrt(5))/2,_e=[-1,j,0,1,j,0,-1,-j,0,1,-j,0,0,-1,j,0,1,j,0,-1,-j,0,1,-j,j,0,-1,j,0,1,-j,0,-1,-j,0,1],et=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(_e,et,o,a),this.type="IcosahedronGeometry",this.parameters={radius:o,detail:a}}static fromJSON(o){return new IcosahedronGeometry(o.radius,o.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(o=1,a=0){const j=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],_e=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(j,_e,o,a),this.type="OctahedronGeometry",this.parameters={radius:o,detail:a}}static fromJSON(o){return new OctahedronGeometry(o.radius,o.detail)}}class RingGeometry extends BufferGeometry{constructor(o=.5,a=1,j=32,_e=1,et=0,tt=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:o,outerRadius:a,thetaSegments:j,phiSegments:_e,thetaStart:et,thetaLength:tt},j=Math.max(3,j),_e=Math.max(1,_e);const nt=[],rt=[],it=[],ot=[];let at=o;const ct=(a-o)/_e,ut=new Vector3,dt=new Vector2;for(let ft=0;ft<=_e;ft++){for(let ht=0;ht<=j;ht++){const pt=et+ht/j*tt;ut.x=at*Math.cos(pt),ut.y=at*Math.sin(pt),rt.push(ut.x,ut.y,ut.z),it.push(0,0,1),dt.x=(ut.x/a+1)/2,dt.y=(ut.y/a+1)/2,ot.push(dt.x,dt.y)}at+=ct}for(let ft=0;ft<_e;ft++){const ht=ft*(j+1);for(let pt=0;pt<j;pt++){const yt=pt+ht,gt=yt,bt=yt+j+1,At=yt+j+2,Tt=yt+1;nt.push(gt,bt,Tt),nt.push(bt,At,Tt)}}this.setIndex(nt),this.setAttribute("position",new Float32BufferAttribute(rt,3)),this.setAttribute("normal",new Float32BufferAttribute(it,3)),this.setAttribute("uv",new Float32BufferAttribute(ot,2))}static fromJSON(o){return new RingGeometry(o.innerRadius,o.outerRadius,o.thetaSegments,o.phiSegments,o.thetaStart,o.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(o=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),a=12){super(),this.type="ShapeGeometry",this.parameters={shapes:o,curveSegments:a};const j=[],_e=[],et=[],tt=[];let nt=0,rt=0;if(Array.isArray(o)===!1)it(o);else for(let ot=0;ot<o.length;ot++)it(o[ot]),this.addGroup(nt,rt,ot),nt+=rt,rt=0;this.setIndex(j),this.setAttribute("position",new Float32BufferAttribute(_e,3)),this.setAttribute("normal",new Float32BufferAttribute(et,3)),this.setAttribute("uv",new Float32BufferAttribute(tt,2));function it(ot){const at=_e.length/3,ct=ot.extractPoints(a);let ut=ct.shape;const dt=ct.holes;ShapeUtils.isClockWise(ut)===!1&&(ut=ut.reverse());for(let ht=0,pt=dt.length;ht<pt;ht++){const yt=dt[ht];ShapeUtils.isClockWise(yt)===!0&&(dt[ht]=yt.reverse())}const ft=ShapeUtils.triangulateShape(ut,dt);for(let ht=0,pt=dt.length;ht<pt;ht++){const yt=dt[ht];ut=ut.concat(yt)}for(let ht=0,pt=ut.length;ht<pt;ht++){const yt=ut[ht];_e.push(yt.x,yt.y,0),et.push(0,0,1),tt.push(yt.x,yt.y)}for(let ht=0,pt=ft.length;ht<pt;ht++){const yt=ft[ht],gt=yt[0]+at,bt=yt[1]+at,At=yt[2]+at;j.push(gt,bt,At),rt+=3}}}toJSON(){const o=super.toJSON(),a=this.parameters.shapes;return toJSON(a,o)}static fromJSON(o,a){const j=[];for(let _e=0,et=o.shapes.length;_e<et;_e++){const tt=a[o.shapes[_e]];j.push(tt)}return new ShapeGeometry(j,o.curveSegments)}}function toJSON($,o){if(o.shapes=[],Array.isArray($))for(let a=0,j=$.length;a<j;a++){const _e=$[a];o.shapes.push(_e.uuid)}else o.shapes.push($.uuid);return o}class SphereGeometry extends BufferGeometry{constructor(o=1,a=32,j=16,_e=0,et=Math.PI*2,tt=0,nt=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:o,widthSegments:a,heightSegments:j,phiStart:_e,phiLength:et,thetaStart:tt,thetaLength:nt},a=Math.max(3,Math.floor(a)),j=Math.max(2,Math.floor(j));const rt=Math.min(tt+nt,Math.PI);let it=0;const ot=[],at=new Vector3,ct=new Vector3,ut=[],dt=[],ft=[],ht=[];for(let pt=0;pt<=j;pt++){const yt=[],gt=pt/j;let bt=0;pt==0&&tt==0?bt=.5/a:pt==j&&rt==Math.PI&&(bt=-.5/a);for(let At=0;At<=a;At++){const Tt=At/a;at.x=-o*Math.cos(_e+Tt*et)*Math.sin(tt+gt*nt),at.y=o*Math.cos(tt+gt*nt),at.z=o*Math.sin(_e+Tt*et)*Math.sin(tt+gt*nt),dt.push(at.x,at.y,at.z),ct.copy(at).normalize(),ft.push(ct.x,ct.y,ct.z),ht.push(Tt+bt,1-gt),yt.push(it++)}ot.push(yt)}for(let pt=0;pt<j;pt++)for(let yt=0;yt<a;yt++){const gt=ot[pt][yt+1],bt=ot[pt][yt],At=ot[pt+1][yt],Tt=ot[pt+1][yt+1];(pt!==0||tt>0)&&ut.push(gt,bt,Tt),(pt!==j-1||rt<Math.PI)&&ut.push(bt,At,Tt)}this.setIndex(ut),this.setAttribute("position",new Float32BufferAttribute(dt,3)),this.setAttribute("normal",new Float32BufferAttribute(ft,3)),this.setAttribute("uv",new Float32BufferAttribute(ht,2))}static fromJSON(o){return new SphereGeometry(o.radius,o.widthSegments,o.heightSegments,o.phiStart,o.phiLength,o.thetaStart,o.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(o=1,a=0){const j=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],_e=[2,1,0,0,3,2,1,3,0,2,3,1];super(j,_e,o,a),this.type="TetrahedronGeometry",this.parameters={radius:o,detail:a}}static fromJSON(o){return new TetrahedronGeometry(o.radius,o.detail)}}class TorusGeometry extends BufferGeometry{constructor(o=1,a=.4,j=12,_e=48,et=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:o,tube:a,radialSegments:j,tubularSegments:_e,arc:et},j=Math.floor(j),_e=Math.floor(_e);const tt=[],nt=[],rt=[],it=[],ot=new Vector3,at=new Vector3,ct=new Vector3;for(let ut=0;ut<=j;ut++)for(let dt=0;dt<=_e;dt++){const ft=dt/_e*et,ht=ut/j*Math.PI*2;at.x=(o+a*Math.cos(ht))*Math.cos(ft),at.y=(o+a*Math.cos(ht))*Math.sin(ft),at.z=a*Math.sin(ht),nt.push(at.x,at.y,at.z),ot.x=o*Math.cos(ft),ot.y=o*Math.sin(ft),ct.subVectors(at,ot).normalize(),rt.push(ct.x,ct.y,ct.z),it.push(dt/_e),it.push(ut/j)}for(let ut=1;ut<=j;ut++)for(let dt=1;dt<=_e;dt++){const ft=(_e+1)*ut+dt-1,ht=(_e+1)*(ut-1)+dt-1,pt=(_e+1)*(ut-1)+dt,yt=(_e+1)*ut+dt;tt.push(ft,ht,yt),tt.push(ht,pt,yt)}this.setIndex(tt),this.setAttribute("position",new Float32BufferAttribute(nt,3)),this.setAttribute("normal",new Float32BufferAttribute(rt,3)),this.setAttribute("uv",new Float32BufferAttribute(it,2))}static fromJSON(o){return new TorusGeometry(o.radius,o.tube,o.radialSegments,o.tubularSegments,o.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(o=1,a=.4,j=64,_e=8,et=2,tt=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:o,tube:a,tubularSegments:j,radialSegments:_e,p:et,q:tt},j=Math.floor(j),_e=Math.floor(_e);const nt=[],rt=[],it=[],ot=[],at=new Vector3,ct=new Vector3,ut=new Vector3,dt=new Vector3,ft=new Vector3,ht=new Vector3,pt=new Vector3;for(let gt=0;gt<=j;++gt){const bt=gt/j*et*Math.PI*2;yt(bt,et,tt,o,ut),yt(bt+.01,et,tt,o,dt),ht.subVectors(dt,ut),pt.addVectors(dt,ut),ft.crossVectors(ht,pt),pt.crossVectors(ft,ht),ft.normalize(),pt.normalize();for(let At=0;At<=_e;++At){const Tt=At/_e*Math.PI*2,Pt=-a*Math.cos(Tt),Ct=a*Math.sin(Tt);at.x=ut.x+(Pt*pt.x+Ct*ft.x),at.y=ut.y+(Pt*pt.y+Ct*ft.y),at.z=ut.z+(Pt*pt.z+Ct*ft.z),rt.push(at.x,at.y,at.z),ct.subVectors(at,ut).normalize(),it.push(ct.x,ct.y,ct.z),ot.push(gt/j),ot.push(At/_e)}}for(let gt=1;gt<=j;gt++)for(let bt=1;bt<=_e;bt++){const At=(_e+1)*(gt-1)+(bt-1),Tt=(_e+1)*gt+(bt-1),Pt=(_e+1)*gt+bt,Ct=(_e+1)*(gt-1)+bt;nt.push(At,Tt,Ct),nt.push(Tt,Pt,Ct)}this.setIndex(nt),this.setAttribute("position",new Float32BufferAttribute(rt,3)),this.setAttribute("normal",new Float32BufferAttribute(it,3)),this.setAttribute("uv",new Float32BufferAttribute(ot,2));function yt(gt,bt,At,Tt,Pt){const Ct=Math.cos(gt),It=Math.sin(gt),Vt=At/bt*gt,Kt=Math.cos(Vt);Pt.x=Tt*(2+Kt)*.5*Ct,Pt.y=Tt*(2+Kt)*It*.5,Pt.z=Tt*Math.sin(Vt)*.5}}static fromJSON(o){return new TorusKnotGeometry(o.radius,o.tube,o.tubularSegments,o.radialSegments,o.p,o.q)}}class TubeGeometry extends BufferGeometry{constructor(o=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),a=64,j=1,_e=8,et=!1){super(),this.type="TubeGeometry",this.parameters={path:o,tubularSegments:a,radius:j,radialSegments:_e,closed:et};const tt=o.computeFrenetFrames(a,et);this.tangents=tt.tangents,this.normals=tt.normals,this.binormals=tt.binormals;const nt=new Vector3,rt=new Vector3,it=new Vector2;let ot=new Vector3;const at=[],ct=[],ut=[],dt=[];ft(),this.setIndex(dt),this.setAttribute("position",new Float32BufferAttribute(at,3)),this.setAttribute("normal",new Float32BufferAttribute(ct,3)),this.setAttribute("uv",new Float32BufferAttribute(ut,2));function ft(){for(let gt=0;gt<a;gt++)ht(gt);ht(et===!1?a:0),yt(),pt()}function ht(gt){ot=o.getPointAt(gt/a,ot);const bt=tt.normals[gt],At=tt.binormals[gt];for(let Tt=0;Tt<=_e;Tt++){const Pt=Tt/_e*Math.PI*2,Ct=Math.sin(Pt),It=-Math.cos(Pt);rt.x=It*bt.x+Ct*At.x,rt.y=It*bt.y+Ct*At.y,rt.z=It*bt.z+Ct*At.z,rt.normalize(),ct.push(rt.x,rt.y,rt.z),nt.x=ot.x+j*rt.x,nt.y=ot.y+j*rt.y,nt.z=ot.z+j*rt.z,at.push(nt.x,nt.y,nt.z)}}function pt(){for(let gt=1;gt<=a;gt++)for(let bt=1;bt<=_e;bt++){const At=(_e+1)*(gt-1)+(bt-1),Tt=(_e+1)*gt+(bt-1),Pt=(_e+1)*gt+bt,Ct=(_e+1)*(gt-1)+bt;dt.push(At,Tt,Ct),dt.push(Tt,Pt,Ct)}}function yt(){for(let gt=0;gt<=a;gt++)for(let bt=0;bt<=_e;bt++)it.x=gt/a,it.y=bt/_e,ut.push(it.x,it.y)}}toJSON(){const o=super.toJSON();return o.path=this.parameters.path.toJSON(),o}static fromJSON(o){return new TubeGeometry(new Curves[o.path.type]().fromJSON(o.path),o.tubularSegments,o.radius,o.radialSegments,o.closed)}}class WireframeGeometry extends BufferGeometry{constructor(o=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:o},o!==null){const a=[],j=new Set,_e=new Vector3,et=new Vector3;if(o.index!==null){const tt=o.attributes.position,nt=o.index;let rt=o.groups;rt.length===0&&(rt=[{start:0,count:nt.count,materialIndex:0}]);for(let it=0,ot=rt.length;it<ot;++it){const at=rt[it],ct=at.start,ut=at.count;for(let dt=ct,ft=ct+ut;dt<ft;dt+=3)for(let ht=0;ht<3;ht++){const pt=nt.getX(dt+ht),yt=nt.getX(dt+(ht+1)%3);_e.fromBufferAttribute(tt,pt),et.fromBufferAttribute(tt,yt),isUniqueEdge(_e,et,j)===!0&&(a.push(_e.x,_e.y,_e.z),a.push(et.x,et.y,et.z))}}}else{const tt=o.attributes.position;for(let nt=0,rt=tt.count/3;nt<rt;nt++)for(let it=0;it<3;it++){const ot=3*nt+it,at=3*nt+(it+1)%3;_e.fromBufferAttribute(tt,ot),et.fromBufferAttribute(tt,at),isUniqueEdge(_e,et,j)===!0&&(a.push(_e.x,_e.y,_e.z),a.push(et.x,et.y,et.z))}}this.setAttribute("position",new Float32BufferAttribute(a,3))}}}function isUniqueEdge($,o,a){const j=`${$.x},${$.y},${$.z}-${o.x},${o.y},${o.z}`,_e=`${o.x},${o.y},${o.z}-${$.x},${$.y},${$.z}`;return a.has(j)===!0||a.has(_e)===!0?!1:(a.add(j),a.add(_e),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(o){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.fog=o.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(o){super(o),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(o){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.defines={STANDARD:""},this.color.copy(o.color),this.roughness=o.roughness,this.metalness=o.metalness,this.map=o.map,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.emissive.copy(o.emissive),this.emissiveMap=o.emissiveMap,this.emissiveIntensity=o.emissiveIntensity,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.roughnessMap=o.roughnessMap,this.metalnessMap=o.metalnessMap,this.alphaMap=o.alphaMap,this.envMap=o.envMap,this.envMapIntensity=o.envMapIntensity,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.flatShading=o.flatShading,this.fog=o.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(o){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(a){this.ior=(1+.4*a)/(1-.4*a)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(o)}get sheen(){return this._sheen}set sheen(o){this._sheen>0!=o>0&&this.version++,this._sheen=o}get clearcoat(){return this._clearcoat}set clearcoat(o){this._clearcoat>0!=o>0&&this.version++,this._clearcoat=o}get iridescence(){return this._iridescence}set iridescence(o){this._iridescence>0!=o>0&&this.version++,this._iridescence=o}get transmission(){return this._transmission}set transmission(o){this._transmission>0!=o>0&&this.version++,this._transmission=o}copy(o){return super.copy(o),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=o.clearcoat,this.clearcoatMap=o.clearcoatMap,this.clearcoatRoughness=o.clearcoatRoughness,this.clearcoatRoughnessMap=o.clearcoatRoughnessMap,this.clearcoatNormalMap=o.clearcoatNormalMap,this.clearcoatNormalScale.copy(o.clearcoatNormalScale),this.ior=o.ior,this.iridescence=o.iridescence,this.iridescenceMap=o.iridescenceMap,this.iridescenceIOR=o.iridescenceIOR,this.iridescenceThicknessRange=[...o.iridescenceThicknessRange],this.iridescenceThicknessMap=o.iridescenceThicknessMap,this.sheen=o.sheen,this.sheenColor.copy(o.sheenColor),this.sheenColorMap=o.sheenColorMap,this.sheenRoughness=o.sheenRoughness,this.sheenRoughnessMap=o.sheenRoughnessMap,this.transmission=o.transmission,this.transmissionMap=o.transmissionMap,this.thickness=o.thickness,this.thicknessMap=o.thicknessMap,this.attenuationDistance=o.attenuationDistance,this.attenuationColor.copy(o.attenuationColor),this.specularIntensity=o.specularIntensity,this.specularIntensityMap=o.specularIntensityMap,this.specularColor.copy(o.specularColor),this.specularColorMap=o.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(o){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.specular.copy(o.specular),this.shininess=o.shininess,this.map=o.map,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.emissive.copy(o.emissive),this.emissiveMap=o.emissiveMap,this.emissiveIntensity=o.emissiveIntensity,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.specularMap=o.specularMap,this.alphaMap=o.alphaMap,this.envMap=o.envMap,this.combine=o.combine,this.reflectivity=o.reflectivity,this.refractionRatio=o.refractionRatio,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.flatShading=o.flatShading,this.fog=o.fog,this}}class MeshToonMaterial extends Material{constructor(o){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.gradientMap=o.gradientMap,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.emissive.copy(o.emissive),this.emissiveMap=o.emissiveMap,this.emissiveIntensity=o.emissiveIntensity,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.alphaMap=o.alphaMap,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.fog=o.fog,this}}class MeshNormalMaterial extends Material{constructor(o){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(o)}copy(o){return super.copy(o),this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.flatShading=o.flatShading,this}}class MeshLambertMaterial extends Material{constructor(o){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.emissive.copy(o.emissive),this.emissiveMap=o.emissiveMap,this.emissiveIntensity=o.emissiveIntensity,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.specularMap=o.specularMap,this.alphaMap=o.alphaMap,this.envMap=o.envMap,this.combine=o.combine,this.reflectivity=o.reflectivity,this.refractionRatio=o.refractionRatio,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.flatShading=o.flatShading,this.fog=o.fog,this}}class MeshMatcapMaterial extends Material{constructor(o){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(o)}copy(o){return super.copy(o),this.defines={MATCAP:""},this.color.copy(o.color),this.matcap=o.matcap,this.map=o.map,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.alphaMap=o.alphaMap,this.flatShading=o.flatShading,this.fog=o.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(o){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(o)}copy(o){return super.copy(o),this.scale=o.scale,this.dashSize=o.dashSize,this.gapSize=o.gapSize,this}}function arraySlice($,o,a){return isTypedArray($)?new $.constructor($.subarray(o,a!==void 0?a:$.length)):$.slice(o,a)}function convertArray($,o,a){return!$||!a&&$.constructor===o?$:typeof o.BYTES_PER_ELEMENT=="number"?new o($):Array.prototype.slice.call($)}function isTypedArray($){return ArrayBuffer.isView($)&&!($ instanceof DataView)}function getKeyframeOrder($){function o(_e,et){return $[_e]-$[et]}const a=$.length,j=new Array(a);for(let _e=0;_e!==a;++_e)j[_e]=_e;return j.sort(o),j}function sortedArray($,o,a){const j=$.length,_e=new $.constructor(j);for(let et=0,tt=0;tt!==j;++et){const nt=a[et]*o;for(let rt=0;rt!==o;++rt)_e[tt++]=$[nt+rt]}return _e}function flattenJSON($,o,a,j){let _e=1,et=$[0];for(;et!==void 0&&et[j]===void 0;)et=$[_e++];if(et===void 0)return;let tt=et[j];if(tt!==void 0)if(Array.isArray(tt))do tt=et[j],tt!==void 0&&(o.push(et.time),a.push.apply(a,tt)),et=$[_e++];while(et!==void 0);else if(tt.toArray!==void 0)do tt=et[j],tt!==void 0&&(o.push(et.time),tt.toArray(a,a.length)),et=$[_e++];while(et!==void 0);else do tt=et[j],tt!==void 0&&(o.push(et.time),a.push(tt)),et=$[_e++];while(et!==void 0)}function subclip($,o,a,j,_e=30){const et=$.clone();et.name=o;const tt=[];for(let rt=0;rt<et.tracks.length;++rt){const it=et.tracks[rt],ot=it.getValueSize(),at=[],ct=[];for(let ut=0;ut<it.times.length;++ut){const dt=it.times[ut]*_e;if(!(dt<a||dt>=j)){at.push(it.times[ut]);for(let ft=0;ft<ot;++ft)ct.push(it.values[ut*ot+ft])}}at.length!==0&&(it.times=convertArray(at,it.times.constructor),it.values=convertArray(ct,it.values.constructor),tt.push(it))}et.tracks=tt;let nt=1/0;for(let rt=0;rt<et.tracks.length;++rt)nt>et.tracks[rt].times[0]&&(nt=et.tracks[rt].times[0]);for(let rt=0;rt<et.tracks.length;++rt)et.tracks[rt].shift(-1*nt);return et.resetDuration(),et}function makeClipAdditive($,o=0,a=$,j=30){j<=0&&(j=30);const _e=a.tracks.length,et=o/j;for(let tt=0;tt<_e;++tt){const nt=a.tracks[tt],rt=nt.ValueTypeName;if(rt==="bool"||rt==="string")continue;const it=$.tracks.find(function(pt){return pt.name===nt.name&&pt.ValueTypeName===rt});if(it===void 0)continue;let ot=0;const at=nt.getValueSize();nt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ot=at/3);let ct=0;const ut=it.getValueSize();it.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ct=ut/3);const dt=nt.times.length-1;let ft;if(et<=nt.times[0]){const pt=ot,yt=at-ot;ft=arraySlice(nt.values,pt,yt)}else if(et>=nt.times[dt]){const pt=dt*at+ot,yt=pt+at-ot;ft=arraySlice(nt.values,pt,yt)}else{const pt=nt.createInterpolant(),yt=ot,gt=at-ot;pt.evaluate(et),ft=arraySlice(pt.resultBuffer,yt,gt)}rt==="quaternion"&&new Quaternion().fromArray(ft).normalize().conjugate().toArray(ft);const ht=it.times.length;for(let pt=0;pt<ht;++pt){const yt=pt*ut+ct;if(rt==="quaternion")Quaternion.multiplyQuaternionsFlat(it.values,yt,ft,0,it.values,yt);else{const gt=ut-ct*2;for(let bt=0;bt<gt;++bt)it.values[yt+bt]-=ft[bt]}}}return $.blendMode=AdditiveAnimationBlendMode,$}var AnimationUtils=Object.freeze({__proto__:null,arraySlice,convertArray,flattenJSON,getKeyframeOrder,isTypedArray,makeClipAdditive,sortedArray,subclip});class Interpolant{constructor(o,a,j,_e){this.parameterPositions=o,this._cachedIndex=0,this.resultBuffer=_e!==void 0?_e:new a.constructor(j),this.sampleValues=a,this.valueSize=j,this.settings=null,this.DefaultSettings_={}}evaluate(o){const a=this.parameterPositions;let j=this._cachedIndex,_e=a[j],et=a[j-1];e:{t:{let tt;n:{r:if(!(o<_e)){for(let nt=j+2;;){if(_e===void 0){if(o<et)break r;return j=a.length,this._cachedIndex=j,this.copySampleValue_(j-1)}if(j===nt)break;if(et=_e,_e=a[++j],o<_e)break t}tt=a.length;break n}if(!(o>=et)){const nt=a[1];o<nt&&(j=2,et=nt);for(let rt=j-2;;){if(et===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(j===rt)break;if(_e=et,et=a[--j-1],o>=et)break t}tt=j,j=0;break n}break e}for(;j<tt;){const nt=j+tt>>>1;o<a[nt]?tt=nt:j=nt+1}if(_e=a[j],et=a[j-1],et===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(_e===void 0)return j=a.length,this._cachedIndex=j,this.copySampleValue_(j-1)}this._cachedIndex=j,this.intervalChanged_(j,et,_e)}return this.interpolate_(j,et,o,_e)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(o){const a=this.resultBuffer,j=this.sampleValues,_e=this.valueSize,et=o*_e;for(let tt=0;tt!==_e;++tt)a[tt]=j[et+tt];return a}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(o,a,j,_e){super(o,a,j,_e),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(o,a,j){const _e=this.parameterPositions;let et=o-2,tt=o+1,nt=_e[et],rt=_e[tt];if(nt===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:et=o,nt=2*a-j;break;case WrapAroundEnding:et=_e.length-2,nt=a+_e[et]-_e[et+1];break;default:et=o,nt=j}if(rt===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:tt=o,rt=2*j-a;break;case WrapAroundEnding:tt=1,rt=j+_e[1]-_e[0];break;default:tt=o-1,rt=a}const it=(j-a)*.5,ot=this.valueSize;this._weightPrev=it/(a-nt),this._weightNext=it/(rt-j),this._offsetPrev=et*ot,this._offsetNext=tt*ot}interpolate_(o,a,j,_e){const et=this.resultBuffer,tt=this.sampleValues,nt=this.valueSize,rt=o*nt,it=rt-nt,ot=this._offsetPrev,at=this._offsetNext,ct=this._weightPrev,ut=this._weightNext,dt=(j-a)/(_e-a),ft=dt*dt,ht=ft*dt,pt=-ct*ht+2*ct*ft-ct*dt,yt=(1+ct)*ht+(-1.5-2*ct)*ft+(-.5+ct)*dt+1,gt=(-1-ut)*ht+(1.5+ut)*ft+.5*dt,bt=ut*ht-ut*ft;for(let At=0;At!==nt;++At)et[At]=pt*tt[ot+At]+yt*tt[it+At]+gt*tt[rt+At]+bt*tt[at+At];return et}}class LinearInterpolant extends Interpolant{constructor(o,a,j,_e){super(o,a,j,_e)}interpolate_(o,a,j,_e){const et=this.resultBuffer,tt=this.sampleValues,nt=this.valueSize,rt=o*nt,it=rt-nt,ot=(j-a)/(_e-a),at=1-ot;for(let ct=0;ct!==nt;++ct)et[ct]=tt[it+ct]*at+tt[rt+ct]*ot;return et}}class DiscreteInterpolant extends Interpolant{constructor(o,a,j,_e){super(o,a,j,_e)}interpolate_(o){return this.copySampleValue_(o-1)}}class KeyframeTrack{constructor(o,a,j,_e){if(o===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(a===void 0||a.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+o);this.name=o,this.times=convertArray(a,this.TimeBufferType),this.values=convertArray(j,this.ValueBufferType),this.setInterpolation(_e||this.DefaultInterpolation)}static toJSON(o){const a=o.constructor;let j;if(a.toJSON!==this.toJSON)j=a.toJSON(o);else{j={name:o.name,times:convertArray(o.times,Array),values:convertArray(o.values,Array)};const _e=o.getInterpolation();_e!==o.DefaultInterpolation&&(j.interpolation=_e)}return j.type=o.ValueTypeName,j}InterpolantFactoryMethodDiscrete(o){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),o)}InterpolantFactoryMethodLinear(o){return new LinearInterpolant(this.times,this.values,this.getValueSize(),o)}InterpolantFactoryMethodSmooth(o){return new CubicInterpolant(this.times,this.values,this.getValueSize(),o)}setInterpolation(o){let a;switch(o){case InterpolateDiscrete:a=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:a=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:a=this.InterpolantFactoryMethodSmooth;break}if(a===void 0){const j="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(o!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(j);return console.warn("THREE.KeyframeTrack:",j),this}return this.createInterpolant=a,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(o){if(o!==0){const a=this.times;for(let j=0,_e=a.length;j!==_e;++j)a[j]+=o}return this}scale(o){if(o!==1){const a=this.times;for(let j=0,_e=a.length;j!==_e;++j)a[j]*=o}return this}trim(o,a){const j=this.times,_e=j.length;let et=0,tt=_e-1;for(;et!==_e&&j[et]<o;)++et;for(;tt!==-1&&j[tt]>a;)--tt;if(++tt,et!==0||tt!==_e){et>=tt&&(tt=Math.max(tt,1),et=tt-1);const nt=this.getValueSize();this.times=arraySlice(j,et,tt),this.values=arraySlice(this.values,et*nt,tt*nt)}return this}validate(){let o=!0;const a=this.getValueSize();a-Math.floor(a)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),o=!1);const j=this.times,_e=this.values,et=j.length;et===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),o=!1);let tt=null;for(let nt=0;nt!==et;nt++){const rt=j[nt];if(typeof rt=="number"&&isNaN(rt)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,nt,rt),o=!1;break}if(tt!==null&&tt>rt){console.error("THREE.KeyframeTrack: Out of order keys.",this,nt,rt,tt),o=!1;break}tt=rt}if(_e!==void 0&&isTypedArray(_e))for(let nt=0,rt=_e.length;nt!==rt;++nt){const it=_e[nt];if(isNaN(it)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,nt,it),o=!1;break}}return o}optimize(){const o=arraySlice(this.times),a=arraySlice(this.values),j=this.getValueSize(),_e=this.getInterpolation()===InterpolateSmooth,et=o.length-1;let tt=1;for(let nt=1;nt<et;++nt){let rt=!1;const it=o[nt],ot=o[nt+1];if(it!==ot&&(nt!==1||it!==o[0]))if(_e)rt=!0;else{const at=nt*j,ct=at-j,ut=at+j;for(let dt=0;dt!==j;++dt){const ft=a[at+dt];if(ft!==a[ct+dt]||ft!==a[ut+dt]){rt=!0;break}}}if(rt){if(nt!==tt){o[tt]=o[nt];const at=nt*j,ct=tt*j;for(let ut=0;ut!==j;++ut)a[ct+ut]=a[at+ut]}++tt}}if(et>0){o[tt]=o[et];for(let nt=et*j,rt=tt*j,it=0;it!==j;++it)a[rt+it]=a[nt+it];++tt}return tt!==o.length?(this.times=arraySlice(o,0,tt),this.values=arraySlice(a,0,tt*j)):(this.times=o,this.values=a),this}clone(){const o=arraySlice(this.times,0),a=arraySlice(this.values,0),j=this.constructor,_e=new j(this.name,o,a);return _e.createInterpolant=this.createInterpolant,_e}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(o,a,j,_e){super(o,a,j,_e)}interpolate_(o,a,j,_e){const et=this.resultBuffer,tt=this.sampleValues,nt=this.valueSize,rt=(j-a)/(_e-a);let it=o*nt;for(let ot=it+nt;it!==ot;it+=4)Quaternion.slerpFlat(et,0,tt,it-nt,tt,it,rt);return et}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(o){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),o)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(o,a=-1,j,_e=NormalAnimationBlendMode){this.name=o,this.tracks=j,this.duration=a,this.blendMode=_e,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse(o){const a=[],j=o.tracks,_e=1/(o.fps||1);for(let tt=0,nt=j.length;tt!==nt;++tt)a.push(parseKeyframeTrack(j[tt]).scale(_e));const et=new this(o.name,o.duration,a,o.blendMode);return et.uuid=o.uuid,et}static toJSON(o){const a=[],j=o.tracks,_e={name:o.name,duration:o.duration,tracks:a,uuid:o.uuid,blendMode:o.blendMode};for(let et=0,tt=j.length;et!==tt;++et)a.push(KeyframeTrack.toJSON(j[et]));return _e}static CreateFromMorphTargetSequence(o,a,j,_e){const et=a.length,tt=[];for(let nt=0;nt<et;nt++){let rt=[],it=[];rt.push((nt+et-1)%et,nt,(nt+1)%et),it.push(0,1,0);const ot=getKeyframeOrder(rt);rt=sortedArray(rt,1,ot),it=sortedArray(it,1,ot),!_e&&rt[0]===0&&(rt.push(et),it.push(it[0])),tt.push(new NumberKeyframeTrack(".morphTargetInfluences["+a[nt].name+"]",rt,it).scale(1/j))}return new this(o,-1,tt)}static findByName(o,a){let j=o;if(!Array.isArray(o)){const _e=o;j=_e.geometry&&_e.geometry.animations||_e.animations}for(let _e=0;_e<j.length;_e++)if(j[_e].name===a)return j[_e];return null}static CreateClipsFromMorphTargetSequences(o,a,j){const _e={},et=/^([\w-]*?)([\d]+)$/;for(let nt=0,rt=o.length;nt<rt;nt++){const it=o[nt],ot=it.name.match(et);if(ot&&ot.length>1){const at=ot[1];let ct=_e[at];ct||(_e[at]=ct=[]),ct.push(it)}}const tt=[];for(const nt in _e)tt.push(this.CreateFromMorphTargetSequence(nt,_e[nt],a,j));return tt}static parseAnimation(o,a){if(!o)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const j=function(at,ct,ut,dt,ft){if(ut.length!==0){const ht=[],pt=[];flattenJSON(ut,ht,pt,dt),ht.length!==0&&ft.push(new at(ct,ht,pt))}},_e=[],et=o.name||"default",tt=o.fps||30,nt=o.blendMode;let rt=o.length||-1;const it=o.hierarchy||[];for(let at=0;at<it.length;at++){const ct=it[at].keys;if(!(!ct||ct.length===0))if(ct[0].morphTargets){const ut={};let dt;for(dt=0;dt<ct.length;dt++)if(ct[dt].morphTargets)for(let ft=0;ft<ct[dt].morphTargets.length;ft++)ut[ct[dt].morphTargets[ft]]=-1;for(const ft in ut){const ht=[],pt=[];for(let yt=0;yt!==ct[dt].morphTargets.length;++yt){const gt=ct[dt];ht.push(gt.time),pt.push(gt.morphTarget===ft?1:0)}_e.push(new NumberKeyframeTrack(".morphTargetInfluence["+ft+"]",ht,pt))}rt=ut.length*tt}else{const ut=".bones["+a[at].name+"]";j(VectorKeyframeTrack,ut+".position",ct,"pos",_e),j(QuaternionKeyframeTrack,ut+".quaternion",ct,"rot",_e),j(VectorKeyframeTrack,ut+".scale",ct,"scl",_e)}}return _e.length===0?null:new this(et,rt,_e,nt)}resetDuration(){const o=this.tracks;let a=0;for(let j=0,_e=o.length;j!==_e;++j){const et=this.tracks[j];a=Math.max(a,et.times[et.times.length-1])}return this.duration=a,this}trim(){for(let o=0;o<this.tracks.length;o++)this.tracks[o].trim(0,this.duration);return this}validate(){let o=!0;for(let a=0;a<this.tracks.length;a++)o=o&&this.tracks[a].validate();return o}optimize(){for(let o=0;o<this.tracks.length;o++)this.tracks[o].optimize();return this}clone(){const o=[];for(let a=0;a<this.tracks.length;a++)o.push(this.tracks[a].clone());return new this.constructor(this.name,this.duration,o,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName($){switch($.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+$)}function parseKeyframeTrack($){if($.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const o=getTrackTypeForValueTypeName($.type);if($.times===void 0){const a=[],j=[];flattenJSON($.keys,a,j,"value"),$.times=a,$.values=j}return o.parse!==void 0?o.parse($):new o($.name,$.times,$.values,$.interpolation)}const Cache={enabled:!1,files:{},add:function($,o){this.enabled!==!1&&(this.files[$]=o)},get:function($){if(this.enabled!==!1)return this.files[$]},remove:function($){delete this.files[$]},clear:function(){this.files={}}};class LoadingManager{constructor(o,a,j){const _e=this;let et=!1,tt=0,nt=0,rt;const it=[];this.onStart=void 0,this.onLoad=o,this.onProgress=a,this.onError=j,this.itemStart=function(ot){nt++,et===!1&&_e.onStart!==void 0&&_e.onStart(ot,tt,nt),et=!0},this.itemEnd=function(ot){tt++,_e.onProgress!==void 0&&_e.onProgress(ot,tt,nt),tt===nt&&(et=!1,_e.onLoad!==void 0&&_e.onLoad())},this.itemError=function(ot){_e.onError!==void 0&&_e.onError(ot)},this.resolveURL=function(ot){return rt?rt(ot):ot},this.setURLModifier=function(ot){return rt=ot,this},this.addHandler=function(ot,at){return it.push(ot,at),this},this.removeHandler=function(ot){const at=it.indexOf(ot);return at!==-1&&it.splice(at,2),this},this.getHandler=function(ot){for(let at=0,ct=it.length;at<ct;at+=2){const ut=it[at],dt=it[at+1];if(ut.global&&(ut.lastIndex=0),ut.test(ot))return dt}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(o){this.manager=o!==void 0?o:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(o,a){const j=this;return new Promise(function(_e,et){j.load(o,_e,a,et)})}parse(){}setCrossOrigin(o){return this.crossOrigin=o,this}setWithCredentials(o){return this.withCredentials=o,this}setPath(o){return this.path=o,this}setResourcePath(o){return this.resourcePath=o,this}setRequestHeader(o){return this.requestHeader=o,this}}const loading={};class HttpError extends Error{constructor(o,a){super(o),this.response=a}}class FileLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){o===void 0&&(o=""),this.path!==void 0&&(o=this.path+o),o=this.manager.resolveURL(o);const et=Cache.get(o);if(et!==void 0)return this.manager.itemStart(o),setTimeout(()=>{a&&a(et),this.manager.itemEnd(o)},0),et;if(loading[o]!==void 0){loading[o].push({onLoad:a,onProgress:j,onError:_e});return}loading[o]=[],loading[o].push({onLoad:a,onProgress:j,onError:_e});const tt=new Request(o,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),nt=this.mimeType,rt=this.responseType;fetch(tt).then(it=>{if(it.status===200||it.status===0){if(it.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||it.body===void 0||it.body.getReader===void 0)return it;const ot=loading[o],at=it.body.getReader(),ct=it.headers.get("Content-Length")||it.headers.get("X-File-Size"),ut=ct?parseInt(ct):0,dt=ut!==0;let ft=0;const ht=new ReadableStream({start(pt){yt();function yt(){at.read().then(({done:gt,value:bt})=>{if(gt)pt.close();else{ft+=bt.byteLength;const At=new ProgressEvent("progress",{lengthComputable:dt,loaded:ft,total:ut});for(let Tt=0,Pt=ot.length;Tt<Pt;Tt++){const Ct=ot[Tt];Ct.onProgress&&Ct.onProgress(At)}pt.enqueue(bt),yt()}})}}});return new Response(ht)}else throw new HttpError(`fetch for "${it.url}" responded with ${it.status}: ${it.statusText}`,it)}).then(it=>{switch(rt){case"arraybuffer":return it.arrayBuffer();case"blob":return it.blob();case"document":return it.text().then(ot=>new DOMParser().parseFromString(ot,nt));case"json":return it.json();default:if(nt===void 0)return it.text();{const at=/charset="?([^;"\s]*)"?/i.exec(nt),ct=at&&at[1]?at[1].toLowerCase():void 0,ut=new TextDecoder(ct);return it.arrayBuffer().then(dt=>ut.decode(dt))}}}).then(it=>{Cache.add(o,it);const ot=loading[o];delete loading[o];for(let at=0,ct=ot.length;at<ct;at++){const ut=ot[at];ut.onLoad&&ut.onLoad(it)}}).catch(it=>{const ot=loading[o];if(ot===void 0)throw this.manager.itemError(o),it;delete loading[o];for(let at=0,ct=ot.length;at<ct;at++){const ut=ot[at];ut.onError&&ut.onError(it)}this.manager.itemError(o)}).finally(()=>{this.manager.itemEnd(o)}),this.manager.itemStart(o)}setResponseType(o){return this.responseType=o,this}setMimeType(o){return this.mimeType=o,this}}class AnimationLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){const et=this,tt=new FileLoader(this.manager);tt.setPath(this.path),tt.setRequestHeader(this.requestHeader),tt.setWithCredentials(this.withCredentials),tt.load(o,function(nt){try{a(et.parse(JSON.parse(nt)))}catch(rt){_e?_e(rt):console.error(rt),et.manager.itemError(o)}},j,_e)}parse(o){const a=[];for(let j=0;j<o.length;j++){const _e=AnimationClip.parse(o[j]);a.push(_e)}return a}}class CompressedTextureLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){const et=this,tt=[],nt=new CompressedTexture,rt=new FileLoader(this.manager);rt.setPath(this.path),rt.setResponseType("arraybuffer"),rt.setRequestHeader(this.requestHeader),rt.setWithCredentials(et.withCredentials);let it=0;function ot(at){rt.load(o[at],function(ct){const ut=et.parse(ct,!0);tt[at]={width:ut.width,height:ut.height,format:ut.format,mipmaps:ut.mipmaps},it+=1,it===6&&(ut.mipmapCount===1&&(nt.minFilter=LinearFilter),nt.image=tt,nt.format=ut.format,nt.needsUpdate=!0,a&&a(nt))},j,_e)}if(Array.isArray(o))for(let at=0,ct=o.length;at<ct;++at)ot(at);else rt.load(o,function(at){const ct=et.parse(at,!0);if(ct.isCubemap){const ut=ct.mipmaps.length/ct.mipmapCount;for(let dt=0;dt<ut;dt++){tt[dt]={mipmaps:[]};for(let ft=0;ft<ct.mipmapCount;ft++)tt[dt].mipmaps.push(ct.mipmaps[dt*ct.mipmapCount+ft]),tt[dt].format=ct.format,tt[dt].width=ct.width,tt[dt].height=ct.height}nt.image=tt}else nt.image.width=ct.width,nt.image.height=ct.height,nt.mipmaps=ct.mipmaps;ct.mipmapCount===1&&(nt.minFilter=LinearFilter),nt.format=ct.format,nt.needsUpdate=!0,a&&a(nt)},j,_e);return nt}}class ImageLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){this.path!==void 0&&(o=this.path+o),o=this.manager.resolveURL(o);const et=this,tt=Cache.get(o);if(tt!==void 0)return et.manager.itemStart(o),setTimeout(function(){a&&a(tt),et.manager.itemEnd(o)},0),tt;const nt=createElementNS("img");function rt(){ot(),Cache.add(o,this),a&&a(this),et.manager.itemEnd(o)}function it(at){ot(),_e&&_e(at),et.manager.itemError(o),et.manager.itemEnd(o)}function ot(){nt.removeEventListener("load",rt,!1),nt.removeEventListener("error",it,!1)}return nt.addEventListener("load",rt,!1),nt.addEventListener("error",it,!1),o.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(nt.crossOrigin=this.crossOrigin),et.manager.itemStart(o),nt.src=o,nt}}class CubeTextureLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){const et=new CubeTexture,tt=new ImageLoader(this.manager);tt.setCrossOrigin(this.crossOrigin),tt.setPath(this.path);let nt=0;function rt(it){tt.load(o[it],function(ot){et.images[it]=ot,nt++,nt===6&&(et.needsUpdate=!0,a&&a(et))},void 0,_e)}for(let it=0;it<o.length;++it)rt(it);return et}}class DataTextureLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){const et=this,tt=new DataTexture,nt=new FileLoader(this.manager);return nt.setResponseType("arraybuffer"),nt.setRequestHeader(this.requestHeader),nt.setPath(this.path),nt.setWithCredentials(et.withCredentials),nt.load(o,function(rt){const it=et.parse(rt);it&&(it.image!==void 0?tt.image=it.image:it.data!==void 0&&(tt.image.width=it.width,tt.image.height=it.height,tt.image.data=it.data),tt.wrapS=it.wrapS!==void 0?it.wrapS:ClampToEdgeWrapping,tt.wrapT=it.wrapT!==void 0?it.wrapT:ClampToEdgeWrapping,tt.magFilter=it.magFilter!==void 0?it.magFilter:LinearFilter,tt.minFilter=it.minFilter!==void 0?it.minFilter:LinearFilter,tt.anisotropy=it.anisotropy!==void 0?it.anisotropy:1,it.encoding!==void 0&&(tt.encoding=it.encoding),it.flipY!==void 0&&(tt.flipY=it.flipY),it.format!==void 0&&(tt.format=it.format),it.type!==void 0&&(tt.type=it.type),it.mipmaps!==void 0&&(tt.mipmaps=it.mipmaps,tt.minFilter=LinearMipmapLinearFilter),it.mipmapCount===1&&(tt.minFilter=LinearFilter),it.generateMipmaps!==void 0&&(tt.generateMipmaps=it.generateMipmaps),tt.needsUpdate=!0,a&&a(tt,it))},j,_e),tt}}class TextureLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){const et=new Texture,tt=new ImageLoader(this.manager);return tt.setCrossOrigin(this.crossOrigin),tt.setPath(this.path),tt.load(o,function(nt){et.image=nt,et.needsUpdate=!0,a!==void 0&&a(et)},j,_e),et}}class Light extends Object3D{constructor(o,a=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(o),this.intensity=a}dispose(){}copy(o,a){return super.copy(o,a),this.color.copy(o.color),this.intensity=o.intensity,this}toJSON(o){const a=super.toJSON(o);return a.object.color=this.color.getHex(),a.object.intensity=this.intensity,this.groundColor!==void 0&&(a.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(a.object.distance=this.distance),this.angle!==void 0&&(a.object.angle=this.angle),this.decay!==void 0&&(a.object.decay=this.decay),this.penumbra!==void 0&&(a.object.penumbra=this.penumbra),this.shadow!==void 0&&(a.object.shadow=this.shadow.toJSON()),a}}class HemisphereLight extends Light{constructor(o,a,j){super(o,j),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color(a)}copy(o,a){return super.copy(o,a),this.groundColor.copy(o.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(o){this.camera=o,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(o){const a=this.camera,j=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(o.matrixWorld),a.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(o.target.matrixWorld),a.lookAt(_lookTarget$1),a.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),j.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),j.multiply(_projScreenMatrix$1)}getViewport(o){return this._viewports[o]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(o){return this.camera=o.camera.clone(),this.bias=o.bias,this.radius=o.radius,this.mapSize.copy(o.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const o={};return this.bias!==0&&(o.bias=this.bias),this.normalBias!==0&&(o.normalBias=this.normalBias),this.radius!==1&&(o.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(o.mapSize=this.mapSize.toArray()),o.camera=this.camera.toJSON(!1).object,delete o.camera.matrix,o}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(o){const a=this.camera,j=RAD2DEG*2*o.angle*this.focus,_e=this.mapSize.width/this.mapSize.height,et=o.distance||a.far;(j!==a.fov||_e!==a.aspect||et!==a.far)&&(a.fov=j,a.aspect=_e,a.far=et,a.updateProjectionMatrix()),super.updateMatrices(o)}copy(o){return super.copy(o),this.focus=o.focus,this}}class SpotLight extends Light{constructor(o,a,j=0,_e=Math.PI/3,et=0,tt=2){super(o,a),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=j,this.angle=_e,this.penumbra=et,this.decay=tt,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(o){this.intensity=o/Math.PI}dispose(){this.shadow.dispose()}copy(o,a){return super.copy(o,a),this.distance=o.distance,this.angle=o.angle,this.penumbra=o.penumbra,this.decay=o.decay,this.target=o.target.clone(),this.shadow=o.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(o,a=0){const j=this.camera,_e=this.matrix,et=o.distance||j.far;et!==j.far&&(j.far=et,j.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(o.matrixWorld),j.position.copy(_lightPositionWorld),_lookTarget.copy(j.position),_lookTarget.add(this._cubeDirections[a]),j.up.copy(this._cubeUps[a]),j.lookAt(_lookTarget),j.updateMatrixWorld(),_e.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(j.projectionMatrix,j.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(o,a,j=0,_e=2){super(o,a),this.isPointLight=!0,this.type="PointLight",this.distance=j,this.decay=_e,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(o){this.intensity=o/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(o,a){return super.copy(o,a),this.distance=o.distance,this.decay=o.decay,this.shadow=o.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(o,a){super(o,a),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(o){return super.copy(o),this.target=o.target.clone(),this.shadow=o.shadow.clone(),this}}class AmbientLight extends Light{constructor(o,a){super(o,a),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(o,a,j=10,_e=10){super(o,a),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=j,this.height=_e}get power(){return this.intensity*this.width*this.height*Math.PI}set power(o){this.intensity=o/(this.width*this.height*Math.PI)}copy(o){return super.copy(o),this.width=o.width,this.height=o.height,this}toJSON(o){const a=super.toJSON(o);return a.object.width=this.width,a.object.height=this.height,a}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let o=0;o<9;o++)this.coefficients.push(new Vector3)}set(o){for(let a=0;a<9;a++)this.coefficients[a].copy(o[a]);return this}zero(){for(let o=0;o<9;o++)this.coefficients[o].set(0,0,0);return this}getAt(o,a){const j=o.x,_e=o.y,et=o.z,tt=this.coefficients;return a.copy(tt[0]).multiplyScalar(.282095),a.addScaledVector(tt[1],.488603*_e),a.addScaledVector(tt[2],.488603*et),a.addScaledVector(tt[3],.488603*j),a.addScaledVector(tt[4],1.092548*(j*_e)),a.addScaledVector(tt[5],1.092548*(_e*et)),a.addScaledVector(tt[6],.315392*(3*et*et-1)),a.addScaledVector(tt[7],1.092548*(j*et)),a.addScaledVector(tt[8],.546274*(j*j-_e*_e)),a}getIrradianceAt(o,a){const j=o.x,_e=o.y,et=o.z,tt=this.coefficients;return a.copy(tt[0]).multiplyScalar(.886227),a.addScaledVector(tt[1],2*.511664*_e),a.addScaledVector(tt[2],2*.511664*et),a.addScaledVector(tt[3],2*.511664*j),a.addScaledVector(tt[4],2*.429043*j*_e),a.addScaledVector(tt[5],2*.429043*_e*et),a.addScaledVector(tt[6],.743125*et*et-.247708),a.addScaledVector(tt[7],2*.429043*j*et),a.addScaledVector(tt[8],.429043*(j*j-_e*_e)),a}add(o){for(let a=0;a<9;a++)this.coefficients[a].add(o.coefficients[a]);return this}addScaledSH(o,a){for(let j=0;j<9;j++)this.coefficients[j].addScaledVector(o.coefficients[j],a);return this}scale(o){for(let a=0;a<9;a++)this.coefficients[a].multiplyScalar(o);return this}lerp(o,a){for(let j=0;j<9;j++)this.coefficients[j].lerp(o.coefficients[j],a);return this}equals(o){for(let a=0;a<9;a++)if(!this.coefficients[a].equals(o.coefficients[a]))return!1;return!0}copy(o){return this.set(o.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(o,a=0){const j=this.coefficients;for(let _e=0;_e<9;_e++)j[_e].fromArray(o,a+_e*3);return this}toArray(o=[],a=0){const j=this.coefficients;for(let _e=0;_e<9;_e++)j[_e].toArray(o,a+_e*3);return o}static getBasisAt(o,a){const j=o.x,_e=o.y,et=o.z;a[0]=.282095,a[1]=.488603*_e,a[2]=.488603*et,a[3]=.488603*j,a[4]=1.092548*j*_e,a[5]=1.092548*_e*et,a[6]=.315392*(3*et*et-1),a[7]=1.092548*j*et,a[8]=.546274*(j*j-_e*_e)}}class LightProbe extends Light{constructor(o=new SphericalHarmonics3,a=1){super(void 0,a),this.isLightProbe=!0,this.sh=o}copy(o){return super.copy(o),this.sh.copy(o.sh),this}fromJSON(o){return this.intensity=o.intensity,this.sh.fromArray(o.sh),this}toJSON(o){const a=super.toJSON(o);return a.object.sh=this.sh.toArray(),a}}class MaterialLoader extends Loader{constructor(o){super(o),this.textures={}}load(o,a,j,_e){const et=this,tt=new FileLoader(et.manager);tt.setPath(et.path),tt.setRequestHeader(et.requestHeader),tt.setWithCredentials(et.withCredentials),tt.load(o,function(nt){try{a(et.parse(JSON.parse(nt)))}catch(rt){_e?_e(rt):console.error(rt),et.manager.itemError(o)}},j,_e)}parse(o){const a=this.textures;function j(et){return a[et]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",et),a[et]}const _e=MaterialLoader.createMaterialFromType(o.type);if(o.uuid!==void 0&&(_e.uuid=o.uuid),o.name!==void 0&&(_e.name=o.name),o.color!==void 0&&_e.color!==void 0&&_e.color.setHex(o.color),o.roughness!==void 0&&(_e.roughness=o.roughness),o.metalness!==void 0&&(_e.metalness=o.metalness),o.sheen!==void 0&&(_e.sheen=o.sheen),o.sheenColor!==void 0&&(_e.sheenColor=new Color().setHex(o.sheenColor)),o.sheenRoughness!==void 0&&(_e.sheenRoughness=o.sheenRoughness),o.emissive!==void 0&&_e.emissive!==void 0&&_e.emissive.setHex(o.emissive),o.specular!==void 0&&_e.specular!==void 0&&_e.specular.setHex(o.specular),o.specularIntensity!==void 0&&(_e.specularIntensity=o.specularIntensity),o.specularColor!==void 0&&_e.specularColor!==void 0&&_e.specularColor.setHex(o.specularColor),o.shininess!==void 0&&(_e.shininess=o.shininess),o.clearcoat!==void 0&&(_e.clearcoat=o.clearcoat),o.clearcoatRoughness!==void 0&&(_e.clearcoatRoughness=o.clearcoatRoughness),o.iridescence!==void 0&&(_e.iridescence=o.iridescence),o.iridescenceIOR!==void 0&&(_e.iridescenceIOR=o.iridescenceIOR),o.iridescenceThicknessRange!==void 0&&(_e.iridescenceThicknessRange=o.iridescenceThicknessRange),o.transmission!==void 0&&(_e.transmission=o.transmission),o.thickness!==void 0&&(_e.thickness=o.thickness),o.attenuationDistance!==void 0&&(_e.attenuationDistance=o.attenuationDistance),o.attenuationColor!==void 0&&_e.attenuationColor!==void 0&&_e.attenuationColor.setHex(o.attenuationColor),o.fog!==void 0&&(_e.fog=o.fog),o.flatShading!==void 0&&(_e.flatShading=o.flatShading),o.blending!==void 0&&(_e.blending=o.blending),o.combine!==void 0&&(_e.combine=o.combine),o.side!==void 0&&(_e.side=o.side),o.shadowSide!==void 0&&(_e.shadowSide=o.shadowSide),o.opacity!==void 0&&(_e.opacity=o.opacity),o.transparent!==void 0&&(_e.transparent=o.transparent),o.alphaTest!==void 0&&(_e.alphaTest=o.alphaTest),o.depthTest!==void 0&&(_e.depthTest=o.depthTest),o.depthWrite!==void 0&&(_e.depthWrite=o.depthWrite),o.colorWrite!==void 0&&(_e.colorWrite=o.colorWrite),o.stencilWrite!==void 0&&(_e.stencilWrite=o.stencilWrite),o.stencilWriteMask!==void 0&&(_e.stencilWriteMask=o.stencilWriteMask),o.stencilFunc!==void 0&&(_e.stencilFunc=o.stencilFunc),o.stencilRef!==void 0&&(_e.stencilRef=o.stencilRef),o.stencilFuncMask!==void 0&&(_e.stencilFuncMask=o.stencilFuncMask),o.stencilFail!==void 0&&(_e.stencilFail=o.stencilFail),o.stencilZFail!==void 0&&(_e.stencilZFail=o.stencilZFail),o.stencilZPass!==void 0&&(_e.stencilZPass=o.stencilZPass),o.wireframe!==void 0&&(_e.wireframe=o.wireframe),o.wireframeLinewidth!==void 0&&(_e.wireframeLinewidth=o.wireframeLinewidth),o.wireframeLinecap!==void 0&&(_e.wireframeLinecap=o.wireframeLinecap),o.wireframeLinejoin!==void 0&&(_e.wireframeLinejoin=o.wireframeLinejoin),o.rotation!==void 0&&(_e.rotation=o.rotation),o.linewidth!==1&&(_e.linewidth=o.linewidth),o.dashSize!==void 0&&(_e.dashSize=o.dashSize),o.gapSize!==void 0&&(_e.gapSize=o.gapSize),o.scale!==void 0&&(_e.scale=o.scale),o.polygonOffset!==void 0&&(_e.polygonOffset=o.polygonOffset),o.polygonOffsetFactor!==void 0&&(_e.polygonOffsetFactor=o.polygonOffsetFactor),o.polygonOffsetUnits!==void 0&&(_e.polygonOffsetUnits=o.polygonOffsetUnits),o.dithering!==void 0&&(_e.dithering=o.dithering),o.alphaToCoverage!==void 0&&(_e.alphaToCoverage=o.alphaToCoverage),o.premultipliedAlpha!==void 0&&(_e.premultipliedAlpha=o.premultipliedAlpha),o.forceSinglePass!==void 0&&(_e.forceSinglePass=o.forceSinglePass),o.visible!==void 0&&(_e.visible=o.visible),o.toneMapped!==void 0&&(_e.toneMapped=o.toneMapped),o.userData!==void 0&&(_e.userData=o.userData),o.vertexColors!==void 0&&(typeof o.vertexColors=="number"?_e.vertexColors=o.vertexColors>0:_e.vertexColors=o.vertexColors),o.uniforms!==void 0)for(const et in o.uniforms){const tt=o.uniforms[et];switch(_e.uniforms[et]={},tt.type){case"t":_e.uniforms[et].value=j(tt.value);break;case"c":_e.uniforms[et].value=new Color().setHex(tt.value);break;case"v2":_e.uniforms[et].value=new Vector2().fromArray(tt.value);break;case"v3":_e.uniforms[et].value=new Vector3().fromArray(tt.value);break;case"v4":_e.uniforms[et].value=new Vector4().fromArray(tt.value);break;case"m3":_e.uniforms[et].value=new Matrix3().fromArray(tt.value);break;case"m4":_e.uniforms[et].value=new Matrix4().fromArray(tt.value);break;default:_e.uniforms[et].value=tt.value}}if(o.defines!==void 0&&(_e.defines=o.defines),o.vertexShader!==void 0&&(_e.vertexShader=o.vertexShader),o.fragmentShader!==void 0&&(_e.fragmentShader=o.fragmentShader),o.glslVersion!==void 0&&(_e.glslVersion=o.glslVersion),o.extensions!==void 0)for(const et in o.extensions)_e.extensions[et]=o.extensions[et];if(o.size!==void 0&&(_e.size=o.size),o.sizeAttenuation!==void 0&&(_e.sizeAttenuation=o.sizeAttenuation),o.map!==void 0&&(_e.map=j(o.map)),o.matcap!==void 0&&(_e.matcap=j(o.matcap)),o.alphaMap!==void 0&&(_e.alphaMap=j(o.alphaMap)),o.bumpMap!==void 0&&(_e.bumpMap=j(o.bumpMap)),o.bumpScale!==void 0&&(_e.bumpScale=o.bumpScale),o.normalMap!==void 0&&(_e.normalMap=j(o.normalMap)),o.normalMapType!==void 0&&(_e.normalMapType=o.normalMapType),o.normalScale!==void 0){let et=o.normalScale;Array.isArray(et)===!1&&(et=[et,et]),_e.normalScale=new Vector2().fromArray(et)}return o.displacementMap!==void 0&&(_e.displacementMap=j(o.displacementMap)),o.displacementScale!==void 0&&(_e.displacementScale=o.displacementScale),o.displacementBias!==void 0&&(_e.displacementBias=o.displacementBias),o.roughnessMap!==void 0&&(_e.roughnessMap=j(o.roughnessMap)),o.metalnessMap!==void 0&&(_e.metalnessMap=j(o.metalnessMap)),o.emissiveMap!==void 0&&(_e.emissiveMap=j(o.emissiveMap)),o.emissiveIntensity!==void 0&&(_e.emissiveIntensity=o.emissiveIntensity),o.specularMap!==void 0&&(_e.specularMap=j(o.specularMap)),o.specularIntensityMap!==void 0&&(_e.specularIntensityMap=j(o.specularIntensityMap)),o.specularColorMap!==void 0&&(_e.specularColorMap=j(o.specularColorMap)),o.envMap!==void 0&&(_e.envMap=j(o.envMap)),o.envMapIntensity!==void 0&&(_e.envMapIntensity=o.envMapIntensity),o.reflectivity!==void 0&&(_e.reflectivity=o.reflectivity),o.refractionRatio!==void 0&&(_e.refractionRatio=o.refractionRatio),o.lightMap!==void 0&&(_e.lightMap=j(o.lightMap)),o.lightMapIntensity!==void 0&&(_e.lightMapIntensity=o.lightMapIntensity),o.aoMap!==void 0&&(_e.aoMap=j(o.aoMap)),o.aoMapIntensity!==void 0&&(_e.aoMapIntensity=o.aoMapIntensity),o.gradientMap!==void 0&&(_e.gradientMap=j(o.gradientMap)),o.clearcoatMap!==void 0&&(_e.clearcoatMap=j(o.clearcoatMap)),o.clearcoatRoughnessMap!==void 0&&(_e.clearcoatRoughnessMap=j(o.clearcoatRoughnessMap)),o.clearcoatNormalMap!==void 0&&(_e.clearcoatNormalMap=j(o.clearcoatNormalMap)),o.clearcoatNormalScale!==void 0&&(_e.clearcoatNormalScale=new Vector2().fromArray(o.clearcoatNormalScale)),o.iridescenceMap!==void 0&&(_e.iridescenceMap=j(o.iridescenceMap)),o.iridescenceThicknessMap!==void 0&&(_e.iridescenceThicknessMap=j(o.iridescenceThicknessMap)),o.transmissionMap!==void 0&&(_e.transmissionMap=j(o.transmissionMap)),o.thicknessMap!==void 0&&(_e.thicknessMap=j(o.thicknessMap)),o.sheenColorMap!==void 0&&(_e.sheenColorMap=j(o.sheenColorMap)),o.sheenRoughnessMap!==void 0&&(_e.sheenRoughnessMap=j(o.sheenRoughnessMap)),_e}setTextures(o){return this.textures=o,this}static createMaterialFromType(o){const a={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new a[o]}}class LoaderUtils{static decodeText(o){if(typeof TextDecoder<"u")return new TextDecoder().decode(o);let a="";for(let j=0,_e=o.length;j<_e;j++)a+=String.fromCharCode(o[j]);try{return decodeURIComponent(escape(a))}catch{return a}}static extractUrlBase(o){const a=o.lastIndexOf("/");return a===-1?"./":o.slice(0,a+1)}static resolveURL(o,a){return typeof o!="string"||o===""?"":(/^https?:\/\//i.test(a)&&/^\//.test(o)&&(a=a.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(o)||/^data:.*,.*$/i.test(o)||/^blob:.*$/i.test(o)?o:a+o)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(o){return super.copy(o),this.instanceCount=o.instanceCount,this}toJSON(){const o=super.toJSON();return o.instanceCount=this.instanceCount,o.isInstancedBufferGeometry=!0,o}}class BufferGeometryLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){const et=this,tt=new FileLoader(et.manager);tt.setPath(et.path),tt.setRequestHeader(et.requestHeader),tt.setWithCredentials(et.withCredentials),tt.load(o,function(nt){try{a(et.parse(JSON.parse(nt)))}catch(rt){_e?_e(rt):console.error(rt),et.manager.itemError(o)}},j,_e)}parse(o){const a={},j={};function _e(ut,dt){if(a[dt]!==void 0)return a[dt];const ht=ut.interleavedBuffers[dt],pt=et(ut,ht.buffer),yt=getTypedArray(ht.type,pt),gt=new InterleavedBuffer(yt,ht.stride);return gt.uuid=ht.uuid,a[dt]=gt,gt}function et(ut,dt){if(j[dt]!==void 0)return j[dt];const ht=ut.arrayBuffers[dt],pt=new Uint32Array(ht).buffer;return j[dt]=pt,pt}const tt=o.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,nt=o.data.index;if(nt!==void 0){const ut=getTypedArray(nt.type,nt.array);tt.setIndex(new BufferAttribute(ut,1))}const rt=o.data.attributes;for(const ut in rt){const dt=rt[ut];let ft;if(dt.isInterleavedBufferAttribute){const ht=_e(o.data,dt.data);ft=new InterleavedBufferAttribute(ht,dt.itemSize,dt.offset,dt.normalized)}else{const ht=getTypedArray(dt.type,dt.array),pt=dt.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;ft=new pt(ht,dt.itemSize,dt.normalized)}dt.name!==void 0&&(ft.name=dt.name),dt.usage!==void 0&&ft.setUsage(dt.usage),dt.updateRange!==void 0&&(ft.updateRange.offset=dt.updateRange.offset,ft.updateRange.count=dt.updateRange.count),tt.setAttribute(ut,ft)}const it=o.data.morphAttributes;if(it)for(const ut in it){const dt=it[ut],ft=[];for(let ht=0,pt=dt.length;ht<pt;ht++){const yt=dt[ht];let gt;if(yt.isInterleavedBufferAttribute){const bt=_e(o.data,yt.data);gt=new InterleavedBufferAttribute(bt,yt.itemSize,yt.offset,yt.normalized)}else{const bt=getTypedArray(yt.type,yt.array);gt=new BufferAttribute(bt,yt.itemSize,yt.normalized)}yt.name!==void 0&&(gt.name=yt.name),ft.push(gt)}tt.morphAttributes[ut]=ft}o.data.morphTargetsRelative&&(tt.morphTargetsRelative=!0);const at=o.data.groups||o.data.drawcalls||o.data.offsets;if(at!==void 0)for(let ut=0,dt=at.length;ut!==dt;++ut){const ft=at[ut];tt.addGroup(ft.start,ft.count,ft.materialIndex)}const ct=o.data.boundingSphere;if(ct!==void 0){const ut=new Vector3;ct.center!==void 0&&ut.fromArray(ct.center),tt.boundingSphere=new Sphere(ut,ct.radius)}return o.name&&(tt.name=o.name),o.userData&&(tt.userData=o.userData),tt}}class ObjectLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){const et=this,tt=this.path===""?LoaderUtils.extractUrlBase(o):this.path;this.resourcePath=this.resourcePath||tt;const nt=new FileLoader(this.manager);nt.setPath(this.path),nt.setRequestHeader(this.requestHeader),nt.setWithCredentials(this.withCredentials),nt.load(o,function(rt){let it=null;try{it=JSON.parse(rt)}catch(at){_e!==void 0&&_e(at),console.error("THREE:ObjectLoader: Can't parse "+o+".",at.message);return}const ot=it.metadata;if(ot===void 0||ot.type===void 0||ot.type.toLowerCase()==="geometry"){_e!==void 0&&_e(new Error("THREE.ObjectLoader: Can't load "+o)),console.error("THREE.ObjectLoader: Can't load "+o);return}et.parse(it,a)},j,_e)}async loadAsync(o,a){const j=this,_e=this.path===""?LoaderUtils.extractUrlBase(o):this.path;this.resourcePath=this.resourcePath||_e;const et=new FileLoader(this.manager);et.setPath(this.path),et.setRequestHeader(this.requestHeader),et.setWithCredentials(this.withCredentials);const tt=await et.loadAsync(o,a),nt=JSON.parse(tt),rt=nt.metadata;if(rt===void 0||rt.type===void 0||rt.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+o);return await j.parseAsync(nt)}parse(o,a){const j=this.parseAnimations(o.animations),_e=this.parseShapes(o.shapes),et=this.parseGeometries(o.geometries,_e),tt=this.parseImages(o.images,function(){a!==void 0&&a(it)}),nt=this.parseTextures(o.textures,tt),rt=this.parseMaterials(o.materials,nt),it=this.parseObject(o.object,et,rt,nt,j),ot=this.parseSkeletons(o.skeletons,it);if(this.bindSkeletons(it,ot),a!==void 0){let at=!1;for(const ct in tt)if(tt[ct].data instanceof HTMLImageElement){at=!0;break}at===!1&&a(it)}return it}async parseAsync(o){const a=this.parseAnimations(o.animations),j=this.parseShapes(o.shapes),_e=this.parseGeometries(o.geometries,j),et=await this.parseImagesAsync(o.images),tt=this.parseTextures(o.textures,et),nt=this.parseMaterials(o.materials,tt),rt=this.parseObject(o.object,_e,nt,tt,a),it=this.parseSkeletons(o.skeletons,rt);return this.bindSkeletons(rt,it),rt}parseShapes(o){const a={};if(o!==void 0)for(let j=0,_e=o.length;j<_e;j++){const et=new Shape().fromJSON(o[j]);a[et.uuid]=et}return a}parseSkeletons(o,a){const j={},_e={};if(a.traverse(function(et){et.isBone&&(_e[et.uuid]=et)}),o!==void 0)for(let et=0,tt=o.length;et<tt;et++){const nt=new Skeleton().fromJSON(o[et],_e);j[nt.uuid]=nt}return j}parseGeometries(o,a){const j={};if(o!==void 0){const _e=new BufferGeometryLoader;for(let et=0,tt=o.length;et<tt;et++){let nt;const rt=o[et];switch(rt.type){case"BufferGeometry":case"InstancedBufferGeometry":nt=_e.parse(rt);break;default:rt.type in Geometries?nt=Geometries[rt.type].fromJSON(rt,a):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${rt.type}"`)}nt.uuid=rt.uuid,rt.name!==void 0&&(nt.name=rt.name),nt.isBufferGeometry===!0&&rt.userData!==void 0&&(nt.userData=rt.userData),j[rt.uuid]=nt}}return j}parseMaterials(o,a){const j={},_e={};if(o!==void 0){const et=new MaterialLoader;et.setTextures(a);for(let tt=0,nt=o.length;tt<nt;tt++){const rt=o[tt];j[rt.uuid]===void 0&&(j[rt.uuid]=et.parse(rt)),_e[rt.uuid]=j[rt.uuid]}}return _e}parseAnimations(o){const a={};if(o!==void 0)for(let j=0;j<o.length;j++){const _e=o[j],et=AnimationClip.parse(_e);a[et.uuid]=et}return a}parseImages(o,a){const j=this,_e={};let et;function tt(rt){return j.manager.itemStart(rt),et.load(rt,function(){j.manager.itemEnd(rt)},void 0,function(){j.manager.itemError(rt),j.manager.itemEnd(rt)})}function nt(rt){if(typeof rt=="string"){const it=rt,ot=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(it)?it:j.resourcePath+it;return tt(ot)}else return rt.data?{data:getTypedArray(rt.type,rt.data),width:rt.width,height:rt.height}:null}if(o!==void 0&&o.length>0){const rt=new LoadingManager(a);et=new ImageLoader(rt),et.setCrossOrigin(this.crossOrigin);for(let it=0,ot=o.length;it<ot;it++){const at=o[it],ct=at.url;if(Array.isArray(ct)){const ut=[];for(let dt=0,ft=ct.length;dt<ft;dt++){const ht=ct[dt],pt=nt(ht);pt!==null&&(pt instanceof HTMLImageElement?ut.push(pt):ut.push(new DataTexture(pt.data,pt.width,pt.height)))}_e[at.uuid]=new Source(ut)}else{const ut=nt(at.url);_e[at.uuid]=new Source(ut)}}}return _e}async parseImagesAsync(o){const a=this,j={};let _e;async function et(tt){if(typeof tt=="string"){const nt=tt,rt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(nt)?nt:a.resourcePath+nt;return await _e.loadAsync(rt)}else return tt.data?{data:getTypedArray(tt.type,tt.data),width:tt.width,height:tt.height}:null}if(o!==void 0&&o.length>0){_e=new ImageLoader(this.manager),_e.setCrossOrigin(this.crossOrigin);for(let tt=0,nt=o.length;tt<nt;tt++){const rt=o[tt],it=rt.url;if(Array.isArray(it)){const ot=[];for(let at=0,ct=it.length;at<ct;at++){const ut=it[at],dt=await et(ut);dt!==null&&(dt instanceof HTMLImageElement?ot.push(dt):ot.push(new DataTexture(dt.data,dt.width,dt.height)))}j[rt.uuid]=new Source(ot)}else{const ot=await et(rt.url);j[rt.uuid]=new Source(ot)}}}return j}parseTextures(o,a){function j(et,tt){return typeof et=="number"?et:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",et),tt[et])}const _e={};if(o!==void 0)for(let et=0,tt=o.length;et<tt;et++){const nt=o[et];nt.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',nt.uuid),a[nt.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",nt.image);const rt=a[nt.image],it=rt.data;let ot;Array.isArray(it)?(ot=new CubeTexture,it.length===6&&(ot.needsUpdate=!0)):(it&&it.data?ot=new DataTexture:ot=new Texture,it&&(ot.needsUpdate=!0)),ot.source=rt,ot.uuid=nt.uuid,nt.name!==void 0&&(ot.name=nt.name),nt.mapping!==void 0&&(ot.mapping=j(nt.mapping,TEXTURE_MAPPING)),nt.offset!==void 0&&ot.offset.fromArray(nt.offset),nt.repeat!==void 0&&ot.repeat.fromArray(nt.repeat),nt.center!==void 0&&ot.center.fromArray(nt.center),nt.rotation!==void 0&&(ot.rotation=nt.rotation),nt.wrap!==void 0&&(ot.wrapS=j(nt.wrap[0],TEXTURE_WRAPPING),ot.wrapT=j(nt.wrap[1],TEXTURE_WRAPPING)),nt.format!==void 0&&(ot.format=nt.format),nt.type!==void 0&&(ot.type=nt.type),nt.encoding!==void 0&&(ot.encoding=nt.encoding),nt.minFilter!==void 0&&(ot.minFilter=j(nt.minFilter,TEXTURE_FILTER)),nt.magFilter!==void 0&&(ot.magFilter=j(nt.magFilter,TEXTURE_FILTER)),nt.anisotropy!==void 0&&(ot.anisotropy=nt.anisotropy),nt.flipY!==void 0&&(ot.flipY=nt.flipY),nt.generateMipmaps!==void 0&&(ot.generateMipmaps=nt.generateMipmaps),nt.premultiplyAlpha!==void 0&&(ot.premultiplyAlpha=nt.premultiplyAlpha),nt.unpackAlignment!==void 0&&(ot.unpackAlignment=nt.unpackAlignment),nt.userData!==void 0&&(ot.userData=nt.userData),_e[nt.uuid]=ot}return _e}parseObject(o,a,j,_e,et){let tt;function nt(ct){return a[ct]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",ct),a[ct]}function rt(ct){if(ct!==void 0){if(Array.isArray(ct)){const ut=[];for(let dt=0,ft=ct.length;dt<ft;dt++){const ht=ct[dt];j[ht]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ht),ut.push(j[ht])}return ut}return j[ct]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ct),j[ct]}}function it(ct){return _e[ct]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",ct),_e[ct]}let ot,at;switch(o.type){case"Scene":tt=new Scene,o.background!==void 0&&(Number.isInteger(o.background)?tt.background=new Color(o.background):tt.background=it(o.background)),o.environment!==void 0&&(tt.environment=it(o.environment)),o.fog!==void 0&&(o.fog.type==="Fog"?tt.fog=new Fog(o.fog.color,o.fog.near,o.fog.far):o.fog.type==="FogExp2"&&(tt.fog=new FogExp2(o.fog.color,o.fog.density))),o.backgroundBlurriness!==void 0&&(tt.backgroundBlurriness=o.backgroundBlurriness),o.backgroundIntensity!==void 0&&(tt.backgroundIntensity=o.backgroundIntensity);break;case"PerspectiveCamera":tt=new PerspectiveCamera(o.fov,o.aspect,o.near,o.far),o.focus!==void 0&&(tt.focus=o.focus),o.zoom!==void 0&&(tt.zoom=o.zoom),o.filmGauge!==void 0&&(tt.filmGauge=o.filmGauge),o.filmOffset!==void 0&&(tt.filmOffset=o.filmOffset),o.view!==void 0&&(tt.view=Object.assign({},o.view));break;case"OrthographicCamera":tt=new OrthographicCamera(o.left,o.right,o.top,o.bottom,o.near,o.far),o.zoom!==void 0&&(tt.zoom=o.zoom),o.view!==void 0&&(tt.view=Object.assign({},o.view));break;case"AmbientLight":tt=new AmbientLight(o.color,o.intensity);break;case"DirectionalLight":tt=new DirectionalLight(o.color,o.intensity);break;case"PointLight":tt=new PointLight(o.color,o.intensity,o.distance,o.decay);break;case"RectAreaLight":tt=new RectAreaLight(o.color,o.intensity,o.width,o.height);break;case"SpotLight":tt=new SpotLight(o.color,o.intensity,o.distance,o.angle,o.penumbra,o.decay);break;case"HemisphereLight":tt=new HemisphereLight(o.color,o.groundColor,o.intensity);break;case"LightProbe":tt=new LightProbe().fromJSON(o);break;case"SkinnedMesh":ot=nt(o.geometry),at=rt(o.material),tt=new SkinnedMesh(ot,at),o.bindMode!==void 0&&(tt.bindMode=o.bindMode),o.bindMatrix!==void 0&&tt.bindMatrix.fromArray(o.bindMatrix),o.skeleton!==void 0&&(tt.skeleton=o.skeleton);break;case"Mesh":ot=nt(o.geometry),at=rt(o.material),tt=new Mesh(ot,at);break;case"InstancedMesh":ot=nt(o.geometry),at=rt(o.material);const ct=o.count,ut=o.instanceMatrix,dt=o.instanceColor;tt=new InstancedMesh(ot,at,ct),tt.instanceMatrix=new InstancedBufferAttribute(new Float32Array(ut.array),16),dt!==void 0&&(tt.instanceColor=new InstancedBufferAttribute(new Float32Array(dt.array),dt.itemSize));break;case"LOD":tt=new LOD;break;case"Line":tt=new Line(nt(o.geometry),rt(o.material));break;case"LineLoop":tt=new LineLoop(nt(o.geometry),rt(o.material));break;case"LineSegments":tt=new LineSegments(nt(o.geometry),rt(o.material));break;case"PointCloud":case"Points":tt=new Points$1(nt(o.geometry),rt(o.material));break;case"Sprite":tt=new Sprite(rt(o.material));break;case"Group":tt=new Group;break;case"Bone":tt=new Bone;break;default:tt=new Object3D}if(tt.uuid=o.uuid,o.name!==void 0&&(tt.name=o.name),o.matrix!==void 0?(tt.matrix.fromArray(o.matrix),o.matrixAutoUpdate!==void 0&&(tt.matrixAutoUpdate=o.matrixAutoUpdate),tt.matrixAutoUpdate&&tt.matrix.decompose(tt.position,tt.quaternion,tt.scale)):(o.position!==void 0&&tt.position.fromArray(o.position),o.rotation!==void 0&&tt.rotation.fromArray(o.rotation),o.quaternion!==void 0&&tt.quaternion.fromArray(o.quaternion),o.scale!==void 0&&tt.scale.fromArray(o.scale)),o.castShadow!==void 0&&(tt.castShadow=o.castShadow),o.receiveShadow!==void 0&&(tt.receiveShadow=o.receiveShadow),o.shadow&&(o.shadow.bias!==void 0&&(tt.shadow.bias=o.shadow.bias),o.shadow.normalBias!==void 0&&(tt.shadow.normalBias=o.shadow.normalBias),o.shadow.radius!==void 0&&(tt.shadow.radius=o.shadow.radius),o.shadow.mapSize!==void 0&&tt.shadow.mapSize.fromArray(o.shadow.mapSize),o.shadow.camera!==void 0&&(tt.shadow.camera=this.parseObject(o.shadow.camera))),o.visible!==void 0&&(tt.visible=o.visible),o.frustumCulled!==void 0&&(tt.frustumCulled=o.frustumCulled),o.renderOrder!==void 0&&(tt.renderOrder=o.renderOrder),o.userData!==void 0&&(tt.userData=o.userData),o.layers!==void 0&&(tt.layers.mask=o.layers),o.children!==void 0){const ct=o.children;for(let ut=0;ut<ct.length;ut++)tt.add(this.parseObject(ct[ut],a,j,_e,et))}if(o.animations!==void 0){const ct=o.animations;for(let ut=0;ut<ct.length;ut++){const dt=ct[ut];tt.animations.push(et[dt])}}if(o.type==="LOD"){o.autoUpdate!==void 0&&(tt.autoUpdate=o.autoUpdate);const ct=o.levels;for(let ut=0;ut<ct.length;ut++){const dt=ct[ut],ft=tt.getObjectByProperty("uuid",dt.object);ft!==void 0&&tt.addLevel(ft,dt.distance,dt.hysteresis)}}return tt}bindSkeletons(o,a){Object.keys(a).length!==0&&o.traverse(function(j){if(j.isSkinnedMesh===!0&&j.skeleton!==void 0){const _e=a[j.skeleton];_e===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",j.skeleton):j.bind(_e,j.bindMatrix)}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(o){super(o),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(o){return this.options=o,this}load(o,a,j,_e){o===void 0&&(o=""),this.path!==void 0&&(o=this.path+o),o=this.manager.resolveURL(o);const et=this,tt=Cache.get(o);if(tt!==void 0)return et.manager.itemStart(o),setTimeout(function(){a&&a(tt),et.manager.itemEnd(o)},0),tt;const nt={};nt.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",nt.headers=this.requestHeader,fetch(o,nt).then(function(rt){return rt.blob()}).then(function(rt){return createImageBitmap(rt,Object.assign(et.options,{colorSpaceConversion:"none"}))}).then(function(rt){Cache.add(o,rt),a&&a(rt),et.manager.itemEnd(o)}).catch(function(rt){_e&&_e(rt),et.manager.itemError(o),et.manager.itemEnd(o)}),et.manager.itemStart(o)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(o){_context=o}}class AudioLoader extends Loader{constructor(o){super(o)}load(o,a,j,_e){const et=this,tt=new FileLoader(this.manager);tt.setResponseType("arraybuffer"),tt.setPath(this.path),tt.setRequestHeader(this.requestHeader),tt.setWithCredentials(this.withCredentials),tt.load(o,function(nt){try{const rt=nt.slice(0);AudioContext.getContext().decodeAudioData(rt,function(ot){a(ot)})}catch(rt){_e?_e(rt):console.error(rt),et.manager.itemError(o)}},j,_e)}}class HemisphereLightProbe extends LightProbe{constructor(o,a,j=1){super(void 0,j),this.isHemisphereLightProbe=!0;const _e=new Color().set(o),et=new Color().set(a),tt=new Vector3(_e.r,_e.g,_e.b),nt=new Vector3(et.r,et.g,et.b),rt=Math.sqrt(Math.PI),it=rt*Math.sqrt(.75);this.sh.coefficients[0].copy(tt).add(nt).multiplyScalar(rt),this.sh.coefficients[1].copy(tt).sub(nt).multiplyScalar(it)}}class AmbientLightProbe extends LightProbe{constructor(o,a=1){super(void 0,a),this.isAmbientLightProbe=!0;const j=new Color().set(o);this.sh.coefficients[0].set(j.r,j.g,j.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(o){const a=this._cache;if(a.focus!==o.focus||a.fov!==o.fov||a.aspect!==o.aspect*this.aspect||a.near!==o.near||a.far!==o.far||a.zoom!==o.zoom||a.eyeSep!==this.eyeSep){a.focus=o.focus,a.fov=o.fov,a.aspect=o.aspect*this.aspect,a.near=o.near,a.far=o.far,a.zoom=o.zoom,a.eyeSep=this.eyeSep,_projectionMatrix.copy(o.projectionMatrix);const _e=a.eyeSep/2,et=_e*a.near/a.focus,tt=a.near*Math.tan(DEG2RAD*a.fov*.5)/a.zoom;let nt,rt;_eyeLeft.elements[12]=-_e,_eyeRight.elements[12]=_e,nt=-tt*a.aspect+et,rt=tt*a.aspect+et,_projectionMatrix.elements[0]=2*a.near/(rt-nt),_projectionMatrix.elements[8]=(rt+nt)/(rt-nt),this.cameraL.projectionMatrix.copy(_projectionMatrix),nt=-tt*a.aspect-et,rt=tt*a.aspect-et,_projectionMatrix.elements[0]=2*a.near/(rt-nt),_projectionMatrix.elements[8]=(rt+nt)/(rt-nt),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(o.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(o.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(o=!0){this.autoStart=o,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let o=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const a=now();o=(a-this.oldTime)/1e3,this.oldTime=a,this.elapsedTime+=o}return o}}function now(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(o){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=o,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(o){return this.gain.gain.setTargetAtTime(o,this.context.currentTime,.01),this}updateMatrixWorld(o){super.updateMatrixWorld(o);const a=this.context.listener,j=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),a.positionX){const _e=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(_position$1.x,_e),a.positionY.linearRampToValueAtTime(_position$1.y,_e),a.positionZ.linearRampToValueAtTime(_position$1.z,_e),a.forwardX.linearRampToValueAtTime(_orientation$1.x,_e),a.forwardY.linearRampToValueAtTime(_orientation$1.y,_e),a.forwardZ.linearRampToValueAtTime(_orientation$1.z,_e),a.upX.linearRampToValueAtTime(j.x,_e),a.upY.linearRampToValueAtTime(j.y,_e),a.upZ.linearRampToValueAtTime(j.z,_e)}else a.setPosition(_position$1.x,_position$1.y,_position$1.z),a.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,j.x,j.y,j.z)}}class Audio extends Object3D{constructor(o){super(),this.type="Audio",this.listener=o,this.context=o.context,this.gain=this.context.createGain(),this.gain.connect(o.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(o){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=o,this.connect(),this}setMediaElementSource(o){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(o),this.connect(),this}setMediaStreamSource(o){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(o),this.connect(),this}setBuffer(o){return this.buffer=o,this.sourceType="buffer",this.autoplay&&this.play(),this}play(o=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+o;const a=this.context.createBufferSource();return a.buffer=this.buffer,a.loop=this.loop,a.loopStart=this.loopStart,a.loopEnd=this.loopEnd,a.onended=this.onEnded.bind(this),a.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=a,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let o=1,a=this.filters.length;o<a;o++)this.filters[o-1].connect(this.filters[o]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let o=1,a=this.filters.length;o<a;o++)this.filters[o-1].disconnect(this.filters[o]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(o){return o||(o=[]),this._connected===!0?(this.disconnect(),this.filters=o.slice(),this.connect()):this.filters=o.slice(),this}setDetune(o){if(this.detune=o,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(o){return this.setFilters(o?[o]:[])}setPlaybackRate(o){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=o,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(o){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=o,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(o){return this.loopStart=o,this}setLoopEnd(o){return this.loopEnd=o,this}getVolume(){return this.gain.gain.value}setVolume(o){return this.gain.gain.setTargetAtTime(o,this.context.currentTime,.01),this}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(o){super(o),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(o){return this.panner.refDistance=o,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(o){return this.panner.rolloffFactor=o,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(o){return this.panner.distanceModel=o,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(o){return this.panner.maxDistance=o,this}setDirectionalCone(o,a,j){return this.panner.coneInnerAngle=o,this.panner.coneOuterAngle=a,this.panner.coneOuterGain=j,this}updateMatrixWorld(o){if(super.updateMatrixWorld(o),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const a=this.panner;if(a.positionX){const j=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(_position.x,j),a.positionY.linearRampToValueAtTime(_position.y,j),a.positionZ.linearRampToValueAtTime(_position.z,j),a.orientationX.linearRampToValueAtTime(_orientation.x,j),a.orientationY.linearRampToValueAtTime(_orientation.y,j),a.orientationZ.linearRampToValueAtTime(_orientation.z,j)}else a.setPosition(_position.x,_position.y,_position.z),a.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(o,a=2048){this.analyser=o.context.createAnalyser(),this.analyser.fftSize=a,this.data=new Uint8Array(this.analyser.frequencyBinCount),o.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let o=0;const a=this.getFrequencyData();for(let j=0;j<a.length;j++)o+=a[j];return o/a.length}}class PropertyMixer{constructor(o,a,j){this.binding=o,this.valueSize=j;let _e,et,tt;switch(a){case"quaternion":_e=this._slerp,et=this._slerpAdditive,tt=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(j*6),this._workIndex=5;break;case"string":case"bool":_e=this._select,et=this._select,tt=this._setAdditiveIdentityOther,this.buffer=new Array(j*5);break;default:_e=this._lerp,et=this._lerpAdditive,tt=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(j*5)}this._mixBufferRegion=_e,this._mixBufferRegionAdditive=et,this._setIdentity=tt,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(o,a){const j=this.buffer,_e=this.valueSize,et=o*_e+_e;let tt=this.cumulativeWeight;if(tt===0){for(let nt=0;nt!==_e;++nt)j[et+nt]=j[nt];tt=a}else{tt+=a;const nt=a/tt;this._mixBufferRegion(j,et,0,nt,_e)}this.cumulativeWeight=tt}accumulateAdditive(o){const a=this.buffer,j=this.valueSize,_e=j*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(a,_e,0,o,j),this.cumulativeWeightAdditive+=o}apply(o){const a=this.valueSize,j=this.buffer,_e=o*a+a,et=this.cumulativeWeight,tt=this.cumulativeWeightAdditive,nt=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,et<1){const rt=a*this._origIndex;this._mixBufferRegion(j,_e,rt,1-et,a)}tt>0&&this._mixBufferRegionAdditive(j,_e,this._addIndex*a,1,a);for(let rt=a,it=a+a;rt!==it;++rt)if(j[rt]!==j[rt+a]){nt.setValue(j,_e);break}}saveOriginalState(){const o=this.binding,a=this.buffer,j=this.valueSize,_e=j*this._origIndex;o.getValue(a,_e);for(let et=j,tt=_e;et!==tt;++et)a[et]=a[_e+et%j];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const o=this.valueSize*3;this.binding.setValue(this.buffer,o)}_setAdditiveIdentityNumeric(){const o=this._addIndex*this.valueSize,a=o+this.valueSize;for(let j=o;j<a;j++)this.buffer[j]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const o=this._origIndex*this.valueSize,a=this._addIndex*this.valueSize;for(let j=0;j<this.valueSize;j++)this.buffer[a+j]=this.buffer[o+j]}_select(o,a,j,_e,et){if(_e>=.5)for(let tt=0;tt!==et;++tt)o[a+tt]=o[j+tt]}_slerp(o,a,j,_e){Quaternion.slerpFlat(o,a,o,a,o,j,_e)}_slerpAdditive(o,a,j,_e,et){const tt=this._workIndex*et;Quaternion.multiplyQuaternionsFlat(o,tt,o,a,o,j),Quaternion.slerpFlat(o,a,o,a,o,tt,_e)}_lerp(o,a,j,_e,et){const tt=1-_e;for(let nt=0;nt!==et;++nt){const rt=a+nt;o[rt]=o[rt]*tt+o[j+nt]*_e}}_lerpAdditive(o,a,j,_e,et){for(let tt=0;tt!==et;++tt){const nt=a+tt;o[nt]=o[nt]+o[j+tt]*_e}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(o,a,j){const _e=j||PropertyBinding.parseTrackName(a);this._targetGroup=o,this._bindings=o.subscribe_(a,_e)}getValue(o,a){this.bind();const j=this._targetGroup.nCachedObjects_,_e=this._bindings[j];_e!==void 0&&_e.getValue(o,a)}setValue(o,a){const j=this._bindings;for(let _e=this._targetGroup.nCachedObjects_,et=j.length;_e!==et;++_e)j[_e].setValue(o,a)}bind(){const o=this._bindings;for(let a=this._targetGroup.nCachedObjects_,j=o.length;a!==j;++a)o[a].bind()}unbind(){const o=this._bindings;for(let a=this._targetGroup.nCachedObjects_,j=o.length;a!==j;++a)o[a].unbind()}}class PropertyBinding{constructor(o,a,j){this.path=a,this.parsedPath=j||PropertyBinding.parseTrackName(a),this.node=PropertyBinding.findNode(o,this.parsedPath.nodeName)||o,this.rootNode=o,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(o,a,j){return o&&o.isAnimationObjectGroup?new PropertyBinding.Composite(o,a,j):new PropertyBinding(o,a,j)}static sanitizeNodeName(o){return o.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(o){const a=_trackRe.exec(o);if(a===null)throw new Error("PropertyBinding: Cannot parse trackName: "+o);const j={nodeName:a[2],objectName:a[3],objectIndex:a[4],propertyName:a[5],propertyIndex:a[6]},_e=j.nodeName&&j.nodeName.lastIndexOf(".");if(_e!==void 0&&_e!==-1){const et=j.nodeName.substring(_e+1);_supportedObjectNames.indexOf(et)!==-1&&(j.nodeName=j.nodeName.substring(0,_e),j.objectName=et)}if(j.propertyName===null||j.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+o);return j}static findNode(o,a){if(a===void 0||a===""||a==="."||a===-1||a===o.name||a===o.uuid)return o;if(o.skeleton){const j=o.skeleton.getBoneByName(a);if(j!==void 0)return j}if(o.children){const j=function(et){for(let tt=0;tt<et.length;tt++){const nt=et[tt];if(nt.name===a||nt.uuid===a)return nt;const rt=j(nt.children);if(rt)return rt}return null},_e=j(o.children);if(_e)return _e}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(o,a){o[a]=this.targetObject[this.propertyName]}_getValue_array(o,a){const j=this.resolvedProperty;for(let _e=0,et=j.length;_e!==et;++_e)o[a++]=j[_e]}_getValue_arrayElement(o,a){o[a]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(o,a){this.resolvedProperty.toArray(o,a)}_setValue_direct(o,a){this.targetObject[this.propertyName]=o[a]}_setValue_direct_setNeedsUpdate(o,a){this.targetObject[this.propertyName]=o[a],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(o,a){this.targetObject[this.propertyName]=o[a],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(o,a){const j=this.resolvedProperty;for(let _e=0,et=j.length;_e!==et;++_e)j[_e]=o[a++]}_setValue_array_setNeedsUpdate(o,a){const j=this.resolvedProperty;for(let _e=0,et=j.length;_e!==et;++_e)j[_e]=o[a++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(o,a){const j=this.resolvedProperty;for(let _e=0,et=j.length;_e!==et;++_e)j[_e]=o[a++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(o,a){this.resolvedProperty[this.propertyIndex]=o[a]}_setValue_arrayElement_setNeedsUpdate(o,a){this.resolvedProperty[this.propertyIndex]=o[a],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(o,a){this.resolvedProperty[this.propertyIndex]=o[a],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(o,a){this.resolvedProperty.fromArray(o,a)}_setValue_fromArray_setNeedsUpdate(o,a){this.resolvedProperty.fromArray(o,a),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(o,a){this.resolvedProperty.fromArray(o,a),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(o,a){this.bind(),this.getValue(o,a)}_setValue_unbound(o,a){this.bind(),this.setValue(o,a)}bind(){let o=this.node;const a=this.parsedPath,j=a.objectName,_e=a.propertyName;let et=a.propertyIndex;if(o||(o=PropertyBinding.findNode(this.rootNode,a.nodeName)||this.rootNode,this.node=o),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!o){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(j){let it=a.objectIndex;switch(j){case"materials":if(!o.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!o.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}o=o.material.materials;break;case"bones":if(!o.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}o=o.skeleton.bones;for(let ot=0;ot<o.length;ot++)if(o[ot].name===it){it=ot;break}break;case"map":if("map"in o){o=o.map;break}if(!o.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!o.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}o=o.material.map;break;default:if(o[j]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}o=o[j]}if(it!==void 0){if(o[it]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,o);return}o=o[it]}}const tt=o[_e];if(tt===void 0){const it=a.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+it+"."+_e+" but it wasn't found.",o);return}let nt=this.Versioning.None;this.targetObject=o,o.needsUpdate!==void 0?nt=this.Versioning.NeedsUpdate:o.matrixWorldNeedsUpdate!==void 0&&(nt=this.Versioning.MatrixWorldNeedsUpdate);let rt=this.BindingType.Direct;if(et!==void 0){if(_e==="morphTargetInfluences"){if(!o.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!o.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}o.morphTargetDictionary[et]!==void 0&&(et=o.morphTargetDictionary[et])}rt=this.BindingType.ArrayElement,this.resolvedProperty=tt,this.propertyIndex=et}else tt.fromArray!==void 0&&tt.toArray!==void 0?(rt=this.BindingType.HasFromToArray,this.resolvedProperty=tt):Array.isArray(tt)?(rt=this.BindingType.EntireArray,this.resolvedProperty=tt):this.propertyName=_e;this.getValue=this.GetterByBindingType[rt],this.setValue=this.SetterByBindingTypeAndVersioning[rt][nt]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const o={};this._indicesByUUID=o;for(let j=0,_e=arguments.length;j!==_e;++j)o[arguments[j].uuid]=j;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const a=this;this.stats={objects:{get total(){return a._objects.length},get inUse(){return this.total-a.nCachedObjects_}},get bindingsPerObject(){return a._bindings.length}}}add(){const o=this._objects,a=this._indicesByUUID,j=this._paths,_e=this._parsedPaths,et=this._bindings,tt=et.length;let nt,rt=o.length,it=this.nCachedObjects_;for(let ot=0,at=arguments.length;ot!==at;++ot){const ct=arguments[ot],ut=ct.uuid;let dt=a[ut];if(dt===void 0){dt=rt++,a[ut]=dt,o.push(ct);for(let ft=0,ht=tt;ft!==ht;++ft)et[ft].push(new PropertyBinding(ct,j[ft],_e[ft]))}else if(dt<it){nt=o[dt];const ft=--it,ht=o[ft];a[ht.uuid]=dt,o[dt]=ht,a[ut]=ft,o[ft]=ct;for(let pt=0,yt=tt;pt!==yt;++pt){const gt=et[pt],bt=gt[ft];let At=gt[dt];gt[dt]=bt,At===void 0&&(At=new PropertyBinding(ct,j[pt],_e[pt])),gt[ft]=At}}else o[dt]!==nt&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=it}remove(){const o=this._objects,a=this._indicesByUUID,j=this._bindings,_e=j.length;let et=this.nCachedObjects_;for(let tt=0,nt=arguments.length;tt!==nt;++tt){const rt=arguments[tt],it=rt.uuid,ot=a[it];if(ot!==void 0&&ot>=et){const at=et++,ct=o[at];a[ct.uuid]=ot,o[ot]=ct,a[it]=at,o[at]=rt;for(let ut=0,dt=_e;ut!==dt;++ut){const ft=j[ut],ht=ft[at],pt=ft[ot];ft[ot]=ht,ft[at]=pt}}}this.nCachedObjects_=et}uncache(){const o=this._objects,a=this._indicesByUUID,j=this._bindings,_e=j.length;let et=this.nCachedObjects_,tt=o.length;for(let nt=0,rt=arguments.length;nt!==rt;++nt){const it=arguments[nt],ot=it.uuid,at=a[ot];if(at!==void 0)if(delete a[ot],at<et){const ct=--et,ut=o[ct],dt=--tt,ft=o[dt];a[ut.uuid]=at,o[at]=ut,a[ft.uuid]=ct,o[ct]=ft,o.pop();for(let ht=0,pt=_e;ht!==pt;++ht){const yt=j[ht],gt=yt[ct],bt=yt[dt];yt[at]=gt,yt[ct]=bt,yt.pop()}}else{const ct=--tt,ut=o[ct];ct>0&&(a[ut.uuid]=at),o[at]=ut,o.pop();for(let dt=0,ft=_e;dt!==ft;++dt){const ht=j[dt];ht[at]=ht[ct],ht.pop()}}}this.nCachedObjects_=et}subscribe_(o,a){const j=this._bindingsIndicesByPath;let _e=j[o];const et=this._bindings;if(_e!==void 0)return et[_e];const tt=this._paths,nt=this._parsedPaths,rt=this._objects,it=rt.length,ot=this.nCachedObjects_,at=new Array(it);_e=et.length,j[o]=_e,tt.push(o),nt.push(a),et.push(at);for(let ct=ot,ut=rt.length;ct!==ut;++ct){const dt=rt[ct];at[ct]=new PropertyBinding(dt,o,a)}return at}unsubscribe_(o){const a=this._bindingsIndicesByPath,j=a[o];if(j!==void 0){const _e=this._paths,et=this._parsedPaths,tt=this._bindings,nt=tt.length-1,rt=tt[nt],it=o[nt];a[it]=j,tt[j]=rt,tt.pop(),et[j]=et[nt],et.pop(),_e[j]=_e[nt],_e.pop()}}}class AnimationAction{constructor(o,a,j=null,_e=a.blendMode){this._mixer=o,this._clip=a,this._localRoot=j,this.blendMode=_e;const et=a.tracks,tt=et.length,nt=new Array(tt),rt={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let it=0;it!==tt;++it){const ot=et[it].createInterpolant(null);nt[it]=ot,ot.settings=rt}this._interpolantSettings=rt,this._interpolants=nt,this._propertyBindings=new Array(tt),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(o){return this._startTime=o,this}setLoop(o,a){return this.loop=o,this.repetitions=a,this}setEffectiveWeight(o){return this.weight=o,this._effectiveWeight=this.enabled?o:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(o){return this._scheduleFading(o,0,1)}fadeOut(o){return this._scheduleFading(o,1,0)}crossFadeFrom(o,a,j){if(o.fadeOut(a),this.fadeIn(a),j){const _e=this._clip.duration,et=o._clip.duration,tt=et/_e,nt=_e/et;o.warp(1,tt,a),this.warp(nt,1,a)}return this}crossFadeTo(o,a,j){return o.crossFadeFrom(this,a,j)}stopFading(){const o=this._weightInterpolant;return o!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(o)),this}setEffectiveTimeScale(o){return this.timeScale=o,this._effectiveTimeScale=this.paused?0:o,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(o){return this.timeScale=this._clip.duration/o,this.stopWarping()}syncWith(o){return this.time=o.time,this.timeScale=o.timeScale,this.stopWarping()}halt(o){return this.warp(this._effectiveTimeScale,0,o)}warp(o,a,j){const _e=this._mixer,et=_e.time,tt=this.timeScale;let nt=this._timeScaleInterpolant;nt===null&&(nt=_e._lendControlInterpolant(),this._timeScaleInterpolant=nt);const rt=nt.parameterPositions,it=nt.sampleValues;return rt[0]=et,rt[1]=et+j,it[0]=o/tt,it[1]=a/tt,this}stopWarping(){const o=this._timeScaleInterpolant;return o!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(o)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(o,a,j,_e){if(!this.enabled){this._updateWeight(o);return}const et=this._startTime;if(et!==null){const rt=(o-et)*j;rt<0||j===0?a=0:(this._startTime=null,a=j*rt)}a*=this._updateTimeScale(o);const tt=this._updateTime(a),nt=this._updateWeight(o);if(nt>0){const rt=this._interpolants,it=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let ot=0,at=rt.length;ot!==at;++ot)rt[ot].evaluate(tt),it[ot].accumulateAdditive(nt);break;case NormalAnimationBlendMode:default:for(let ot=0,at=rt.length;ot!==at;++ot)rt[ot].evaluate(tt),it[ot].accumulate(_e,nt)}}}_updateWeight(o){let a=0;if(this.enabled){a=this.weight;const j=this._weightInterpolant;if(j!==null){const _e=j.evaluate(o)[0];a*=_e,o>j.parameterPositions[1]&&(this.stopFading(),_e===0&&(this.enabled=!1))}}return this._effectiveWeight=a,a}_updateTimeScale(o){let a=0;if(!this.paused){a=this.timeScale;const j=this._timeScaleInterpolant;if(j!==null){const _e=j.evaluate(o)[0];a*=_e,o>j.parameterPositions[1]&&(this.stopWarping(),a===0?this.paused=!0:this.timeScale=a)}}return this._effectiveTimeScale=a,a}_updateTime(o){const a=this._clip.duration,j=this.loop;let _e=this.time+o,et=this._loopCount;const tt=j===LoopPingPong;if(o===0)return et===-1?_e:tt&&(et&1)===1?a-_e:_e;if(j===LoopOnce){et===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(_e>=a)_e=a;else if(_e<0)_e=0;else{this.time=_e;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=_e,this._mixer.dispatchEvent({type:"finished",action:this,direction:o<0?-1:1})}}else{if(et===-1&&(o>=0?(et=0,this._setEndings(!0,this.repetitions===0,tt)):this._setEndings(this.repetitions===0,!0,tt)),_e>=a||_e<0){const nt=Math.floor(_e/a);_e-=a*nt,et+=Math.abs(nt);const rt=this.repetitions-et;if(rt<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,_e=o>0?a:0,this.time=_e,this._mixer.dispatchEvent({type:"finished",action:this,direction:o>0?1:-1});else{if(rt===1){const it=o<0;this._setEndings(it,!it,tt)}else this._setEndings(!1,!1,tt);this._loopCount=et,this.time=_e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:nt})}}else this.time=_e;if(tt&&(et&1)===1)return a-_e}return _e}_setEndings(o,a,j){const _e=this._interpolantSettings;j?(_e.endingStart=ZeroSlopeEnding,_e.endingEnd=ZeroSlopeEnding):(o?_e.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:_e.endingStart=WrapAroundEnding,a?_e.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:_e.endingEnd=WrapAroundEnding)}_scheduleFading(o,a,j){const _e=this._mixer,et=_e.time;let tt=this._weightInterpolant;tt===null&&(tt=_e._lendControlInterpolant(),this._weightInterpolant=tt);const nt=tt.parameterPositions,rt=tt.sampleValues;return nt[0]=et,rt[0]=a,nt[1]=et+o,rt[1]=j,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher{constructor(o){super(),this._root=o,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(o,a){const j=o._localRoot||this._root,_e=o._clip.tracks,et=_e.length,tt=o._propertyBindings,nt=o._interpolants,rt=j.uuid,it=this._bindingsByRootAndName;let ot=it[rt];ot===void 0&&(ot={},it[rt]=ot);for(let at=0;at!==et;++at){const ct=_e[at],ut=ct.name;let dt=ot[ut];if(dt!==void 0)++dt.referenceCount,tt[at]=dt;else{if(dt=tt[at],dt!==void 0){dt._cacheIndex===null&&(++dt.referenceCount,this._addInactiveBinding(dt,rt,ut));continue}const ft=a&&a._propertyBindings[at].binding.parsedPath;dt=new PropertyMixer(PropertyBinding.create(j,ut,ft),ct.ValueTypeName,ct.getValueSize()),++dt.referenceCount,this._addInactiveBinding(dt,rt,ut),tt[at]=dt}nt[at].resultBuffer=dt.buffer}}_activateAction(o){if(!this._isActiveAction(o)){if(o._cacheIndex===null){const j=(o._localRoot||this._root).uuid,_e=o._clip.uuid,et=this._actionsByClip[_e];this._bindAction(o,et&&et.knownActions[0]),this._addInactiveAction(o,_e,j)}const a=o._propertyBindings;for(let j=0,_e=a.length;j!==_e;++j){const et=a[j];et.useCount++===0&&(this._lendBinding(et),et.saveOriginalState())}this._lendAction(o)}}_deactivateAction(o){if(this._isActiveAction(o)){const a=o._propertyBindings;for(let j=0,_e=a.length;j!==_e;++j){const et=a[j];--et.useCount===0&&(et.restoreOriginalState(),this._takeBackBinding(et))}this._takeBackAction(o)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const o=this;this.stats={actions:{get total(){return o._actions.length},get inUse(){return o._nActiveActions}},bindings:{get total(){return o._bindings.length},get inUse(){return o._nActiveBindings}},controlInterpolants:{get total(){return o._controlInterpolants.length},get inUse(){return o._nActiveControlInterpolants}}}}_isActiveAction(o){const a=o._cacheIndex;return a!==null&&a<this._nActiveActions}_addInactiveAction(o,a,j){const _e=this._actions,et=this._actionsByClip;let tt=et[a];if(tt===void 0)tt={knownActions:[o],actionByRoot:{}},o._byClipCacheIndex=0,et[a]=tt;else{const nt=tt.knownActions;o._byClipCacheIndex=nt.length,nt.push(o)}o._cacheIndex=_e.length,_e.push(o),tt.actionByRoot[j]=o}_removeInactiveAction(o){const a=this._actions,j=a[a.length-1],_e=o._cacheIndex;j._cacheIndex=_e,a[_e]=j,a.pop(),o._cacheIndex=null;const et=o._clip.uuid,tt=this._actionsByClip,nt=tt[et],rt=nt.knownActions,it=rt[rt.length-1],ot=o._byClipCacheIndex;it._byClipCacheIndex=ot,rt[ot]=it,rt.pop(),o._byClipCacheIndex=null;const at=nt.actionByRoot,ct=(o._localRoot||this._root).uuid;delete at[ct],rt.length===0&&delete tt[et],this._removeInactiveBindingsForAction(o)}_removeInactiveBindingsForAction(o){const a=o._propertyBindings;for(let j=0,_e=a.length;j!==_e;++j){const et=a[j];--et.referenceCount===0&&this._removeInactiveBinding(et)}}_lendAction(o){const a=this._actions,j=o._cacheIndex,_e=this._nActiveActions++,et=a[_e];o._cacheIndex=_e,a[_e]=o,et._cacheIndex=j,a[j]=et}_takeBackAction(o){const a=this._actions,j=o._cacheIndex,_e=--this._nActiveActions,et=a[_e];o._cacheIndex=_e,a[_e]=o,et._cacheIndex=j,a[j]=et}_addInactiveBinding(o,a,j){const _e=this._bindingsByRootAndName,et=this._bindings;let tt=_e[a];tt===void 0&&(tt={},_e[a]=tt),tt[j]=o,o._cacheIndex=et.length,et.push(o)}_removeInactiveBinding(o){const a=this._bindings,j=o.binding,_e=j.rootNode.uuid,et=j.path,tt=this._bindingsByRootAndName,nt=tt[_e],rt=a[a.length-1],it=o._cacheIndex;rt._cacheIndex=it,a[it]=rt,a.pop(),delete nt[et],Object.keys(nt).length===0&&delete tt[_e]}_lendBinding(o){const a=this._bindings,j=o._cacheIndex,_e=this._nActiveBindings++,et=a[_e];o._cacheIndex=_e,a[_e]=o,et._cacheIndex=j,a[j]=et}_takeBackBinding(o){const a=this._bindings,j=o._cacheIndex,_e=--this._nActiveBindings,et=a[_e];o._cacheIndex=_e,a[_e]=o,et._cacheIndex=j,a[j]=et}_lendControlInterpolant(){const o=this._controlInterpolants,a=this._nActiveControlInterpolants++;let j=o[a];return j===void 0&&(j=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),j.__cacheIndex=a,o[a]=j),j}_takeBackControlInterpolant(o){const a=this._controlInterpolants,j=o.__cacheIndex,_e=--this._nActiveControlInterpolants,et=a[_e];o.__cacheIndex=_e,a[_e]=o,et.__cacheIndex=j,a[j]=et}clipAction(o,a,j){const _e=a||this._root,et=_e.uuid;let tt=typeof o=="string"?AnimationClip.findByName(_e,o):o;const nt=tt!==null?tt.uuid:o,rt=this._actionsByClip[nt];let it=null;if(j===void 0&&(tt!==null?j=tt.blendMode:j=NormalAnimationBlendMode),rt!==void 0){const at=rt.actionByRoot[et];if(at!==void 0&&at.blendMode===j)return at;it=rt.knownActions[0],tt===null&&(tt=it._clip)}if(tt===null)return null;const ot=new AnimationAction(this,tt,a,j);return this._bindAction(ot,it),this._addInactiveAction(ot,nt,et),ot}existingAction(o,a){const j=a||this._root,_e=j.uuid,et=typeof o=="string"?AnimationClip.findByName(j,o):o,tt=et?et.uuid:o,nt=this._actionsByClip[tt];return nt!==void 0&&nt.actionByRoot[_e]||null}stopAllAction(){const o=this._actions,a=this._nActiveActions;for(let j=a-1;j>=0;--j)o[j].stop();return this}update(o){o*=this.timeScale;const a=this._actions,j=this._nActiveActions,_e=this.time+=o,et=Math.sign(o),tt=this._accuIndex^=1;for(let it=0;it!==j;++it)a[it]._update(_e,o,et,tt);const nt=this._bindings,rt=this._nActiveBindings;for(let it=0;it!==rt;++it)nt[it].apply(tt);return this}setTime(o){this.time=0;for(let a=0;a<this._actions.length;a++)this._actions[a].time=0;return this.update(o)}getRoot(){return this._root}uncacheClip(o){const a=this._actions,j=o.uuid,_e=this._actionsByClip,et=_e[j];if(et!==void 0){const tt=et.knownActions;for(let nt=0,rt=tt.length;nt!==rt;++nt){const it=tt[nt];this._deactivateAction(it);const ot=it._cacheIndex,at=a[a.length-1];it._cacheIndex=null,it._byClipCacheIndex=null,at._cacheIndex=ot,a[ot]=at,a.pop(),this._removeInactiveBindingsForAction(it)}delete _e[j]}}uncacheRoot(o){const a=o.uuid,j=this._actionsByClip;for(const tt in j){const nt=j[tt].actionByRoot,rt=nt[a];rt!==void 0&&(this._deactivateAction(rt),this._removeInactiveAction(rt))}const _e=this._bindingsByRootAndName,et=_e[a];if(et!==void 0)for(const tt in et){const nt=et[tt];nt.restoreOriginalState(),this._removeInactiveBinding(nt)}}uncacheAction(o,a){const j=this.existingAction(o,a);j!==null&&(this._deactivateAction(j),this._removeInactiveAction(j))}}class Uniform{constructor(o){this.value=o}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let id=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:id++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(o){return this.uniforms.push(o),this}remove(o){const a=this.uniforms.indexOf(o);return a!==-1&&this.uniforms.splice(a,1),this}setName(o){return this.name=o,this}setUsage(o){return this.usage=o,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(o){this.name=o.name,this.usage=o.usage;const a=o.uniforms;this.uniforms.length=0;for(let j=0,_e=a.length;j<_e;j++)this.uniforms.push(a[j].clone());return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(o,a,j=1){super(o,a),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=j}copy(o){return super.copy(o),this.meshPerAttribute=o.meshPerAttribute,this}clone(o){const a=super.clone(o);return a.meshPerAttribute=this.meshPerAttribute,a}toJSON(o){const a=super.toJSON(o);return a.isInstancedInterleavedBuffer=!0,a.meshPerAttribute=this.meshPerAttribute,a}}class GLBufferAttribute{constructor(o,a,j,_e,et){this.isGLBufferAttribute=!0,this.name="",this.buffer=o,this.type=a,this.itemSize=j,this.elementSize=_e,this.count=et,this.version=0}set needsUpdate(o){o===!0&&this.version++}setBuffer(o){return this.buffer=o,this}setType(o,a){return this.type=o,this.elementSize=a,this}setItemSize(o){return this.itemSize=o,this}setCount(o){return this.count=o,this}}class Raycaster{constructor(o,a,j=0,_e=1/0){this.ray=new Ray(o,a),this.near=j,this.far=_e,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(o,a){this.ray.set(o,a)}setFromCamera(o,a){a.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(a.matrixWorld),this.ray.direction.set(o.x,o.y,.5).unproject(a).sub(this.ray.origin).normalize(),this.camera=a):a.isOrthographicCamera?(this.ray.origin.set(o.x,o.y,(a.near+a.far)/(a.near-a.far)).unproject(a),this.ray.direction.set(0,0,-1).transformDirection(a.matrixWorld),this.camera=a):console.error("THREE.Raycaster: Unsupported camera type: "+a.type)}intersectObject(o,a=!0,j=[]){return intersectObject(o,this,j,a),j.sort(ascSort),j}intersectObjects(o,a=!0,j=[]){for(let _e=0,et=o.length;_e<et;_e++)intersectObject(o[_e],this,j,a);return j.sort(ascSort),j}}function ascSort($,o){return $.distance-o.distance}function intersectObject($,o,a,j){if($.layers.test(o.layers)&&$.raycast(o,a),j===!0){const _e=$.children;for(let et=0,tt=_e.length;et<tt;et++)intersectObject(_e[et],o,a,!0)}}class Spherical{constructor(o=1,a=0,j=0){return this.radius=o,this.phi=a,this.theta=j,this}set(o,a,j){return this.radius=o,this.phi=a,this.theta=j,this}copy(o){return this.radius=o.radius,this.phi=o.phi,this.theta=o.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(o){return this.setFromCartesianCoords(o.x,o.y,o.z)}setFromCartesianCoords(o,a,j){return this.radius=Math.sqrt(o*o+a*a+j*j),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(o,j),this.phi=Math.acos(clamp(a/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(o=1,a=0,j=0){return this.radius=o,this.theta=a,this.y=j,this}set(o,a,j){return this.radius=o,this.theta=a,this.y=j,this}copy(o){return this.radius=o.radius,this.theta=o.theta,this.y=o.y,this}setFromVector3(o){return this.setFromCartesianCoords(o.x,o.y,o.z)}setFromCartesianCoords(o,a,j){return this.radius=Math.sqrt(o*o+j*j),this.theta=Math.atan2(o,j),this.y=a,this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2;class Box2{constructor(o=new Vector2(1/0,1/0),a=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=o,this.max=a}set(o,a){return this.min.copy(o),this.max.copy(a),this}setFromPoints(o){this.makeEmpty();for(let a=0,j=o.length;a<j;a++)this.expandByPoint(o[a]);return this}setFromCenterAndSize(o,a){const j=_vector$4.copy(a).multiplyScalar(.5);return this.min.copy(o).sub(j),this.max.copy(o).add(j),this}clone(){return new this.constructor().copy(this)}copy(o){return this.min.copy(o.min),this.max.copy(o.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(o){return this.isEmpty()?o.set(0,0):o.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(o){return this.isEmpty()?o.set(0,0):o.subVectors(this.max,this.min)}expandByPoint(o){return this.min.min(o),this.max.max(o),this}expandByVector(o){return this.min.sub(o),this.max.add(o),this}expandByScalar(o){return this.min.addScalar(-o),this.max.addScalar(o),this}containsPoint(o){return!(o.x<this.min.x||o.x>this.max.x||o.y<this.min.y||o.y>this.max.y)}containsBox(o){return this.min.x<=o.min.x&&o.max.x<=this.max.x&&this.min.y<=o.min.y&&o.max.y<=this.max.y}getParameter(o,a){return a.set((o.x-this.min.x)/(this.max.x-this.min.x),(o.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(o){return!(o.max.x<this.min.x||o.min.x>this.max.x||o.max.y<this.min.y||o.min.y>this.max.y)}clampPoint(o,a){return a.copy(o).clamp(this.min,this.max)}distanceToPoint(o){return _vector$4.copy(o).clamp(this.min,this.max).sub(o).length()}intersect(o){return this.min.max(o.min),this.max.min(o.max),this}union(o){return this.min.min(o.min),this.max.max(o.max),this}translate(o){return this.min.add(o),this.max.add(o),this}equals(o){return o.min.equals(this.min)&&o.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(o=new Vector3,a=new Vector3){this.start=o,this.end=a}set(o,a){return this.start.copy(o),this.end.copy(a),this}copy(o){return this.start.copy(o.start),this.end.copy(o.end),this}getCenter(o){return o.addVectors(this.start,this.end).multiplyScalar(.5)}delta(o){return o.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(o,a){return this.delta(a).multiplyScalar(o).add(this.start)}closestPointToPointParameter(o,a){_startP.subVectors(o,this.start),_startEnd.subVectors(this.end,this.start);const j=_startEnd.dot(_startEnd);let et=_startEnd.dot(_startP)/j;return a&&(et=clamp(et,0,1)),et}closestPointToPoint(o,a,j){const _e=this.closestPointToPointParameter(o,a);return this.delta(j).multiplyScalar(_e).add(this.start)}applyMatrix4(o){return this.start.applyMatrix4(o),this.end.applyMatrix4(o),this}equals(o){return o.start.equals(this.start)&&o.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(o,a){super(),this.light=o,this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1,this.color=a,this.type="SpotLightHelper";const j=new BufferGeometry,_e=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let tt=0,nt=1,rt=32;tt<rt;tt++,nt++){const it=tt/rt*Math.PI*2,ot=nt/rt*Math.PI*2;_e.push(Math.cos(it),Math.sin(it),1,Math.cos(ot),Math.sin(ot),1)}j.setAttribute("position",new Float32BufferAttribute(_e,3));const et=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(j,et),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const o=this.light.distance?this.light.distance:1e3,a=o*Math.tan(this.light.angle);this.cone.scale.set(a,a,o),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(o){const a=getBoneList(o),j=new BufferGeometry,_e=[],et=[],tt=new Color(0,0,1),nt=new Color(0,1,0);for(let it=0;it<a.length;it++){const ot=a[it];ot.parent&&ot.parent.isBone&&(_e.push(0,0,0),_e.push(0,0,0),et.push(tt.r,tt.g,tt.b),et.push(nt.r,nt.g,nt.b))}j.setAttribute("position",new Float32BufferAttribute(_e,3)),j.setAttribute("color",new Float32BufferAttribute(et,3));const rt=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(j,rt),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=o,this.bones=a,this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(o){const a=this.bones,j=this.geometry,_e=j.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let et=0,tt=0;et<a.length;et++){const nt=a[et];nt.parent&&nt.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,nt.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),_e.setXYZ(tt,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,nt.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),_e.setXYZ(tt+1,_vector$2.x,_vector$2.y,_vector$2.z),tt+=2)}j.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(o)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList($){const o=[];$.isBone===!0&&o.push($);for(let a=0;a<$.children.length;a++)o.push.apply(o,getBoneList($.children[a]));return o}class PointLightHelper extends Mesh{constructor(o,a,j){const _e=new SphereGeometry(a,4,2),et=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(_e,et),this.light=o,this.color=j,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor(o,a,j){super(),this.light=o,this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1,this.color=j,this.type="HemisphereLightHelper";const _e=new OctahedronGeometry(a);_e.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const et=_e.getAttribute("position"),tt=new Float32Array(et.count*3);_e.setAttribute("color",new BufferAttribute(tt,3)),this.add(new Mesh(_e,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const o=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const a=o.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let j=0,_e=a.count;j<_e;j++){const et=j<_e/2?_color1:_color2;a.setXYZ(j,et.r,et.g,et.b)}a.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),o.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(o=10,a=10,j=4473924,_e=8947848){j=new Color(j),_e=new Color(_e);const et=a/2,tt=o/a,nt=o/2,rt=[],it=[];for(let ct=0,ut=0,dt=-nt;ct<=a;ct++,dt+=tt){rt.push(-nt,0,dt,nt,0,dt),rt.push(dt,0,-nt,dt,0,nt);const ft=ct===et?j:_e;ft.toArray(it,ut),ut+=3,ft.toArray(it,ut),ut+=3,ft.toArray(it,ut),ut+=3,ft.toArray(it,ut),ut+=3}const ot=new BufferGeometry;ot.setAttribute("position",new Float32BufferAttribute(rt,3)),ot.setAttribute("color",new Float32BufferAttribute(it,3));const at=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ot,at),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(o=10,a=16,j=8,_e=64,et=4473924,tt=8947848){et=new Color(et),tt=new Color(tt);const nt=[],rt=[];if(a>1)for(let at=0;at<a;at++){const ct=at/a*(Math.PI*2),ut=Math.sin(ct)*o,dt=Math.cos(ct)*o;nt.push(0,0,0),nt.push(ut,0,dt);const ft=at&1?et:tt;rt.push(ft.r,ft.g,ft.b),rt.push(ft.r,ft.g,ft.b)}for(let at=0;at<j;at++){const ct=at&1?et:tt,ut=o-o/j*at;for(let dt=0;dt<_e;dt++){let ft=dt/_e*(Math.PI*2),ht=Math.sin(ft)*ut,pt=Math.cos(ft)*ut;nt.push(ht,0,pt),rt.push(ct.r,ct.g,ct.b),ft=(dt+1)/_e*(Math.PI*2),ht=Math.sin(ft)*ut,pt=Math.cos(ft)*ut,nt.push(ht,0,pt),rt.push(ct.r,ct.g,ct.b)}}const it=new BufferGeometry;it.setAttribute("position",new Float32BufferAttribute(nt,3)),it.setAttribute("color",new Float32BufferAttribute(rt,3));const ot=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(it,ot),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(o,a,j){super(),this.light=o,this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1,this.color=j,this.type="DirectionalLightHelper",a===void 0&&(a=1);let _e=new BufferGeometry;_e.setAttribute("position",new Float32BufferAttribute([-a,a,0,a,a,0,a,-a,0,-a,-a,0,-a,a,0],3));const et=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(_e,et),this.add(this.lightPlane),_e=new BufferGeometry,_e.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(_e,et),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(o){const a=new BufferGeometry,j=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),_e=[],et=[],tt={};nt("n1","n2"),nt("n2","n4"),nt("n4","n3"),nt("n3","n1"),nt("f1","f2"),nt("f2","f4"),nt("f4","f3"),nt("f3","f1"),nt("n1","f1"),nt("n2","f2"),nt("n3","f3"),nt("n4","f4"),nt("p","n1"),nt("p","n2"),nt("p","n3"),nt("p","n4"),nt("u1","u2"),nt("u2","u3"),nt("u3","u1"),nt("c","t"),nt("p","c"),nt("cn1","cn2"),nt("cn3","cn4"),nt("cf1","cf2"),nt("cf3","cf4");function nt(dt,ft){rt(dt),rt(ft)}function rt(dt){_e.push(0,0,0),et.push(0,0,0),tt[dt]===void 0&&(tt[dt]=[]),tt[dt].push(_e.length/3-1)}a.setAttribute("position",new Float32BufferAttribute(_e,3)),a.setAttribute("color",new Float32BufferAttribute(et,3)),super(a,j),this.type="CameraHelper",this.camera=o,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=tt,this.update();const it=new Color(16755200),ot=new Color(16711680),at=new Color(43775),ct=new Color(16777215),ut=new Color(3355443);this.setColors(it,ot,at,ct,ut)}setColors(o,a,j,_e,et){const nt=this.geometry.getAttribute("color");nt.setXYZ(0,o.r,o.g,o.b),nt.setXYZ(1,o.r,o.g,o.b),nt.setXYZ(2,o.r,o.g,o.b),nt.setXYZ(3,o.r,o.g,o.b),nt.setXYZ(4,o.r,o.g,o.b),nt.setXYZ(5,o.r,o.g,o.b),nt.setXYZ(6,o.r,o.g,o.b),nt.setXYZ(7,o.r,o.g,o.b),nt.setXYZ(8,o.r,o.g,o.b),nt.setXYZ(9,o.r,o.g,o.b),nt.setXYZ(10,o.r,o.g,o.b),nt.setXYZ(11,o.r,o.g,o.b),nt.setXYZ(12,o.r,o.g,o.b),nt.setXYZ(13,o.r,o.g,o.b),nt.setXYZ(14,o.r,o.g,o.b),nt.setXYZ(15,o.r,o.g,o.b),nt.setXYZ(16,o.r,o.g,o.b),nt.setXYZ(17,o.r,o.g,o.b),nt.setXYZ(18,o.r,o.g,o.b),nt.setXYZ(19,o.r,o.g,o.b),nt.setXYZ(20,o.r,o.g,o.b),nt.setXYZ(21,o.r,o.g,o.b),nt.setXYZ(22,o.r,o.g,o.b),nt.setXYZ(23,o.r,o.g,o.b),nt.setXYZ(24,a.r,a.g,a.b),nt.setXYZ(25,a.r,a.g,a.b),nt.setXYZ(26,a.r,a.g,a.b),nt.setXYZ(27,a.r,a.g,a.b),nt.setXYZ(28,a.r,a.g,a.b),nt.setXYZ(29,a.r,a.g,a.b),nt.setXYZ(30,a.r,a.g,a.b),nt.setXYZ(31,a.r,a.g,a.b),nt.setXYZ(32,j.r,j.g,j.b),nt.setXYZ(33,j.r,j.g,j.b),nt.setXYZ(34,j.r,j.g,j.b),nt.setXYZ(35,j.r,j.g,j.b),nt.setXYZ(36,j.r,j.g,j.b),nt.setXYZ(37,j.r,j.g,j.b),nt.setXYZ(38,_e.r,_e.g,_e.b),nt.setXYZ(39,_e.r,_e.g,_e.b),nt.setXYZ(40,et.r,et.g,et.b),nt.setXYZ(41,et.r,et.g,et.b),nt.setXYZ(42,et.r,et.g,et.b),nt.setXYZ(43,et.r,et.g,et.b),nt.setXYZ(44,et.r,et.g,et.b),nt.setXYZ(45,et.r,et.g,et.b),nt.setXYZ(46,et.r,et.g,et.b),nt.setXYZ(47,et.r,et.g,et.b),nt.setXYZ(48,et.r,et.g,et.b),nt.setXYZ(49,et.r,et.g,et.b),nt.needsUpdate=!0}update(){const o=this.geometry,a=this.pointMap,j=1,_e=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",a,o,_camera,0,0,-1),setPoint("t",a,o,_camera,0,0,1),setPoint("n1",a,o,_camera,-j,-_e,-1),setPoint("n2",a,o,_camera,j,-_e,-1),setPoint("n3",a,o,_camera,-j,_e,-1),setPoint("n4",a,o,_camera,j,_e,-1),setPoint("f1",a,o,_camera,-j,-_e,1),setPoint("f2",a,o,_camera,j,-_e,1),setPoint("f3",a,o,_camera,-j,_e,1),setPoint("f4",a,o,_camera,j,_e,1),setPoint("u1",a,o,_camera,j*.7,_e*1.1,-1),setPoint("u2",a,o,_camera,-j*.7,_e*1.1,-1),setPoint("u3",a,o,_camera,0,_e*2,-1),setPoint("cf1",a,o,_camera,-j,0,1),setPoint("cf2",a,o,_camera,j,0,1),setPoint("cf3",a,o,_camera,0,-_e,1),setPoint("cf4",a,o,_camera,0,_e,1),setPoint("cn1",a,o,_camera,-j,0,-1),setPoint("cn2",a,o,_camera,j,0,-1),setPoint("cn3",a,o,_camera,0,-_e,-1),setPoint("cn4",a,o,_camera,0,_e,-1),o.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint($,o,a,j,_e,et,tt){_vector.set(_e,et,tt).unproject(j);const nt=o[$];if(nt!==void 0){const rt=a.getAttribute("position");for(let it=0,ot=nt.length;it<ot;it++)rt.setXYZ(nt[it],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(o,a=16776960){const j=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),_e=new Float32Array(8*3),et=new BufferGeometry;et.setIndex(new BufferAttribute(j,1)),et.setAttribute("position",new BufferAttribute(_e,3)),super(et,new LineBasicMaterial({color:a,toneMapped:!1})),this.object=o,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(o){if(o!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const a=_box.min,j=_box.max,_e=this.geometry.attributes.position,et=_e.array;et[0]=j.x,et[1]=j.y,et[2]=j.z,et[3]=a.x,et[4]=j.y,et[5]=j.z,et[6]=a.x,et[7]=a.y,et[8]=j.z,et[9]=j.x,et[10]=a.y,et[11]=j.z,et[12]=j.x,et[13]=j.y,et[14]=a.z,et[15]=a.x,et[16]=j.y,et[17]=a.z,et[18]=a.x,et[19]=a.y,et[20]=a.z,et[21]=j.x,et[22]=a.y,et[23]=a.z,_e.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(o){return this.object=o,this.update(),this}copy(o,a){return super.copy(o,a),this.object=o.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(o,a=16776960){const j=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),_e=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],et=new BufferGeometry;et.setIndex(new BufferAttribute(j,1)),et.setAttribute("position",new Float32BufferAttribute(_e,3)),super(et,new LineBasicMaterial({color:a,toneMapped:!1})),this.box=o,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(o){const a=this.box;a.isEmpty()||(a.getCenter(this.position),a.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(o))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(o,a=1,j=16776960){const _e=j,et=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],tt=new BufferGeometry;tt.setAttribute("position",new Float32BufferAttribute(et,3)),tt.computeBoundingSphere(),super(tt,new LineBasicMaterial({color:_e,toneMapped:!1})),this.type="PlaneHelper",this.plane=o,this.size=a;const nt=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],rt=new BufferGeometry;rt.setAttribute("position",new Float32BufferAttribute(nt,3)),rt.computeBoundingSphere(),this.add(new Mesh(rt,new MeshBasicMaterial({color:_e,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(o){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(o)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(o=new Vector3(0,0,1),a=new Vector3(0,0,0),j=1,_e=16776960,et=j*.2,tt=et*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(a),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:_e,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:_e,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(o),this.setLength(j,et,tt)}setDirection(o){if(o.y>.99999)this.quaternion.set(0,0,0,1);else if(o.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(o.z,0,-o.x).normalize();const a=Math.acos(o.y);this.quaternion.setFromAxisAngle(_axis,a)}}setLength(o,a=o*.2,j=a*.2){this.line.scale.set(1,Math.max(1e-4,o-a),1),this.line.updateMatrix(),this.cone.scale.set(j,a,j),this.cone.position.y=o,this.cone.updateMatrix()}setColor(o){this.line.material.color.set(o),this.cone.material.color.set(o)}copy(o){return super.copy(o,!1),this.line.copy(o.line),this.cone.copy(o.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(o=1){const a=[0,0,0,o,0,0,0,0,0,0,o,0,0,0,0,0,0,o],j=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],_e=new BufferGeometry;_e.setAttribute("position",new Float32BufferAttribute(a,3)),_e.setAttribute("color",new Float32BufferAttribute(j,3));const et=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(_e,et),this.type="AxesHelper"}setColors(o,a,j){const _e=new Color,et=this.geometry.attributes.color.array;return _e.set(o),_e.toArray(et,0),_e.toArray(et,3),_e.set(a),_e.toArray(et,6),_e.toArray(et,9),_e.set(j),_e.toArray(et,12),_e.toArray(et,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo(o,a){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(o,a),this}lineTo(o,a){return this.currentPath.lineTo(o,a),this}quadraticCurveTo(o,a,j,_e){return this.currentPath.quadraticCurveTo(o,a,j,_e),this}bezierCurveTo(o,a,j,_e,et,tt){return this.currentPath.bezierCurveTo(o,a,j,_e,et,tt),this}splineThru(o){return this.currentPath.splineThru(o),this}toShapes(o){function a(pt){const yt=[];for(let gt=0,bt=pt.length;gt<bt;gt++){const At=pt[gt],Tt=new Shape;Tt.curves=At.curves,yt.push(Tt)}return yt}function j(pt,yt){const gt=yt.length;let bt=!1;for(let At=gt-1,Tt=0;Tt<gt;At=Tt++){let Pt=yt[At],Ct=yt[Tt],It=Ct.x-Pt.x,Vt=Ct.y-Pt.y;if(Math.abs(Vt)>Number.EPSILON){if(Vt<0&&(Pt=yt[Tt],It=-It,Ct=yt[At],Vt=-Vt),pt.y<Pt.y||pt.y>Ct.y)continue;if(pt.y===Pt.y){if(pt.x===Pt.x)return!0}else{const Kt=Vt*(pt.x-Pt.x)-It*(pt.y-Pt.y);if(Kt===0)return!0;if(Kt<0)continue;bt=!bt}}else{if(pt.y!==Pt.y)continue;if(Ct.x<=pt.x&&pt.x<=Pt.x||Pt.x<=pt.x&&pt.x<=Ct.x)return!0}}return bt}const _e=ShapeUtils.isClockWise,et=this.subPaths;if(et.length===0)return[];let tt,nt,rt;const it=[];if(et.length===1)return nt=et[0],rt=new Shape,rt.curves=nt.curves,it.push(rt),it;let ot=!_e(et[0].getPoints());ot=o?!ot:ot;const at=[],ct=[];let ut=[],dt=0,ft;ct[dt]=void 0,ut[dt]=[];for(let pt=0,yt=et.length;pt<yt;pt++)nt=et[pt],ft=nt.getPoints(),tt=_e(ft),tt=o?!tt:tt,tt?(!ot&&ct[dt]&&dt++,ct[dt]={s:new Shape,p:ft},ct[dt].s.curves=nt.curves,ot&&dt++,ut[dt]=[]):ut[dt].push({h:nt,p:ft[0]});if(!ct[0])return a(et);if(ct.length>1){let pt=!1,yt=0;for(let gt=0,bt=ct.length;gt<bt;gt++)at[gt]=[];for(let gt=0,bt=ct.length;gt<bt;gt++){const At=ut[gt];for(let Tt=0;Tt<At.length;Tt++){const Pt=At[Tt];let Ct=!0;for(let It=0;It<ct.length;It++)j(Pt.p,ct[It].p)&&(gt!==It&&yt++,Ct?(Ct=!1,at[It].push(Pt)):pt=!0);Ct&&at[gt].push(Pt)}}yt>0&&pt===!1&&(ut=at)}let ht;for(let pt=0,yt=ct.length;pt<yt;pt++){rt=ct[pt].s,it.push(rt),ht=ut[pt];for(let gt=0,bt=ht.length;gt<bt;gt++)rt.holes.push(ht[gt].h)}return it}}const _tables=_generateTables();function _generateTables(){const $=new ArrayBuffer(4),o=new Float32Array($),a=new Uint32Array($),j=new Uint32Array(512),_e=new Uint32Array(512);for(let rt=0;rt<256;++rt){const it=rt-127;it<-27?(j[rt]=0,j[rt|256]=32768,_e[rt]=24,_e[rt|256]=24):it<-14?(j[rt]=1024>>-it-14,j[rt|256]=1024>>-it-14|32768,_e[rt]=-it-1,_e[rt|256]=-it-1):it<=15?(j[rt]=it+15<<10,j[rt|256]=it+15<<10|32768,_e[rt]=13,_e[rt|256]=13):it<128?(j[rt]=31744,j[rt|256]=64512,_e[rt]=24,_e[rt|256]=24):(j[rt]=31744,j[rt|256]=64512,_e[rt]=13,_e[rt|256]=13)}const et=new Uint32Array(2048),tt=new Uint32Array(64),nt=new Uint32Array(64);for(let rt=1;rt<1024;++rt){let it=rt<<13,ot=0;for(;!(it&8388608);)it<<=1,ot-=8388608;it&=-8388609,ot+=947912704,et[rt]=it|ot}for(let rt=1024;rt<2048;++rt)et[rt]=939524096+(rt-1024<<13);for(let rt=1;rt<31;++rt)tt[rt]=rt<<23;tt[31]=1199570944,tt[32]=2147483648;for(let rt=33;rt<63;++rt)tt[rt]=2147483648+(rt-32<<23);tt[63]=3347054592;for(let rt=1;rt<64;++rt)rt!==32&&(nt[rt]=1024);return{floatView:o,uint32View:a,baseTable:j,shiftTable:_e,mantissaTable:et,exponentTable:tt,offsetTable:nt}}function toHalfFloat($){Math.abs($)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),$=clamp($,-65504,65504),_tables.floatView[0]=$;const o=_tables.uint32View[0],a=o>>23&511;return _tables.baseTable[a]+((o&8388607)>>_tables.shiftTable[a])}function fromHalfFloat($){const o=$>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[o]+($&1023)]+_tables.exponentTable[o],_tables.floatView[0]}var DataUtils=Object.freeze({__proto__:null,fromHalfFloat,toHalfFloat});class BoxBufferGeometry extends BoxGeometry{constructor(o,a,j,_e,et,tt){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(o,a,j,_e,et,tt)}}class CapsuleBufferGeometry extends CapsuleGeometry{constructor(o,a,j,_e){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(o,a,j,_e)}}class CircleBufferGeometry extends CircleGeometry{constructor(o,a,j,_e){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(o,a,j,_e)}}class ConeBufferGeometry extends ConeGeometry{constructor(o,a,j,_e,et,tt,nt){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(o,a,j,_e,et,tt,nt)}}class CylinderBufferGeometry extends CylinderGeometry{constructor(o,a,j,_e,et,tt,nt,rt){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(o,a,j,_e,et,tt,nt,rt)}}class DodecahedronBufferGeometry extends DodecahedronGeometry{constructor(o,a){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(o,a)}}class ExtrudeBufferGeometry extends ExtrudeGeometry{constructor(o,a){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(o,a)}}class IcosahedronBufferGeometry extends IcosahedronGeometry{constructor(o,a){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(o,a)}}class LatheBufferGeometry extends LatheGeometry{constructor(o,a,j,_e){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(o,a,j,_e)}}class OctahedronBufferGeometry extends OctahedronGeometry{constructor(o,a){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(o,a)}}class PlaneBufferGeometry extends PlaneGeometry{constructor(o,a,j,_e){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(o,a,j,_e)}}class PolyhedronBufferGeometry extends PolyhedronGeometry{constructor(o,a,j,_e){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(o,a,j,_e)}}class RingBufferGeometry extends RingGeometry{constructor(o,a,j,_e,et,tt){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(o,a,j,_e,et,tt)}}class ShapeBufferGeometry extends ShapeGeometry{constructor(o,a){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(o,a)}}class SphereBufferGeometry extends SphereGeometry{constructor(o,a,j,_e,et,tt,nt){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(o,a,j,_e,et,tt,nt)}}class TetrahedronBufferGeometry extends TetrahedronGeometry{constructor(o,a){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(o,a)}}class TorusBufferGeometry extends TorusGeometry{constructor(o,a,j,_e,et){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(o,a,j,_e,et)}}class TorusKnotBufferGeometry extends TorusKnotGeometry{constructor(o,a,j,_e,et,tt){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(o,a,j,_e,et,tt)}}class TubeBufferGeometry extends TubeGeometry{constructor(o,a,j,_e,et){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(o,a,j,_e,et)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AlphaFormat,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AmbientLightProbe,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxBufferGeometry,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleBufferGeometry,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleBufferGeometry,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedTexture,CompressedTextureLoader,ConeBufferGeometry,ConeGeometry,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderBufferGeometry,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DodecahedronBufferGeometry,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher,ExtrudeBufferGeometry,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,Float64BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterDepth,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,HemisphereLightProbe,IcosahedronBufferGeometry,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheBufferGeometry,LatheGeometry,Layers,LessDepth,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearEncoding,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronBufferGeometry,OctahedronGeometry,OneFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera,Plane,PlaneBufferGeometry,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points:Points$1,PointsMaterial,PolarGridHelper,PolyhedronBufferGeometry,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingBufferGeometry,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeBufferGeometry,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereBufferGeometry,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronBufferGeometry,TetrahedronGeometry,Texture,TextureLoader,TorusBufferGeometry,TorusGeometry,TorusKnotBufferGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeBufferGeometry,TubeGeometry,TwoPassDoubleSide,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL1Renderer,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,_SRGBAFormat,sRGBEncoding},Symbol.toStringTag,{value:"Module"}));var constantsExports={},constants={get exports(){return constantsExports},set exports($){constantsExports=$}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;(function($){$.exports=reactReconcilerConstants_production_min})(constants);function createStore$1($){let o;const a=new Set,j=(it,ot)=>{const at=typeof it=="function"?it(o):it;if(at!==o){const ct=o;o=ot?at:Object.assign({},o,at),a.forEach(ut=>ut(o,ct))}},_e=()=>o,et=(it,ot=_e,at=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let ct=ot(o);function ut(){const dt=ot(o);if(!at(ct,dt)){const ft=ct;it(ct=dt,ft)}}return a.add(ut),()=>a.delete(ut)},rt={setState:j,getState:_e,subscribe:(it,ot,at)=>ot||at?et(it,ot,at):(a.add(it),()=>a.delete(it)),destroy:()=>a.clear()};return o=$(j,_e,rt),rt}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$1=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create($){const o=typeof $=="function"?createStore$1($):$,a=(j=o.getState,_e=Object.is)=>{const[,et]=reactExports.useReducer(ht=>ht+1,0),tt=o.getState(),nt=reactExports.useRef(tt),rt=reactExports.useRef(j),it=reactExports.useRef(_e),ot=reactExports.useRef(!1),at=reactExports.useRef();at.current===void 0&&(at.current=j(tt));let ct,ut=!1;(nt.current!==tt||rt.current!==j||it.current!==_e||ot.current)&&(ct=j(tt),ut=!_e(at.current,ct)),useIsomorphicLayoutEffect$1(()=>{ut&&(at.current=ct),nt.current=tt,rt.current=j,it.current=_e,ot.current=!1});const dt=reactExports.useRef(tt);useIsomorphicLayoutEffect$1(()=>{const ht=()=>{try{const yt=o.getState(),gt=rt.current(yt);it.current(at.current,gt)||(nt.current=yt,at.current=gt,et())}catch{ot.current=!0,et()}},pt=o.subscribe(ht);return o.getState()!==dt.current&&ht(),pt},[]);const ft=ut?ct:at.current;return reactExports.useDebugValue(ft),ft};return Object.assign(a,o),a[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const j=[a,o];return{next(){const _e=j.length<=0;return{value:j.shift(),done:_e}}}},a}var reactReconcilerExports={},reactReconciler={get exports(){return reactReconcilerExports},set exports($){reactReconcilerExports=$}},schedulerExports$1={},scheduler$1={get exports(){return schedulerExports$1},set exports($){schedulerExports$1=$}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function($){function o(Rt,$t){var Gt=Rt.length;Rt.push($t);e:for(;0<Gt;){var Ft=Gt-1>>>1,wt=Rt[Ft];if(0<_e(wt,$t))Rt[Ft]=$t,Rt[Gt]=wt,Gt=Ft;else break e}}function a(Rt){return Rt.length===0?null:Rt[0]}function j(Rt){if(Rt.length===0)return null;var $t=Rt[0],Gt=Rt.pop();if(Gt!==$t){Rt[0]=Gt;e:for(var Ft=0,wt=Rt.length,Ht=wt>>>1;Ft<Ht;){var nn=2*(Ft+1)-1,Dt=Rt[nn],Jt=nn+1,on=Rt[Jt];if(0>_e(Dt,Gt))Jt<wt&&0>_e(on,Dt)?(Rt[Ft]=on,Rt[Jt]=Gt,Ft=Jt):(Rt[Ft]=Dt,Rt[nn]=Gt,Ft=nn);else if(Jt<wt&&0>_e(on,Gt))Rt[Ft]=on,Rt[Jt]=Gt,Ft=Jt;else break e}}return $t}function _e(Rt,$t){var Gt=Rt.sortIndex-$t.sortIndex;return Gt!==0?Gt:Rt.id-$t.id}if(typeof performance=="object"&&typeof performance.now=="function"){var et=performance;$.unstable_now=function(){return et.now()}}else{var tt=Date,nt=tt.now();$.unstable_now=function(){return tt.now()-nt}}var rt=[],it=[],ot=1,at=null,ct=3,ut=!1,dt=!1,ft=!1,ht=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function gt(Rt){for(var $t=a(it);$t!==null;){if($t.callback===null)j(it);else if($t.startTime<=Rt)j(it),$t.sortIndex=$t.expirationTime,o(rt,$t);else break;$t=a(it)}}function bt(Rt){if(ft=!1,gt(Rt),!dt)if(a(rt)!==null)dt=!0,Lt(At);else{var $t=a(it);$t!==null&&zt(bt,$t.startTime-Rt)}}function At(Rt,$t){dt=!1,ft&&(ft=!1,pt(Ct),Ct=-1),ut=!0;var Gt=ct;try{for(gt($t),at=a(rt);at!==null&&(!(at.expirationTime>$t)||Rt&&!Kt());){var Ft=at.callback;if(typeof Ft=="function"){at.callback=null,ct=at.priorityLevel;var wt=Ft(at.expirationTime<=$t);$t=$.unstable_now(),typeof wt=="function"?at.callback=wt:at===a(rt)&&j(rt),gt($t)}else j(rt);at=a(rt)}if(at!==null)var Ht=!0;else{var nn=a(it);nn!==null&&zt(bt,nn.startTime-$t),Ht=!1}return Ht}finally{at=null,ct=Gt,ut=!1}}var Tt=!1,Pt=null,Ct=-1,It=5,Vt=-1;function Kt(){return!($.unstable_now()-Vt<It)}function en(){if(Pt!==null){var Rt=$.unstable_now();Vt=Rt;var $t=!0;try{$t=Pt(!0,Rt)}finally{$t?kt():(Tt=!1,Pt=null)}}else Tt=!1}var kt;if(typeof yt=="function")kt=function(){yt(en)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,St=vt.port2;vt.port1.onmessage=en,kt=function(){St.postMessage(null)}}else kt=function(){ht(en,0)};function Lt(Rt){Pt=Rt,Tt||(Tt=!0,kt())}function zt(Rt,$t){Ct=ht(function(){Rt($.unstable_now())},$t)}$.unstable_IdlePriority=5,$.unstable_ImmediatePriority=1,$.unstable_LowPriority=4,$.unstable_NormalPriority=3,$.unstable_Profiling=null,$.unstable_UserBlockingPriority=2,$.unstable_cancelCallback=function(Rt){Rt.callback=null},$.unstable_continueExecution=function(){dt||ut||(dt=!0,Lt(At))},$.unstable_forceFrameRate=function(Rt){0>Rt||125<Rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):It=0<Rt?Math.floor(1e3/Rt):5},$.unstable_getCurrentPriorityLevel=function(){return ct},$.unstable_getFirstCallbackNode=function(){return a(rt)},$.unstable_next=function(Rt){switch(ct){case 1:case 2:case 3:var $t=3;break;default:$t=ct}var Gt=ct;ct=$t;try{return Rt()}finally{ct=Gt}},$.unstable_pauseExecution=function(){},$.unstable_requestPaint=function(){},$.unstable_runWithPriority=function(Rt,$t){switch(Rt){case 1:case 2:case 3:case 4:case 5:break;default:Rt=3}var Gt=ct;ct=Rt;try{return $t()}finally{ct=Gt}},$.unstable_scheduleCallback=function(Rt,$t,Gt){var Ft=$.unstable_now();switch(typeof Gt=="object"&&Gt!==null?(Gt=Gt.delay,Gt=typeof Gt=="number"&&0<Gt?Ft+Gt:Ft):Gt=Ft,Rt){case 1:var wt=-1;break;case 2:wt=250;break;case 5:wt=1073741823;break;case 4:wt=1e4;break;default:wt=5e3}return wt=Gt+wt,Rt={id:ot++,callback:$t,priorityLevel:Rt,startTime:Gt,expirationTime:wt,sortIndex:-1},Gt>Ft?(Rt.sortIndex=Gt,o(it,Rt),a(rt)===null&&Rt===a(it)&&(ft?(pt(Ct),Ct=-1):ft=!0,zt(bt,Gt-Ft))):(Rt.sortIndex=wt,o(rt,Rt),dt||ut||(dt=!0,Lt(At))),Rt},$.unstable_shouldYield=Kt,$.unstable_wrapCallback=function(Rt){var $t=ct;return function(){var Gt=ct;ct=$t;try{return Rt.apply(this,arguments)}finally{ct=Gt}}}}(scheduler_production_min$1)),scheduler_production_min$1}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,function($){$.exports=requireScheduler_production_min()}(scheduler$1)),schedulerExports$1}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function $(o){var a={},j=reactExports,_e=requireScheduler(),et=Object.assign;function tt(st){for(var lt="https://reactjs.org/docs/error-decoder.html?invariant="+st,mt=1;mt<arguments.length;mt++)lt+="&args[]="+encodeURIComponent(arguments[mt]);return"Minified React error #"+st+"; visit "+lt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nt=j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rt=Symbol.for("react.element"),it=Symbol.for("react.portal"),ot=Symbol.for("react.fragment"),at=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),ut=Symbol.for("react.provider"),dt=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),bt=Symbol.for("react.offscreen"),At=Symbol.iterator;function Tt(st){return st===null||typeof st!="object"?null:(st=At&&st[At]||st["@@iterator"],typeof st=="function"?st:null)}function Pt(st){if(st==null)return null;if(typeof st=="function")return st.displayName||st.name||null;if(typeof st=="string")return st;switch(st){case ot:return"Fragment";case it:return"Portal";case ct:return"Profiler";case at:return"StrictMode";case ht:return"Suspense";case pt:return"SuspenseList"}if(typeof st=="object")switch(st.$$typeof){case dt:return(st.displayName||"Context")+".Consumer";case ut:return(st._context.displayName||"Context")+".Provider";case ft:var lt=st.render;return st=st.displayName,st||(st=lt.displayName||lt.name||"",st=st!==""?"ForwardRef("+st+")":"ForwardRef"),st;case yt:return lt=st.displayName||null,lt!==null?lt:Pt(st.type)||"Memo";case gt:lt=st._payload,st=st._init;try{return Pt(st(lt))}catch{}}return null}function Ct(st){var lt=st.type;switch(st.tag){case 24:return"Cache";case 9:return(lt.displayName||"Context")+".Consumer";case 10:return(lt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return st=lt.render,st=st.displayName||st.name||"",lt.displayName||(st!==""?"ForwardRef("+st+")":"ForwardRef");case 7:return"Fragment";case 5:return lt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pt(lt);case 8:return lt===at?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof lt=="function")return lt.displayName||lt.name||null;if(typeof lt=="string")return lt}return null}function It(st){var lt=st,mt=st;if(st.alternate)for(;lt.return;)lt=lt.return;else{st=lt;do lt=st,lt.flags&4098&&(mt=lt.return),st=lt.return;while(st)}return lt.tag===3?mt:null}function Vt(st){if(It(st)!==st)throw Error(tt(188))}function Kt(st){var lt=st.alternate;if(!lt){if(lt=It(st),lt===null)throw Error(tt(188));return lt!==st?null:st}for(var mt=st,xt=lt;;){var Bt=mt.return;if(Bt===null)break;var Nt=Bt.alternate;if(Nt===null){if(xt=Bt.return,xt!==null){mt=xt;continue}break}if(Bt.child===Nt.child){for(Nt=Bt.child;Nt;){if(Nt===mt)return Vt(Bt),st;if(Nt===xt)return Vt(Bt),lt;Nt=Nt.sibling}throw Error(tt(188))}if(mt.return!==xt.return)mt=Bt,xt=Nt;else{for(var Zt=!1,an=Bt.child;an;){if(an===mt){Zt=!0,mt=Bt,xt=Nt;break}if(an===xt){Zt=!0,xt=Bt,mt=Nt;break}an=an.sibling}if(!Zt){for(an=Nt.child;an;){if(an===mt){Zt=!0,mt=Nt,xt=Bt;break}if(an===xt){Zt=!0,xt=Nt,mt=Bt;break}an=an.sibling}if(!Zt)throw Error(tt(189))}}if(mt.alternate!==xt)throw Error(tt(190))}if(mt.tag!==3)throw Error(tt(188));return mt.stateNode.current===mt?st:lt}function en(st){return st=Kt(st),st!==null?kt(st):null}function kt(st){if(st.tag===5||st.tag===6)return st;for(st=st.child;st!==null;){var lt=kt(st);if(lt!==null)return lt;st=st.sibling}return null}function vt(st){if(st.tag===5||st.tag===6)return st;for(st=st.child;st!==null;){if(st.tag!==4){var lt=vt(st);if(lt!==null)return lt}st=st.sibling}return null}var St=Array.isArray,Lt=o.getPublicInstance,zt=o.getRootHostContext,Rt=o.getChildHostContext,$t=o.prepareForCommit,Gt=o.resetAfterCommit,Ft=o.createInstance,wt=o.appendInitialChild,Ht=o.finalizeInitialChildren,nn=o.prepareUpdate,Dt=o.shouldSetTextContent,Jt=o.createTextInstance,on=o.scheduleTimeout,sn=o.cancelTimeout,dn=o.noTimeout,mn=o.isPrimaryRenderer,ln=o.supportsMutation,tn=o.supportsPersistence,cn=o.supportsHydration,pn=o.getInstanceFromNode,Mn=o.preparePortalMount,In=o.getCurrentEventPriority,Rn=o.detachDeletedInstance,Ln=o.supportsMicrotasks,Fn=o.scheduleMicrotask,Un=o.supportsTestSelectors,Nn=o.findFiberRoot,Xt=o.getBoundingRect,jt=o.getTextContent,un=o.isHiddenSubtree,Tn=o.matchAccessibilityRole,Bn=o.setFocusIfFocusable,Ot=o.setupIntersectionObserver,Mt=o.appendChild,Et=o.appendChildToContainer,Ut=o.commitTextUpdate,Qt=o.commitMount,Wt=o.commitUpdate,qt=o.insertBefore,_n=o.insertInContainerBefore,En=o.removeChild,Pn=o.removeChildFromContainer,Hn=o.resetTextContent,On=o.hideInstance,rn=o.hideTextInstance,wn=o.unhideInstance,Cn=o.unhideTextInstance,Dn=o.clearContainer,Wn=o.cloneInstance,Jn=o.createContainerChildSet,er=o.appendChildToContainerChildSet,Er=o.finalizeContainerChildren,hr=o.replaceContainerChildren,Yn=o.cloneHiddenInstance,Pr=o.cloneHiddenTextInstance,cr=o.canHydrateInstance,_r=o.canHydrateTextInstance,po=o.canHydrateSuspenseInstance,br=o.isSuspenseInstancePending,vr=o.isSuspenseInstanceFallback,Yt=o.registerSuspenseInstanceRetry,fn=o.getNextHydratableSibling,vn=o.getFirstHydratableChild,gn=o.getFirstHydratableChildWithinContainer,xn=o.getFirstHydratableChildWithinSuspenseInstance,$n=o.hydrateInstance,Qn=o.hydrateTextInstance,Vn=o.hydrateSuspenseInstance,jn=o.getNextHydratableInstanceAfterSuspenseInstance,ir=o.commitHydratedContainer,tr=o.commitHydratedSuspenseInstance,nr=o.clearSuspenseBoundary,xr=o.clearSuspenseBoundaryFromContainer,Cr=o.shouldDeleteUnhydratedTailInstances,Kr=o.didNotMatchHydratedContainerTextInstance,_i=o.didNotMatchHydratedTextInstance,wr;function sr(st){if(wr===void 0)try{throw Error()}catch(mt){var lt=mt.stack.trim().match(/\n( *(at )?)/);wr=lt&&lt[1]||""}return`
`+wr+st}var mo=!1;function Sr(st,lt){if(!st||mo)return"";mo=!0;var mt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(lt)if(lt=function(){throw Error()},Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(kn){var xt=kn}Reflect.construct(st,[],lt)}else{try{lt.call()}catch(kn){xt=kn}st.call(lt.prototype)}else{try{throw Error()}catch(kn){xt=kn}st()}}catch(kn){if(kn&&xt&&typeof kn.stack=="string"){for(var Bt=kn.stack.split(`
`),Nt=xt.stack.split(`
`),Zt=Bt.length-1,an=Nt.length-1;1<=Zt&&0<=an&&Bt[Zt]!==Nt[an];)an--;for(;1<=Zt&&0<=an;Zt--,an--)if(Bt[Zt]!==Nt[an]){if(Zt!==1||an!==1)do if(Zt--,an--,0>an||Bt[Zt]!==Nt[an]){var Sn=`
`+Bt[Zt].replace(" at new "," at ");return st.displayName&&Sn.includes("<anonymous>")&&(Sn=Sn.replace("<anonymous>",st.displayName)),Sn}while(1<=Zt&&0<=an);break}}}finally{mo=!1,Error.prepareStackTrace=mt}return(st=st?st.displayName||st.name:"")?sr(st):""}var eo=Object.prototype.hasOwnProperty,xo=[],Ur=-1;function Gr(st){return{current:st}}function rr(st){0>Ur||(st.current=xo[Ur],xo[Ur]=null,Ur--)}function dr(st,lt){Ur++,xo[Ur]=st.current,st.current=lt}var zr={},pr=Gr(zr),kr=Gr(!1),Mo=zr;function To(st,lt){var mt=st.type.contextTypes;if(!mt)return zr;var xt=st.stateNode;if(xt&&xt.__reactInternalMemoizedUnmaskedChildContext===lt)return xt.__reactInternalMemoizedMaskedChildContext;var Bt={},Nt;for(Nt in mt)Bt[Nt]=lt[Nt];return xt&&(st=st.stateNode,st.__reactInternalMemoizedUnmaskedChildContext=lt,st.__reactInternalMemoizedMaskedChildContext=Bt),Bt}function qr(st){return st=st.childContextTypes,st!=null}function Ps(){rr(kr),rr(pr)}function Ku(st,lt,mt){if(pr.current!==zr)throw Error(tt(168));dr(pr,lt),dr(kr,mt)}function Ju(st,lt,mt){var xt=st.stateNode;if(lt=lt.childContextTypes,typeof xt.getChildContext!="function")return mt;xt=xt.getChildContext();for(var Bt in xt)if(!(Bt in lt))throw Error(tt(108,Ct(st)||"Unknown",Bt));return et({},mt,xt)}function Is(st){return st=(st=st.stateNode)&&st.__reactInternalMemoizedMergedChildContext||zr,Mo=pr.current,dr(pr,st),dr(kr,kr.current),!0}function Xu(st,lt,mt){var xt=st.stateNode;if(!xt)throw Error(tt(169));mt?(st=Ju(st,lt,Mo),xt.__reactInternalMemoizedMergedChildContext=st,rr(kr),rr(pr),dr(pr,st)):rr(kr),dr(kr,mt)}var go=Math.clz32?Math.clz32:Tm,Cm=Math.log,Mm=Math.LN2;function Tm(st){return st>>>=0,st===0?32:31-(Cm(st)/Mm|0)|0}var Ds=64,Ls=4194304;function ds(st){switch(st&-st){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return st&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return st&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return st}}function ks(st,lt){var mt=st.pendingLanes;if(mt===0)return 0;var xt=0,Bt=st.suspendedLanes,Nt=st.pingedLanes,Zt=mt&268435455;if(Zt!==0){var an=Zt&~Bt;an!==0?xt=ds(an):(Nt&=Zt,Nt!==0&&(xt=ds(Nt)))}else Zt=mt&~Bt,Zt!==0?xt=ds(Zt):Nt!==0&&(xt=ds(Nt));if(xt===0)return 0;if(lt!==0&&lt!==xt&&!(lt&Bt)&&(Bt=xt&-xt,Nt=lt&-lt,Bt>=Nt||Bt===16&&(Nt&4194240)!==0))return lt;if(xt&4&&(xt|=mt&16),lt=st.entangledLanes,lt!==0)for(st=st.entanglements,lt&=xt;0<lt;)mt=31-go(lt),Bt=1<<mt,xt|=st[mt],lt&=~Bt;return xt}function Bm(st,lt){switch(st){case 1:case 2:case 4:return lt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return lt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rm(st,lt){for(var mt=st.suspendedLanes,xt=st.pingedLanes,Bt=st.expirationTimes,Nt=st.pendingLanes;0<Nt;){var Zt=31-go(Nt),an=1<<Zt,Sn=Bt[Zt];Sn===-1?(!(an&mt)||an&xt)&&(Bt[Zt]=Bm(an,lt)):Sn<=lt&&(st.expiredLanes|=an),Nt&=~an}}function Gl(st){return st=st.pendingLanes&-1073741825,st!==0?st:st&1073741824?1073741824:0}function zl(st){for(var lt=[],mt=0;31>mt;mt++)lt.push(st);return lt}function hs(st,lt,mt){st.pendingLanes|=lt,lt!==536870912&&(st.suspendedLanes=0,st.pingedLanes=0),st=st.eventTimes,lt=31-go(lt),st[lt]=mt}function Pm(st,lt){var mt=st.pendingLanes&~lt;st.pendingLanes=lt,st.suspendedLanes=0,st.pingedLanes=0,st.expiredLanes&=lt,st.mutableReadLanes&=lt,st.entangledLanes&=lt,lt=st.entanglements;var xt=st.eventTimes;for(st=st.expirationTimes;0<mt;){var Bt=31-go(mt),Nt=1<<Bt;lt[Bt]=0,xt[Bt]=-1,st[Bt]=-1,mt&=~Nt}}function Hl(st,lt){var mt=st.entangledLanes|=lt;for(st=st.entanglements;mt;){var xt=31-go(mt),Bt=1<<xt;Bt&lt|st[xt]&lt&&(st[xt]|=lt),mt&=~Bt}}var mr=0;function qu(st){return st&=-st,1<st?4<st?st&268435455?16:536870912:4:1}var Vl=_e.unstable_scheduleCallback,Yu=_e.unstable_cancelCallback,Im=_e.unstable_shouldYield,Dm=_e.unstable_requestPaint,Nr=_e.unstable_now,Wl=_e.unstable_ImmediatePriority,Lm=_e.unstable_UserBlockingPriority,Kl=_e.unstable_NormalPriority,km=_e.unstable_IdlePriority,Ns=null,_o=null;function Nm(st){if(_o&&typeof _o.onCommitFiberRoot=="function")try{_o.onCommitFiberRoot(Ns,st,void 0,(st.current.flags&128)===128)}catch{}}function Fm(st,lt){return st===lt&&(st!==0||1/st===1/lt)||st!==st&&lt!==lt}var bo=typeof Object.is=="function"?Object.is:Fm,Bo=null,Fs=!1,Jl=!1;function Qu(st){Bo===null?Bo=[st]:Bo.push(st)}function Om(st){Fs=!0,Qu(st)}function wo(){if(!Jl&&Bo!==null){Jl=!0;var st=0,lt=mr;try{var mt=Bo;for(mr=1;st<mt.length;st++){var xt=mt[st];do xt=xt(!0);while(xt!==null)}Bo=null,Fs=!1}catch(Bt){throw Bo!==null&&(Bo=Bo.slice(st+1)),Vl(Wl,wo),Bt}finally{mr=lt,Jl=!1}}return null}var $m=nt.ReactCurrentBatchConfig;function Os(st,lt){if(bo(st,lt))return!0;if(typeof st!="object"||st===null||typeof lt!="object"||lt===null)return!1;var mt=Object.keys(st),xt=Object.keys(lt);if(mt.length!==xt.length)return!1;for(xt=0;xt<mt.length;xt++){var Bt=mt[xt];if(!eo.call(lt,Bt)||!bo(st[Bt],lt[Bt]))return!1}return!0}function Um(st){switch(st.tag){case 5:return sr(st.type);case 16:return sr("Lazy");case 13:return sr("Suspense");case 19:return sr("SuspenseList");case 0:case 2:case 15:return st=Sr(st.type,!1),st;case 11:return st=Sr(st.type.render,!1),st;case 1:return st=Sr(st.type,!0),st;default:return""}}function yo(st,lt){if(st&&st.defaultProps){lt=et({},lt),st=st.defaultProps;for(var mt in st)lt[mt]===void 0&&(lt[mt]=st[mt]);return lt}return lt}var $s=Gr(null),Us=null,Zo=null,Xl=null;function Yl(){Xl=Zo=Us=null}function Zu(st,lt,mt){mn?(dr($s,lt._currentValue),lt._currentValue=mt):(dr($s,lt._currentValue2),lt._currentValue2=mt)}function Ql(st){var lt=$s.current;rr($s),mn?st._currentValue=lt:st._currentValue2=lt}function Zl(st,lt,mt){for(;st!==null;){var xt=st.alternate;if((st.childLanes&lt)!==lt?(st.childLanes|=lt,xt!==null&&(xt.childLanes|=lt)):xt!==null&&(xt.childLanes&lt)!==lt&&(xt.childLanes|=lt),st===mt)break;st=st.return}}function es(st,lt){Us=st,Xl=Zo=null,st=st.dependencies,st!==null&&st.firstContext!==null&&(st.lanes&lt&&(ro=!0),st.firstContext=null)}function oo(st){var lt=mn?st._currentValue:st._currentValue2;if(Xl!==st)if(st={context:st,memoizedValue:lt,next:null},Zo===null){if(Us===null)throw Error(tt(308));Zo=st,Us.dependencies={lanes:0,firstContext:st}}else Zo=Zo.next=st;return lt}var Ao=null,ko=!1;function _c(st){st.updateQueue={baseState:st.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _f(st,lt){st=st.updateQueue,lt.updateQueue===st&&(lt.updateQueue={baseState:st.baseState,firstBaseUpdate:st.firstBaseUpdate,lastBaseUpdate:st.lastBaseUpdate,shared:st.shared,effects:st.effects})}function Ro(st,lt){return{eventTime:st,lane:lt,tag:0,payload:null,callback:null,next:null}}function No(st,lt){var mt=st.updateQueue;mt!==null&&(mt=mt.shared,Ir!==null&&st.mode&1&&!(fr&2)?(st=mt.interleaved,st===null?(lt.next=lt,Ao===null?Ao=[mt]:Ao.push(mt)):(lt.next=st.next,st.next=lt),mt.interleaved=lt):(st=mt.pending,st===null?lt.next=lt:(lt.next=st.next,st.next=lt),mt.pending=lt))}function Gs(st,lt,mt){if(lt=lt.updateQueue,lt!==null&&(lt=lt.shared,(mt&4194240)!==0)){var xt=lt.lanes;xt&=st.pendingLanes,mt|=xt,lt.lanes=mt,Hl(st,mt)}}function _d(st,lt){var mt=st.updateQueue,xt=st.alternate;if(xt!==null&&(xt=xt.updateQueue,mt===xt)){var Bt=null,Nt=null;if(mt=mt.firstBaseUpdate,mt!==null){do{var Zt={eventTime:mt.eventTime,lane:mt.lane,tag:mt.tag,payload:mt.payload,callback:mt.callback,next:null};Nt===null?Bt=Nt=Zt:Nt=Nt.next=Zt,mt=mt.next}while(mt!==null);Nt===null?Bt=Nt=lt:Nt=Nt.next=lt}else Bt=Nt=lt;mt={baseState:xt.baseState,firstBaseUpdate:Bt,lastBaseUpdate:Nt,shared:xt.shared,effects:xt.effects},st.updateQueue=mt;return}st=mt.lastBaseUpdate,st===null?mt.firstBaseUpdate=lt:st.next=lt,mt.lastBaseUpdate=lt}function zs(st,lt,mt,xt){var Bt=st.updateQueue;ko=!1;var Nt=Bt.firstBaseUpdate,Zt=Bt.lastBaseUpdate,an=Bt.shared.pending;if(an!==null){Bt.shared.pending=null;var Sn=an,kn=Sn.next;Sn.next=null,Zt===null?Nt=kn:Zt.next=kn,Zt=Sn;var Kn=st.alternate;Kn!==null&&(Kn=Kn.updateQueue,an=Kn.lastBaseUpdate,an!==Zt&&(an===null?Kn.firstBaseUpdate=kn:an.next=kn,Kn.lastBaseUpdate=Sn))}if(Nt!==null){var ar=Bt.baseState;Zt=0,Kn=kn=Sn=null,an=Nt;do{var Zn=an.lane,Ar=an.eventTime;if((xt&Zn)===Zn){Kn!==null&&(Kn=Kn.next={eventTime:Ar,lane:0,tag:an.tag,payload:an.payload,callback:an.callback,next:null});e:{var qn=st,jr=an;switch(Zn=lt,Ar=mt,jr.tag){case 1:if(qn=jr.payload,typeof qn=="function"){ar=qn.call(Ar,ar,Zn);break e}ar=qn;break e;case 3:qn.flags=qn.flags&-65537|128;case 0:if(qn=jr.payload,Zn=typeof qn=="function"?qn.call(Ar,ar,Zn):qn,Zn==null)break e;ar=et({},ar,Zn);break e;case 2:ko=!0}}an.callback!==null&&an.lane!==0&&(st.flags|=64,Zn=Bt.effects,Zn===null?Bt.effects=[an]:Zn.push(an))}else Ar={eventTime:Ar,lane:Zn,tag:an.tag,payload:an.payload,callback:an.callback,next:null},Kn===null?(kn=Kn=Ar,Sn=ar):Kn=Kn.next=Ar,Zt|=Zn;if(an=an.next,an===null){if(an=Bt.shared.pending,an===null)break;Zn=an,an=Zn.next,Zn.next=null,Bt.lastBaseUpdate=Zn,Bt.shared.pending=null}}while(1);if(Kn===null&&(Sn=ar),Bt.baseState=Sn,Bt.firstBaseUpdate=kn,Bt.lastBaseUpdate=Kn,lt=Bt.shared.interleaved,lt!==null){Bt=lt;do Zt|=Bt.lane,Bt=Bt.next;while(Bt!==lt)}else Nt===null&&(Bt.shared.lanes=0);us|=Zt,st.lanes=Zt,st.memoizedState=ar}}function _h(st,lt,mt){if(st=lt.effects,lt.effects=null,st!==null)for(lt=0;lt<st.length;lt++){var xt=st[lt],Bt=xt.callback;if(Bt!==null){if(xt.callback=null,xt=mt,typeof Bt!="function")throw Error(tt(191,Bt));Bt.call(xt)}}}var ep=new j.Component().refs;function eu(st,lt,mt,xt){lt=st.memoizedState,mt=mt(xt,lt),mt=mt==null?lt:et({},lt,mt),st.memoizedState=mt,st.lanes===0&&(st.updateQueue.baseState=mt)}var Hs={isMounted:function(st){return(st=st._reactInternals)?It(st)===st:!1},enqueueSetState:function(st,lt,mt){st=st._reactInternals;var xt=Xr(),Bt=$o(st),Nt=Ro(xt,Bt);Nt.payload=lt,mt!=null&&(Nt.callback=mt),No(st,Nt),lt=uo(st,Bt,xt),lt!==null&&Gs(lt,st,Bt)},enqueueReplaceState:function(st,lt,mt){st=st._reactInternals;var xt=Xr(),Bt=$o(st),Nt=Ro(xt,Bt);Nt.tag=1,Nt.payload=lt,mt!=null&&(Nt.callback=mt),No(st,Nt),lt=uo(st,Bt,xt),lt!==null&&Gs(lt,st,Bt)},enqueueForceUpdate:function(st,lt){st=st._reactInternals;var mt=Xr(),xt=$o(st),Bt=Ro(mt,xt);Bt.tag=2,lt!=null&&(Bt.callback=lt),No(st,Bt),lt=uo(st,xt,mt),lt!==null&&Gs(lt,st,xt)}};function tp(st,lt,mt,xt,Bt,Nt,Zt){return st=st.stateNode,typeof st.shouldComponentUpdate=="function"?st.shouldComponentUpdate(xt,Nt,Zt):lt.prototype&&lt.prototype.isPureReactComponent?!Os(mt,xt)||!Os(Bt,Nt):!0}function np(st,lt,mt){var xt=!1,Bt=zr,Nt=lt.contextType;return typeof Nt=="object"&&Nt!==null?Nt=oo(Nt):(Bt=qr(lt)?Mo:pr.current,xt=lt.contextTypes,Nt=(xt=xt!=null)?To(st,Bt):zr),lt=new lt(mt,Nt),st.memoizedState=lt.state!==null&&lt.state!==void 0?lt.state:null,lt.updater=Hs,st.stateNode=lt,lt._reactInternals=st,xt&&(st=st.stateNode,st.__reactInternalMemoizedUnmaskedChildContext=Bt,st.__reactInternalMemoizedMaskedChildContext=Nt),lt}function rp(st,lt,mt,xt){st=lt.state,typeof lt.componentWillReceiveProps=="function"&&lt.componentWillReceiveProps(mt,xt),typeof lt.UNSAFE_componentWillReceiveProps=="function"&&lt.UNSAFE_componentWillReceiveProps(mt,xt),lt.state!==st&&Hs.enqueueReplaceState(lt,lt.state,null)}function tu(st,lt,mt,xt){var Bt=st.stateNode;Bt.props=mt,Bt.state=st.memoizedState,Bt.refs=ep,_c(st);var Nt=lt.contextType;typeof Nt=="object"&&Nt!==null?Bt.context=oo(Nt):(Nt=qr(lt)?Mo:pr.current,Bt.context=To(st,Nt)),Bt.state=st.memoizedState,Nt=lt.getDerivedStateFromProps,typeof Nt=="function"&&(eu(st,lt,Nt,mt),Bt.state=st.memoizedState),typeof lt.getDerivedStateFromProps=="function"||typeof Bt.getSnapshotBeforeUpdate=="function"||typeof Bt.UNSAFE_componentWillMount!="function"&&typeof Bt.componentWillMount!="function"||(lt=Bt.state,typeof Bt.componentWillMount=="function"&&Bt.componentWillMount(),typeof Bt.UNSAFE_componentWillMount=="function"&&Bt.UNSAFE_componentWillMount(),lt!==Bt.state&&Hs.enqueueReplaceState(Bt,Bt.state,null),zs(st,mt,Bt,xt),Bt.state=st.memoizedState),typeof Bt.componentDidMount=="function"&&(st.flags|=4194308)}var ts=[],ns=0,Vs=null,Ws=0,so=[],ao=0,Vo=null,Po=1,Io="";function Wo(st,lt){ts[ns++]=Ws,ts[ns++]=Vs,Vs=st,Ws=lt}function ip(st,lt,mt){so[ao++]=Po,so[ao++]=Io,so[ao++]=Vo,Vo=st;var xt=Po;st=Io;var Bt=32-go(xt)-1;xt&=~(1<<Bt),mt+=1;var Nt=32-go(lt)+Bt;if(30<Nt){var Zt=Bt-Bt%5;Nt=(xt&(1<<Zt)-1).toString(32),xt>>=Zt,Bt-=Zt,Po=1<<32-go(lt)+Bt|mt<<Bt|xt,Io=Nt+st}else Po=1<<Nt|mt<<Bt|xt,Io=st}function nu(st){st.return!==null&&(Wo(st,1),ip(st,1,0))}function ru(st){for(;st===Vs;)Vs=ts[--ns],ts[ns]=null,Ws=ts[--ns],ts[ns]=null;for(;st===Vo;)Vo=so[--ao],so[ao]=null,Io=so[--ao],so[ao]=null,Po=so[--ao],so[ao]=null}var to=null,no=null,Mr=!1,ps=!1,vo=null;function op(st,lt){var mt=fo(5,null,null,0);mt.elementType="DELETED",mt.stateNode=lt,mt.return=st,lt=st.deletions,lt===null?(st.deletions=[mt],st.flags|=16):lt.push(mt)}function sp(st,lt){switch(st.tag){case 5:return lt=cr(lt,st.type,st.pendingProps),lt!==null?(st.stateNode=lt,to=st,no=vn(lt),!0):!1;case 6:return lt=_r(lt,st.pendingProps),lt!==null?(st.stateNode=lt,to=st,no=null,!0):!1;case 13:if(lt=po(lt),lt!==null){var mt=Vo!==null?{id:Po,overflow:Io}:null;return st.memoizedState={dehydrated:lt,treeContext:mt,retryLane:1073741824},mt=fo(18,null,null,0),mt.stateNode=lt,mt.return=st,st.child=mt,to=st,no=null,!0}return!1;default:return!1}}function iu(st){return(st.mode&1)!==0&&(st.flags&128)===0}function ou(st){if(Mr){var lt=no;if(lt){var mt=lt;if(!sp(st,lt)){if(iu(st))throw Error(tt(418));lt=fn(mt);var xt=to;lt&&sp(st,lt)?op(xt,mt):(st.flags=st.flags&-4097|2,Mr=!1,to=st)}}else{if(iu(st))throw Error(tt(418));st.flags=st.flags&-4097|2,Mr=!1,to=st}}}function ap(st){for(st=st.return;st!==null&&st.tag!==5&&st.tag!==3&&st.tag!==13;)st=st.return;to=st}function ms(st){if(!cn||st!==to)return!1;if(!Mr)return ap(st),Mr=!0,!1;if(st.tag!==3&&(st.tag!==5||Cr(st.type)&&!Dt(st.type,st.memoizedProps))){var lt=no;if(lt){if(iu(st)){for(st=no;st;)st=fn(st);throw Error(tt(418))}for(;lt;)op(st,lt),lt=fn(lt)}}if(ap(st),st.tag===13){if(!cn)throw Error(tt(316));if(st=st.memoizedState,st=st!==null?st.dehydrated:null,!st)throw Error(tt(317));no=jn(st)}else no=to?fn(st.stateNode):null;return!0}function rs(){cn&&(no=to=null,ps=Mr=!1)}function su(st){vo===null?vo=[st]:vo.push(st)}function gs(st,lt,mt){if(st=mt.ref,st!==null&&typeof st!="function"&&typeof st!="object"){if(mt._owner){if(mt=mt._owner,mt){if(mt.tag!==1)throw Error(tt(309));var xt=mt.stateNode}if(!xt)throw Error(tt(147,st));var Bt=xt,Nt=""+st;return lt!==null&&lt.ref!==null&&typeof lt.ref=="function"&&lt.ref._stringRef===Nt?lt.ref:(lt=function(Zt){var an=Bt.refs;an===ep&&(an=Bt.refs={}),Zt===null?delete an[Nt]:an[Nt]=Zt},lt._stringRef=Nt,lt)}if(typeof st!="string")throw Error(tt(284));if(!mt._owner)throw Error(tt(290,st))}return st}function js(st,lt){throw st=Object.prototype.toString.call(lt),Error(tt(31,st==="[object Object]"?"object with keys {"+Object.keys(lt).join(", ")+"}":st))}function lp(st){var lt=st._init;return lt(st._payload)}function cp(st){function lt(yn,hn){if(st){var An=yn.deletions;An===null?(yn.deletions=[hn],yn.flags|=16):An.push(hn)}}function mt(yn,hn){if(!st)return null;for(;hn!==null;)lt(yn,hn),hn=hn.sibling;return null}function xt(yn,hn){for(yn=new Map;hn!==null;)hn.key!==null?yn.set(hn.key,hn):yn.set(hn.index,hn),hn=hn.sibling;return yn}function Bt(yn,hn){return yn=Go(yn,hn),yn.index=0,yn.sibling=null,yn}function Nt(yn,hn,An){return yn.index=An,st?(An=yn.alternate,An!==null?(An=An.index,An<hn?(yn.flags|=2,hn):An):(yn.flags|=2,hn)):(yn.flags|=1048576,hn)}function Zt(yn){return st&&yn.alternate===null&&(yn.flags|=2),yn}function an(yn,hn,An,zn){return hn===null||hn.tag!==6?(hn=Hu(An,yn.mode,zn),hn.return=yn,hn):(hn=Bt(hn,An),hn.return=yn,hn)}function Sn(yn,hn,An,zn){var Xn=An.type;return Xn===ot?Kn(yn,hn,An.props.children,zn,An.key):hn!==null&&(hn.elementType===Xn||typeof Xn=="object"&&Xn!==null&&Xn.$$typeof===gt&&lp(Xn)===hn.type)?(zn=Bt(hn,An.props),zn.ref=gs(yn,hn,An),zn.return=yn,zn):(zn=$l(An.type,An.key,An.props,null,yn.mode,zn),zn.ref=gs(yn,hn,An),zn.return=yn,zn)}function kn(yn,hn,An,zn){return hn===null||hn.tag!==4||hn.stateNode.containerInfo!==An.containerInfo||hn.stateNode.implementation!==An.implementation?(hn=Vu(An,yn.mode,zn),hn.return=yn,hn):(hn=Bt(hn,An.children||[]),hn.return=yn,hn)}function Kn(yn,hn,An,zn,Xn){return hn===null||hn.tag!==7?(hn=Qo(An,yn.mode,zn,Xn),hn.return=yn,hn):(hn=Bt(hn,An),hn.return=yn,hn)}function ar(yn,hn,An){if(typeof hn=="string"&&hn!==""||typeof hn=="number")return hn=Hu(""+hn,yn.mode,An),hn.return=yn,hn;if(typeof hn=="object"&&hn!==null){switch(hn.$$typeof){case rt:return An=$l(hn.type,hn.key,hn.props,null,yn.mode,An),An.ref=gs(yn,null,hn),An.return=yn,An;case it:return hn=Vu(hn,yn.mode,An),hn.return=yn,hn;case gt:var zn=hn._init;return ar(yn,zn(hn._payload),An)}if(St(hn)||Tt(hn))return hn=Qo(hn,yn.mode,An,null),hn.return=yn,hn;js(yn,hn)}return null}function Zn(yn,hn,An,zn){var Xn=hn!==null?hn.key:null;if(typeof An=="string"&&An!==""||typeof An=="number")return Xn!==null?null:an(yn,hn,""+An,zn);if(typeof An=="object"&&An!==null){switch(An.$$typeof){case rt:return An.key===Xn?Sn(yn,hn,An,zn):null;case it:return An.key===Xn?kn(yn,hn,An,zn):null;case gt:return Xn=An._init,Zn(yn,hn,Xn(An._payload),zn)}if(St(An)||Tt(An))return Xn!==null?null:Kn(yn,hn,An,zn,null);js(yn,An)}return null}function Ar(yn,hn,An,zn,Xn){if(typeof zn=="string"&&zn!==""||typeof zn=="number")return yn=yn.get(An)||null,an(hn,yn,""+zn,Xn);if(typeof zn=="object"&&zn!==null){switch(zn.$$typeof){case rt:return yn=yn.get(zn.key===null?An:zn.key)||null,Sn(hn,yn,zn,Xn);case it:return yn=yn.get(zn.key===null?An:zn.key)||null,kn(hn,yn,zn,Xn);case gt:var ur=zn._init;return Ar(yn,hn,An,ur(zn._payload),Xn)}if(St(zn)||Tt(zn))return yn=yn.get(An)||null,Kn(hn,yn,zn,Xn,null);js(hn,zn)}return null}function qn(yn,hn,An,zn){for(var Xn=null,ur=null,lr=hn,gr=hn=0,Or=null;lr!==null&&gr<An.length;gr++){lr.index>gr?(Or=lr,lr=null):Or=lr.sibling;var yr=Zn(yn,lr,An[gr],zn);if(yr===null){lr===null&&(lr=Or);break}st&&lr&&yr.alternate===null&&lt(yn,lr),hn=Nt(yr,hn,gr),ur===null?Xn=yr:ur.sibling=yr,ur=yr,lr=Or}if(gr===An.length)return mt(yn,lr),Mr&&Wo(yn,gr),Xn;if(lr===null){for(;gr<An.length;gr++)lr=ar(yn,An[gr],zn),lr!==null&&(hn=Nt(lr,hn,gr),ur===null?Xn=lr:ur.sibling=lr,ur=lr);return Mr&&Wo(yn,gr),Xn}for(lr=xt(yn,lr);gr<An.length;gr++)Or=Ar(lr,yn,gr,An[gr],zn),Or!==null&&(st&&Or.alternate!==null&&lr.delete(Or.key===null?gr:Or.key),hn=Nt(Or,hn,gr),ur===null?Xn=Or:ur.sibling=Or,ur=Or);return st&&lr.forEach(function(zo){return lt(yn,zo)}),Mr&&Wo(yn,gr),Xn}function jr(yn,hn,An,zn){var Xn=Tt(An);if(typeof Xn!="function")throw Error(tt(150));if(An=Xn.call(An),An==null)throw Error(tt(151));for(var ur=Xn=null,lr=hn,gr=hn=0,Or=null,yr=An.next();lr!==null&&!yr.done;gr++,yr=An.next()){lr.index>gr?(Or=lr,lr=null):Or=lr.sibling;var zo=Zn(yn,lr,yr.value,zn);if(zo===null){lr===null&&(lr=Or);break}st&&lr&&zo.alternate===null&&lt(yn,lr),hn=Nt(zo,hn,gr),ur===null?Xn=zo:ur.sibling=zo,ur=zo,lr=Or}if(yr.done)return mt(yn,lr),Mr&&Wo(yn,gr),Xn;if(lr===null){for(;!yr.done;gr++,yr=An.next())yr=ar(yn,yr.value,zn),yr!==null&&(hn=Nt(yr,hn,gr),ur===null?Xn=yr:ur.sibling=yr,ur=yr);return Mr&&Wo(yn,gr),Xn}for(lr=xt(yn,lr);!yr.done;gr++,yr=An.next())yr=Ar(lr,yn,gr,yr.value,zn),yr!==null&&(st&&yr.alternate!==null&&lr.delete(yr.key===null?gr:yr.key),hn=Nt(yr,hn,gr),ur===null?Xn=yr:ur.sibling=yr,ur=yr);return st&&lr.forEach(function(m0){return lt(yn,m0)}),Mr&&Wo(yn,gr),Xn}function ho(yn,hn,An,zn){if(typeof An=="object"&&An!==null&&An.type===ot&&An.key===null&&(An=An.props.children),typeof An=="object"&&An!==null){switch(An.$$typeof){case rt:e:{for(var Xn=An.key,ur=hn;ur!==null;){if(ur.key===Xn){if(Xn=An.type,Xn===ot){if(ur.tag===7){mt(yn,ur.sibling),hn=Bt(ur,An.props.children),hn.return=yn,yn=hn;break e}}else if(ur.elementType===Xn||typeof Xn=="object"&&Xn!==null&&Xn.$$typeof===gt&&lp(Xn)===ur.type){mt(yn,ur.sibling),hn=Bt(ur,An.props),hn.ref=gs(yn,ur,An),hn.return=yn,yn=hn;break e}mt(yn,ur);break}else lt(yn,ur);ur=ur.sibling}An.type===ot?(hn=Qo(An.props.children,yn.mode,zn,An.key),hn.return=yn,yn=hn):(zn=$l(An.type,An.key,An.props,null,yn.mode,zn),zn.ref=gs(yn,hn,An),zn.return=yn,yn=zn)}return Zt(yn);case it:e:{for(ur=An.key;hn!==null;){if(hn.key===ur)if(hn.tag===4&&hn.stateNode.containerInfo===An.containerInfo&&hn.stateNode.implementation===An.implementation){mt(yn,hn.sibling),hn=Bt(hn,An.children||[]),hn.return=yn,yn=hn;break e}else{mt(yn,hn);break}else lt(yn,hn);hn=hn.sibling}hn=Vu(An,yn.mode,zn),hn.return=yn,yn=hn}return Zt(yn);case gt:return ur=An._init,ho(yn,hn,ur(An._payload),zn)}if(St(An))return qn(yn,hn,An,zn);if(Tt(An))return jr(yn,hn,An,zn);js(yn,An)}return typeof An=="string"&&An!==""||typeof An=="number"?(An=""+An,hn!==null&&hn.tag===6?(mt(yn,hn.sibling),hn=Bt(hn,An),hn.return=yn,yn=hn):(mt(yn,hn),hn=Hu(An,yn.mode,zn),hn.return=yn,yn=hn),Zt(yn)):mt(yn,hn)}return ho}var os=cp(!0),up=cp(!1),ys={},lo=Gr(ys),vs=Gr(ys),ss=Gr(ys);function Eo(st){if(st===ys)throw Error(tt(174));return st}function au(st,lt){dr(ss,lt),dr(vs,st),dr(lo,ys),st=zt(lt),rr(lo),dr(lo,st)}function as(){rr(lo),rr(vs),rr(ss)}function fp(st){var lt=Eo(ss.current),mt=Eo(lo.current);lt=Rt(mt,st.type,lt),mt!==lt&&(dr(vs,st),dr(lo,lt))}function lu(st){vs.current===st&&(rr(lo),rr(vs))}var Tr=Gr(0);function Ks(st){for(var lt=st;lt!==null;){if(lt.tag===13){var mt=lt.memoizedState;if(mt!==null&&(mt=mt.dehydrated,mt===null||br(mt)||vr(mt)))return lt}else if(lt.tag===19&&lt.memoizedProps.revealOrder!==void 0){if(lt.flags&128)return lt}else if(lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===st)break;for(;lt.sibling===null;){if(lt.return===null||lt.return===st)return null;lt=lt.return}lt.sibling.return=lt.return,lt=lt.sibling}return null}var cu=[];function uu(){for(var st=0;st<cu.length;st++){var lt=cu[st];mn?lt._workInProgressVersionPrimary=null:lt._workInProgressVersionSecondary=null}cu.length=0}var Js=nt.ReactCurrentDispatcher,co=nt.ReactCurrentBatchConfig,ls=0,Br=null,Hr=null,Fr=null,Xs=!1,xs=!1,_s=0,Gm=0;function Vr(){throw Error(tt(321))}function fu(st,lt){if(lt===null)return!1;for(var mt=0;mt<lt.length&&mt<st.length;mt++)if(!bo(st[mt],lt[mt]))return!1;return!0}function du(st,lt,mt,xt,Bt,Nt){if(ls=Nt,Br=lt,lt.memoizedState=null,lt.updateQueue=null,lt.lanes=0,Js.current=st===null||st.memoizedState===null?Wm:jm,st=mt(xt,Bt),xs){Nt=0;do{if(xs=!1,_s=0,25<=Nt)throw Error(tt(301));Nt+=1,Fr=Hr=null,lt.updateQueue=null,Js.current=Km,st=mt(xt,Bt)}while(xs)}if(Js.current=na,lt=Hr!==null&&Hr.next!==null,ls=0,Fr=Hr=Br=null,Xs=!1,lt)throw Error(tt(300));return st}function hu(){var st=_s!==0;return _s=0,st}function Do(){var st={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?Br.memoizedState=Fr=st:Fr=Fr.next=st,Fr}function So(){if(Hr===null){var st=Br.alternate;st=st!==null?st.memoizedState:null}else st=Hr.next;var lt=Fr===null?Br.memoizedState:Fr.next;if(lt!==null)Fr=lt,Hr=st;else{if(st===null)throw Error(tt(310));Hr=st,st={memoizedState:Hr.memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},Fr===null?Br.memoizedState=Fr=st:Fr=Fr.next=st}return Fr}function jo(st,lt){return typeof lt=="function"?lt(st):lt}function qs(st){var lt=So(),mt=lt.queue;if(mt===null)throw Error(tt(311));mt.lastRenderedReducer=st;var xt=Hr,Bt=xt.baseQueue,Nt=mt.pending;if(Nt!==null){if(Bt!==null){var Zt=Bt.next;Bt.next=Nt.next,Nt.next=Zt}xt.baseQueue=Bt=Nt,mt.pending=null}if(Bt!==null){Nt=Bt.next,xt=xt.baseState;var an=Zt=null,Sn=null,kn=Nt;do{var Kn=kn.lane;if((ls&Kn)===Kn)Sn!==null&&(Sn=Sn.next={lane:0,action:kn.action,hasEagerState:kn.hasEagerState,eagerState:kn.eagerState,next:null}),xt=kn.hasEagerState?kn.eagerState:st(xt,kn.action);else{var ar={lane:Kn,action:kn.action,hasEagerState:kn.hasEagerState,eagerState:kn.eagerState,next:null};Sn===null?(an=Sn=ar,Zt=xt):Sn=Sn.next=ar,Br.lanes|=Kn,us|=Kn}kn=kn.next}while(kn!==null&&kn!==Nt);Sn===null?Zt=xt:Sn.next=an,bo(xt,lt.memoizedState)||(ro=!0),lt.memoizedState=xt,lt.baseState=Zt,lt.baseQueue=Sn,mt.lastRenderedState=xt}if(st=mt.interleaved,st!==null){Bt=st;do Nt=Bt.lane,Br.lanes|=Nt,us|=Nt,Bt=Bt.next;while(Bt!==st)}else Bt===null&&(mt.lanes=0);return[lt.memoizedState,mt.dispatch]}function Ys(st){var lt=So(),mt=lt.queue;if(mt===null)throw Error(tt(311));mt.lastRenderedReducer=st;var xt=mt.dispatch,Bt=mt.pending,Nt=lt.memoizedState;if(Bt!==null){mt.pending=null;var Zt=Bt=Bt.next;do Nt=st(Nt,Zt.action),Zt=Zt.next;while(Zt!==Bt);bo(Nt,lt.memoizedState)||(ro=!0),lt.memoizedState=Nt,lt.baseQueue===null&&(lt.baseState=Nt),mt.lastRenderedState=Nt}return[Nt,xt]}function dp(){}function hp(st,lt){var mt=Br,xt=So(),Bt=lt(),Nt=!bo(xt.memoizedState,Bt);if(Nt&&(xt.memoizedState=Bt,ro=!0),xt=xt.queue,ws(gp.bind(null,mt,xt,st),[st]),xt.getSnapshot!==lt||Nt||Fr!==null&&Fr.memoizedState.tag&1){if(mt.flags|=2048,bs(9,mp.bind(null,mt,xt,Bt,lt),void 0,null),Ir===null)throw Error(tt(349));ls&30||pp(mt,lt,Bt)}return Bt}function pp(st,lt,mt){st.flags|=16384,st={getSnapshot:lt,value:mt},lt=Br.updateQueue,lt===null?(lt={lastEffect:null,stores:null},Br.updateQueue=lt,lt.stores=[st]):(mt=lt.stores,mt===null?lt.stores=[st]:mt.push(st))}function mp(st,lt,mt,xt){lt.value=mt,lt.getSnapshot=xt,yp(lt)&&uo(st,1,-1)}function gp(st,lt,mt){return mt(function(){yp(lt)&&uo(st,1,-1)})}function yp(st){var lt=st.getSnapshot;st=st.value;try{var mt=lt();return!bo(st,mt)}catch{return!0}}function pu(st){var lt=Do();return typeof st=="function"&&(st=st()),lt.memoizedState=lt.baseState=st,st={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:st},lt.queue=st,st=st.dispatch=Vm.bind(null,Br,st),[lt.memoizedState,st]}function bs(st,lt,mt,xt){return st={tag:st,create:lt,destroy:mt,deps:xt,next:null},lt=Br.updateQueue,lt===null?(lt={lastEffect:null,stores:null},Br.updateQueue=lt,lt.lastEffect=st.next=st):(mt=lt.lastEffect,mt===null?lt.lastEffect=st.next=st:(xt=mt.next,mt.next=st,st.next=xt,lt.lastEffect=st)),st}function vp(){return So().memoizedState}function Qs(st,lt,mt,xt){var Bt=Do();Br.flags|=st,Bt.memoizedState=bs(1|lt,mt,void 0,xt===void 0?null:xt)}function Zs(st,lt,mt,xt){var Bt=So();xt=xt===void 0?null:xt;var Nt=void 0;if(Hr!==null){var Zt=Hr.memoizedState;if(Nt=Zt.destroy,xt!==null&&fu(xt,Zt.deps)){Bt.memoizedState=bs(lt,mt,Nt,xt);return}}Br.flags|=st,Bt.memoizedState=bs(1|lt,mt,Nt,xt)}function mu(st,lt){return Qs(8390656,8,st,lt)}function ws(st,lt){return Zs(2048,8,st,lt)}function xp(st,lt){return Zs(4,2,st,lt)}function _p(st,lt){return Zs(4,4,st,lt)}function bp(st,lt){if(typeof lt=="function")return st=st(),lt(st),function(){lt(null)};if(lt!=null)return st=st(),lt.current=st,function(){lt.current=null}}function wp(st,lt,mt){return mt=mt!=null?mt.concat([st]):null,Zs(4,4,bp.bind(null,lt,st),mt)}function gu(){}function Ap(st,lt){var mt=So();lt=lt===void 0?null:lt;var xt=mt.memoizedState;return xt!==null&&lt!==null&&fu(lt,xt[1])?xt[0]:(mt.memoizedState=[st,lt],st)}function Ep(st,lt){var mt=So();lt=lt===void 0?null:lt;var xt=mt.memoizedState;return xt!==null&&lt!==null&&fu(lt,xt[1])?xt[0]:(st=st(),mt.memoizedState=[st,lt],st)}function zm(st,lt){var mt=mr;mr=mt!==0&&4>mt?mt:4,st(!0);var xt=co.transition;co.transition={};try{st(!1),lt()}finally{mr=mt,co.transition=xt}}function Sp(){return So().memoizedState}function Hm(st,lt,mt){var xt=$o(st);mt={lane:xt,action:mt,hasEagerState:!1,eagerState:null,next:null},Cp(st)?Mp(lt,mt):(Tp(st,lt,mt),mt=Xr(),st=uo(st,xt,mt),st!==null&&Bp(st,lt,xt))}function Vm(st,lt,mt){var xt=$o(st),Bt={lane:xt,action:mt,hasEagerState:!1,eagerState:null,next:null};if(Cp(st))Mp(lt,Bt);else{Tp(st,lt,Bt);var Nt=st.alternate;if(st.lanes===0&&(Nt===null||Nt.lanes===0)&&(Nt=lt.lastRenderedReducer,Nt!==null))try{var Zt=lt.lastRenderedState,an=Nt(Zt,mt);if(Bt.hasEagerState=!0,Bt.eagerState=an,bo(an,Zt))return}catch{}finally{}mt=Xr(),st=uo(st,xt,mt),st!==null&&Bp(st,lt,xt)}}function Cp(st){var lt=st.alternate;return st===Br||lt!==null&&lt===Br}function Mp(st,lt){xs=Xs=!0;var mt=st.pending;mt===null?lt.next=lt:(lt.next=mt.next,mt.next=lt),st.pending=lt}function Tp(st,lt,mt){Ir!==null&&st.mode&1&&!(fr&2)?(st=lt.interleaved,st===null?(mt.next=mt,Ao===null?Ao=[lt]:Ao.push(lt)):(mt.next=st.next,st.next=mt),lt.interleaved=mt):(st=lt.pending,st===null?mt.next=mt:(mt.next=st.next,st.next=mt),lt.pending=mt)}function Bp(st,lt,mt){if(mt&4194240){var xt=lt.lanes;xt&=st.pendingLanes,mt|=xt,lt.lanes=mt,Hl(st,mt)}}var na={readContext:oo,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useInsertionEffect:Vr,useLayoutEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useMutableSource:Vr,useSyncExternalStore:Vr,useId:Vr,unstable_isNewReconciler:!1},Wm={readContext:oo,useCallback:function(st,lt){return Do().memoizedState=[st,lt===void 0?null:lt],st},useContext:oo,useEffect:mu,useImperativeHandle:function(st,lt,mt){return mt=mt!=null?mt.concat([st]):null,Qs(4194308,4,bp.bind(null,lt,st),mt)},useLayoutEffect:function(st,lt){return Qs(4194308,4,st,lt)},useInsertionEffect:function(st,lt){return Qs(4,2,st,lt)},useMemo:function(st,lt){var mt=Do();return lt=lt===void 0?null:lt,st=st(),mt.memoizedState=[st,lt],st},useReducer:function(st,lt,mt){var xt=Do();return lt=mt!==void 0?mt(lt):lt,xt.memoizedState=xt.baseState=lt,st={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:st,lastRenderedState:lt},xt.queue=st,st=st.dispatch=Hm.bind(null,Br,st),[xt.memoizedState,st]},useRef:function(st){var lt=Do();return st={current:st},lt.memoizedState=st},useState:pu,useDebugValue:gu,useDeferredValue:function(st){var lt=pu(st),mt=lt[0],xt=lt[1];return mu(function(){var Bt=co.transition;co.transition={};try{xt(st)}finally{co.transition=Bt}},[st]),mt},useTransition:function(){var st=pu(!1),lt=st[0];return st=zm.bind(null,st[1]),Do().memoizedState=st,[lt,st]},useMutableSource:function(){},useSyncExternalStore:function(st,lt,mt){var xt=Br,Bt=Do();if(Mr){if(mt===void 0)throw Error(tt(407));mt=mt()}else{if(mt=lt(),Ir===null)throw Error(tt(349));ls&30||pp(xt,lt,mt)}Bt.memoizedState=mt;var Nt={value:mt,getSnapshot:lt};return Bt.queue=Nt,mu(gp.bind(null,xt,Nt,st),[st]),xt.flags|=2048,bs(9,mp.bind(null,xt,Nt,mt,lt),void 0,null),mt},useId:function(){var st=Do(),lt=Ir.identifierPrefix;if(Mr){var mt=Io,xt=Po;mt=(xt&~(1<<32-go(xt)-1)).toString(32)+mt,lt=":"+lt+"R"+mt,mt=_s++,0<mt&&(lt+="H"+mt.toString(32)),lt+=":"}else mt=Gm++,lt=":"+lt+"r"+mt.toString(32)+":";return st.memoizedState=lt},unstable_isNewReconciler:!1},jm={readContext:oo,useCallback:Ap,useContext:oo,useEffect:ws,useImperativeHandle:wp,useInsertionEffect:xp,useLayoutEffect:_p,useMemo:Ep,useReducer:qs,useRef:vp,useState:function(){return qs(jo)},useDebugValue:gu,useDeferredValue:function(st){var lt=qs(jo),mt=lt[0],xt=lt[1];return ws(function(){var Bt=co.transition;co.transition={};try{xt(st)}finally{co.transition=Bt}},[st]),mt},useTransition:function(){var st=qs(jo)[0],lt=So().memoizedState;return[st,lt]},useMutableSource:dp,useSyncExternalStore:hp,useId:Sp,unstable_isNewReconciler:!1},Km={readContext:oo,useCallback:Ap,useContext:oo,useEffect:ws,useImperativeHandle:wp,useInsertionEffect:xp,useLayoutEffect:_p,useMemo:Ep,useReducer:Ys,useRef:vp,useState:function(){return Ys(jo)},useDebugValue:gu,useDeferredValue:function(st){var lt=Ys(jo),mt=lt[0],xt=lt[1];return ws(function(){var Bt=co.transition;co.transition={};try{xt(st)}finally{co.transition=Bt}},[st]),mt},useTransition:function(){var st=Ys(jo)[0],lt=So().memoizedState;return[st,lt]},useMutableSource:dp,useSyncExternalStore:hp,useId:Sp,unstable_isNewReconciler:!1};function yu(st,lt){try{var mt="",xt=lt;do mt+=Um(xt),xt=xt.return;while(xt);var Bt=mt}catch(Nt){Bt=`
Error generating stack: `+Nt.message+`
`+Nt.stack}return{value:st,source:lt,stack:Bt}}function vu(st,lt){try{console.error(lt.value)}catch(mt){setTimeout(function(){throw mt})}}var Jm=typeof WeakMap=="function"?WeakMap:Map;function Rp(st,lt,mt){mt=Ro(-1,mt),mt.tag=3,mt.payload={element:null};var xt=lt.value;return mt.callback=function(){Pl||(Pl=!0,Nu=xt),vu(st,lt)},mt}function Pp(st,lt,mt){mt=Ro(-1,mt),mt.tag=3;var xt=st.type.getDerivedStateFromError;if(typeof xt=="function"){var Bt=lt.value;mt.payload=function(){return xt(Bt)},mt.callback=function(){vu(st,lt)}}var Nt=st.stateNode;return Nt!==null&&typeof Nt.componentDidCatch=="function"&&(mt.callback=function(){vu(st,lt),typeof xt!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var Zt=lt.stack;this.componentDidCatch(lt.value,{componentStack:Zt!==null?Zt:""})}),mt}function Ip(st,lt,mt){var xt=st.pingCache;if(xt===null){xt=st.pingCache=new Jm;var Bt=new Set;xt.set(lt,Bt)}else Bt=xt.get(lt),Bt===void 0&&(Bt=new Set,xt.set(lt,Bt));Bt.has(mt)||(Bt.add(mt),st=a0.bind(null,st,lt,mt),lt.then(st,st))}function Dp(st){do{var lt;if((lt=st.tag===13)&&(lt=st.memoizedState,lt=lt!==null?lt.dehydrated!==null:!0),lt)return st;st=st.return}while(st!==null);return null}function Lp(st,lt,mt,xt,Bt){return st.mode&1?(st.flags|=65536,st.lanes=Bt,st):(st===lt?st.flags|=65536:(st.flags|=128,mt.flags|=131072,mt.flags&=-52805,mt.tag===1&&(mt.alternate===null?mt.tag=17:(lt=Ro(-1,1),lt.tag=2,No(mt,lt))),mt.lanes|=1),st)}function Co(st){st.flags|=4}function kp(st,lt){if(st!==null&&st.child===lt.child)return!0;if(lt.flags&16)return!1;for(st=lt.child;st!==null;){if(st.flags&12854||st.subtreeFlags&12854)return!1;st=st.sibling}return!0}var As,Es,ga,xa;if(ln)As=function(st,lt){for(var mt=lt.child;mt!==null;){if(mt.tag===5||mt.tag===6)wt(st,mt.stateNode);else if(mt.tag!==4&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===lt)break;for(;mt.sibling===null;){if(mt.return===null||mt.return===lt)return;mt=mt.return}mt.sibling.return=mt.return,mt=mt.sibling}},Es=function(){},ga=function(st,lt,mt,xt,Bt){if(st=st.memoizedProps,st!==xt){var Nt=lt.stateNode,Zt=Eo(lo.current);mt=nn(Nt,mt,st,xt,Bt,Zt),(lt.updateQueue=mt)&&Co(lt)}},xa=function(st,lt,mt,xt){mt!==xt&&Co(lt)};else if(tn){As=function(st,lt,mt,xt){for(var Bt=lt.child;Bt!==null;){if(Bt.tag===5){var Nt=Bt.stateNode;mt&&xt&&(Nt=Yn(Nt,Bt.type,Bt.memoizedProps,Bt)),wt(st,Nt)}else if(Bt.tag===6)Nt=Bt.stateNode,mt&&xt&&(Nt=Pr(Nt,Bt.memoizedProps,Bt)),wt(st,Nt);else if(Bt.tag!==4){if(Bt.tag===22&&Bt.memoizedState!==null)Nt=Bt.child,Nt!==null&&(Nt.return=Bt),As(st,Bt,!0,!0);else if(Bt.child!==null){Bt.child.return=Bt,Bt=Bt.child;continue}}if(Bt===lt)break;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===lt)return;Bt=Bt.return}Bt.sibling.return=Bt.return,Bt=Bt.sibling}};var Np=function(st,lt,mt,xt){for(var Bt=lt.child;Bt!==null;){if(Bt.tag===5){var Nt=Bt.stateNode;mt&&xt&&(Nt=Yn(Nt,Bt.type,Bt.memoizedProps,Bt)),er(st,Nt)}else if(Bt.tag===6)Nt=Bt.stateNode,mt&&xt&&(Nt=Pr(Nt,Bt.memoizedProps,Bt)),er(st,Nt);else if(Bt.tag!==4){if(Bt.tag===22&&Bt.memoizedState!==null)Nt=Bt.child,Nt!==null&&(Nt.return=Bt),Np(st,Bt,!0,!0);else if(Bt.child!==null){Bt.child.return=Bt,Bt=Bt.child;continue}}if(Bt===lt)break;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===lt)return;Bt=Bt.return}Bt.sibling.return=Bt.return,Bt=Bt.sibling}};Es=function(st,lt){var mt=lt.stateNode;if(!kp(st,lt)){st=mt.containerInfo;var xt=Jn(st);Np(xt,lt,!1,!1),mt.pendingChildren=xt,Co(lt),Er(st,xt)}},ga=function(st,lt,mt,xt,Bt){var Nt=st.stateNode,Zt=st.memoizedProps;if((st=kp(st,lt))&&Zt===xt)lt.stateNode=Nt;else{var an=lt.stateNode,Sn=Eo(lo.current),kn=null;Zt!==xt&&(kn=nn(an,mt,Zt,xt,Bt,Sn)),st&&kn===null?lt.stateNode=Nt:(Nt=Wn(Nt,kn,mt,Zt,xt,lt,st,an),Ht(Nt,mt,xt,Bt,Sn)&&Co(lt),lt.stateNode=Nt,st?Co(lt):As(Nt,lt,!1,!1))}},xa=function(st,lt,mt,xt){mt!==xt?(st=Eo(ss.current),mt=Eo(lo.current),lt.stateNode=Jt(xt,st,mt,lt),Co(lt)):lt.stateNode=st.stateNode}}else Es=function(){},ga=function(){},xa=function(){};function Ss(st,lt){if(!Mr)switch(st.tailMode){case"hidden":lt=st.tail;for(var mt=null;lt!==null;)lt.alternate!==null&&(mt=lt),lt=lt.sibling;mt===null?st.tail=null:mt.sibling=null;break;case"collapsed":mt=st.tail;for(var xt=null;mt!==null;)mt.alternate!==null&&(xt=mt),mt=mt.sibling;xt===null?lt||st.tail===null?st.tail=null:st.tail.sibling=null:xt.sibling=null}}function Wr(st){var lt=st.alternate!==null&&st.alternate.child===st.child,mt=0,xt=0;if(lt)for(var Bt=st.child;Bt!==null;)mt|=Bt.lanes|Bt.childLanes,xt|=Bt.subtreeFlags&14680064,xt|=Bt.flags&14680064,Bt.return=st,Bt=Bt.sibling;else for(Bt=st.child;Bt!==null;)mt|=Bt.lanes|Bt.childLanes,xt|=Bt.subtreeFlags,xt|=Bt.flags,Bt.return=st,Bt=Bt.sibling;return st.subtreeFlags|=xt,st.childLanes=mt,lt}function Xm(st,lt,mt){var xt=lt.pendingProps;switch(ru(lt),lt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(lt),null;case 1:return qr(lt.type)&&Ps(),Wr(lt),null;case 3:return xt=lt.stateNode,as(),rr(kr),rr(pr),uu(),xt.pendingContext&&(xt.context=xt.pendingContext,xt.pendingContext=null),(st===null||st.child===null)&&(ms(lt)?Co(lt):st===null||st.memoizedState.isDehydrated&&!(lt.flags&256)||(lt.flags|=1024,vo!==null&&($u(vo),vo=null))),Es(st,lt),Wr(lt),null;case 5:lu(lt),mt=Eo(ss.current);var Bt=lt.type;if(st!==null&&lt.stateNode!=null)ga(st,lt,Bt,xt,mt),st.ref!==lt.ref&&(lt.flags|=512,lt.flags|=2097152);else{if(!xt){if(lt.stateNode===null)throw Error(tt(166));return Wr(lt),null}if(st=Eo(lo.current),ms(lt)){if(!cn)throw Error(tt(175));st=$n(lt.stateNode,lt.type,lt.memoizedProps,mt,st,lt,!ps),lt.updateQueue=st,st!==null&&Co(lt)}else{var Nt=Ft(Bt,xt,mt,st,lt);As(Nt,lt,!1,!1),lt.stateNode=Nt,Ht(Nt,Bt,xt,mt,st)&&Co(lt)}lt.ref!==null&&(lt.flags|=512,lt.flags|=2097152)}return Wr(lt),null;case 6:if(st&&lt.stateNode!=null)xa(st,lt,st.memoizedProps,xt);else{if(typeof xt!="string"&&lt.stateNode===null)throw Error(tt(166));if(st=Eo(ss.current),mt=Eo(lo.current),ms(lt)){if(!cn)throw Error(tt(176));if(st=lt.stateNode,xt=lt.memoizedProps,(mt=Qn(st,xt,lt,!ps))&&(Bt=to,Bt!==null))switch(Nt=(Bt.mode&1)!==0,Bt.tag){case 3:Kr(Bt.stateNode.containerInfo,st,xt,Nt);break;case 5:_i(Bt.type,Bt.memoizedProps,Bt.stateNode,st,xt,Nt)}mt&&Co(lt)}else lt.stateNode=Jt(xt,st,mt,lt)}return Wr(lt),null;case 13:if(rr(Tr),xt=lt.memoizedState,Mr&&no!==null&&lt.mode&1&&!(lt.flags&128)){for(st=no;st;)st=fn(st);return rs(),lt.flags|=98560,lt}if(xt!==null&&xt.dehydrated!==null){if(xt=ms(lt),st===null){if(!xt)throw Error(tt(318));if(!cn)throw Error(tt(344));if(st=lt.memoizedState,st=st!==null?st.dehydrated:null,!st)throw Error(tt(317));Vn(st,lt)}else rs(),!(lt.flags&128)&&(lt.memoizedState=null),lt.flags|=4;return Wr(lt),null}return vo!==null&&($u(vo),vo=null),lt.flags&128?(lt.lanes=mt,lt):(xt=xt!==null,mt=!1,st===null?ms(lt):mt=st.memoizedState!==null,xt&&!mt&&(lt.child.flags|=8192,lt.mode&1&&(st===null||Tr.current&1?Lr===0&&(Lr=3):Gu())),lt.updateQueue!==null&&(lt.flags|=4),Wr(lt),null);case 4:return as(),Es(st,lt),st===null&&Mn(lt.stateNode.containerInfo),Wr(lt),null;case 10:return Ql(lt.type._context),Wr(lt),null;case 17:return qr(lt.type)&&Ps(),Wr(lt),null;case 19:if(rr(Tr),Bt=lt.memoizedState,Bt===null)return Wr(lt),null;if(xt=(lt.flags&128)!==0,Nt=Bt.rendering,Nt===null)if(xt)Ss(Bt,!1);else{if(Lr!==0||st!==null&&st.flags&128)for(st=lt.child;st!==null;){if(Nt=Ks(st),Nt!==null){for(lt.flags|=128,Ss(Bt,!1),st=Nt.updateQueue,st!==null&&(lt.updateQueue=st,lt.flags|=4),lt.subtreeFlags=0,st=mt,xt=lt.child;xt!==null;)mt=xt,Bt=st,mt.flags&=14680066,Nt=mt.alternate,Nt===null?(mt.childLanes=0,mt.lanes=Bt,mt.child=null,mt.subtreeFlags=0,mt.memoizedProps=null,mt.memoizedState=null,mt.updateQueue=null,mt.dependencies=null,mt.stateNode=null):(mt.childLanes=Nt.childLanes,mt.lanes=Nt.lanes,mt.child=Nt.child,mt.subtreeFlags=0,mt.deletions=null,mt.memoizedProps=Nt.memoizedProps,mt.memoizedState=Nt.memoizedState,mt.updateQueue=Nt.updateQueue,mt.type=Nt.type,Bt=Nt.dependencies,mt.dependencies=Bt===null?null:{lanes:Bt.lanes,firstContext:Bt.firstContext}),xt=xt.sibling;return dr(Tr,Tr.current&1|2),lt.child}st=st.sibling}Bt.tail!==null&&Nr()>ku&&(lt.flags|=128,xt=!0,Ss(Bt,!1),lt.lanes=4194304)}else{if(!xt)if(st=Ks(Nt),st!==null){if(lt.flags|=128,xt=!0,st=st.updateQueue,st!==null&&(lt.updateQueue=st,lt.flags|=4),Ss(Bt,!0),Bt.tail===null&&Bt.tailMode==="hidden"&&!Nt.alternate&&!Mr)return Wr(lt),null}else 2*Nr()-Bt.renderingStartTime>ku&&mt!==1073741824&&(lt.flags|=128,xt=!0,Ss(Bt,!1),lt.lanes=4194304);Bt.isBackwards?(Nt.sibling=lt.child,lt.child=Nt):(st=Bt.last,st!==null?st.sibling=Nt:lt.child=Nt,Bt.last=Nt)}return Bt.tail!==null?(lt=Bt.tail,Bt.rendering=lt,Bt.tail=lt.sibling,Bt.renderingStartTime=Nr(),lt.sibling=null,st=Tr.current,dr(Tr,xt?st&1|2:st&1),lt):(Wr(lt),null);case 22:case 23:return Uu(),xt=lt.memoizedState!==null,st!==null&&st.memoizedState!==null!==xt&&(lt.flags|=8192),xt&&lt.mode&1?io&1073741824&&(Wr(lt),ln&&lt.subtreeFlags&6&&(lt.flags|=8192)):Wr(lt),null;case 24:return null;case 25:return null}throw Error(tt(156,lt.tag))}var qm=nt.ReactCurrentOwner,ro=!1;function Jr(st,lt,mt,xt){lt.child=st===null?up(lt,null,mt,xt):os(lt,st.child,mt,xt)}function Fp(st,lt,mt,xt,Bt){mt=mt.render;var Nt=lt.ref;return es(lt,Bt),xt=du(st,lt,mt,xt,Nt,Bt),mt=hu(),st!==null&&!ro?(lt.updateQueue=st.updateQueue,lt.flags&=-2053,st.lanes&=~Bt,Lo(st,lt,Bt)):(Mr&&mt&&nu(lt),lt.flags|=1,Jr(st,lt,xt,Bt),lt.child)}function $p(st,lt,mt,xt,Bt){if(st===null){var Nt=mt.type;return typeof Nt=="function"&&!zu(Nt)&&Nt.defaultProps===void 0&&mt.compare===null&&mt.defaultProps===void 0?(lt.tag=15,lt.type=Nt,Up(st,lt,Nt,xt,Bt)):(st=$l(mt.type,null,xt,lt,lt.mode,Bt),st.ref=lt.ref,st.return=lt,lt.child=st)}if(Nt=st.child,!(st.lanes&Bt)){var Zt=Nt.memoizedProps;if(mt=mt.compare,mt=mt!==null?mt:Os,mt(Zt,xt)&&st.ref===lt.ref)return Lo(st,lt,Bt)}return lt.flags|=1,st=Go(Nt,xt),st.ref=lt.ref,st.return=lt,lt.child=st}function Up(st,lt,mt,xt,Bt){if(st!==null&&Os(st.memoizedProps,xt)&&st.ref===lt.ref)if(ro=!1,(st.lanes&Bt)!==0)st.flags&131072&&(ro=!0);else return lt.lanes=st.lanes,Lo(st,lt,Bt);return xu(st,lt,mt,xt,Bt)}function Gp(st,lt,mt){var xt=lt.pendingProps,Bt=xt.children,Nt=st!==null?st.memoizedState:null;if(xt.mode==="hidden")if(!(lt.mode&1))lt.memoizedState={baseLanes:0,cachePool:null},dr(cs,io),io|=mt;else if(mt&1073741824)lt.memoizedState={baseLanes:0,cachePool:null},xt=Nt!==null?Nt.baseLanes:mt,dr(cs,io),io|=xt;else return st=Nt!==null?Nt.baseLanes|mt:mt,lt.lanes=lt.childLanes=1073741824,lt.memoizedState={baseLanes:st,cachePool:null},lt.updateQueue=null,dr(cs,io),io|=st,null;else Nt!==null?(xt=Nt.baseLanes|mt,lt.memoizedState=null):xt=mt,dr(cs,io),io|=xt;return Jr(st,lt,Bt,mt),lt.child}function zp(st,lt){var mt=lt.ref;(st===null&&mt!==null||st!==null&&st.ref!==mt)&&(lt.flags|=512,lt.flags|=2097152)}function xu(st,lt,mt,xt,Bt){var Nt=qr(mt)?Mo:pr.current;return Nt=To(lt,Nt),es(lt,Bt),mt=du(st,lt,mt,xt,Nt,Bt),xt=hu(),st!==null&&!ro?(lt.updateQueue=st.updateQueue,lt.flags&=-2053,st.lanes&=~Bt,Lo(st,lt,Bt)):(Mr&&xt&&nu(lt),lt.flags|=1,Jr(st,lt,mt,Bt),lt.child)}function Hp(st,lt,mt,xt,Bt){if(qr(mt)){var Nt=!0;Is(lt)}else Nt=!1;if(es(lt,Bt),lt.stateNode===null)st!==null&&(st.alternate=null,lt.alternate=null,lt.flags|=2),np(lt,mt,xt),tu(lt,mt,xt,Bt),xt=!0;else if(st===null){var Zt=lt.stateNode,an=lt.memoizedProps;Zt.props=an;var Sn=Zt.context,kn=mt.contextType;typeof kn=="object"&&kn!==null?kn=oo(kn):(kn=qr(mt)?Mo:pr.current,kn=To(lt,kn));var Kn=mt.getDerivedStateFromProps,ar=typeof Kn=="function"||typeof Zt.getSnapshotBeforeUpdate=="function";ar||typeof Zt.UNSAFE_componentWillReceiveProps!="function"&&typeof Zt.componentWillReceiveProps!="function"||(an!==xt||Sn!==kn)&&rp(lt,Zt,xt,kn),ko=!1;var Zn=lt.memoizedState;Zt.state=Zn,zs(lt,xt,Zt,Bt),Sn=lt.memoizedState,an!==xt||Zn!==Sn||kr.current||ko?(typeof Kn=="function"&&(eu(lt,mt,Kn,xt),Sn=lt.memoizedState),(an=ko||tp(lt,mt,an,xt,Zn,Sn,kn))?(ar||typeof Zt.UNSAFE_componentWillMount!="function"&&typeof Zt.componentWillMount!="function"||(typeof Zt.componentWillMount=="function"&&Zt.componentWillMount(),typeof Zt.UNSAFE_componentWillMount=="function"&&Zt.UNSAFE_componentWillMount()),typeof Zt.componentDidMount=="function"&&(lt.flags|=4194308)):(typeof Zt.componentDidMount=="function"&&(lt.flags|=4194308),lt.memoizedProps=xt,lt.memoizedState=Sn),Zt.props=xt,Zt.state=Sn,Zt.context=kn,xt=an):(typeof Zt.componentDidMount=="function"&&(lt.flags|=4194308),xt=!1)}else{Zt=lt.stateNode,_f(st,lt),an=lt.memoizedProps,kn=lt.type===lt.elementType?an:yo(lt.type,an),Zt.props=kn,ar=lt.pendingProps,Zn=Zt.context,Sn=mt.contextType,typeof Sn=="object"&&Sn!==null?Sn=oo(Sn):(Sn=qr(mt)?Mo:pr.current,Sn=To(lt,Sn));var Ar=mt.getDerivedStateFromProps;(Kn=typeof Ar=="function"||typeof Zt.getSnapshotBeforeUpdate=="function")||typeof Zt.UNSAFE_componentWillReceiveProps!="function"&&typeof Zt.componentWillReceiveProps!="function"||(an!==ar||Zn!==Sn)&&rp(lt,Zt,xt,Sn),ko=!1,Zn=lt.memoizedState,Zt.state=Zn,zs(lt,xt,Zt,Bt);var qn=lt.memoizedState;an!==ar||Zn!==qn||kr.current||ko?(typeof Ar=="function"&&(eu(lt,mt,Ar,xt),qn=lt.memoizedState),(kn=ko||tp(lt,mt,kn,xt,Zn,qn,Sn)||!1)?(Kn||typeof Zt.UNSAFE_componentWillUpdate!="function"&&typeof Zt.componentWillUpdate!="function"||(typeof Zt.componentWillUpdate=="function"&&Zt.componentWillUpdate(xt,qn,Sn),typeof Zt.UNSAFE_componentWillUpdate=="function"&&Zt.UNSAFE_componentWillUpdate(xt,qn,Sn)),typeof Zt.componentDidUpdate=="function"&&(lt.flags|=4),typeof Zt.getSnapshotBeforeUpdate=="function"&&(lt.flags|=1024)):(typeof Zt.componentDidUpdate!="function"||an===st.memoizedProps&&Zn===st.memoizedState||(lt.flags|=4),typeof Zt.getSnapshotBeforeUpdate!="function"||an===st.memoizedProps&&Zn===st.memoizedState||(lt.flags|=1024),lt.memoizedProps=xt,lt.memoizedState=qn),Zt.props=xt,Zt.state=qn,Zt.context=Sn,xt=kn):(typeof Zt.componentDidUpdate!="function"||an===st.memoizedProps&&Zn===st.memoizedState||(lt.flags|=4),typeof Zt.getSnapshotBeforeUpdate!="function"||an===st.memoizedProps&&Zn===st.memoizedState||(lt.flags|=1024),xt=!1)}return _u(st,lt,mt,xt,Nt,Bt)}function _u(st,lt,mt,xt,Bt,Nt){zp(st,lt);var Zt=(lt.flags&128)!==0;if(!xt&&!Zt)return Bt&&Xu(lt,mt,!1),Lo(st,lt,Nt);xt=lt.stateNode,qm.current=lt;var an=Zt&&typeof mt.getDerivedStateFromError!="function"?null:xt.render();return lt.flags|=1,st!==null&&Zt?(lt.child=os(lt,st.child,null,Nt),lt.child=os(lt,null,an,Nt)):Jr(st,lt,an,Nt),lt.memoizedState=xt.state,Bt&&Xu(lt,mt,!0),lt.child}function Vp(st){var lt=st.stateNode;lt.pendingContext?Ku(st,lt.pendingContext,lt.pendingContext!==lt.context):lt.context&&Ku(st,lt.context,!1),au(st,lt.containerInfo)}function Wp(st,lt,mt,xt,Bt){return rs(),su(Bt),lt.flags|=256,Jr(st,lt,mt,xt),lt.child}var _a={dehydrated:null,treeContext:null,retryLane:0};function ba(st){return{baseLanes:st,cachePool:null}}function jp(st,lt,mt){var xt=lt.pendingProps,Bt=Tr.current,Nt=!1,Zt=(lt.flags&128)!==0,an;if((an=Zt)||(an=st!==null&&st.memoizedState===null?!1:(Bt&2)!==0),an?(Nt=!0,lt.flags&=-129):(st===null||st.memoizedState!==null)&&(Bt|=1),dr(Tr,Bt&1),st===null)return ou(lt),st=lt.memoizedState,st!==null&&(st=st.dehydrated,st!==null)?(lt.mode&1?vr(st)?lt.lanes=8:lt.lanes=1073741824:lt.lanes=1,null):(Bt=xt.children,st=xt.fallback,Nt?(xt=lt.mode,Nt=lt.child,Bt={mode:"hidden",children:Bt},!(xt&1)&&Nt!==null?(Nt.childLanes=0,Nt.pendingProps=Bt):Nt=Ul(Bt,xt,0,null),st=Qo(st,xt,mt,null),Nt.return=lt,st.return=lt,Nt.sibling=st,lt.child=Nt,lt.child.memoizedState=ba(mt),lt.memoizedState=_a,st):bu(lt,Bt));if(Bt=st.memoizedState,Bt!==null){if(an=Bt.dehydrated,an!==null){if(Zt)return lt.flags&256?(lt.flags&=-257,$a(st,lt,mt,Error(tt(422)))):lt.memoizedState!==null?(lt.child=st.child,lt.flags|=128,null):(Nt=xt.fallback,Bt=lt.mode,xt=Ul({mode:"visible",children:xt.children},Bt,0,null),Nt=Qo(Nt,Bt,mt,null),Nt.flags|=2,xt.return=lt,Nt.return=lt,xt.sibling=Nt,lt.child=xt,lt.mode&1&&os(lt,st.child,null,mt),lt.child.memoizedState=ba(mt),lt.memoizedState=_a,Nt);if(!(lt.mode&1))lt=$a(st,lt,mt,null);else if(vr(an))lt=$a(st,lt,mt,Error(tt(419)));else if(xt=(mt&st.childLanes)!==0,ro||xt){if(xt=Ir,xt!==null){switch(mt&-mt){case 4:Nt=2;break;case 16:Nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Nt=32;break;case 536870912:Nt=268435456;break;default:Nt=0}xt=Nt&(xt.suspendedLanes|mt)?0:Nt,xt!==0&&xt!==Bt.retryLane&&(Bt.retryLane=xt,uo(st,xt,-1))}Gu(),lt=$a(st,lt,mt,Error(tt(421)))}else br(an)?(lt.flags|=128,lt.child=st.child,lt=l0.bind(null,st),Yt(an,lt),lt=null):(mt=Bt.treeContext,cn&&(no=xn(an),to=lt,Mr=!0,vo=null,ps=!1,mt!==null&&(so[ao++]=Po,so[ao++]=Io,so[ao++]=Vo,Po=mt.id,Io=mt.overflow,Vo=lt)),lt=bu(lt,lt.pendingProps.children),lt.flags|=4096);return lt}return Nt?(xt=Jp(st,lt,xt.children,xt.fallback,mt),Nt=lt.child,Bt=st.child.memoizedState,Nt.memoizedState=Bt===null?ba(mt):{baseLanes:Bt.baseLanes|mt,cachePool:null},Nt.childLanes=st.childLanes&~mt,lt.memoizedState=_a,xt):(mt=Kp(st,lt,xt.children,mt),lt.memoizedState=null,mt)}return Nt?(xt=Jp(st,lt,xt.children,xt.fallback,mt),Nt=lt.child,Bt=st.child.memoizedState,Nt.memoizedState=Bt===null?ba(mt):{baseLanes:Bt.baseLanes|mt,cachePool:null},Nt.childLanes=st.childLanes&~mt,lt.memoizedState=_a,xt):(mt=Kp(st,lt,xt.children,mt),lt.memoizedState=null,mt)}function bu(st,lt){return lt=Ul({mode:"visible",children:lt},st.mode,0,null),lt.return=st,st.child=lt}function Kp(st,lt,mt,xt){var Bt=st.child;return st=Bt.sibling,mt=Go(Bt,{mode:"visible",children:mt}),!(lt.mode&1)&&(mt.lanes=xt),mt.return=lt,mt.sibling=null,st!==null&&(xt=lt.deletions,xt===null?(lt.deletions=[st],lt.flags|=16):xt.push(st)),lt.child=mt}function Jp(st,lt,mt,xt,Bt){var Nt=lt.mode;st=st.child;var Zt=st.sibling,an={mode:"hidden",children:mt};return!(Nt&1)&&lt.child!==st?(mt=lt.child,mt.childLanes=0,mt.pendingProps=an,lt.deletions=null):(mt=Go(st,an),mt.subtreeFlags=st.subtreeFlags&14680064),Zt!==null?xt=Go(Zt,xt):(xt=Qo(xt,Nt,Bt,null),xt.flags|=2),xt.return=lt,mt.return=lt,mt.sibling=xt,lt.child=mt,xt}function $a(st,lt,mt,xt){return xt!==null&&su(xt),os(lt,st.child,null,mt),st=bu(lt,lt.pendingProps.children),st.flags|=2,lt.memoizedState=null,st}function Xp(st,lt,mt){st.lanes|=lt;var xt=st.alternate;xt!==null&&(xt.lanes|=lt),Zl(st.return,lt,mt)}function wu(st,lt,mt,xt,Bt){var Nt=st.memoizedState;Nt===null?st.memoizedState={isBackwards:lt,rendering:null,renderingStartTime:0,last:xt,tail:mt,tailMode:Bt}:(Nt.isBackwards=lt,Nt.rendering=null,Nt.renderingStartTime=0,Nt.last=xt,Nt.tail=mt,Nt.tailMode=Bt)}function qp(st,lt,mt){var xt=lt.pendingProps,Bt=xt.revealOrder,Nt=xt.tail;if(Jr(st,lt,xt.children,mt),xt=Tr.current,xt&2)xt=xt&1|2,lt.flags|=128;else{if(st!==null&&st.flags&128)e:for(st=lt.child;st!==null;){if(st.tag===13)st.memoizedState!==null&&Xp(st,mt,lt);else if(st.tag===19)Xp(st,mt,lt);else if(st.child!==null){st.child.return=st,st=st.child;continue}if(st===lt)break e;for(;st.sibling===null;){if(st.return===null||st.return===lt)break e;st=st.return}st.sibling.return=st.return,st=st.sibling}xt&=1}if(dr(Tr,xt),!(lt.mode&1))lt.memoizedState=null;else switch(Bt){case"forwards":for(mt=lt.child,Bt=null;mt!==null;)st=mt.alternate,st!==null&&Ks(st)===null&&(Bt=mt),mt=mt.sibling;mt=Bt,mt===null?(Bt=lt.child,lt.child=null):(Bt=mt.sibling,mt.sibling=null),wu(lt,!1,Bt,mt,Nt);break;case"backwards":for(mt=null,Bt=lt.child,lt.child=null;Bt!==null;){if(st=Bt.alternate,st!==null&&Ks(st)===null){lt.child=Bt;break}st=Bt.sibling,Bt.sibling=mt,mt=Bt,Bt=st}wu(lt,!0,mt,null,Nt);break;case"together":wu(lt,!1,null,null,void 0);break;default:lt.memoizedState=null}return lt.child}function Lo(st,lt,mt){if(st!==null&&(lt.dependencies=st.dependencies),us|=lt.lanes,!(mt&lt.childLanes))return null;if(st!==null&&lt.child!==st.child)throw Error(tt(153));if(lt.child!==null){for(st=lt.child,mt=Go(st,st.pendingProps),lt.child=mt,mt.return=lt;st.sibling!==null;)st=st.sibling,mt=mt.sibling=Go(st,st.pendingProps),mt.return=lt;mt.sibling=null}return lt.child}function Ym(st,lt,mt){switch(lt.tag){case 3:Vp(lt),rs();break;case 5:fp(lt);break;case 1:qr(lt.type)&&Is(lt);break;case 4:au(lt,lt.stateNode.containerInfo);break;case 10:Zu(lt,lt.type._context,lt.memoizedProps.value);break;case 13:var xt=lt.memoizedState;if(xt!==null)return xt.dehydrated!==null?(dr(Tr,Tr.current&1),lt.flags|=128,null):mt&lt.child.childLanes?jp(st,lt,mt):(dr(Tr,Tr.current&1),st=Lo(st,lt,mt),st!==null?st.sibling:null);dr(Tr,Tr.current&1);break;case 19:if(xt=(mt&lt.childLanes)!==0,st.flags&128){if(xt)return qp(st,lt,mt);lt.flags|=128}var Bt=lt.memoizedState;if(Bt!==null&&(Bt.rendering=null,Bt.tail=null,Bt.lastEffect=null),dr(Tr,Tr.current),xt)break;return null;case 22:case 23:return lt.lanes=0,Gp(st,lt,mt)}return Lo(st,lt,mt)}function Qm(st,lt){switch(ru(lt),lt.tag){case 1:return qr(lt.type)&&Ps(),st=lt.flags,st&65536?(lt.flags=st&-65537|128,lt):null;case 3:return as(),rr(kr),rr(pr),uu(),st=lt.flags,st&65536&&!(st&128)?(lt.flags=st&-65537|128,lt):null;case 5:return lu(lt),null;case 13:if(rr(Tr),st=lt.memoizedState,st!==null&&st.dehydrated!==null){if(lt.alternate===null)throw Error(tt(340));rs()}return st=lt.flags,st&65536?(lt.flags=st&-65537|128,lt):null;case 19:return rr(Tr),null;case 4:return as(),null;case 10:return Ql(lt.type._context),null;case 22:case 23:return Uu(),null;case 24:return null;default:return null}}var yl=!1,Ko=!1,Zm=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function xl(st,lt){var mt=st.ref;if(mt!==null)if(typeof mt=="function")try{mt(null)}catch(xt){Zr(st,lt,xt)}else mt.current=null}function Au(st,lt,mt){try{mt()}catch(xt){Zr(st,lt,xt)}}var Yp=!1;function _g(st,lt){for($t(st.containerInfo),Gn=lt;Gn!==null;)if(st=Gn,lt=st.child,(st.subtreeFlags&1028)!==0&&lt!==null)lt.return=st,Gn=lt;else for(;Gn!==null;){st=Gn;try{var mt=st.alternate;if(st.flags&1024)switch(st.tag){case 0:case 11:case 15:break;case 1:if(mt!==null){var xt=mt.memoizedProps,Bt=mt.memoizedState,Nt=st.stateNode,Zt=Nt.getSnapshotBeforeUpdate(st.elementType===st.type?xt:yo(st.type,xt),Bt);Nt.__reactInternalSnapshotBeforeUpdate=Zt}break;case 3:ln&&Dn(st.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(an){Zr(st,st.return,an)}if(lt=st.sibling,lt!==null){lt.return=st.return,Gn=lt;break}Gn=st.return}return mt=Yp,Yp=!1,mt}function Jo(st,lt,mt){var xt=lt.updateQueue;if(xt=xt!==null?xt.lastEffect:null,xt!==null){var Bt=xt=xt.next;do{if((Bt.tag&st)===st){var Nt=Bt.destroy;Bt.destroy=void 0,Nt!==void 0&&Au(lt,mt,Nt)}Bt=Bt.next}while(Bt!==xt)}}function Cs(st,lt){if(lt=lt.updateQueue,lt=lt!==null?lt.lastEffect:null,lt!==null){var mt=lt=lt.next;do{if((mt.tag&st)===st){var xt=mt.create;mt.destroy=xt()}mt=mt.next}while(mt!==lt)}}function Eu(st){var lt=st.ref;if(lt!==null){var mt=st.stateNode;switch(st.tag){case 5:st=Lt(mt);break;default:st=mt}typeof lt=="function"?lt(st):lt.current=st}}function Qp(st,lt,mt){if(_o&&typeof _o.onCommitFiberUnmount=="function")try{_o.onCommitFiberUnmount(Ns,lt)}catch{}switch(lt.tag){case 0:case 11:case 14:case 15:if(st=lt.updateQueue,st!==null&&(st=st.lastEffect,st!==null)){var xt=st=st.next;do{var Bt=xt,Nt=Bt.destroy;Bt=Bt.tag,Nt!==void 0&&(Bt&2||Bt&4)&&Au(lt,mt,Nt),xt=xt.next}while(xt!==st)}break;case 1:if(xl(lt,mt),st=lt.stateNode,typeof st.componentWillUnmount=="function")try{st.props=lt.memoizedProps,st.state=lt.memoizedState,st.componentWillUnmount()}catch(Zt){Zr(lt,mt,Zt)}break;case 5:xl(lt,mt);break;case 4:ln?im(st,lt,mt):tn&&tn&&(lt=lt.stateNode.containerInfo,mt=Jn(lt),hr(lt,mt))}}function Zp(st,lt,mt){for(var xt=lt;;)if(Qp(st,xt,mt),xt.child===null||ln&&xt.tag===4){if(xt===lt)break;for(;xt.sibling===null;){if(xt.return===null||xt.return===lt)return;xt=xt.return}xt.sibling.return=xt.return,xt=xt.sibling}else xt.child.return=xt,xt=xt.child}function em(st){var lt=st.alternate;lt!==null&&(st.alternate=null,em(lt)),st.child=null,st.deletions=null,st.sibling=null,st.tag===5&&(lt=st.stateNode,lt!==null&&Rn(lt)),st.stateNode=null,st.return=null,st.dependencies=null,st.memoizedProps=null,st.memoizedState=null,st.pendingProps=null,st.stateNode=null,st.updateQueue=null}function tm(st){return st.tag===5||st.tag===3||st.tag===4}function nm(st){e:for(;;){for(;st.sibling===null;){if(st.return===null||tm(st.return))return null;st=st.return}for(st.sibling.return=st.return,st=st.sibling;st.tag!==5&&st.tag!==6&&st.tag!==18;){if(st.flags&2||st.child===null||st.tag===4)continue e;st.child.return=st,st=st.child}if(!(st.flags&2))return st.stateNode}}function rm(st){if(ln){e:{for(var lt=st.return;lt!==null;){if(tm(lt))break e;lt=lt.return}throw Error(tt(160))}var mt=lt;switch(mt.tag){case 5:lt=mt.stateNode,mt.flags&32&&(Hn(lt),mt.flags&=-33),mt=nm(st),Cu(st,mt,lt);break;case 3:case 4:lt=mt.stateNode.containerInfo,mt=nm(st),Su(st,mt,lt);break;default:throw Error(tt(161))}}}function Su(st,lt,mt){var xt=st.tag;if(xt===5||xt===6)st=st.stateNode,lt?_n(mt,st,lt):Et(mt,st);else if(xt!==4&&(st=st.child,st!==null))for(Su(st,lt,mt),st=st.sibling;st!==null;)Su(st,lt,mt),st=st.sibling}function Cu(st,lt,mt){var xt=st.tag;if(xt===5||xt===6)st=st.stateNode,lt?qt(mt,st,lt):Mt(mt,st);else if(xt!==4&&(st=st.child,st!==null))for(Cu(st,lt,mt),st=st.sibling;st!==null;)Cu(st,lt,mt),st=st.sibling}function im(st,lt,mt){for(var xt=lt,Bt=!1,Nt,Zt;;){if(!Bt){Bt=xt.return;e:for(;;){if(Bt===null)throw Error(tt(160));switch(Nt=Bt.stateNode,Bt.tag){case 5:Zt=!1;break e;case 3:Nt=Nt.containerInfo,Zt=!0;break e;case 4:Nt=Nt.containerInfo,Zt=!0;break e}Bt=Bt.return}Bt=!0}if(xt.tag===5||xt.tag===6)Zp(st,xt,mt),Zt?Pn(Nt,xt.stateNode):En(Nt,xt.stateNode);else if(xt.tag===18)Zt?xr(Nt,xt.stateNode):nr(Nt,xt.stateNode);else if(xt.tag===4){if(xt.child!==null){Nt=xt.stateNode.containerInfo,Zt=!0,xt.child.return=xt,xt=xt.child;continue}}else if(Qp(st,xt,mt),xt.child!==null){xt.child.return=xt,xt=xt.child;continue}if(xt===lt)break;for(;xt.sibling===null;){if(xt.return===null||xt.return===lt)return;xt=xt.return,xt.tag===4&&(Bt=!1)}xt.sibling.return=xt.return,xt=xt.sibling}}function Mu(st,lt){if(ln){switch(lt.tag){case 0:case 11:case 14:case 15:Jo(3,lt,lt.return),Cs(3,lt),Jo(5,lt,lt.return);return;case 1:return;case 5:var mt=lt.stateNode;if(mt!=null){var xt=lt.memoizedProps;st=st!==null?st.memoizedProps:xt;var Bt=lt.type,Nt=lt.updateQueue;lt.updateQueue=null,Nt!==null&&Wt(mt,Nt,Bt,st,xt,lt)}return;case 6:if(lt.stateNode===null)throw Error(tt(162));mt=lt.memoizedProps,Ut(lt.stateNode,st!==null?st.memoizedProps:mt,mt);return;case 3:cn&&st!==null&&st.memoizedState.isDehydrated&&ir(lt.stateNode.containerInfo);return;case 12:return;case 13:_l(lt);return;case 19:_l(lt);return;case 17:return}throw Error(tt(163))}switch(lt.tag){case 0:case 11:case 14:case 15:Jo(3,lt,lt.return),Cs(3,lt),Jo(5,lt,lt.return);return;case 12:return;case 13:_l(lt);return;case 19:_l(lt);return;case 3:cn&&st!==null&&st.memoizedState.isDehydrated&&ir(lt.stateNode.containerInfo);break;case 22:case 23:return}e:if(tn){switch(lt.tag){case 1:case 5:case 6:break e;case 3:case 4:lt=lt.stateNode,hr(lt.containerInfo,lt.pendingChildren);break e}throw Error(tt(163))}}function _l(st){var lt=st.updateQueue;if(lt!==null){st.updateQueue=null;var mt=st.stateNode;mt===null&&(mt=st.stateNode=new Zm),lt.forEach(function(xt){var Bt=c0.bind(null,st,xt);mt.has(xt)||(mt.add(xt),xt.then(Bt,Bt))})}}function e0(st,lt){for(Gn=lt;Gn!==null;){lt=Gn;var mt=lt.deletions;if(mt!==null)for(var xt=0;xt<mt.length;xt++){var Bt=mt[xt];try{var Nt=st;ln?im(Nt,Bt,lt):Zp(Nt,Bt,lt);var Zt=Bt.alternate;Zt!==null&&(Zt.return=null),Bt.return=null}catch(Xn){Zr(Bt,lt,Xn)}}if(mt=lt.child,lt.subtreeFlags&12854&&mt!==null)mt.return=lt,Gn=mt;else for(;Gn!==null;){lt=Gn;try{var an=lt.flags;if(an&32&&ln&&Hn(lt.stateNode),an&512){var Sn=lt.alternate;if(Sn!==null){var kn=Sn.ref;kn!==null&&(typeof kn=="function"?kn(null):kn.current=null)}}if(an&8192)switch(lt.tag){case 13:if(lt.memoizedState!==null){var Kn=lt.alternate;(Kn===null||Kn.memoizedState===null)&&(Lu=Nr())}break;case 22:var ar=lt.memoizedState!==null,Zn=lt.alternate,Ar=Zn!==null&&Zn.memoizedState!==null;if(mt=lt,ln){e:if(xt=mt,Bt=ar,Nt=null,ln)for(var qn=xt;;){if(qn.tag===5){if(Nt===null){Nt=qn;var jr=qn.stateNode;Bt?On(jr):wn(qn.stateNode,qn.memoizedProps)}}else if(qn.tag===6){if(Nt===null){var ho=qn.stateNode;Bt?rn(ho):Cn(ho,qn.memoizedProps)}}else if((qn.tag!==22&&qn.tag!==23||qn.memoizedState===null||qn===xt)&&qn.child!==null){qn.child.return=qn,qn=qn.child;continue}if(qn===xt)break;for(;qn.sibling===null;){if(qn.return===null||qn.return===xt)break e;Nt===qn&&(Nt=null),qn=qn.return}Nt===qn&&(Nt=null),qn.sibling.return=qn.return,qn=qn.sibling}}if(ar&&!Ar&&mt.mode&1){Gn=mt;for(var yn=mt.child;yn!==null;){for(mt=Gn=yn;Gn!==null;){xt=Gn;var hn=xt.child;switch(xt.tag){case 0:case 11:case 14:case 15:Jo(4,xt,xt.return);break;case 1:xl(xt,xt.return);var An=xt.stateNode;if(typeof An.componentWillUnmount=="function"){var zn=xt.return;try{An.props=xt.memoizedProps,An.state=xt.memoizedState,An.componentWillUnmount()}catch(Xn){Zr(xt,zn,Xn)}}break;case 5:xl(xt,xt.return);break;case 22:if(xt.memoizedState!==null){am(mt);continue}}hn!==null?(hn.return=xt,Gn=hn):am(mt)}yn=yn.sibling}}}switch(an&4102){case 2:rm(lt),lt.flags&=-3;break;case 6:rm(lt),lt.flags&=-3,Mu(lt.alternate,lt);break;case 4096:lt.flags&=-4097;break;case 4100:lt.flags&=-4097,Mu(lt.alternate,lt);break;case 4:Mu(lt.alternate,lt)}}catch(Xn){Zr(lt,lt.return,Xn)}if(mt=lt.sibling,mt!==null){mt.return=lt.return,Gn=mt;break}Gn=lt.return}}}function t0(st,lt,mt){Gn=st,om(st)}function om(st,lt,mt){for(var xt=(st.mode&1)!==0;Gn!==null;){var Bt=Gn,Nt=Bt.child;if(Bt.tag===22&&xt){var Zt=Bt.memoizedState!==null||yl;if(!Zt){var an=Bt.alternate,Sn=an!==null&&an.memoizedState!==null||Ko;an=yl;var kn=Ko;if(yl=Zt,(Ko=Sn)&&!kn)for(Gn=Bt;Gn!==null;)Zt=Gn,Sn=Zt.child,Zt.tag===22&&Zt.memoizedState!==null?lm(Bt):Sn!==null?(Sn.return=Zt,Gn=Sn):lm(Bt);for(;Nt!==null;)Gn=Nt,om(Nt),Nt=Nt.sibling;Gn=Bt,yl=an,Ko=kn}sm(st)}else Bt.subtreeFlags&8772&&Nt!==null?(Nt.return=Bt,Gn=Nt):sm(st)}}function sm(st){for(;Gn!==null;){var lt=Gn;if(lt.flags&8772){var mt=lt.alternate;try{if(lt.flags&8772)switch(lt.tag){case 0:case 11:case 15:Ko||Cs(5,lt);break;case 1:var xt=lt.stateNode;if(lt.flags&4&&!Ko)if(mt===null)xt.componentDidMount();else{var Bt=lt.elementType===lt.type?mt.memoizedProps:yo(lt.type,mt.memoizedProps);xt.componentDidUpdate(Bt,mt.memoizedState,xt.__reactInternalSnapshotBeforeUpdate)}var Nt=lt.updateQueue;Nt!==null&&_h(lt,Nt,xt);break;case 3:var Zt=lt.updateQueue;if(Zt!==null){if(mt=null,lt.child!==null)switch(lt.child.tag){case 5:mt=Lt(lt.child.stateNode);break;case 1:mt=lt.child.stateNode}_h(lt,Zt,mt)}break;case 5:var an=lt.stateNode;mt===null&&lt.flags&4&&Qt(an,lt.type,lt.memoizedProps,lt);break;case 6:break;case 4:break;case 12:break;case 13:if(cn&&lt.memoizedState===null){var Sn=lt.alternate;if(Sn!==null){var kn=Sn.memoizedState;if(kn!==null){var Kn=kn.dehydrated;Kn!==null&&tr(Kn)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(tt(163))}Ko||lt.flags&512&&Eu(lt)}catch(ar){Zr(lt,lt.return,ar)}}if(lt===st){Gn=null;break}if(mt=lt.sibling,mt!==null){mt.return=lt.return,Gn=mt;break}Gn=lt.return}}function am(st){for(;Gn!==null;){var lt=Gn;if(lt===st){Gn=null;break}var mt=lt.sibling;if(mt!==null){mt.return=lt.return,Gn=mt;break}Gn=lt.return}}function lm(st){for(;Gn!==null;){var lt=Gn;try{switch(lt.tag){case 0:case 11:case 15:var mt=lt.return;try{Cs(4,lt)}catch(Sn){Zr(lt,mt,Sn)}break;case 1:var xt=lt.stateNode;if(typeof xt.componentDidMount=="function"){var Bt=lt.return;try{xt.componentDidMount()}catch(Sn){Zr(lt,Bt,Sn)}}var Nt=lt.return;try{Eu(lt)}catch(Sn){Zr(lt,Nt,Sn)}break;case 5:var Zt=lt.return;try{Eu(lt)}catch(Sn){Zr(lt,Zt,Sn)}}}catch(Sn){Zr(lt,lt.return,Sn)}if(lt===st){Gn=null;break}var an=lt.sibling;if(an!==null){an.return=lt.return,Gn=an;break}Gn=lt.return}}var Al=0,El=1,Sl=2,Cl=3,Ml=4;if(typeof Symbol=="function"&&Symbol.for){var Ms=Symbol.for;Al=Ms("selector.component"),El=Ms("selector.has_pseudo_class"),Sl=Ms("selector.role"),Cl=Ms("selector.test_id"),Ml=Ms("selector.text")}function Tu(st){var lt=pn(st);if(lt!=null){if(typeof lt.memoizedProps["data-testname"]!="string")throw Error(tt(364));return lt}if(st=Nn(st),st===null)throw Error(tt(362));return st.stateNode.current}function Bu(st,lt){switch(lt.$$typeof){case Al:if(st.type===lt.value)return!0;break;case El:e:{lt=lt.value,st=[st,0];for(var mt=0;mt<st.length;){var xt=st[mt++],Bt=st[mt++],Nt=lt[Bt];if(xt.tag!==5||!un(xt)){for(;Nt!=null&&Bu(xt,Nt);)Bt++,Nt=lt[Bt];if(Bt===lt.length){lt=!0;break e}else for(xt=xt.child;xt!==null;)st.push(xt,Bt),xt=xt.sibling}}lt=!1}return lt;case Sl:if(st.tag===5&&Tn(st.stateNode,lt.value))return!0;break;case Ml:if((st.tag===5||st.tag===6)&&(st=jt(st),st!==null&&0<=st.indexOf(lt.value)))return!0;break;case Cl:if(st.tag===5&&(st=st.memoizedProps["data-testname"],typeof st=="string"&&st.toLowerCase()===lt.value.toLowerCase()))return!0;break;default:throw Error(tt(365))}return!1}function Ru(st){switch(st.$$typeof){case Al:return"<"+(Pt(st.value)||"Unknown")+">";case El:return":has("+(Ru(st)||"")+")";case Sl:return'[role="'+st.value+'"]';case Ml:return'"'+st.value+'"';case Cl:return'[data-testname="'+st.value+'"]';default:throw Error(tt(365))}}function cm(st,lt){var mt=[];st=[st,0];for(var xt=0;xt<st.length;){var Bt=st[xt++],Nt=st[xt++],Zt=lt[Nt];if(Bt.tag!==5||!un(Bt)){for(;Zt!=null&&Bu(Bt,Zt);)Nt++,Zt=lt[Nt];if(Nt===lt.length)mt.push(Bt);else for(Bt=Bt.child;Bt!==null;)st.push(Bt,Nt),Bt=Bt.sibling}}return mt}function Pu(st,lt){if(!Un)throw Error(tt(363));st=Tu(st),st=cm(st,lt),lt=[],st=Array.from(st);for(var mt=0;mt<st.length;){var xt=st[mt++];if(xt.tag===5)un(xt)||lt.push(xt.stateNode);else for(xt=xt.child;xt!==null;)st.push(xt),xt=xt.sibling}return lt}var n0=Math.ceil,Tl=nt.ReactCurrentDispatcher,Iu=nt.ReactCurrentOwner,Rr=nt.ReactCurrentBatchConfig,fr=0,Ir=null,Dr=null,$r=0,io=0,cs=Gr(0),Lr=0,Ts=null,us=0,Rl=0,Du=0,Bs=null,Yr=null,Lu=0,ku=1/0;function fs(){ku=Nr()+500}var Pl=!1,Nu=null,Fo=null,Il=!1,Oo=null,Dl=0,Rs=0,Fu=null,Ll=-1,Nl=0;function Xr(){return fr&6?Nr():Ll!==-1?Ll:Ll=Nr()}function $o(st){return st.mode&1?fr&2&&$r!==0?$r&-$r:$m.transition!==null?(Nl===0&&(st=Ds,Ds<<=1,!(Ds&4194240)&&(Ds=64),Nl=st),Nl):(st=mr,st!==0?st:In()):1}function uo(st,lt,mt){if(50<Rs)throw Rs=0,Fu=null,Error(tt(185));var xt=Fl(st,lt);return xt===null?null:(hs(xt,lt,mt),(!(fr&2)||xt!==Ir)&&(xt===Ir&&(!(fr&2)&&(Rl|=lt),Lr===4&&Uo(xt,$r)),Qr(xt,mt),lt===1&&fr===0&&!(st.mode&1)&&(fs(),Fs&&wo())),xt)}function Fl(st,lt){st.lanes|=lt;var mt=st.alternate;for(mt!==null&&(mt.lanes|=lt),mt=st,st=st.return;st!==null;)st.childLanes|=lt,mt=st.alternate,mt!==null&&(mt.childLanes|=lt),mt=st,st=st.return;return mt.tag===3?mt.stateNode:null}function Qr(st,lt){var mt=st.callbackNode;Rm(st,lt);var xt=ks(st,st===Ir?$r:0);if(xt===0)mt!==null&&Yu(mt),st.callbackNode=null,st.callbackPriority=0;else if(lt=xt&-xt,st.callbackPriority!==lt){if(mt!=null&&Yu(mt),lt===1)st.tag===0?Om(fm.bind(null,st)):Qu(fm.bind(null,st)),Ln?Fn(function(){fr===0&&wo()}):Vl(Wl,wo),mt=null;else{switch(qu(xt)){case 1:mt=Wl;break;case 4:mt=Lm;break;case 16:mt=Kl;break;case 536870912:mt=km;break;default:mt=Kl}mt=_m(mt,um.bind(null,st))}st.callbackPriority=lt,st.callbackNode=mt}}function um(st,lt){if(Ll=-1,Nl=0,fr&6)throw Error(tt(327));var mt=st.callbackNode;if(Yo()&&st.callbackNode!==mt)return null;var xt=ks(st,st===Ir?$r:0);if(xt===0)return null;if(xt&30||xt&st.expiredLanes||lt)lt=Ol(st,xt);else{lt=xt;var Bt=fr;fr|=2;var Nt=pm();(Ir!==st||$r!==lt)&&(fs(),Xo(st,lt));do try{o0();break}catch(an){hm(st,an)}while(1);Yl(),Tl.current=Nt,fr=Bt,Dr!==null?lt=0:(Ir=null,$r=0,lt=Lr)}if(lt!==0){if(lt===2&&(Bt=Gl(st),Bt!==0&&(xt=Bt,lt=Ou(st,Bt))),lt===1)throw mt=Ts,Xo(st,0),Uo(st,xt),Qr(st,Nr()),mt;if(lt===6)Uo(st,xt);else{if(Bt=st.current.alternate,!(xt&30)&&!r0(Bt)&&(lt=Ol(st,xt),lt===2&&(Nt=Gl(st),Nt!==0&&(xt=Nt,lt=Ou(st,Nt))),lt===1))throw mt=Ts,Xo(st,0),Uo(st,xt),Qr(st,Nr()),mt;switch(st.finishedWork=Bt,st.finishedLanes=xt,lt){case 0:case 1:throw Error(tt(345));case 2:qo(st,Yr);break;case 3:if(Uo(st,xt),(xt&130023424)===xt&&(lt=Lu+500-Nr(),10<lt)){if(ks(st,0)!==0)break;if(Bt=st.suspendedLanes,(Bt&xt)!==xt){Xr(),st.pingedLanes|=st.suspendedLanes&Bt;break}st.timeoutHandle=on(qo.bind(null,st,Yr),lt);break}qo(st,Yr);break;case 4:if(Uo(st,xt),(xt&4194240)===xt)break;for(lt=st.eventTimes,Bt=-1;0<xt;){var Zt=31-go(xt);Nt=1<<Zt,Zt=lt[Zt],Zt>Bt&&(Bt=Zt),xt&=~Nt}if(xt=Bt,xt=Nr()-xt,xt=(120>xt?120:480>xt?480:1080>xt?1080:1920>xt?1920:3e3>xt?3e3:4320>xt?4320:1960*n0(xt/1960))-xt,10<xt){st.timeoutHandle=on(qo.bind(null,st,Yr),xt);break}qo(st,Yr);break;case 5:qo(st,Yr);break;default:throw Error(tt(329))}}}return Qr(st,Nr()),st.callbackNode===mt?um.bind(null,st):null}function Ou(st,lt){var mt=Bs;return st.current.memoizedState.isDehydrated&&(Xo(st,lt).flags|=256),st=Ol(st,lt),st!==2&&(lt=Yr,Yr=mt,lt!==null&&$u(lt)),st}function $u(st){Yr===null?Yr=st:Yr.push.apply(Yr,st)}function r0(st){for(var lt=st;;){if(lt.flags&16384){var mt=lt.updateQueue;if(mt!==null&&(mt=mt.stores,mt!==null))for(var xt=0;xt<mt.length;xt++){var Bt=mt[xt],Nt=Bt.getSnapshot;Bt=Bt.value;try{if(!bo(Nt(),Bt))return!1}catch{return!1}}}if(mt=lt.child,lt.subtreeFlags&16384&&mt!==null)mt.return=lt,lt=mt;else{if(lt===st)break;for(;lt.sibling===null;){if(lt.return===null||lt.return===st)return!0;lt=lt.return}lt.sibling.return=lt.return,lt=lt.sibling}}return!0}function Uo(st,lt){for(lt&=~Du,lt&=~Rl,st.suspendedLanes|=lt,st.pingedLanes&=~lt,st=st.expirationTimes;0<lt;){var mt=31-go(lt),xt=1<<mt;st[mt]=-1,lt&=~xt}}function fm(st){if(fr&6)throw Error(tt(327));Yo();var lt=ks(st,0);if(!(lt&1))return Qr(st,Nr()),null;var mt=Ol(st,lt);if(st.tag!==0&&mt===2){var xt=Gl(st);xt!==0&&(lt=xt,mt=Ou(st,xt))}if(mt===1)throw mt=Ts,Xo(st,0),Uo(st,lt),Qr(st,Nr()),mt;if(mt===6)throw Error(tt(345));return st.finishedWork=st.current.alternate,st.finishedLanes=lt,qo(st,Yr),Qr(st,Nr()),null}function dm(st){Oo!==null&&Oo.tag===0&&!(fr&6)&&Yo();var lt=fr;fr|=1;var mt=Rr.transition,xt=mr;try{if(Rr.transition=null,mr=1,st)return st()}finally{mr=xt,Rr.transition=mt,fr=lt,!(fr&6)&&wo()}}function Uu(){io=cs.current,rr(cs)}function Xo(st,lt){st.finishedWork=null,st.finishedLanes=0;var mt=st.timeoutHandle;if(mt!==dn&&(st.timeoutHandle=dn,sn(mt)),Dr!==null)for(mt=Dr.return;mt!==null;){var xt=mt;switch(ru(xt),xt.tag){case 1:xt=xt.type.childContextTypes,xt!=null&&Ps();break;case 3:as(),rr(kr),rr(pr),uu();break;case 5:lu(xt);break;case 4:as();break;case 13:rr(Tr);break;case 19:rr(Tr);break;case 10:Ql(xt.type._context);break;case 22:case 23:Uu()}mt=mt.return}if(Ir=st,Dr=st=Go(st.current,null),$r=io=lt,Lr=0,Ts=null,Du=Rl=us=0,Yr=Bs=null,Ao!==null){for(lt=0;lt<Ao.length;lt++)if(mt=Ao[lt],xt=mt.interleaved,xt!==null){mt.interleaved=null;var Bt=xt.next,Nt=mt.pending;if(Nt!==null){var Zt=Nt.next;Nt.next=Bt,xt.next=Zt}mt.pending=xt}Ao=null}return st}function hm(st,lt){do{var mt=Dr;try{if(Yl(),Js.current=na,Xs){for(var xt=Br.memoizedState;xt!==null;){var Bt=xt.queue;Bt!==null&&(Bt.pending=null),xt=xt.next}Xs=!1}if(ls=0,Fr=Hr=Br=null,xs=!1,_s=0,Iu.current=null,mt===null||mt.return===null){Lr=1,Ts=lt,Dr=null;break}e:{var Nt=st,Zt=mt.return,an=mt,Sn=lt;if(lt=$r,an.flags|=32768,Sn!==null&&typeof Sn=="object"&&typeof Sn.then=="function"){var kn=Sn,Kn=an,ar=Kn.tag;if(!(Kn.mode&1)&&(ar===0||ar===11||ar===15)){var Zn=Kn.alternate;Zn?(Kn.updateQueue=Zn.updateQueue,Kn.memoizedState=Zn.memoizedState,Kn.lanes=Zn.lanes):(Kn.updateQueue=null,Kn.memoizedState=null)}var Ar=Dp(Zt);if(Ar!==null){Ar.flags&=-257,Lp(Ar,Zt,an,Nt,lt),Ar.mode&1&&Ip(Nt,kn,lt),lt=Ar,Sn=kn;var qn=lt.updateQueue;if(qn===null){var jr=new Set;jr.add(Sn),lt.updateQueue=jr}else qn.add(Sn);break e}else{if(!(lt&1)){Ip(Nt,kn,lt),Gu();break e}Sn=Error(tt(426))}}else if(Mr&&an.mode&1){var ho=Dp(Zt);if(ho!==null){!(ho.flags&65536)&&(ho.flags|=256),Lp(ho,Zt,an,Nt,lt),su(Sn);break e}}Nt=Sn,Lr!==4&&(Lr=2),Bs===null?Bs=[Nt]:Bs.push(Nt),Sn=yu(Sn,an),an=Zt;do{switch(an.tag){case 3:an.flags|=65536,lt&=-lt,an.lanes|=lt;var yn=Rp(an,Sn,lt);_d(an,yn);break e;case 1:Nt=Sn;var hn=an.type,An=an.stateNode;if(!(an.flags&128)&&(typeof hn.getDerivedStateFromError=="function"||An!==null&&typeof An.componentDidCatch=="function"&&(Fo===null||!Fo.has(An)))){an.flags|=65536,lt&=-lt,an.lanes|=lt;var zn=Pp(an,Nt,lt);_d(an,zn);break e}}an=an.return}while(an!==null)}gm(mt)}catch(Xn){lt=Xn,Dr===mt&&mt!==null&&(Dr=mt=mt.return);continue}break}while(1)}function pm(){var st=Tl.current;return Tl.current=na,st===null?na:st}function Gu(){(Lr===0||Lr===3||Lr===2)&&(Lr=4),Ir===null||!(us&268435455)&&!(Rl&268435455)||Uo(Ir,$r)}function Ol(st,lt){var mt=fr;fr|=2;var xt=pm();Ir===st&&$r===lt||Xo(st,lt);do try{i0();break}catch(Bt){hm(st,Bt)}while(1);if(Yl(),fr=mt,Tl.current=xt,Dr!==null)throw Error(tt(261));return Ir=null,$r=0,Lr}function i0(){for(;Dr!==null;)mm(Dr)}function o0(){for(;Dr!==null&&!Im();)mm(Dr)}function mm(st){var lt=xm(st.alternate,st,io);st.memoizedProps=st.pendingProps,lt===null?gm(st):Dr=lt,Iu.current=null}function gm(st){var lt=st;do{var mt=lt.alternate;if(st=lt.return,lt.flags&32768){if(mt=Qm(mt,lt),mt!==null){mt.flags&=32767,Dr=mt;return}if(st!==null)st.flags|=32768,st.subtreeFlags=0,st.deletions=null;else{Lr=6,Dr=null;return}}else if(mt=Xm(mt,lt,io),mt!==null){Dr=mt;return}if(lt=lt.sibling,lt!==null){Dr=lt;return}Dr=lt=st}while(lt!==null);Lr===0&&(Lr=5)}function qo(st,lt){var mt=mr,xt=Rr.transition;try{Rr.transition=null,mr=1,s0(st,lt,mt)}finally{Rr.transition=xt,mr=mt}return null}function s0(st,lt,mt){do Yo();while(Oo!==null);if(fr&6)throw Error(tt(327));var xt=st.finishedWork,Bt=st.finishedLanes;if(xt===null)return null;if(st.finishedWork=null,st.finishedLanes=0,xt===st.current)throw Error(tt(177));st.callbackNode=null,st.callbackPriority=0;var Nt=xt.lanes|xt.childLanes;if(Pm(st,Nt),st===Ir&&(Dr=Ir=null,$r=0),!(xt.subtreeFlags&2064)&&!(xt.flags&2064)||Il||(Il=!0,_m(Kl,function(){return Yo(),null})),Nt=(xt.flags&15990)!==0,xt.subtreeFlags&15990||Nt){Nt=Rr.transition,Rr.transition=null;var Zt=mr;mr=1;var an=fr;fr|=4,Iu.current=null,_g(st,xt),e0(st,xt),Gt(st.containerInfo),st.current=xt,t0(xt),Dm(),fr=an,mr=Zt,Rr.transition=Nt}else st.current=xt;if(Il&&(Il=!1,Oo=st,Dl=Bt),Nt=st.pendingLanes,Nt===0&&(Fo=null),Nm(xt.stateNode),Qr(st,Nr()),lt!==null)for(mt=st.onRecoverableError,xt=0;xt<lt.length;xt++)mt(lt[xt]);if(Pl)throw Pl=!1,st=Nu,Nu=null,st;return Dl&1&&st.tag!==0&&Yo(),Nt=st.pendingLanes,Nt&1?st===Fu?Rs++:(Rs=0,Fu=st):Rs=0,wo(),null}function Yo(){if(Oo!==null){var st=qu(Dl),lt=Rr.transition,mt=mr;try{if(Rr.transition=null,mr=16>st?16:st,Oo===null)var xt=!1;else{if(st=Oo,Oo=null,Dl=0,fr&6)throw Error(tt(331));var Bt=fr;for(fr|=4,Gn=st.current;Gn!==null;){var Nt=Gn,Zt=Nt.child;if(Gn.flags&16){var an=Nt.deletions;if(an!==null){for(var Sn=0;Sn<an.length;Sn++){var kn=an[Sn];for(Gn=kn;Gn!==null;){var Kn=Gn;switch(Kn.tag){case 0:case 11:case 15:Jo(8,Kn,Nt)}var ar=Kn.child;if(ar!==null)ar.return=Kn,Gn=ar;else for(;Gn!==null;){Kn=Gn;var Zn=Kn.sibling,Ar=Kn.return;if(em(Kn),Kn===kn){Gn=null;break}if(Zn!==null){Zn.return=Ar,Gn=Zn;break}Gn=Ar}}}var qn=Nt.alternate;if(qn!==null){var jr=qn.child;if(jr!==null){qn.child=null;do{var ho=jr.sibling;jr.sibling=null,jr=ho}while(jr!==null)}}Gn=Nt}}if(Nt.subtreeFlags&2064&&Zt!==null)Zt.return=Nt,Gn=Zt;else e:for(;Gn!==null;){if(Nt=Gn,Nt.flags&2048)switch(Nt.tag){case 0:case 11:case 15:Jo(9,Nt,Nt.return)}var yn=Nt.sibling;if(yn!==null){yn.return=Nt.return,Gn=yn;break e}Gn=Nt.return}}var hn=st.current;for(Gn=hn;Gn!==null;){Zt=Gn;var An=Zt.child;if(Zt.subtreeFlags&2064&&An!==null)An.return=Zt,Gn=An;else e:for(Zt=hn;Gn!==null;){if(an=Gn,an.flags&2048)try{switch(an.tag){case 0:case 11:case 15:Cs(9,an)}}catch(Xn){Zr(an,an.return,Xn)}if(an===Zt){Gn=null;break e}var zn=an.sibling;if(zn!==null){zn.return=an.return,Gn=zn;break e}Gn=an.return}}if(fr=Bt,wo(),_o&&typeof _o.onPostCommitFiberRoot=="function")try{_o.onPostCommitFiberRoot(Ns,st)}catch{}xt=!0}return xt}finally{mr=mt,Rr.transition=lt}}return!1}function ym(st,lt,mt){lt=yu(mt,lt),lt=Rp(st,lt,1),No(st,lt),lt=Xr(),st=Fl(st,1),st!==null&&(hs(st,1,lt),Qr(st,lt))}function Zr(st,lt,mt){if(st.tag===3)ym(st,st,mt);else for(;lt!==null;){if(lt.tag===3){ym(lt,st,mt);break}else if(lt.tag===1){var xt=lt.stateNode;if(typeof lt.type.getDerivedStateFromError=="function"||typeof xt.componentDidCatch=="function"&&(Fo===null||!Fo.has(xt))){st=yu(mt,st),st=Pp(lt,st,1),No(lt,st),st=Xr(),lt=Fl(lt,1),lt!==null&&(hs(lt,1,st),Qr(lt,st));break}}lt=lt.return}}function a0(st,lt,mt){var xt=st.pingCache;xt!==null&&xt.delete(lt),lt=Xr(),st.pingedLanes|=st.suspendedLanes&mt,Ir===st&&($r&mt)===mt&&(Lr===4||Lr===3&&($r&130023424)===$r&&500>Nr()-Lu?Xo(st,0):Du|=mt),Qr(st,lt)}function vm(st,lt){lt===0&&(st.mode&1?(lt=Ls,Ls<<=1,!(Ls&130023424)&&(Ls=4194304)):lt=1);var mt=Xr();st=Fl(st,lt),st!==null&&(hs(st,lt,mt),Qr(st,mt))}function l0(st){var lt=st.memoizedState,mt=0;lt!==null&&(mt=lt.retryLane),vm(st,mt)}function c0(st,lt){var mt=0;switch(st.tag){case 13:var xt=st.stateNode,Bt=st.memoizedState;Bt!==null&&(mt=Bt.retryLane);break;case 19:xt=st.stateNode;break;default:throw Error(tt(314))}xt!==null&&xt.delete(lt),vm(st,mt)}var xm;xm=function(st,lt,mt){if(st!==null)if(st.memoizedProps!==lt.pendingProps||kr.current)ro=!0;else{if(!(st.lanes&mt)&&!(lt.flags&128))return ro=!1,Ym(st,lt,mt);ro=!!(st.flags&131072)}else ro=!1,Mr&&lt.flags&1048576&&ip(lt,Ws,lt.index);switch(lt.lanes=0,lt.tag){case 2:var xt=lt.type;st!==null&&(st.alternate=null,lt.alternate=null,lt.flags|=2),st=lt.pendingProps;var Bt=To(lt,pr.current);es(lt,mt),Bt=du(null,lt,xt,st,Bt,mt);var Nt=hu();return lt.flags|=1,typeof Bt=="object"&&Bt!==null&&typeof Bt.render=="function"&&Bt.$$typeof===void 0?(lt.tag=1,lt.memoizedState=null,lt.updateQueue=null,qr(xt)?(Nt=!0,Is(lt)):Nt=!1,lt.memoizedState=Bt.state!==null&&Bt.state!==void 0?Bt.state:null,_c(lt),Bt.updater=Hs,lt.stateNode=Bt,Bt._reactInternals=lt,tu(lt,xt,st,mt),lt=_u(null,lt,xt,!0,Nt,mt)):(lt.tag=0,Mr&&Nt&&nu(lt),Jr(null,lt,Bt,mt),lt=lt.child),lt;case 16:xt=lt.elementType;e:{switch(st!==null&&(st.alternate=null,lt.alternate=null,lt.flags|=2),st=lt.pendingProps,Bt=xt._init,xt=Bt(xt._payload),lt.type=xt,Bt=lt.tag=f0(xt),st=yo(xt,st),Bt){case 0:lt=xu(null,lt,xt,st,mt);break e;case 1:lt=Hp(null,lt,xt,st,mt);break e;case 11:lt=Fp(null,lt,xt,st,mt);break e;case 14:lt=$p(null,lt,xt,yo(xt.type,st),mt);break e}throw Error(tt(306,xt,""))}return lt;case 0:return xt=lt.type,Bt=lt.pendingProps,Bt=lt.elementType===xt?Bt:yo(xt,Bt),xu(st,lt,xt,Bt,mt);case 1:return xt=lt.type,Bt=lt.pendingProps,Bt=lt.elementType===xt?Bt:yo(xt,Bt),Hp(st,lt,xt,Bt,mt);case 3:e:{if(Vp(lt),st===null)throw Error(tt(387));xt=lt.pendingProps,Nt=lt.memoizedState,Bt=Nt.element,_f(st,lt),zs(lt,xt,null,mt);var Zt=lt.memoizedState;if(xt=Zt.element,cn&&Nt.isDehydrated)if(Nt={element:xt,isDehydrated:!1,cache:Zt.cache,transitions:Zt.transitions},lt.updateQueue.baseState=Nt,lt.memoizedState=Nt,lt.flags&256){Bt=Error(tt(423)),lt=Wp(st,lt,xt,mt,Bt);break e}else if(xt!==Bt){Bt=Error(tt(424)),lt=Wp(st,lt,xt,mt,Bt);break e}else for(cn&&(no=gn(lt.stateNode.containerInfo),to=lt,Mr=!0,vo=null,ps=!1),mt=up(lt,null,xt,mt),lt.child=mt;mt;)mt.flags=mt.flags&-3|4096,mt=mt.sibling;else{if(rs(),xt===Bt){lt=Lo(st,lt,mt);break e}Jr(st,lt,xt,mt)}lt=lt.child}return lt;case 5:return fp(lt),st===null&&ou(lt),xt=lt.type,Bt=lt.pendingProps,Nt=st!==null?st.memoizedProps:null,Zt=Bt.children,Dt(xt,Bt)?Zt=null:Nt!==null&&Dt(xt,Nt)&&(lt.flags|=32),zp(st,lt),Jr(st,lt,Zt,mt),lt.child;case 6:return st===null&&ou(lt),null;case 13:return jp(st,lt,mt);case 4:return au(lt,lt.stateNode.containerInfo),xt=lt.pendingProps,st===null?lt.child=os(lt,null,xt,mt):Jr(st,lt,xt,mt),lt.child;case 11:return xt=lt.type,Bt=lt.pendingProps,Bt=lt.elementType===xt?Bt:yo(xt,Bt),Fp(st,lt,xt,Bt,mt);case 7:return Jr(st,lt,lt.pendingProps,mt),lt.child;case 8:return Jr(st,lt,lt.pendingProps.children,mt),lt.child;case 12:return Jr(st,lt,lt.pendingProps.children,mt),lt.child;case 10:e:{if(xt=lt.type._context,Bt=lt.pendingProps,Nt=lt.memoizedProps,Zt=Bt.value,Zu(lt,xt,Zt),Nt!==null)if(bo(Nt.value,Zt)){if(Nt.children===Bt.children&&!kr.current){lt=Lo(st,lt,mt);break e}}else for(Nt=lt.child,Nt!==null&&(Nt.return=lt);Nt!==null;){var an=Nt.dependencies;if(an!==null){Zt=Nt.child;for(var Sn=an.firstContext;Sn!==null;){if(Sn.context===xt){if(Nt.tag===1){Sn=Ro(-1,mt&-mt),Sn.tag=2;var kn=Nt.updateQueue;if(kn!==null){kn=kn.shared;var Kn=kn.pending;Kn===null?Sn.next=Sn:(Sn.next=Kn.next,Kn.next=Sn),kn.pending=Sn}}Nt.lanes|=mt,Sn=Nt.alternate,Sn!==null&&(Sn.lanes|=mt),Zl(Nt.return,mt,lt),an.lanes|=mt;break}Sn=Sn.next}}else if(Nt.tag===10)Zt=Nt.type===lt.type?null:Nt.child;else if(Nt.tag===18){if(Zt=Nt.return,Zt===null)throw Error(tt(341));Zt.lanes|=mt,an=Zt.alternate,an!==null&&(an.lanes|=mt),Zl(Zt,mt,lt),Zt=Nt.sibling}else Zt=Nt.child;if(Zt!==null)Zt.return=Nt;else for(Zt=Nt;Zt!==null;){if(Zt===lt){Zt=null;break}if(Nt=Zt.sibling,Nt!==null){Nt.return=Zt.return,Zt=Nt;break}Zt=Zt.return}Nt=Zt}Jr(st,lt,Bt.children,mt),lt=lt.child}return lt;case 9:return Bt=lt.type,xt=lt.pendingProps.children,es(lt,mt),Bt=oo(Bt),xt=xt(Bt),lt.flags|=1,Jr(st,lt,xt,mt),lt.child;case 14:return xt=lt.type,Bt=yo(xt,lt.pendingProps),Bt=yo(xt.type,Bt),$p(st,lt,xt,Bt,mt);case 15:return Up(st,lt,lt.type,lt.pendingProps,mt);case 17:return xt=lt.type,Bt=lt.pendingProps,Bt=lt.elementType===xt?Bt:yo(xt,Bt),st!==null&&(st.alternate=null,lt.alternate=null,lt.flags|=2),lt.tag=1,qr(xt)?(st=!0,Is(lt)):st=!1,es(lt,mt),np(lt,xt,Bt),tu(lt,xt,Bt,mt),_u(null,lt,xt,!0,st,mt);case 19:return qp(st,lt,mt);case 22:return Gp(st,lt,mt)}throw Error(tt(156,lt.tag))};function _m(st,lt){return Vl(st,lt)}function u0(st,lt,mt,xt){this.tag=st,this.key=mt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=lt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=xt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fo(st,lt,mt,xt){return new u0(st,lt,mt,xt)}function zu(st){return st=st.prototype,!(!st||!st.isReactComponent)}function f0(st){if(typeof st=="function")return zu(st)?1:0;if(st!=null){if(st=st.$$typeof,st===ft)return 11;if(st===yt)return 14}return 2}function Go(st,lt){var mt=st.alternate;return mt===null?(mt=fo(st.tag,lt,st.key,st.mode),mt.elementType=st.elementType,mt.type=st.type,mt.stateNode=st.stateNode,mt.alternate=st,st.alternate=mt):(mt.pendingProps=lt,mt.type=st.type,mt.flags=0,mt.subtreeFlags=0,mt.deletions=null),mt.flags=st.flags&14680064,mt.childLanes=st.childLanes,mt.lanes=st.lanes,mt.child=st.child,mt.memoizedProps=st.memoizedProps,mt.memoizedState=st.memoizedState,mt.updateQueue=st.updateQueue,lt=st.dependencies,mt.dependencies=lt===null?null:{lanes:lt.lanes,firstContext:lt.firstContext},mt.sibling=st.sibling,mt.index=st.index,mt.ref=st.ref,mt}function $l(st,lt,mt,xt,Bt,Nt){var Zt=2;if(xt=st,typeof st=="function")zu(st)&&(Zt=1);else if(typeof st=="string")Zt=5;else e:switch(st){case ot:return Qo(mt.children,Bt,Nt,lt);case at:Zt=8,Bt|=8;break;case ct:return st=fo(12,mt,lt,Bt|2),st.elementType=ct,st.lanes=Nt,st;case ht:return st=fo(13,mt,lt,Bt),st.elementType=ht,st.lanes=Nt,st;case pt:return st=fo(19,mt,lt,Bt),st.elementType=pt,st.lanes=Nt,st;case bt:return Ul(mt,Bt,Nt,lt);default:if(typeof st=="object"&&st!==null)switch(st.$$typeof){case ut:Zt=10;break e;case dt:Zt=9;break e;case ft:Zt=11;break e;case yt:Zt=14;break e;case gt:Zt=16,xt=null;break e}throw Error(tt(130,st==null?st:typeof st,""))}return lt=fo(Zt,mt,lt,Bt),lt.elementType=st,lt.type=xt,lt.lanes=Nt,lt}function Qo(st,lt,mt,xt){return st=fo(7,st,xt,lt),st.lanes=mt,st}function Ul(st,lt,mt,xt){return st=fo(22,st,xt,lt),st.elementType=bt,st.lanes=mt,st.stateNode={},st}function Hu(st,lt,mt){return st=fo(6,st,null,lt),st.lanes=mt,st}function Vu(st,lt,mt){return lt=fo(4,st.children!==null?st.children:[],st.key,lt),lt.lanes=mt,lt.stateNode={containerInfo:st.containerInfo,pendingChildren:null,implementation:st.implementation},lt}function d0(st,lt,mt,xt,Bt){this.tag=lt,this.containerInfo=st,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=dn,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zl(0),this.expirationTimes=zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.identifierPrefix=xt,this.onRecoverableError=Bt,cn&&(this.mutableSourceEagerHydrationData=null)}function bm(st,lt,mt,xt,Bt,Nt,Zt,an,Sn){return st=new d0(st,lt,mt,an,Sn),lt===1?(lt=1,Nt===!0&&(lt|=8)):lt=0,Nt=fo(3,null,null,lt),st.current=Nt,Nt.stateNode=st,Nt.memoizedState={element:xt,isDehydrated:mt,cache:null,transitions:null},_c(Nt),st}function wm(st){if(!st)return zr;st=st._reactInternals;e:{if(It(st)!==st||st.tag!==1)throw Error(tt(170));var lt=st;do{switch(lt.tag){case 3:lt=lt.stateNode.context;break e;case 1:if(qr(lt.type)){lt=lt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}lt=lt.return}while(lt!==null);throw Error(tt(171))}if(st.tag===1){var mt=st.type;if(qr(mt))return Ju(st,mt,lt)}return lt}function Am(st){var lt=st._reactInternals;if(lt===void 0)throw typeof st.render=="function"?Error(tt(188)):(st=Object.keys(st).join(","),Error(tt(268,st)));return st=en(lt),st===null?null:st.stateNode}function Em(st,lt){if(st=st.memoizedState,st!==null&&st.dehydrated!==null){var mt=st.retryLane;st.retryLane=mt!==0&&mt<lt?mt:lt}}function Wu(st,lt){Em(st,lt),(st=st.alternate)&&Em(st,lt)}function h0(st){return st=en(st),st===null?null:st.stateNode}function p0(){return null}return a.attemptContinuousHydration=function(st){if(st.tag===13){var lt=Xr();uo(st,134217728,lt),Wu(st,134217728)}},a.attemptHydrationAtCurrentPriority=function(st){if(st.tag===13){var lt=Xr(),mt=$o(st);uo(st,mt,lt),Wu(st,mt)}},a.attemptSynchronousHydration=function(st){switch(st.tag){case 3:var lt=st.stateNode;if(lt.current.memoizedState.isDehydrated){var mt=ds(lt.pendingLanes);mt!==0&&(Hl(lt,mt|1),Qr(lt,Nr()),!(fr&6)&&(fs(),wo()))}break;case 13:var xt=Xr();dm(function(){return uo(st,1,xt)}),Wu(st,1)}},a.batchedUpdates=function(st,lt){var mt=fr;fr|=1;try{return st(lt)}finally{fr=mt,fr===0&&(fs(),Fs&&wo())}},a.createComponentSelector=function(st){return{$$typeof:Al,value:st}},a.createContainer=function(st,lt,mt,xt,Bt,Nt,Zt){return bm(st,lt,!1,null,mt,xt,Bt,Nt,Zt)},a.createHasPseudoClassSelector=function(st){return{$$typeof:El,value:st}},a.createHydrationContainer=function(st,lt,mt,xt,Bt,Nt,Zt,an,Sn){return st=bm(mt,xt,!0,st,Bt,Nt,Zt,an,Sn),st.context=wm(null),mt=st.current,xt=Xr(),Bt=$o(mt),Nt=Ro(xt,Bt),Nt.callback=lt??null,No(mt,Nt),st.current.lanes=Bt,hs(st,Bt,xt),Qr(st,xt),st},a.createPortal=function(st,lt,mt){var xt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:it,key:xt==null?null:""+xt,children:st,containerInfo:lt,implementation:mt}},a.createRoleSelector=function(st){return{$$typeof:Sl,value:st}},a.createTestNameSelector=function(st){return{$$typeof:Cl,value:st}},a.createTextSelector=function(st){return{$$typeof:Ml,value:st}},a.deferredUpdates=function(st){var lt=mr,mt=Rr.transition;try{return Rr.transition=null,mr=16,st()}finally{mr=lt,Rr.transition=mt}},a.discreteUpdates=function(st,lt,mt,xt,Bt){var Nt=mr,Zt=Rr.transition;try{return Rr.transition=null,mr=1,st(lt,mt,xt,Bt)}finally{mr=Nt,Rr.transition=Zt,fr===0&&fs()}},a.findAllNodes=Pu,a.findBoundingRects=function(st,lt){if(!Un)throw Error(tt(363));lt=Pu(st,lt),st=[];for(var mt=0;mt<lt.length;mt++)st.push(Xt(lt[mt]));for(lt=st.length-1;0<lt;lt--){mt=st[lt];for(var xt=mt.x,Bt=xt+mt.width,Nt=mt.y,Zt=Nt+mt.height,an=lt-1;0<=an;an--)if(lt!==an){var Sn=st[an],kn=Sn.x,Kn=kn+Sn.width,ar=Sn.y,Zn=ar+Sn.height;if(xt>=kn&&Nt>=ar&&Bt<=Kn&&Zt<=Zn){st.splice(lt,1);break}else if(xt!==kn||mt.width!==Sn.width||Zn<Nt||ar>Zt){if(!(Nt!==ar||mt.height!==Sn.height||Kn<xt||kn>Bt)){kn>xt&&(Sn.width+=kn-xt,Sn.x=xt),Kn<Bt&&(Sn.width=Bt-kn),st.splice(lt,1);break}}else{ar>Nt&&(Sn.height+=ar-Nt,Sn.y=Nt),Zn<Zt&&(Sn.height=Zt-ar),st.splice(lt,1);break}}}return st},a.findHostInstance=Am,a.findHostInstanceWithNoPortals=function(st){return st=Kt(st),st=st!==null?vt(st):null,st===null?null:st.stateNode},a.findHostInstanceWithWarning=function(st){return Am(st)},a.flushControlled=function(st){var lt=fr;fr|=1;var mt=Rr.transition,xt=mr;try{Rr.transition=null,mr=1,st()}finally{mr=xt,Rr.transition=mt,fr=lt,fr===0&&(fs(),wo())}},a.flushPassiveEffects=Yo,a.flushSync=dm,a.focusWithin=function(st,lt){if(!Un)throw Error(tt(363));for(st=Tu(st),lt=cm(st,lt),lt=Array.from(lt),st=0;st<lt.length;){var mt=lt[st++];if(!un(mt)){if(mt.tag===5&&Bn(mt.stateNode))return!0;for(mt=mt.child;mt!==null;)lt.push(mt),mt=mt.sibling}}return!1},a.getCurrentUpdatePriority=function(){return mr},a.getFindAllNodesFailureDescription=function(st,lt){if(!Un)throw Error(tt(363));var mt=0,xt=[];st=[Tu(st),0];for(var Bt=0;Bt<st.length;){var Nt=st[Bt++],Zt=st[Bt++],an=lt[Zt];if((Nt.tag!==5||!un(Nt))&&(Bu(Nt,an)&&(xt.push(Ru(an)),Zt++,Zt>mt&&(mt=Zt)),Zt<lt.length))for(Nt=Nt.child;Nt!==null;)st.push(Nt,Zt),Nt=Nt.sibling}if(mt<lt.length){for(st=[];mt<lt.length;mt++)st.push(Ru(lt[mt]));return`findAllNodes was able to match part of the selector:
  `+(xt.join(" > ")+`

No matching component was found for:
  `)+st.join(" > ")}return null},a.getPublicRootInstance=function(st){if(st=st.current,!st.child)return null;switch(st.child.tag){case 5:return Lt(st.child.stateNode);default:return st.child.stateNode}},a.injectIntoDevTools=function(st){if(st={bundleType:st.bundleType,version:st.version,rendererPackageName:st.rendererPackageName,rendererConfig:st.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nt.ReactCurrentDispatcher,findHostInstanceByFiber:h0,findFiberByHostInstance:st.findFiberByHostInstance||p0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")st=!1;else{var lt=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(lt.isDisabled||!lt.supportsFiber)st=!0;else{try{Ns=lt.inject(st),_o=lt}catch{}st=!!lt.checkDCE}}return st},a.isAlreadyRendering=function(){return!1},a.observeVisibleRects=function(st,lt,mt,xt){if(!Un)throw Error(tt(363));st=Pu(st,lt);var Bt=Ot(st,mt,xt).disconnect;return{disconnect:function(){Bt()}}},a.registerMutableSourceForHydration=function(st,lt){var mt=lt._getVersion;mt=mt(lt._source),st.mutableSourceEagerHydrationData==null?st.mutableSourceEagerHydrationData=[lt,mt]:st.mutableSourceEagerHydrationData.push(lt,mt)},a.runWithPriority=function(st,lt){var mt=mr;try{return mr=st,lt()}finally{mr=mt}},a.shouldError=function(){return null},a.shouldSuspend=function(){return!1},a.updateContainer=function(st,lt,mt,xt){var Bt=lt.current,Nt=Xr(),Zt=$o(Bt);return mt=wm(mt),lt.context===null?lt.context=mt:lt.pendingContext=mt,lt=Ro(Nt,Zt),lt.payload={element:st},xt=xt===void 0?null:xt,xt!==null&&(lt.callback=xt),No(Bt,lt),st=uo(Bt,Zt,Nt),st!==null&&Gs(st,Bt,Zt),Zt},a};(function($){$.exports=reactReconciler_production_min})(reactReconciler);const Reconciler=getDefaultExportFromCjs(reactReconcilerExports);var schedulerExports={},scheduler={get exports(){return schedulerExports},set exports($){schedulerExports=$}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function($){function o(Rt,$t){var Gt=Rt.length;Rt.push($t);e:for(;0<Gt;){var Ft=Gt-1>>>1,wt=Rt[Ft];if(0<_e(wt,$t))Rt[Ft]=$t,Rt[Gt]=wt,Gt=Ft;else break e}}function a(Rt){return Rt.length===0?null:Rt[0]}function j(Rt){if(Rt.length===0)return null;var $t=Rt[0],Gt=Rt.pop();if(Gt!==$t){Rt[0]=Gt;e:for(var Ft=0,wt=Rt.length,Ht=wt>>>1;Ft<Ht;){var nn=2*(Ft+1)-1,Dt=Rt[nn],Jt=nn+1,on=Rt[Jt];if(0>_e(Dt,Gt))Jt<wt&&0>_e(on,Dt)?(Rt[Ft]=on,Rt[Jt]=Gt,Ft=Jt):(Rt[Ft]=Dt,Rt[nn]=Gt,Ft=nn);else if(Jt<wt&&0>_e(on,Gt))Rt[Ft]=on,Rt[Jt]=Gt,Ft=Jt;else break e}}return $t}function _e(Rt,$t){var Gt=Rt.sortIndex-$t.sortIndex;return Gt!==0?Gt:Rt.id-$t.id}if(typeof performance=="object"&&typeof performance.now=="function"){var et=performance;$.unstable_now=function(){return et.now()}}else{var tt=Date,nt=tt.now();$.unstable_now=function(){return tt.now()-nt}}var rt=[],it=[],ot=1,at=null,ct=3,ut=!1,dt=!1,ft=!1,ht=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function gt(Rt){for(var $t=a(it);$t!==null;){if($t.callback===null)j(it);else if($t.startTime<=Rt)j(it),$t.sortIndex=$t.expirationTime,o(rt,$t);else break;$t=a(it)}}function bt(Rt){if(ft=!1,gt(Rt),!dt)if(a(rt)!==null)dt=!0,Lt(At);else{var $t=a(it);$t!==null&&zt(bt,$t.startTime-Rt)}}function At(Rt,$t){dt=!1,ft&&(ft=!1,pt(Ct),Ct=-1),ut=!0;var Gt=ct;try{for(gt($t),at=a(rt);at!==null&&(!(at.expirationTime>$t)||Rt&&!Kt());){var Ft=at.callback;if(typeof Ft=="function"){at.callback=null,ct=at.priorityLevel;var wt=Ft(at.expirationTime<=$t);$t=$.unstable_now(),typeof wt=="function"?at.callback=wt:at===a(rt)&&j(rt),gt($t)}else j(rt);at=a(rt)}if(at!==null)var Ht=!0;else{var nn=a(it);nn!==null&&zt(bt,nn.startTime-$t),Ht=!1}return Ht}finally{at=null,ct=Gt,ut=!1}}var Tt=!1,Pt=null,Ct=-1,It=5,Vt=-1;function Kt(){return!($.unstable_now()-Vt<It)}function en(){if(Pt!==null){var Rt=$.unstable_now();Vt=Rt;var $t=!0;try{$t=Pt(!0,Rt)}finally{$t?kt():(Tt=!1,Pt=null)}}else Tt=!1}var kt;if(typeof yt=="function")kt=function(){yt(en)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,St=vt.port2;vt.port1.onmessage=en,kt=function(){St.postMessage(null)}}else kt=function(){ht(en,0)};function Lt(Rt){Pt=Rt,Tt||(Tt=!0,kt())}function zt(Rt,$t){Ct=ht(function(){Rt($.unstable_now())},$t)}$.unstable_IdlePriority=5,$.unstable_ImmediatePriority=1,$.unstable_LowPriority=4,$.unstable_NormalPriority=3,$.unstable_Profiling=null,$.unstable_UserBlockingPriority=2,$.unstable_cancelCallback=function(Rt){Rt.callback=null},$.unstable_continueExecution=function(){dt||ut||(dt=!0,Lt(At))},$.unstable_forceFrameRate=function(Rt){0>Rt||125<Rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):It=0<Rt?Math.floor(1e3/Rt):5},$.unstable_getCurrentPriorityLevel=function(){return ct},$.unstable_getFirstCallbackNode=function(){return a(rt)},$.unstable_next=function(Rt){switch(ct){case 1:case 2:case 3:var $t=3;break;default:$t=ct}var Gt=ct;ct=$t;try{return Rt()}finally{ct=Gt}},$.unstable_pauseExecution=function(){},$.unstable_requestPaint=function(){},$.unstable_runWithPriority=function(Rt,$t){switch(Rt){case 1:case 2:case 3:case 4:case 5:break;default:Rt=3}var Gt=ct;ct=Rt;try{return $t()}finally{ct=Gt}},$.unstable_scheduleCallback=function(Rt,$t,Gt){var Ft=$.unstable_now();switch(typeof Gt=="object"&&Gt!==null?(Gt=Gt.delay,Gt=typeof Gt=="number"&&0<Gt?Ft+Gt:Ft):Gt=Ft,Rt){case 1:var wt=-1;break;case 2:wt=250;break;case 5:wt=1073741823;break;case 4:wt=1e4;break;default:wt=5e3}return wt=Gt+wt,Rt={id:ot++,callback:$t,priorityLevel:Rt,startTime:Gt,expirationTime:wt,sortIndex:-1},Gt>Ft?(Rt.sortIndex=Gt,o(it,Rt),a(rt)===null&&Rt===a(it)&&(ft?(pt(Ct),Ct=-1):ft=!0,zt(bt,Gt-Ft))):(Rt.sortIndex=wt,o(rt,Rt),dt||ut||(dt=!0,Lt(At))),Rt},$.unstable_shouldYield=Kt,$.unstable_wrapCallback=function(Rt){var $t=ct;return function(){var Gt=ct;ct=$t;try{return Rt.apply(this,arguments)}finally{ct=Gt}}}})(scheduler_production_min);(function($){$.exports=scheduler_production_min})(scheduler);function shallowEqualArrays($,o,a=(j,_e)=>j===_e){if($===o)return!0;if(!$||!o)return!1;const j=$.length;if(o.length!==j)return!1;for(let _e=0;_e<j;_e++)if(!a($[_e],o[_e]))return!1;return!0}const globalCache=[];function query($,o,a=!1,j={}){for(const et of globalCache)if(shallowEqualArrays(o,et.keys,et.equal)){if(a)return;if(Object.prototype.hasOwnProperty.call(et,"error"))throw et.error;if(Object.prototype.hasOwnProperty.call(et,"response"))return et.response;if(!a)throw et.promise}const _e={keys:o,equal:j.equal,promise:$(...o).then(et=>_e.response=et).then(()=>{j.lifespan&&j.lifespan>0&&setTimeout(()=>{const et=globalCache.indexOf(_e);et!==-1&&globalCache.splice(et,1)},j.lifespan)}).catch(et=>_e.error=et)};if(globalCache.push(_e),!a)throw _e.promise}const suspend=($,o,a)=>query($,o,!1,a),preload=($,o,a)=>void query($,o,!0,a),clear=$=>{if($===void 0||$.length===0)globalCache.splice(0,globalCache.length);else{const o=globalCache.find(a=>shallowEqualArrays($,a.keys,a.equal));if(o){const a=globalCache.indexOf(o);a!==-1&&globalCache.splice(a,1)}}},catalogue={},extend=$=>void Object.assign(catalogue,$);function createRenderer($,o){function a(ot,{args:at=[],attach:ct,...ut},dt){let ft=`${ot[0].toUpperCase()}${ot.slice(1)}`,ht;if(ot==="primitive"){if(ut.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const pt=ut.object;ht=prepare(pt,{type:ot,root:dt,attach:ct,primitive:!0})}else{const pt=catalogue[ft];if(!pt)throw new Error(`R3F: ${ft} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(at))throw new Error("R3F: The args prop must be an array!");ht=prepare(new pt(...at),{type:ot,root:dt,attach:ct,memoizedProps:{args:at}})}return ht.__r3f.attach===void 0&&(ht instanceof BufferGeometry?ht.__r3f.attach="geometry":ht instanceof Material&&(ht.__r3f.attach="material")),ft!=="inject"&&applyProps$1(ht,ut),ht}function j(ot,at){let ct=!1;if(at){var ut,dt;(ut=at.__r3f)!=null&&ut.attach?attach(ot,at,at.__r3f.attach):at.isObject3D&&ot.isObject3D&&(ot.add(at),ct=!0),ct||(dt=ot.__r3f)==null||dt.objects.push(at),at.__r3f||prepare(at,{}),at.__r3f.parent=ot,updateInstance(at),invalidateInstance(at)}}function _e(ot,at,ct){let ut=!1;if(at){var dt,ft;if((dt=at.__r3f)!=null&&dt.attach)attach(ot,at,at.__r3f.attach);else if(at.isObject3D&&ot.isObject3D){at.parent=ot,at.dispatchEvent({type:"added"});const ht=ot.children.filter(yt=>yt!==at),pt=ht.indexOf(ct);ot.children=[...ht.slice(0,pt),at,...ht.slice(pt)],ut=!0}ut||(ft=ot.__r3f)==null||ft.objects.push(at),at.__r3f||prepare(at,{}),at.__r3f.parent=ot,updateInstance(at),invalidateInstance(at)}}function et(ot,at,ct=!1){ot&&[...ot].forEach(ut=>tt(at,ut,ct))}function tt(ot,at,ct){if(at){var ut,dt,ft;if(at.__r3f&&(at.__r3f.parent=null),(ut=ot.__r3f)!=null&&ut.objects&&(ot.__r3f.objects=ot.__r3f.objects.filter(bt=>bt!==at)),(dt=at.__r3f)!=null&&dt.attach)detach(ot,at,at.__r3f.attach);else if(at.isObject3D&&ot.isObject3D){var ht;ot.remove(at),(ht=at.__r3f)!=null&&ht.root&&removeInteractivity(at.__r3f.root,at)}const yt=(ft=at.__r3f)==null?void 0:ft.primitive,gt=ct===void 0?at.dispose!==null&&!yt:ct;if(!yt){var pt;et((pt=at.__r3f)==null?void 0:pt.objects,at,gt),et(at.children,at,gt)}at.__r3f&&(delete at.__r3f.root,delete at.__r3f.objects,delete at.__r3f.handlers,delete at.__r3f.memoizedProps,yt||delete at.__r3f),gt&&at.dispose&&at.type!=="Scene"&&schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,()=>{try{at.dispose()}catch{}}),invalidateInstance(ot)}}function nt(ot,at,ct,ut){var dt;const ft=(dt=ot.__r3f)==null?void 0:dt.parent;if(!ft)return;const ht=a(at,ct,ot.__r3f.root);if(ot.children){for(const pt of ot.children)pt.__r3f&&j(ht,pt);ot.children=ot.children.filter(pt=>!pt.__r3f)}ot.__r3f.objects.forEach(pt=>j(ht,pt)),ot.__r3f.objects=[],ot.__r3f.autoRemovedBeforeAppend||tt(ft,ot),ht.parent&&(ht.__r3f.autoRemovedBeforeAppend=!0),j(ft,ht),ht.raycast&&ht.__r3f.eventCount&&ht.__r3f.root.getState().internal.interaction.push(ht),[ut,ut.alternate].forEach(pt=>{pt!==null&&(pt.stateNode=ht,pt.ref&&(typeof pt.ref=="function"?pt.ref(ht):pt.ref.current=ht))})}const rt=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Reconciler({createInstance:a,removeChild:tt,appendChild:j,appendInitialChild:j,insertBefore:_e,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(ot,at)=>{if(!at)return;const ct=ot.getState().scene;ct.__r3f&&(ct.__r3f.root=ot,j(ct,at))},removeChildFromContainer:(ot,at)=>{at&&tt(ot.getState().scene,at)},insertInContainerBefore:(ot,at,ct)=>{if(!at||!ct)return;const ut=ot.getState().scene;ut.__r3f&&_e(ut,at,ct)},getRootHostContext:()=>null,getChildHostContext:ot=>ot,finalizeInitialChildren(ot){var at;return!!((at=ot==null?void 0:ot.__r3f)!=null?at:{}).handlers},prepareUpdate(ot,at,ct,ut){if(ot.__r3f.primitive&&ut.object&&ut.object!==ot)return[!0];{const{args:dt=[],children:ft,...ht}=ut,{args:pt=[],children:yt,...gt}=ct;if(!Array.isArray(dt))throw new Error("R3F: the args prop must be an array!");if(dt.some((At,Tt)=>At!==pt[Tt]))return[!0];const bt=diffProps(ot,ht,gt,!0);return bt.changes.length?[!1,bt]:null}},commitUpdate(ot,[at,ct],ut,dt,ft,ht){at?nt(ot,ut,ft,ht):applyProps$1(ot,ct)},commitMount(ot,at,ct,ut){var dt;const ft=(dt=ot.__r3f)!=null?dt:{};ot.raycast&&ft.handlers&&ft.eventCount&&ot.__r3f.root.getState().internal.interaction.push(ot)},getPublicInstance:ot=>ot,prepareForCommit:()=>null,preparePortalMount:ot=>prepare(ot.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(ot){var at;const{attach:ct,parent:ut}=(at=ot.__r3f)!=null?at:{};ct&&ut&&detach(ut,ot,ct),ot.isObject3D&&(ot.visible=!1),invalidateInstance(ot)},unhideInstance(ot,at){var ct;const{attach:ut,parent:dt}=(ct=ot.__r3f)!=null?ct:{};ut&&dt&&attach(dt,ot,ut),(ot.isObject3D&&at.visible==null||at.visible)&&(ot.visible=!0),invalidateInstance(ot)},createTextInstance:rt,hideTextInstance:rt,unhideTextInstance:rt,getCurrentEventPriority:()=>o?o():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const getColorManagement=()=>{var $;return($=catalogue.ColorManagement)!=null?$:null},isOrthographicCamera=$=>$&&$.isOrthographicCamera,isRef=$=>$&&$.hasOwnProperty("current"),useIsomorphicLayoutEffect=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback($){const o=reactExports.useRef($);return useIsomorphicLayoutEffect(()=>void(o.current=$),[$]),o}function Block({set:$}){return useIsomorphicLayoutEffect(()=>($(new Promise(()=>null)),()=>$(!1)),[$]),null}class ErrorBoundary extends reactExports.Component{constructor(...o){super(...o),this.state={error:!1}}componentDidCatch(o){this.props.set(o)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=$=>$&&!!$.memoized&&!!$.changes;function calculateDpr($){const o=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray($)?Math.min(Math.max($[0],o),$[1]):$}const getRootState=$=>{var o;return(o=$.__r3f)==null?void 0:o.root.getState()},is={obj:$=>$===Object($)&&!is.arr($)&&typeof $!="function",fun:$=>typeof $=="function",str:$=>typeof $=="string",num:$=>typeof $=="number",boo:$=>typeof $=="boolean",und:$=>$===void 0,arr:$=>Array.isArray($),equ($,o,{arrays:a="shallow",objects:j="reference",strict:_e=!0}={}){if(typeof $!=typeof o||!!$!=!!o)return!1;if(is.str($)||is.num($))return $===o;const et=is.obj($);if(et&&j==="reference")return $===o;const tt=is.arr($);if(tt&&a==="reference")return $===o;if((tt||et)&&$===o)return!0;let nt;for(nt in $)if(!(nt in o))return!1;if(et&&a==="shallow"&&j==="shallow"){for(nt in _e?o:$)if(!is.equ($[nt],o[nt],{strict:_e,objects:"reference"}))return!1}else for(nt in _e?o:$)if($[nt]!==o[nt])return!1;if(is.und(nt)){if(tt&&$.length===0&&o.length===0||et&&Object.keys($).length===0&&Object.keys(o).length===0)return!0;if($!==o)return!1}return!0}};function buildGraph($){const o={nodes:{},materials:{}};return $&&$.traverse(a=>{a.name&&(o.nodes[a.name]=a),a.material&&!o.materials[a.material.name]&&(o.materials[a.material.name]=a.material)}),o}function dispose($){$.dispose&&$.type!=="Scene"&&$.dispose();for(const o in $)o.dispose==null||o.dispose(),delete $[o]}function prepare($,o){const a=$;return(o!=null&&o.primitive||!a.__r3f)&&(a.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...o}),$}function resolve($,o){let a=$;if(o.includes("-")){const j=o.split("-"),_e=j.pop();return a=j.reduce((et,tt)=>et[tt],$),{target:a,key:_e}}else return{target:a,key:o}}const INDEX_REGEX=/-\d+$/;function attach($,o,a){if(is.str(a)){if(INDEX_REGEX.test(a)){const et=a.replace(INDEX_REGEX,""),{target:tt,key:nt}=resolve($,et);Array.isArray(tt[nt])||(tt[nt]=[])}const{target:j,key:_e}=resolve($,a);o.__r3f.previousAttach=j[_e],j[_e]=o}else o.__r3f.previousAttach=a($,o)}function detach($,o,a){var j,_e;if(is.str(a)){const{target:et,key:tt}=resolve($,a),nt=o.__r3f.previousAttach;nt===void 0?delete et[tt]:et[tt]=nt}else(j=o.__r3f)==null||j.previousAttach==null||j.previousAttach($,o);(_e=o.__r3f)==null||delete _e.previousAttach}function diffProps($,{children:o,key:a,ref:j,..._e},{children:et,key:tt,ref:nt,...rt}={},it=!1){var ot;const at=(ot=$==null?void 0:$.__r3f)!=null?ot:{},ct=Object.entries(_e),ut=[];if(it){const ft=Object.keys(rt);for(let ht=0;ht<ft.length;ht++)_e.hasOwnProperty(ft[ht])||ct.unshift([ft[ht],DEFAULT+"remove"])}ct.forEach(([ft,ht])=>{var pt;if((pt=$.__r3f)!=null&&pt.primitive&&ft==="object"||is.equ(ht,rt[ft]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(ft))return ut.push([ft,ht,!0,[]]);let yt=[];ft.includes("-")&&(yt=ft.split("-")),ut.push([ft,ht,!1,yt]);for(const gt in _e){const bt=_e[gt];gt.startsWith(`${ft}-`)&&ut.push([gt,bt,!1,gt.split("-")])}});const dt={..._e};return at.memoizedProps&&at.memoizedProps.args&&(dt.args=at.memoizedProps.args),at.memoizedProps&&at.memoizedProps.attach&&(dt.attach=at.memoizedProps.attach),{memoized:dt,changes:ut}}function applyProps$1($,o){var a,j,_e;const et=(a=$.__r3f)!=null?a:{},tt=et.root,nt=(j=tt==null||tt.getState==null?void 0:tt.getState())!=null?j:{},{memoized:rt,changes:it}=isDiffSet(o)?o:diffProps($,o),ot=et.eventCount;$.__r3f&&($.__r3f.memoizedProps=rt);for(let ct=0;ct<it.length;ct++){let[ut,dt,ft,ht]=it[ct],pt=$,yt=pt[ut];if(ht.length&&(yt=ht.reduce((gt,bt)=>gt[bt],$),!(yt&&yt.set))){const[gt,...bt]=ht.reverse();pt=bt.reverse().reduce((At,Tt)=>At[Tt],$),ut=gt}if(dt===DEFAULT+"remove")if(pt.constructor){let gt=DEFAULTS.get(pt.constructor);gt||(gt=new pt.constructor,DEFAULTS.set(pt.constructor,gt)),dt=gt[ut]}else dt=0;if(ft)dt?et.handlers[ut]=dt:delete et.handlers[ut],et.eventCount=Object.keys(et.handlers).length;else if(yt&&yt.set&&(yt.copy||yt instanceof Layers)){if(Array.isArray(dt))yt.fromArray?yt.fromArray(dt):yt.set(...dt);else if(yt.copy&&dt&&dt.constructor&&yt.constructor===dt.constructor)yt.copy(dt);else if(dt!==void 0){const gt=yt instanceof Color;!gt&&yt.setScalar?yt.setScalar(dt):yt instanceof Layers&&dt instanceof Layers?yt.mask=dt.mask:yt.set(dt),!getColorManagement()&&!nt.linear&&gt&&yt.convertSRGBToLinear()}}else pt[ut]=dt,!nt.linear&&pt[ut]instanceof Texture&&pt[ut].format===RGBAFormat&&pt[ut].type===UnsignedByteType&&(pt[ut].encoding=sRGBEncoding);invalidateInstance($)}if(et.parent&&nt.internal&&$.raycast&&ot!==et.eventCount){const ct=nt.internal.interaction.indexOf($);ct>-1&&nt.internal.interaction.splice(ct,1),et.eventCount&&nt.internal.interaction.push($)}return!(it.length===1&&it[0][0]==="onUpdate")&&it.length&&(_e=$.__r3f)!=null&&_e.parent&&updateInstance($),$}function invalidateInstance($){var o,a;const j=(o=$.__r3f)==null||(a=o.root)==null||a.getState==null?void 0:a.getState();j&&j.internal.frames===0&&j.invalidate()}function updateInstance($){$.onUpdate==null||$.onUpdate($)}function updateCamera($,o){$.manual||(isOrthographicCamera($)?($.left=o.width/-2,$.right=o.width/2,$.top=o.height/2,$.bottom=o.height/-2):$.aspect=o.width/o.height,$.updateProjectionMatrix(),$.updateMatrixWorld())}function makeId($){return($.eventObject||$.object).uuid+"/"+$.index+$.instanceId}function getEventPriority(){var $;const o=typeof self<"u"&&self||typeof window<"u"&&window;if(!o)return constantsExports.DefaultEventPriority;switch(($=o.event)==null?void 0:$.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture($,o,a,j){const _e=a.get(o);_e&&(a.delete(o),a.size===0&&($.delete(j),_e.target.releasePointerCapture(j)))}function removeInteractivity($,o){const{internal:a}=$.getState();a.interaction=a.interaction.filter(j=>j!==o),a.initialHits=a.initialHits.filter(j=>j!==o),a.hovered.forEach((j,_e)=>{(j.eventObject===o||j.object===o)&&a.hovered.delete(_e)}),a.capturedMap.forEach((j,_e)=>{releaseInternalPointerCapture(a.capturedMap,o,j,_e)})}function createEvents($){function o(rt){const{internal:it}=$.getState(),ot=rt.offsetX-it.initialClick[0],at=rt.offsetY-it.initialClick[1];return Math.round(Math.sqrt(ot*ot+at*at))}function a(rt){return rt.filter(it=>["Move","Over","Enter","Out","Leave"].some(ot=>{var at;return(at=it.__r3f)==null?void 0:at.handlers["onPointer"+ot]}))}function j(rt,it){const ot=$.getState(),at=new Set,ct=[],ut=it?it(ot.internal.interaction):ot.internal.interaction;for(let pt=0;pt<ut.length;pt++){const yt=getRootState(ut[pt]);yt&&(yt.raycaster.camera=void 0)}ot.previousRoot||ot.events.compute==null||ot.events.compute(rt,ot);function dt(pt){const yt=getRootState(pt);if(!yt||!yt.events.enabled||yt.raycaster.camera===null)return[];if(yt.raycaster.camera===void 0){var gt;yt.events.compute==null||yt.events.compute(rt,yt,(gt=yt.previousRoot)==null?void 0:gt.getState()),yt.raycaster.camera===void 0&&(yt.raycaster.camera=null)}return yt.raycaster.camera?yt.raycaster.intersectObject(pt,!0):[]}let ft=ut.flatMap(dt).sort((pt,yt)=>{const gt=getRootState(pt.object),bt=getRootState(yt.object);return!gt||!bt?pt.distance-yt.distance:bt.events.priority-gt.events.priority||pt.distance-yt.distance}).filter(pt=>{const yt=makeId(pt);return at.has(yt)?!1:(at.add(yt),!0)});ot.events.filter&&(ft=ot.events.filter(ft,ot));for(const pt of ft){let yt=pt.object;for(;yt;){var ht;(ht=yt.__r3f)!=null&&ht.eventCount&&ct.push({...pt,eventObject:yt}),yt=yt.parent}}if("pointerId"in rt&&ot.internal.capturedMap.has(rt.pointerId))for(let pt of ot.internal.capturedMap.get(rt.pointerId).values())at.has(makeId(pt.intersection))||ct.push(pt.intersection);return ct}function _e(rt,it,ot,at){const ct=$.getState();if(rt.length){const ut={stopped:!1};for(const dt of rt){const ft=getRootState(dt.object)||ct,{raycaster:ht,pointer:pt,camera:yt,internal:gt}=ft,bt=new Vector3(pt.x,pt.y,0).unproject(yt),At=Vt=>{var Kt,en;return(Kt=(en=gt.capturedMap.get(Vt))==null?void 0:en.has(dt.eventObject))!=null?Kt:!1},Tt=Vt=>{const Kt={intersection:dt,target:it.target};gt.capturedMap.has(Vt)?gt.capturedMap.get(Vt).set(dt.eventObject,Kt):gt.capturedMap.set(Vt,new Map([[dt.eventObject,Kt]])),it.target.setPointerCapture(Vt)},Pt=Vt=>{const Kt=gt.capturedMap.get(Vt);Kt&&releaseInternalPointerCapture(gt.capturedMap,dt.eventObject,Kt,Vt)};let Ct={};for(let Vt in it){let Kt=it[Vt];typeof Kt!="function"&&(Ct[Vt]=Kt)}let It={...dt,...Ct,pointer:pt,intersections:rt,stopped:ut.stopped,delta:ot,unprojectedPoint:bt,ray:ht.ray,camera:yt,stopPropagation(){const Vt="pointerId"in it&&gt.capturedMap.get(it.pointerId);if((!Vt||Vt.has(dt.eventObject))&&(It.stopped=ut.stopped=!0,gt.hovered.size&&Array.from(gt.hovered.values()).find(Kt=>Kt.eventObject===dt.eventObject))){const Kt=rt.slice(0,rt.indexOf(dt));et([...Kt,dt])}},target:{hasPointerCapture:At,setPointerCapture:Tt,releasePointerCapture:Pt},currentTarget:{hasPointerCapture:At,setPointerCapture:Tt,releasePointerCapture:Pt},nativeEvent:it};if(at(It),ut.stopped===!0)break}}return rt}function et(rt){const{internal:it}=$.getState();for(const ot of it.hovered.values())if(!rt.length||!rt.find(at=>at.object===ot.object&&at.index===ot.index&&at.instanceId===ot.instanceId)){const ct=ot.eventObject.__r3f,ut=ct==null?void 0:ct.handlers;if(it.hovered.delete(makeId(ot)),ct!=null&&ct.eventCount){const dt={...ot,intersections:rt};ut.onPointerOut==null||ut.onPointerOut(dt),ut.onPointerLeave==null||ut.onPointerLeave(dt)}}}function tt(rt,it){for(let ot=0;ot<it.length;ot++){const at=it[ot].__r3f;at==null||at.handlers.onPointerMissed==null||at.handlers.onPointerMissed(rt)}}function nt(rt){switch(rt){case"onPointerLeave":case"onPointerCancel":return()=>et([]);case"onLostPointerCapture":return it=>{const{internal:ot}=$.getState();"pointerId"in it&&ot.capturedMap.has(it.pointerId)&&requestAnimationFrame(()=>{ot.capturedMap.has(it.pointerId)&&(ot.capturedMap.delete(it.pointerId),et([]))})}}return function(ot){const{onPointerMissed:at,internal:ct}=$.getState();ct.lastEvent.current=ot;const ut=rt==="onPointerMove",dt=rt==="onClick"||rt==="onContextMenu"||rt==="onDoubleClick",ht=j(ot,ut?a:void 0),pt=dt?o(ot):0;rt==="onPointerDown"&&(ct.initialClick=[ot.offsetX,ot.offsetY],ct.initialHits=ht.map(gt=>gt.eventObject)),dt&&!ht.length&&pt<=2&&(tt(ot,ct.interaction),at&&at(ot)),ut&&et(ht);function yt(gt){const bt=gt.eventObject,At=bt.__r3f,Tt=At==null?void 0:At.handlers;if(At!=null&&At.eventCount)if(ut){if(Tt.onPointerOver||Tt.onPointerEnter||Tt.onPointerOut||Tt.onPointerLeave){const Pt=makeId(gt),Ct=ct.hovered.get(Pt);Ct?Ct.stopped&&gt.stopPropagation():(ct.hovered.set(Pt,gt),Tt.onPointerOver==null||Tt.onPointerOver(gt),Tt.onPointerEnter==null||Tt.onPointerEnter(gt))}Tt.onPointerMove==null||Tt.onPointerMove(gt)}else{const Pt=Tt[rt];Pt?(!dt||ct.initialHits.includes(bt))&&(tt(ot,ct.interaction.filter(Ct=>!ct.initialHits.includes(Ct))),Pt(gt)):dt&&ct.initialHits.includes(bt)&&tt(ot,ct.interaction.filter(Ct=>!ct.initialHits.includes(Ct)))}}_e(ht,ot,pt,yt)}}return{handlePointer:nt}}const isRenderer=$=>!!($!=null&&$.render),context$1=reactExports.createContext(null),createStore=($,o)=>{const a=create((nt,rt)=>{const it=new Vector3,ot=new Vector3,at=new Vector3;function ct(pt=rt().camera,yt=ot,gt=rt().size){const{width:bt,height:At,top:Tt,left:Pt}=gt,Ct=bt/At;yt instanceof Vector3?at.copy(yt):at.set(...yt);const It=pt.getWorldPosition(it).distanceTo(at);if(isOrthographicCamera(pt))return{width:bt/pt.zoom,height:At/pt.zoom,top:Tt,left:Pt,factor:1,distance:It,aspect:Ct};{const Vt=pt.fov*Math.PI/180,Kt=2*Math.tan(Vt/2)*It,en=Kt*(bt/At);return{width:en,height:Kt,top:Tt,left:Pt,factor:bt/en,distance:It,aspect:Ct}}}let ut;const dt=pt=>nt(yt=>({performance:{...yt.performance,current:pt}})),ft=new Vector2;return{set:nt,get:rt,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(pt=1)=>$(rt(),pt),advance:(pt,yt)=>o(pt,yt,rt()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:ft,mouse:ft,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const pt=rt();ut&&clearTimeout(ut),pt.performance.current!==pt.performance.min&&dt(pt.performance.min),ut=setTimeout(()=>dt(rt().performance.max),pt.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:ct},setEvents:pt=>nt(yt=>({...yt,events:{...yt.events,...pt}})),setSize:(pt,yt,gt,bt,At)=>{const Tt=rt().camera,Pt={width:pt,height:yt,top:bt||0,left:At||0,updateStyle:gt};nt(Ct=>({size:Pt,viewport:{...Ct.viewport,...ct(Tt,ot,Pt)}}))},setDpr:pt=>nt(yt=>{const gt=calculateDpr(pt);return{viewport:{...yt.viewport,dpr:gt,initialDpr:yt.viewport.initialDpr||gt}}}),setFrameloop:(pt="always")=>{const yt=rt().clock;yt.stop(),yt.elapsedTime=0,pt!=="never"&&(yt.start(),yt.elapsedTime=0),nt(()=>({frameloop:pt}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(pt,yt,gt)=>{const bt=rt().internal;return bt.priority=bt.priority+(yt>0?1:0),bt.subscribers.push({ref:pt,priority:yt,store:gt}),bt.subscribers=bt.subscribers.sort((At,Tt)=>At.priority-Tt.priority),()=>{const At=rt().internal;At!=null&&At.subscribers&&(At.priority=At.priority-(yt>0?1:0),At.subscribers=At.subscribers.filter(Tt=>Tt.ref!==pt))}}}}}),j=a.getState();let _e=j.size,et=j.viewport.dpr,tt=j.camera;return a.subscribe(()=>{const{camera:nt,size:rt,viewport:it,gl:ot,set:at}=a.getState();if(rt!==_e||it.dpr!==et){var ct;_e=rt,et=it.dpr,updateCamera(nt,rt),ot.setPixelRatio(it.dpr);const ut=(ct=rt.updateStyle)!=null?ct:typeof HTMLCanvasElement<"u"&&ot.domElement instanceof HTMLCanvasElement;ot.setSize(rt.width,rt.height,ut)}nt!==tt&&(tt=nt,at(ut=>({viewport:{...ut.viewport,...ut.viewport.getCurrentViewport(nt)}})))}),a.subscribe(nt=>$(nt)),a};let i$1,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run($,o){if($.size)for(const{callback:a}of $.values())a(o)}function flushGlobalEffects($,o){switch($){case"before":return run(globalEffects,o);case"after":return run(globalAfterEffects,o);case"tail":return run(globalTailEffects,o)}}let subscribers,subscription;function render$1($,o,a){let j=o.clock.getDelta();for(o.frameloop==="never"&&typeof $=="number"&&(j=$-o.clock.elapsedTime,o.clock.oldTime=o.clock.elapsedTime,o.clock.elapsedTime=$),subscribers=o.internal.subscribers,i$1=0;i$1<subscribers.length;i$1++)subscription=subscribers[i$1],subscription.ref.current(subscription.store.getState(),j,a);return!o.internal.priority&&o.gl.render&&o.gl.render(o.scene,o.camera),o.internal.frames=Math.max(0,o.internal.frames-1),o.frameloop==="always"?1:o.internal.frames}function createLoop($){let o=!1,a,j,_e;function et(rt){j=requestAnimationFrame(et),o=!0,a=0,flushGlobalEffects("before",rt);for(const ot of $.values()){var it;_e=ot.store.getState(),_e.internal.active&&(_e.frameloop==="always"||_e.internal.frames>0)&&!((it=_e.gl.xr)!=null&&it.isPresenting)&&(a+=render$1(rt,_e))}if(flushGlobalEffects("after",rt),a===0)return flushGlobalEffects("tail",rt),o=!1,cancelAnimationFrame(j)}function tt(rt,it=1){var ot;if(!rt)return $.forEach(at=>tt(at.store.getState()),it);(ot=rt.gl.xr)!=null&&ot.isPresenting||!rt.internal.active||rt.frameloop==="never"||(rt.internal.frames=Math.min(60,rt.internal.frames+it),o||(o=!0,requestAnimationFrame(et)))}function nt(rt,it=!0,ot,at){if(it&&flushGlobalEffects("before",rt),ot)render$1(rt,ot,at);else for(const ct of $.values())render$1(rt,ct.store.getState());it&&flushGlobalEffects("after",rt)}return{loop:et,invalidate:tt,advance:nt}}function useStore(){const $=reactExports.useContext(context$1);if(!$)throw new Error("R3F: Hooks can only be used within the Canvas component!");return $}function useThree($=a=>a,o){return useStore()($,o)}function useFrame($,o=0){const a=useStore(),j=a.getState().internal.subscribe,_e=useMutableCallback($);return useIsomorphicLayoutEffect(()=>j(_e,o,a),[o,j,a]),null}function loadingFn($,o){return function(a,...j){const _e=new a;return $&&$(_e),Promise.all(j.map(et=>new Promise((tt,nt)=>_e.load(et,rt=>{rt.scene&&Object.assign(rt,buildGraph(rt.scene)),tt(rt)},o,rt=>nt(new Error(`Could not load ${et}: ${rt.message})`))))))}}function useLoader($,o,a,j){const _e=Array.isArray(o)?o:[o],et=suspend(loadingFn(a,j),[$,..._e],{equal:is.equ});return Array.isArray(o)?et:et[0]}useLoader.preload=function($,o,a){const j=Array.isArray(o)?o:[o];return preload(loadingFn(a),[$,...j])};useLoader.clear=function($,o){const a=Array.isArray(o)?o:[o];return clear([$,...a])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=($,o)=>{const a=typeof $=="function"?$(o):$;return isRenderer(a)?a:new WebGLRenderer({powerPreference:"high-performance",canvas:o,antialias:!0,alpha:!0,...$})};function computeInitialSize($,o){if(o)return o;if(typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement&&$.parentElement){const{width:a,height:j,top:_e,left:et}=$.parentElement.getBoundingClientRect();return{width:a,height:j,top:_e,left:et}}else if(typeof OffscreenCanvas<"u"&&$ instanceof OffscreenCanvas)return{width:$.width,height:$.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function createRoot($){const o=roots.get($),a=o==null?void 0:o.fiber,j=o==null?void 0:o.store;o&&console.warn("R3F.createRoot should only be called once!");const _e=typeof reportError=="function"?reportError:console.error,et=j||createStore(invalidate,advance),tt=a||reconciler.createContainer(et,constantsExports.ConcurrentRoot,null,!1,null,"",_e,null);o||roots.set($,{fiber:tt,store:et});let nt,rt=!1,it;return{configure(ot={}){let{gl:at,size:ct,scene:ut,events:dt,onCreated:ft,shadows:ht=!1,linear:pt=!1,flat:yt=!1,legacy:gt=!1,orthographic:bt=!1,frameloop:At="always",dpr:Tt=[1,2],performance:Pt,raycaster:Ct,camera:It,onPointerMissed:Vt}=ot,Kt=et.getState(),en=Kt.gl;Kt.gl||Kt.set({gl:en=createRendererInstance(at,$)});let kt=Kt.raycaster;kt||Kt.set({raycaster:kt=new Raycaster});const{params:vt,...St}=Ct||{};if(is.equ(St,kt,shallowLoose)||applyProps(kt,{...St}),is.equ(vt,kt.params,shallowLoose)||applyProps(kt,{params:{...kt.params,...vt}}),!Kt.camera||Kt.camera===it&&!is.equ(it,It,shallowLoose)){it=It;const Ft=It instanceof Camera,wt=Ft?It:bt?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);Ft||(wt.position.z=5,It&&applyProps(wt,It),!Kt.camera&&!(It!=null&&It.rotation)&&wt.lookAt(0,0,0)),Kt.set({camera:wt})}if(!Kt.scene){let Ft;ut instanceof Scene?Ft=ut:(Ft=new Scene,ut&&applyProps(Ft,ut)),Kt.set({scene:prepare(Ft)})}if(!Kt.xr){const Ft=(nn,Dt)=>{const Jt=et.getState();Jt.frameloop!=="never"&&advance(nn,!0,Jt,Dt)},wt=()=>{const nn=et.getState();nn.gl.xr.enabled=nn.gl.xr.isPresenting,nn.gl.xr.setAnimationLoop(nn.gl.xr.isPresenting?Ft:null),nn.gl.xr.isPresenting||invalidate(nn)},Ht={connect(){const nn=et.getState().gl;nn.xr.addEventListener("sessionstart",wt),nn.xr.addEventListener("sessionend",wt)},disconnect(){const nn=et.getState().gl;nn.xr.removeEventListener("sessionstart",wt),nn.xr.removeEventListener("sessionend",wt)}};en.xr&&Ht.connect(),Kt.set({xr:Ht})}if(en.shadowMap){const Ft=en.shadowMap.enabled,wt=en.shadowMap.type;if(en.shadowMap.enabled=!!ht,is.boo(ht))en.shadowMap.type=PCFSoftShadowMap;else if(is.str(ht)){var Lt;const Ht={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};en.shadowMap.type=(Lt=Ht[ht])!=null?Lt:PCFSoftShadowMap}else is.obj(ht)&&Object.assign(en.shadowMap,ht);(Ft!==en.shadowMap.enabled||wt!==en.shadowMap.type)&&(en.shadowMap.needsUpdate=!0)}const zt=getColorManagement();zt&&("enabled"in zt?zt.enabled=!gt:"legacyMode"in zt&&(zt.legacyMode=gt));const Rt=pt?LinearEncoding:sRGBEncoding,$t=yt?NoToneMapping:ACESFilmicToneMapping;en.outputEncoding!==Rt&&(en.outputEncoding=Rt),en.toneMapping!==$t&&(en.toneMapping=$t),Kt.legacy!==gt&&Kt.set(()=>({legacy:gt})),Kt.linear!==pt&&Kt.set(()=>({linear:pt})),Kt.flat!==yt&&Kt.set(()=>({flat:yt})),at&&!is.fun(at)&&!isRenderer(at)&&!is.equ(at,en,shallowLoose)&&applyProps(en,at),dt&&!Kt.events.handlers&&Kt.set({events:dt(et)});const Gt=computeInitialSize($,ct);return is.equ(Gt,Kt.size,shallowLoose)||Kt.setSize(Gt.width,Gt.height,Gt.updateStyle,Gt.top,Gt.left),Tt&&Kt.viewport.dpr!==calculateDpr(Tt)&&Kt.setDpr(Tt),Kt.frameloop!==At&&Kt.setFrameloop(At),Kt.onPointerMissed||Kt.set({onPointerMissed:Vt}),Pt&&!is.equ(Pt,Kt.performance,shallowLoose)&&Kt.set(Ft=>({performance:{...Ft.performance,...Pt}})),nt=ft,rt=!0,this},render(ot){return rt||this.configure(),reconciler.updateContainer(reactExports.createElement(Provider,{store:et,children:ot,onCreated:nt,rootElement:$}),tt,null,()=>{}),et},unmount(){unmountComponentAtNode($)}}}function Provider({store:$,children:o,onCreated:a,rootElement:j}){return useIsomorphicLayoutEffect(()=>{const _e=$.getState();_e.set(et=>({internal:{...et.internal,active:!0}})),a&&a(_e),$.getState().events.connected||_e.events.connect==null||_e.events.connect(j)},[]),reactExports.createElement(context$1.Provider,{value:$},o)}function unmountComponentAtNode($,o){const a=roots.get($),j=a==null?void 0:a.fiber;if(j){const _e=a==null?void 0:a.store.getState();_e&&(_e.internal.active=!1),reconciler.updateContainer(null,j,null,()=>{_e&&setTimeout(()=>{try{var et,tt,nt,rt;_e.events.disconnect==null||_e.events.disconnect(),(et=_e.gl)==null||(tt=et.renderLists)==null||tt.dispose==null||tt.dispose(),(nt=_e.gl)==null||nt.forceContextLoss==null||nt.forceContextLoss(),(rt=_e.gl)!=null&&rt.xr&&_e.xr.disconnect(),dispose(_e),roots.delete($),o&&o($)}catch{}},500)})}}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});function debounce($,o,a){var j,_e,et,tt,nt;o==null&&(o=100);function rt(){var ot=Date.now()-tt;ot<o&&ot>=0?j=setTimeout(rt,o-ot):(j=null,a||(nt=$.apply(et,_e),et=_e=null))}var it=function(){et=this,_e=arguments,tt=Date.now();var ot=a&&!j;return j||(j=setTimeout(rt,o)),ot&&(nt=$.apply(et,_e),et=_e=null),nt};return it.clear=function(){j&&(clearTimeout(j),j=null)},it.flush=function(){j&&(nt=$.apply(et,_e),et=_e=null,clearTimeout(j),j=null)},it}debounce.debounce=debounce;var debounce_1=debounce;function useMeasure($){let{debounce:o,scroll:a,polyfill:j,offsetSize:_e}=$===void 0?{debounce:0,scroll:!1,offsetSize:!1}:$;const et=j||(typeof window>"u"?class{}:window.ResizeObserver);if(!et)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[tt,nt]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),rt=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:tt}),it=o?typeof o=="number"?o:o.scroll:null,ot=o?typeof o=="number"?o:o.resize:null,at=reactExports.useRef(!1);reactExports.useEffect(()=>(at.current=!0,()=>void(at.current=!1)));const[ct,ut,dt]=reactExports.useMemo(()=>{const yt=()=>{if(!rt.current.element)return;const{left:gt,top:bt,width:At,height:Tt,bottom:Pt,right:Ct,x:It,y:Vt}=rt.current.element.getBoundingClientRect(),Kt={left:gt,top:bt,width:At,height:Tt,bottom:Pt,right:Ct,x:It,y:Vt};rt.current.element instanceof HTMLElement&&_e&&(Kt.height=rt.current.element.offsetHeight,Kt.width=rt.current.element.offsetWidth),Object.freeze(Kt),at.current&&!areBoundsEqual(rt.current.lastBounds,Kt)&&nt(rt.current.lastBounds=Kt)};return[yt,ot?debounce_1(yt,ot):yt,it?debounce_1(yt,it):yt]},[nt,_e,it,ot]);function ft(){rt.current.scrollContainers&&(rt.current.scrollContainers.forEach(yt=>yt.removeEventListener("scroll",dt,!0)),rt.current.scrollContainers=null),rt.current.resizeObserver&&(rt.current.resizeObserver.disconnect(),rt.current.resizeObserver=null)}function ht(){rt.current.element&&(rt.current.resizeObserver=new et(dt),rt.current.resizeObserver.observe(rt.current.element),a&&rt.current.scrollContainers&&rt.current.scrollContainers.forEach(yt=>yt.addEventListener("scroll",dt,{capture:!0,passive:!0})))}const pt=yt=>{!yt||yt===rt.current.element||(ft(),rt.current.element=yt,rt.current.scrollContainers=findScrollContainers(yt),ht())};return useOnWindowScroll(dt,!!a),useOnWindowResize(ut),reactExports.useEffect(()=>{ft(),ht()},[a,dt,ut]),reactExports.useEffect(()=>ft,[]),[pt,tt,ct]}function useOnWindowResize($){reactExports.useEffect(()=>{const o=$;return window.addEventListener("resize",o),()=>void window.removeEventListener("resize",o)},[$])}function useOnWindowScroll($,o){reactExports.useEffect(()=>{if(o){const a=$;return window.addEventListener("scroll",a,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",a,!0)}},[$,o])}function findScrollContainers($){const o=[];if(!$||$===document.body)return o;const{overflow:a,overflowX:j,overflowY:_e}=window.getComputedStyle($);return[a,j,_e].some(et=>et==="auto"||et==="scroll")&&o.push($),[...o,...findScrollContainers($.parentElement)]}const keys=["x","y","top","bottom","left","right","width","height"],areBoundsEqual=($,o)=>keys.every(a=>$[a]===o[a]);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=($,o,a)=>o in $?__defProp($,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):$[o]=a,__spreadValues=($,o)=>{for(var a in o||(o={}))__hasOwnProp.call(o,a)&&__defNormalProp($,a,o[a]);if(__getOwnPropSymbols)for(var a of __getOwnPropSymbols(o))__propIsEnum.call(o,a)&&__defNormalProp($,a,o[a]);return $},__spreadProps=($,o)=>__defProps($,__getOwnPropDescs(o));function traverseFiber($,o,a){if(!$)return;if(a($)===!0)return $;let j=o?$.return:$.child;for(;j;){const _e=traverseFiber(j,o,a);if(_e)return _e;j=o?null:j.sibling}}function wrapContext($){try{return Object.defineProperties($,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return $}}const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner,ReactCurrentDispatcher}=reactExports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function useFiber(){const $=reactExports.useContext(FiberContext);if($===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const o=reactExports.useId();return reactExports.useMemo(()=>{var j;return(j=ReactCurrentOwner==null?void 0:ReactCurrentOwner.current)!=null?j:traverseFiber($,!1,_e=>{let et=_e.memoizedState;for(;et;){if(et.memoizedState===o)return!0;et=et.next}})},[$,o])}function useContextMap(){var $,o;const a=useFiber(),[j]=reactExports.useState(()=>new Map);j.clear();let _e=a;for(;_e;){const et=($=_e.type)==null?void 0:$._context;et&&et!==FiberContext&&!j.has(et)&&j.set(et,(o=ReactCurrentDispatcher==null?void 0:ReactCurrentDispatcher.current)==null?void 0:o.readContext(wrapContext(et))),_e=_e.return}return j}function useContextBridge(){const $=useContextMap();return reactExports.useMemo(()=>Array.from($.keys()).reduce((o,a)=>j=>reactExports.createElement(o,null,reactExports.createElement(a.Provider,__spreadProps(__spreadValues({},j),{value:$.get(a)}))),o=>reactExports.createElement(FiberProvider,__spreadValues({},o))),[$])}const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents($){const{handlePointer:o}=createEvents($);return{priority:1,enabled:!0,compute(a,j,_e){j.pointer.set(a.offsetX/j.size.width*2-1,-(a.offsetY/j.size.height)*2+1),j.raycaster.setFromCamera(j.pointer,j.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((a,j)=>({...a,[j]:o(j)}),{}),update:()=>{var a;const{events:j,internal:_e}=$.getState();(a=_e.lastEvent)!=null&&a.current&&j.handlers&&j.handlers.onPointerMove(_e.lastEvent.current)},connect:a=>{var j;const{set:_e,events:et}=$.getState();et.disconnect==null||et.disconnect(),_e(tt=>({events:{...tt.events,connected:a}})),Object.entries((j=et.handlers)!=null?j:[]).forEach(([tt,nt])=>{const[rt,it]=DOM_EVENTS[tt];a.addEventListener(rt,nt,{passive:it})})},disconnect:()=>{const{set:a,events:j}=$.getState();if(j.connected){var _e;Object.entries((_e=j.handlers)!=null?_e:[]).forEach(([et,tt])=>{if(j&&j.connected instanceof HTMLElement){const[nt]=DOM_EVENTS[et];j.connected.removeEventListener(nt,tt)}}),a(et=>({events:{...et.events,connected:void 0}}))}}}}const CanvasImpl=reactExports.forwardRef(function $({children:o,fallback:a,resize:j,style:_e,gl:et,events:tt=createPointerEvents,eventSource:nt,eventPrefix:rt,shadows:it,linear:ot,flat:at,legacy:ct,orthographic:ut,frameloop:dt,dpr:ft,performance:ht,raycaster:pt,camera:yt,onPointerMissed:gt,onCreated:bt,...At},Tt){reactExports.useMemo(()=>extend(THREE),[]);const Pt=useContextBridge(),[Ct,It]=useMeasure({scroll:!0,debounce:{scroll:50,resize:0},...j}),Vt=reactExports.useRef(null),Kt=reactExports.useRef(null);reactExports.useImperativeHandle(Tt,()=>Vt.current);const en=useMutableCallback(gt),[kt,vt]=reactExports.useState(!1),[St,Lt]=reactExports.useState(!1);if(kt)throw kt;if(St)throw St;const zt=reactExports.useRef(null);useIsomorphicLayoutEffect(()=>{const $t=Vt.current;It.width>0&&It.height>0&&$t&&(zt.current||(zt.current=createRoot($t)),zt.current.configure({gl:et,events:tt,shadows:it,linear:ot,flat:at,legacy:ct,orthographic:ut,frameloop:dt,dpr:ft,performance:ht,raycaster:pt,camera:yt,size:It,onPointerMissed:(...Gt)=>en.current==null?void 0:en.current(...Gt),onCreated:Gt=>{Gt.events.connect==null||Gt.events.connect(nt?isRef(nt)?nt.current:nt:Kt.current),rt&&Gt.setEvents({compute:(Ft,wt)=>{const Ht=Ft[rt+"X"],nn=Ft[rt+"Y"];wt.pointer.set(Ht/wt.size.width*2-1,-(nn/wt.size.height)*2+1),wt.raycaster.setFromCamera(wt.pointer,wt.camera)}}),bt==null||bt(Gt)}}),zt.current.render(reactExports.createElement(Pt,null,reactExports.createElement(ErrorBoundary,{set:Lt},reactExports.createElement(reactExports.Suspense,{fallback:reactExports.createElement(Block,{set:vt})},o)))))}),reactExports.useEffect(()=>{const $t=Vt.current;if($t)return()=>unmountComponentAtNode($t)},[]);const Rt=nt?"none":"auto";return reactExports.createElement("div",_extends$1({ref:Kt,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Rt,..._e}},At),reactExports.createElement("div",{ref:Ct,style:{width:"100%",height:"100%"}},reactExports.createElement("canvas",{ref:Vt,style:{display:"block"}},a)))}),Canvas=reactExports.forwardRef(function $(o,a){return reactExports.createElement(FiberProvider,null,reactExports.createElement(CanvasImpl,_extends$1({},o,{ref:a})))}),v1=new Vector3,v2=new Vector3,v3=new Vector3;function defaultCalculatePosition($,o,a){const j=v1.setFromMatrixPosition($.matrixWorld);j.project(o);const _e=a.width/2,et=a.height/2;return[j.x*_e+_e,-(j.y*et)+et]}function isObjectBehindCamera($,o){const a=v1.setFromMatrixPosition($.matrixWorld),j=v2.setFromMatrixPosition(o.matrixWorld),_e=a.sub(j),et=o.getWorldDirection(v3);return _e.angleTo(et)>Math.PI/2}function isObjectVisible($,o,a,j){const _e=v1.setFromMatrixPosition($.matrixWorld),et=_e.clone();et.project(o),a.setFromCamera(et,o);const tt=a.intersectObjects(j,!0);if(tt.length){const nt=tt[0].distance;return _e.distanceTo(a.ray.origin)<nt}return!0}function objectScale($,o){if(o instanceof OrthographicCamera)return o.zoom;if(o instanceof PerspectiveCamera){const a=v1.setFromMatrixPosition($.matrixWorld),j=v2.setFromMatrixPosition(o.matrixWorld),_e=o.fov*Math.PI/180,et=a.distanceTo(j);return 1/(2*Math.tan(_e/2)*et)}else return 1}function objectZIndex($,o,a){if(o instanceof PerspectiveCamera||o instanceof OrthographicCamera){const j=v1.setFromMatrixPosition($.matrixWorld),_e=v2.setFromMatrixPosition(o.matrixWorld),et=j.distanceTo(_e),tt=(a[1]-a[0])/(o.far-o.near),nt=a[1]-tt*o.far;return Math.round(tt*et+nt)}}const epsilon=$=>Math.abs($)<1e-10?0:$;function getCSSMatrix($,o,a=""){let j="matrix3d(";for(let _e=0;_e!==16;_e++)j+=epsilon(o[_e]*$.elements[_e])+(_e!==15?",":")");return a+j}const getCameraCSSMatrix=($=>o=>getCSSMatrix(o,$))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),getObjectCSSMatrix=($=>(o,a)=>getCSSMatrix(o,$(a),"translate(-50%,-50%)"))($=>[1/$,1/$,1/$,1,-1/$,-1/$,-1/$,-1,1/$,1/$,1/$,1,1,1,1,1]);function isRefObject($){return $&&typeof $=="object"&&"current"in $}const Html=reactExports.forwardRef(({children:$,eps:o=.001,style:a,className:j,prepend:_e,center:et,fullscreen:tt,portal:nt,distanceFactor:rt,sprite:it=!1,transform:ot=!1,occlude:at,onOcclude:ct,castShadow:ut,receiveShadow:dt,material:ft,geometry:ht,zIndexRange:pt=[16777271,0],calculatePosition:yt=defaultCalculatePosition,as:gt="div",wrapperClass:bt,pointerEvents:At="auto",...Tt},Pt)=>{const{gl:Ct,camera:It,scene:Vt,size:Kt,raycaster:en,events:kt,viewport:vt}=useThree(),[St]=reactExports.useState(()=>document.createElement(gt)),Lt=reactExports.useRef(),zt=reactExports.useRef(null),Rt=reactExports.useRef(0),$t=reactExports.useRef([0,0]),Gt=reactExports.useRef(null),Ft=reactExports.useRef(null),wt=(nt==null?void 0:nt.current)||kt.connected||Ct.domElement.parentNode,Ht=reactExports.useRef(null),nn=reactExports.useRef(!1),Dt=reactExports.useMemo(()=>at&&at!=="blending"||Array.isArray(at)&&at.length&&isRefObject(at[0]),[at]);reactExports.useLayoutEffect(()=>{const mn=Ct.domElement;at&&at==="blending"?(mn.style.zIndex=`${Math.floor(pt[0]/2)}`,mn.style.position="absolute",mn.style.pointerEvents="none"):(mn.style.zIndex=null,mn.style.position=null,mn.style.pointerEvents=null)},[at]),reactExports.useLayoutEffect(()=>{if(zt.current){const mn=Lt.current=createRoot$1(St);if(Vt.updateMatrixWorld(),ot)St.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ln=yt(zt.current,It,Kt);St.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ln[0]}px,${ln[1]}px,0);transform-origin:0 0;`}return wt&&(_e?wt.prepend(St):wt.appendChild(St)),()=>{wt&&wt.removeChild(St),mn.unmount()}}},[wt,ot]),reactExports.useLayoutEffect(()=>{bt&&(St.className=bt)},[bt]);const Jt=reactExports.useMemo(()=>ot?{position:"absolute",top:0,left:0,width:Kt.width,height:Kt.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:et?"translate3d(-50%,-50%,0)":"none",...tt&&{top:-Kt.height/2,left:-Kt.width/2,width:Kt.width,height:Kt.height},...a},[a,et,tt,Kt,ot]),on=reactExports.useMemo(()=>({position:"absolute",pointerEvents:At}),[At]);reactExports.useLayoutEffect(()=>{if(nn.current=!1,ot){var mn;(mn=Lt.current)==null||mn.render(reactExports.createElement("div",{ref:Gt,style:Jt},reactExports.createElement("div",{ref:Ft,style:on},reactExports.createElement("div",{ref:Pt,className:j,style:a,children:$}))))}else{var ln;(ln=Lt.current)==null||ln.render(reactExports.createElement("div",{ref:Pt,style:Jt,className:j,children:$}))}});const sn=reactExports.useRef(!0);useFrame(mn=>{if(zt.current){It.updateMatrixWorld(),zt.current.updateWorldMatrix(!0,!1);const ln=ot?$t.current:yt(zt.current,It,Kt);if(ot||Math.abs(Rt.current-It.zoom)>o||Math.abs($t.current[0]-ln[0])>o||Math.abs($t.current[1]-ln[1])>o){const tn=isObjectBehindCamera(zt.current,It);let cn=!1;Dt&&(at!=="blending"?cn=[Vt]:Array.isArray(at)&&(cn=at.map(Rn=>Rn.current)));const pn=sn.current;if(cn){const Rn=isObjectVisible(zt.current,It,en,cn);sn.current=Rn&&!tn}else sn.current=!tn;pn!==sn.current&&(ct?ct(!sn.current):St.style.display=sn.current?"block":"none");const Mn=Math.floor(pt[0]/2),In=at?Dt?[pt[0],Mn]:[Mn-1,0]:pt;if(St.style.zIndex=`${objectZIndex(zt.current,It,In)}`,ot){const[Rn,Ln]=[Kt.width/2,Kt.height/2],Fn=It.projectionMatrix.elements[5]*Ln,{isOrthographicCamera:Un,top:Nn,left:Xt,bottom:jt,right:un}=It,Tn=getCameraCSSMatrix(It.matrixWorldInverse),Bn=Un?`scale(${Fn})translate(${epsilon(-(un+Xt)/2)}px,${epsilon((Nn+jt)/2)}px)`:`translateZ(${Fn}px)`;let Ot=zt.current.matrixWorld;it&&(Ot=It.matrixWorldInverse.clone().transpose().copyPosition(Ot).scale(zt.current.scale),Ot.elements[3]=Ot.elements[7]=Ot.elements[11]=0,Ot.elements[15]=1),St.style.width=Kt.width+"px",St.style.height=Kt.height+"px",St.style.perspective=Un?"":`${Fn}px`,Gt.current&&Ft.current&&(Gt.current.style.transform=`${Bn}${Tn}translate(${Rn}px,${Ln}px)`,Ft.current.style.transform=getObjectCSSMatrix(Ot,1/((rt||10)/400)))}else{const Rn=rt===void 0?1:objectScale(zt.current,It)*rt;St.style.transform=`translate3d(${ln[0]}px,${ln[1]}px,0) scale(${Rn})`}$t.current=ln,Rt.current=It.zoom}}if(!Dt&&Ht.current&&!nn.current)if(ot){if(Gt.current){const ln=Gt.current.children[0];if(ln!=null&&ln.clientWidth&&ln!=null&&ln.clientHeight){const{isOrthographicCamera:tn}=It;if(tn||ht)Tt.scale&&(Array.isArray(Tt.scale)?Tt.scale instanceof Vector3?Ht.current.scale.copy(Tt.scale.clone().divideScalar(1)):Ht.current.scale.set(1/Tt.scale[0],1/Tt.scale[1],1/Tt.scale[2]):Ht.current.scale.setScalar(1/Tt.scale));else{const cn=(rt||10)/400,pn=ln.clientWidth*cn,Mn=ln.clientHeight*cn;Ht.current.scale.set(pn,Mn,1)}nn.current=!0}}}else{const ln=St.children[0];if(ln!=null&&ln.clientWidth&&ln!=null&&ln.clientHeight){const tn=1/vt.factor,cn=ln.clientWidth*tn,pn=ln.clientHeight*tn;Ht.current.scale.set(cn,pn,1),nn.current=!0}Ht.current.lookAt(mn.camera.position)}});const dn=reactExports.useMemo(()=>({vertexShader:ot?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[ot]);return reactExports.createElement("group",_extends$1({},Tt,{ref:zt}),at&&!Dt&&reactExports.createElement("mesh",{castShadow:ut,receiveShadow:dt,ref:Ht},ht||reactExports.createElement("planeGeometry",null),ft||reactExports.createElement("shaderMaterial",{side:DoubleSide,vertexShader:dn.vertexShader,fragmentShader:dn.fragmentShader})))});let saveLastTotalLoaded=0;const useProgress=create($=>(DefaultLoadingManager.onStart=(o,a,j)=>{$({active:!0,item:o,loaded:a,total:j,progress:(a-saveLastTotalLoaded)/(j-saveLastTotalLoaded)*100})},DefaultLoadingManager.onLoad=()=>{$({active:!1})},DefaultLoadingManager.onError=o=>$(a=>({errors:[...a.errors,o]})),DefaultLoadingManager.onProgress=(o,a,j)=>{a===j&&(saveLastTotalLoaded=j),$({active:!0,item:o,loaded:a,total:j,progress:(a-saveLastTotalLoaded)/(j-saveLastTotalLoaded)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function mergeRefs($){return function(o){$.forEach(function(a){typeof a=="function"?a(o):a!=null&&(a.current=o)})}}function _defineProperty$1($,o,a){return o in $?Object.defineProperty($,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):$[o]=a,$}function ownKeys($,o){var a=Object.keys($);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols($);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor($,_e).enumerable})),a.push.apply(a,j)}return a}function _objectSpread2($){for(var o=1;o<arguments.length;o++){var a=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(a),!0).forEach(function(j){_defineProperty$1($,j,a[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(j){Object.defineProperty($,j,Object.getOwnPropertyDescriptor(a,j))})}return $}new Vector2;new Vector2;function _classCallCheck($,o){if(!($ instanceof o))throw new TypeError("Cannot call a class as a function")}var Grad=function $(o,a,j){var _e=this;_classCallCheck(this,$),_defineProperty$1(this,"dot2",function(et,tt){return _e.x*et+_e.y*tt}),_defineProperty$1(this,"dot3",function(et,tt,nt){return _e.x*et+_e.y*tt+_e.z*nt}),this.x=o,this.y=a,this.z=j},grad3=[new Grad(1,1,0),new Grad(-1,1,0),new Grad(1,-1,0),new Grad(-1,-1,0),new Grad(1,0,1),new Grad(-1,0,1),new Grad(1,0,-1),new Grad(-1,0,-1),new Grad(0,1,1),new Grad(0,-1,1),new Grad(0,1,-1),new Grad(0,-1,-1)],p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],perm=new Array(512),gradP=new Array(512),seed=function $(o){o>0&&o<1&&(o*=65536),o=Math.floor(o),o<256&&(o|=o<<8);for(var a=0;a<256;a++){var j;a&1?j=p[a]^o&255:j=p[a]^o>>8&255,perm[a]=perm[a+256]=j,gradP[a]=gradP[a+256]=grad3[j%12]}};seed(0);function normalizeSeed($){if(typeof $=="number")$=Math.abs($);else if(typeof $=="string"){var o=$;$=0;for(var a=0;a<o.length;a++)$=($+(a+1)*(o.charCodeAt(a)%96))%2147483647}return $===0&&($=311),$}function lcgRandom($){var o=normalizeSeed($);return function(){var a=o*48271%2147483647;return o=a,a/2147483647}}var Generator=function $(o){var a=this;_classCallCheck(this,$),_defineProperty$1(this,"seed",0),_defineProperty$1(this,"init",function(j){a.seed=j,a.value=lcgRandom(j)}),_defineProperty$1(this,"value",lcgRandom(this.seed)),this.init(o)},defaultGen=new Generator(Math.random()),defaultSphere={radius:1,center:[0,0,0]};function inSphere($,o){for(var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultGen,j=_objectSpread2(_objectSpread2({},defaultSphere),o),_e=j.radius,et=j.center,tt=0;tt<$.length;tt+=3){var nt=Math.pow(a.value(),.3333333333333333),rt=a.value()*2-1,it=a.value()*2-1,ot=a.value()*2-1,at=Math.sqrt(rt*rt+it*it+ot*ot);rt=nt*rt/at,it=nt*it/at,ot=nt*ot/at,$[tt]=rt*_e+et[0],$[tt+1]=it*_e+et[1],$[tt+2]=ot*_e+et[2]}return $}function _typeof($){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof($)}function _toPrimitive($,o){if(_typeof($)!=="object"||$===null)return $;var a=$[Symbol.toPrimitive];if(a!==void 0){var j=a.call($,o||"default");if(_typeof(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)($)}function _toPropertyKey($){var o=_toPrimitive($,"string");return _typeof(o)==="symbol"?o:String(o)}function _defineProperty($,o,a){return o=_toPropertyKey(o),o in $?Object.defineProperty($,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):$[o]=a,$}const moduloWrapAround=($,o)=>($%o+o)%o;let OrbitControls$1=class extends EventDispatcher{constructor(o,a){super(),_defineProperty(this,"object",void 0),_defineProperty(this,"domElement",void 0),_defineProperty(this,"enabled",!0),_defineProperty(this,"target",new Vector3),_defineProperty(this,"minDistance",0),_defineProperty(this,"maxDistance",1/0),_defineProperty(this,"minZoom",0),_defineProperty(this,"maxZoom",1/0),_defineProperty(this,"minPolarAngle",0),_defineProperty(this,"maxPolarAngle",Math.PI),_defineProperty(this,"minAzimuthAngle",-1/0),_defineProperty(this,"maxAzimuthAngle",1/0),_defineProperty(this,"enableDamping",!1),_defineProperty(this,"dampingFactor",.05),_defineProperty(this,"enableZoom",!0),_defineProperty(this,"zoomSpeed",1),_defineProperty(this,"enableRotate",!0),_defineProperty(this,"rotateSpeed",1),_defineProperty(this,"enablePan",!0),_defineProperty(this,"panSpeed",1),_defineProperty(this,"screenSpacePanning",!0),_defineProperty(this,"keyPanSpeed",7),_defineProperty(this,"autoRotate",!1),_defineProperty(this,"autoRotateSpeed",2),_defineProperty(this,"reverseOrbit",!1),_defineProperty(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),_defineProperty(this,"mouseButtons",{LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN}),_defineProperty(this,"touches",{ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN}),_defineProperty(this,"target0",void 0),_defineProperty(this,"position0",void 0),_defineProperty(this,"zoom0",void 0),_defineProperty(this,"_domElementKeyEvents",null),_defineProperty(this,"getPolarAngle",void 0),_defineProperty(this,"getAzimuthalAngle",void 0),_defineProperty(this,"setPolarAngle",void 0),_defineProperty(this,"setAzimuthalAngle",void 0),_defineProperty(this,"getDistance",void 0),_defineProperty(this,"listenToKeyEvents",void 0),_defineProperty(this,"saveState",void 0),_defineProperty(this,"reset",void 0),_defineProperty(this,"update",void 0),_defineProperty(this,"connect",void 0),_defineProperty(this,"dispose",void 0),this.object=o,this.domElement=a,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof PerspectiveCamera?this.object.zoom:1,this.getPolarAngle=()=>ot.phi,this.getAzimuthalAngle=()=>ot.theta,this.setPolarAngle=Wt=>{let qt=moduloWrapAround(Wt,2*Math.PI),_n=ot.phi;_n<0&&(_n+=2*Math.PI),qt<0&&(qt+=2*Math.PI);let En=Math.abs(qt-_n);2*Math.PI-En<En&&(qt<_n?qt+=2*Math.PI:_n+=2*Math.PI),at.phi=qt-_n,j.update()},this.setAzimuthalAngle=Wt=>{let qt=moduloWrapAround(Wt,2*Math.PI),_n=ot.theta;_n<0&&(_n+=2*Math.PI),qt<0&&(qt+=2*Math.PI);let En=Math.abs(qt-_n);2*Math.PI-En<En&&(qt<_n?qt+=2*Math.PI:_n+=2*Math.PI),at.theta=qt-_n,j.update()},this.getDistance=()=>j.object.position.distanceTo(j.target),this.listenToKeyEvents=Wt=>{Wt.addEventListener("keydown",un),this._domElementKeyEvents=Wt},this.saveState=()=>{j.target0.copy(j.target),j.position0.copy(j.object.position),j.zoom0=j.object instanceof PerspectiveCamera?j.object.zoom:1},this.reset=()=>{j.target.copy(j.target0),j.object.position.copy(j.position0),j.object instanceof PerspectiveCamera&&(j.object.zoom=j.zoom0,j.object.updateProjectionMatrix()),j.dispatchEvent(_e),j.update(),rt=nt.NONE},this.update=(()=>{const Wt=new Vector3,qt=new Quaternion().setFromUnitVectors(o.up,new Vector3(0,1,0)),_n=qt.clone().invert(),En=new Vector3,Pn=new Quaternion,Hn=2*Math.PI;return function(){const rn=j.object.position;Wt.copy(rn).sub(j.target),Wt.applyQuaternion(qt),ot.setFromVector3(Wt),j.autoRotate&&rt===nt.NONE&&en(Vt()),j.enableDamping?(ot.theta+=at.theta*j.dampingFactor,ot.phi+=at.phi*j.dampingFactor):(ot.theta+=at.theta,ot.phi+=at.phi);let wn=j.minAzimuthAngle,Cn=j.maxAzimuthAngle;return isFinite(wn)&&isFinite(Cn)&&(wn<-Math.PI?wn+=Hn:wn>Math.PI&&(wn-=Hn),Cn<-Math.PI?Cn+=Hn:Cn>Math.PI&&(Cn-=Hn),wn<=Cn?ot.theta=Math.max(wn,Math.min(Cn,ot.theta)):ot.theta=ot.theta>(wn+Cn)/2?Math.max(wn,ot.theta):Math.min(Cn,ot.theta)),ot.phi=Math.max(j.minPolarAngle,Math.min(j.maxPolarAngle,ot.phi)),ot.makeSafe(),ot.radius*=ct,ot.radius=Math.max(j.minDistance,Math.min(j.maxDistance,ot.radius)),j.enableDamping===!0?j.target.addScaledVector(ut,j.dampingFactor):j.target.add(ut),Wt.setFromSpherical(ot),Wt.applyQuaternion(_n),rn.copy(j.target).add(Wt),j.object.lookAt(j.target),j.enableDamping===!0?(at.theta*=1-j.dampingFactor,at.phi*=1-j.dampingFactor,ut.multiplyScalar(1-j.dampingFactor)):(at.set(0,0,0),ut.set(0,0,0)),ct=1,dt||En.distanceToSquared(j.object.position)>it||8*(1-Pn.dot(j.object.quaternion))>it?(j.dispatchEvent(_e),En.copy(j.object.position),Pn.copy(j.object.quaternion),dt=!1,!0):!1}})(),this.connect=Wt=>{Wt===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),j.domElement=Wt,j.domElement.style.touchAction="none",j.domElement.addEventListener("contextmenu",Ot),j.domElement.addEventListener("pointerdown",Rn),j.domElement.addEventListener("pointercancel",Un),j.domElement.addEventListener("wheel",jt)},this.dispose=()=>{var Wt,qt,_n,En,Pn,Hn;(Wt=j.domElement)===null||Wt===void 0||Wt.removeEventListener("contextmenu",Ot),(qt=j.domElement)===null||qt===void 0||qt.removeEventListener("pointerdown",Rn),(_n=j.domElement)===null||_n===void 0||_n.removeEventListener("pointercancel",Un),(En=j.domElement)===null||En===void 0||En.removeEventListener("wheel",jt),(Pn=j.domElement)===null||Pn===void 0||Pn.ownerDocument.removeEventListener("pointermove",Ln),(Hn=j.domElement)===null||Hn===void 0||Hn.ownerDocument.removeEventListener("pointerup",Fn),j._domElementKeyEvents!==null&&j._domElementKeyEvents.removeEventListener("keydown",un)};const j=this,_e={type:"change"},et={type:"start"},tt={type:"end"},nt={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let rt=nt.NONE;const it=1e-6,ot=new Spherical,at=new Spherical;let ct=1;const ut=new Vector3;let dt=!1;const ft=new Vector2,ht=new Vector2,pt=new Vector2,yt=new Vector2,gt=new Vector2,bt=new Vector2,At=new Vector2,Tt=new Vector2,Pt=new Vector2,Ct=[],It={};function Vt(){return 2*Math.PI/60/60*j.autoRotateSpeed}function Kt(){return Math.pow(.95,j.zoomSpeed)}function en(Wt){j.reverseOrbit?at.theta+=Wt:at.theta-=Wt}function kt(Wt){j.reverseOrbit?at.phi+=Wt:at.phi-=Wt}const vt=(()=>{const Wt=new Vector3;return function(_n,En){Wt.setFromMatrixColumn(En,0),Wt.multiplyScalar(-_n),ut.add(Wt)}})(),St=(()=>{const Wt=new Vector3;return function(_n,En){j.screenSpacePanning===!0?Wt.setFromMatrixColumn(En,1):(Wt.setFromMatrixColumn(En,0),Wt.crossVectors(j.object.up,Wt)),Wt.multiplyScalar(_n),ut.add(Wt)}})(),Lt=(()=>{const Wt=new Vector3;return function(_n,En){const Pn=j.domElement;if(Pn&&j.object instanceof PerspectiveCamera&&j.object.isPerspectiveCamera){const Hn=j.object.position;Wt.copy(Hn).sub(j.target);let On=Wt.length();On*=Math.tan(j.object.fov/2*Math.PI/180),vt(2*_n*On/Pn.clientHeight,j.object.matrix),St(2*En*On/Pn.clientHeight,j.object.matrix)}else Pn&&j.object instanceof OrthographicCamera&&j.object.isOrthographicCamera?(vt(_n*(j.object.right-j.object.left)/j.object.zoom/Pn.clientWidth,j.object.matrix),St(En*(j.object.top-j.object.bottom)/j.object.zoom/Pn.clientHeight,j.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),j.enablePan=!1)}})();function zt(Wt){j.object instanceof PerspectiveCamera&&j.object.isPerspectiveCamera?ct/=Wt:j.object instanceof OrthographicCamera&&j.object.isOrthographicCamera?(j.object.zoom=Math.max(j.minZoom,Math.min(j.maxZoom,j.object.zoom*Wt)),j.object.updateProjectionMatrix(),dt=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),j.enableZoom=!1)}function Rt(Wt){j.object instanceof PerspectiveCamera&&j.object.isPerspectiveCamera?ct*=Wt:j.object instanceof OrthographicCamera&&j.object.isOrthographicCamera?(j.object.zoom=Math.max(j.minZoom,Math.min(j.maxZoom,j.object.zoom/Wt)),j.object.updateProjectionMatrix(),dt=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),j.enableZoom=!1)}function $t(Wt){ft.set(Wt.clientX,Wt.clientY)}function Gt(Wt){At.set(Wt.clientX,Wt.clientY)}function Ft(Wt){yt.set(Wt.clientX,Wt.clientY)}function wt(Wt){ht.set(Wt.clientX,Wt.clientY),pt.subVectors(ht,ft).multiplyScalar(j.rotateSpeed);const qt=j.domElement;qt&&(en(2*Math.PI*pt.x/qt.clientHeight),kt(2*Math.PI*pt.y/qt.clientHeight)),ft.copy(ht),j.update()}function Ht(Wt){Tt.set(Wt.clientX,Wt.clientY),Pt.subVectors(Tt,At),Pt.y>0?zt(Kt()):Pt.y<0&&Rt(Kt()),At.copy(Tt),j.update()}function nn(Wt){gt.set(Wt.clientX,Wt.clientY),bt.subVectors(gt,yt).multiplyScalar(j.panSpeed),Lt(bt.x,bt.y),yt.copy(gt),j.update()}function Dt(Wt){Wt.deltaY<0?Rt(Kt()):Wt.deltaY>0&&zt(Kt()),j.update()}function Jt(Wt){let qt=!1;switch(Wt.code){case j.keys.UP:Lt(0,j.keyPanSpeed),qt=!0;break;case j.keys.BOTTOM:Lt(0,-j.keyPanSpeed),qt=!0;break;case j.keys.LEFT:Lt(j.keyPanSpeed,0),qt=!0;break;case j.keys.RIGHT:Lt(-j.keyPanSpeed,0),qt=!0;break}qt&&(Wt.preventDefault(),j.update())}function on(){if(Ct.length==1)ft.set(Ct[0].pageX,Ct[0].pageY);else{const Wt=.5*(Ct[0].pageX+Ct[1].pageX),qt=.5*(Ct[0].pageY+Ct[1].pageY);ft.set(Wt,qt)}}function sn(){if(Ct.length==1)yt.set(Ct[0].pageX,Ct[0].pageY);else{const Wt=.5*(Ct[0].pageX+Ct[1].pageX),qt=.5*(Ct[0].pageY+Ct[1].pageY);yt.set(Wt,qt)}}function dn(){const Wt=Ct[0].pageX-Ct[1].pageX,qt=Ct[0].pageY-Ct[1].pageY,_n=Math.sqrt(Wt*Wt+qt*qt);At.set(0,_n)}function mn(){j.enableZoom&&dn(),j.enablePan&&sn()}function ln(){j.enableZoom&&dn(),j.enableRotate&&on()}function tn(Wt){if(Ct.length==1)ht.set(Wt.pageX,Wt.pageY);else{const _n=Qt(Wt),En=.5*(Wt.pageX+_n.x),Pn=.5*(Wt.pageY+_n.y);ht.set(En,Pn)}pt.subVectors(ht,ft).multiplyScalar(j.rotateSpeed);const qt=j.domElement;qt&&(en(2*Math.PI*pt.x/qt.clientHeight),kt(2*Math.PI*pt.y/qt.clientHeight)),ft.copy(ht)}function cn(Wt){if(Ct.length==1)gt.set(Wt.pageX,Wt.pageY);else{const qt=Qt(Wt),_n=.5*(Wt.pageX+qt.x),En=.5*(Wt.pageY+qt.y);gt.set(_n,En)}bt.subVectors(gt,yt).multiplyScalar(j.panSpeed),Lt(bt.x,bt.y),yt.copy(gt)}function pn(Wt){const qt=Qt(Wt),_n=Wt.pageX-qt.x,En=Wt.pageY-qt.y,Pn=Math.sqrt(_n*_n+En*En);Tt.set(0,Pn),Pt.set(0,Math.pow(Tt.y/At.y,j.zoomSpeed)),zt(Pt.y),At.copy(Tt)}function Mn(Wt){j.enableZoom&&pn(Wt),j.enablePan&&cn(Wt)}function In(Wt){j.enableZoom&&pn(Wt),j.enableRotate&&tn(Wt)}function Rn(Wt){if(j.enabled!==!1){if(Ct.length===0){var qt,_n;(qt=j.domElement)===null||qt===void 0||qt.ownerDocument.addEventListener("pointermove",Ln),(_n=j.domElement)===null||_n===void 0||_n.ownerDocument.addEventListener("pointerup",Fn)}Mt(Wt),Wt.pointerType==="touch"?Tn(Wt):Nn(Wt)}}function Ln(Wt){j.enabled!==!1&&(Wt.pointerType==="touch"?Bn(Wt):Xt(Wt))}function Fn(Wt){if(Et(Wt),Ct.length===0){var qt,_n,En;(qt=j.domElement)===null||qt===void 0||qt.releasePointerCapture(Wt.pointerId),(_n=j.domElement)===null||_n===void 0||_n.ownerDocument.removeEventListener("pointermove",Ln),(En=j.domElement)===null||En===void 0||En.ownerDocument.removeEventListener("pointerup",Fn)}j.dispatchEvent(tt),rt=nt.NONE}function Un(Wt){Et(Wt)}function Nn(Wt){let qt;switch(Wt.button){case 0:qt=j.mouseButtons.LEFT;break;case 1:qt=j.mouseButtons.MIDDLE;break;case 2:qt=j.mouseButtons.RIGHT;break;default:qt=-1}switch(qt){case MOUSE.DOLLY:if(j.enableZoom===!1)return;Gt(Wt),rt=nt.DOLLY;break;case MOUSE.ROTATE:if(Wt.ctrlKey||Wt.metaKey||Wt.shiftKey){if(j.enablePan===!1)return;Ft(Wt),rt=nt.PAN}else{if(j.enableRotate===!1)return;$t(Wt),rt=nt.ROTATE}break;case MOUSE.PAN:if(Wt.ctrlKey||Wt.metaKey||Wt.shiftKey){if(j.enableRotate===!1)return;$t(Wt),rt=nt.ROTATE}else{if(j.enablePan===!1)return;Ft(Wt),rt=nt.PAN}break;default:rt=nt.NONE}rt!==nt.NONE&&j.dispatchEvent(et)}function Xt(Wt){if(j.enabled!==!1)switch(rt){case nt.ROTATE:if(j.enableRotate===!1)return;wt(Wt);break;case nt.DOLLY:if(j.enableZoom===!1)return;Ht(Wt);break;case nt.PAN:if(j.enablePan===!1)return;nn(Wt);break}}function jt(Wt){j.enabled===!1||j.enableZoom===!1||rt!==nt.NONE&&rt!==nt.ROTATE||(Wt.preventDefault(),j.dispatchEvent(et),Dt(Wt),j.dispatchEvent(tt))}function un(Wt){j.enabled===!1||j.enablePan===!1||Jt(Wt)}function Tn(Wt){switch(Ut(Wt),Ct.length){case 1:switch(j.touches.ONE){case TOUCH.ROTATE:if(j.enableRotate===!1)return;on(),rt=nt.TOUCH_ROTATE;break;case TOUCH.PAN:if(j.enablePan===!1)return;sn(),rt=nt.TOUCH_PAN;break;default:rt=nt.NONE}break;case 2:switch(j.touches.TWO){case TOUCH.DOLLY_PAN:if(j.enableZoom===!1&&j.enablePan===!1)return;mn(),rt=nt.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(j.enableZoom===!1&&j.enableRotate===!1)return;ln(),rt=nt.TOUCH_DOLLY_ROTATE;break;default:rt=nt.NONE}break;default:rt=nt.NONE}rt!==nt.NONE&&j.dispatchEvent(et)}function Bn(Wt){switch(Ut(Wt),rt){case nt.TOUCH_ROTATE:if(j.enableRotate===!1)return;tn(Wt),j.update();break;case nt.TOUCH_PAN:if(j.enablePan===!1)return;cn(Wt),j.update();break;case nt.TOUCH_DOLLY_PAN:if(j.enableZoom===!1&&j.enablePan===!1)return;Mn(Wt),j.update();break;case nt.TOUCH_DOLLY_ROTATE:if(j.enableZoom===!1&&j.enableRotate===!1)return;In(Wt),j.update();break;default:rt=nt.NONE}}function Ot(Wt){j.enabled!==!1&&Wt.preventDefault()}function Mt(Wt){Ct.push(Wt)}function Et(Wt){delete It[Wt.pointerId];for(let qt=0;qt<Ct.length;qt++)if(Ct[qt].pointerId==Wt.pointerId){Ct.splice(qt,1);return}}function Ut(Wt){let qt=It[Wt.pointerId];qt===void 0&&(qt=new Vector2,It[Wt.pointerId]=qt),qt.set(Wt.pageX,Wt.pageY)}function Qt(Wt){const qt=Wt.pointerId===Ct[0].pointerId?Ct[1]:Ct[0];return It[qt.pointerId]}a!==void 0&&this.connect(a),this.update()}};class GLTFLoader extends Loader{constructor(o){super(o),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(a){return new GLTFMaterialsClearcoatExtension(a)}),this.register(function(a){return new GLTFTextureBasisUExtension(a)}),this.register(function(a){return new GLTFTextureWebPExtension(a)}),this.register(function(a){return new GLTFMaterialsSheenExtension(a)}),this.register(function(a){return new GLTFMaterialsTransmissionExtension(a)}),this.register(function(a){return new GLTFMaterialsVolumeExtension(a)}),this.register(function(a){return new GLTFMaterialsIorExtension(a)}),this.register(function(a){return new GLTFMaterialsEmissiveStrengthExtension(a)}),this.register(function(a){return new GLTFMaterialsSpecularExtension(a)}),this.register(function(a){return new GLTFMaterialsIridescenceExtension(a)}),this.register(function(a){return new GLTFLightsExtension(a)}),this.register(function(a){return new GLTFMeshoptCompression(a)})}load(o,a,j,_e){const et=this;let tt;this.resourcePath!==""?tt=this.resourcePath:this.path!==""?tt=this.path:tt=LoaderUtils.extractUrlBase(o),this.manager.itemStart(o);const nt=function(it){_e?_e(it):console.error(it),et.manager.itemError(o),et.manager.itemEnd(o)},rt=new FileLoader(this.manager);rt.setPath(this.path),rt.setResponseType("arraybuffer"),rt.setRequestHeader(this.requestHeader),rt.setWithCredentials(this.withCredentials),rt.load(o,function(it){try{et.parse(it,tt,function(ot){a(ot),et.manager.itemEnd(o)},nt)}catch(ot){nt(ot)}},j,nt)}setDRACOLoader(o){return this.dracoLoader=o,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(o){return this.ktx2Loader=o,this}setMeshoptDecoder(o){return this.meshoptDecoder=o,this}register(o){return this.pluginCallbacks.indexOf(o)===-1&&this.pluginCallbacks.push(o),this}unregister(o){return this.pluginCallbacks.indexOf(o)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(o),1),this}parse(o,a,j,_e){let et;const tt={},nt={};if(typeof o=="string")et=o;else if(LoaderUtils.decodeText(new Uint8Array(o,0,4))===BINARY_EXTENSION_HEADER_MAGIC){try{tt[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension(o)}catch(at){_e&&_e(at);return}et=tt[EXTENSIONS.KHR_BINARY_GLTF].content}else et=LoaderUtils.decodeText(new Uint8Array(o));const rt=JSON.parse(et);if(rt.asset===void 0||rt.asset.version[0]<2){_e&&_e(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const it=new GLTFParser(rt,{path:a||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});it.fileLoader.setRequestHeader(this.requestHeader);for(let ot=0;ot<this.pluginCallbacks.length;ot++){const at=this.pluginCallbacks[ot](it);nt[at.name]=at,tt[at.name]=!0}if(rt.extensionsUsed)for(let ot=0;ot<rt.extensionsUsed.length;++ot){const at=rt.extensionsUsed[ot],ct=rt.extensionsRequired||[];switch(at){case EXTENSIONS.KHR_MATERIALS_UNLIT:tt[at]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:tt[at]=new GLTFMaterialsPbrSpecularGlossinessExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:tt[at]=new GLTFDracoMeshCompressionExtension(rt,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:tt[at]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:tt[at]=new GLTFMeshQuantizationExtension;break;default:ct.indexOf(at)>=0&&nt[at]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+at+'".')}}it.setExtensions(tt),it.setPlugins(nt),it.parse(j,_e)}parseAsync(o,a){const j=this;return new Promise(function(_e,et){j.parse(o,a,_e,et)})}}function GLTFRegistry(){let $={};return{get:function(o){return $[o]},add:function(o,a){$[o]=a},remove:function(o){delete $[o]},removeAll:function(){$={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class GLTFLightsExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const o=this.parser,a=this.parser.json.nodes||[];for(let j=0,_e=a.length;j<_e;j++){const et=a[j];et.extensions&&et.extensions[this.name]&&et.extensions[this.name].light!==void 0&&o._addNodeRef(this.cache,et.extensions[this.name].light)}}_loadLight(o){const a=this.parser,j="light:"+o;let _e=a.cache.get(j);if(_e)return _e;const et=a.json,rt=((et.extensions&&et.extensions[this.name]||{}).lights||[])[o];let it;const ot=new Color(16777215);rt.color!==void 0&&ot.fromArray(rt.color);const at=rt.range!==void 0?rt.range:0;switch(rt.type){case"directional":it=new DirectionalLight(ot),it.target.position.set(0,0,-1),it.add(it.target);break;case"point":it=new PointLight(ot),it.distance=at;break;case"spot":it=new SpotLight(ot),it.distance=at,rt.spot=rt.spot||{},rt.spot.innerConeAngle=rt.spot.innerConeAngle!==void 0?rt.spot.innerConeAngle:0,rt.spot.outerConeAngle=rt.spot.outerConeAngle!==void 0?rt.spot.outerConeAngle:Math.PI/4,it.angle=rt.spot.outerConeAngle,it.penumbra=1-rt.spot.innerConeAngle/rt.spot.outerConeAngle,it.target.position.set(0,0,-1),it.add(it.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+rt.type)}return it.position.set(0,0,0),it.decay=2,rt.intensity!==void 0&&(it.intensity=rt.intensity),it.name=a.createUniqueName(rt.name||"light_"+o),_e=Promise.resolve(it),a.cache.add(j,_e),_e}createNodeAttachment(o){const a=this,j=this.parser,et=j.json.nodes[o],nt=(et.extensions&&et.extensions[this.name]||{}).light;return nt===void 0?null:this._loadLight(nt).then(function(rt){return j._getNodeRef(a.cache,nt,rt)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial}extendParams(o,a,j){const _e=[];o.color=new Color(1,1,1),o.opacity=1;const et=a.pbrMetallicRoughness;if(et){if(Array.isArray(et.baseColorFactor)){const tt=et.baseColorFactor;o.color.fromArray(tt),o.opacity=tt[3]}et.baseColorTexture!==void 0&&_e.push(j.assignTexture(o,"map",et.baseColorTexture,sRGBEncoding))}return Promise.all(_e)}}class GLTFMaterialsEmissiveStrengthExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(o,a){const _e=this.parser.json.materials[o];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=_e.extensions[this.name].emissiveStrength;return et!==void 0&&(a.emissiveIntensity=et),Promise.resolve()}}class GLTFMaterialsClearcoatExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType(o){const j=this.parser.json.materials[o];return!j.extensions||!j.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,a){const j=this.parser,_e=j.json.materials[o];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[],tt=_e.extensions[this.name];if(tt.clearcoatFactor!==void 0&&(a.clearcoat=tt.clearcoatFactor),tt.clearcoatTexture!==void 0&&et.push(j.assignTexture(a,"clearcoatMap",tt.clearcoatTexture)),tt.clearcoatRoughnessFactor!==void 0&&(a.clearcoatRoughness=tt.clearcoatRoughnessFactor),tt.clearcoatRoughnessTexture!==void 0&&et.push(j.assignTexture(a,"clearcoatRoughnessMap",tt.clearcoatRoughnessTexture)),tt.clearcoatNormalTexture!==void 0&&(et.push(j.assignTexture(a,"clearcoatNormalMap",tt.clearcoatNormalTexture)),tt.clearcoatNormalTexture.scale!==void 0)){const nt=tt.clearcoatNormalTexture.scale;a.clearcoatNormalScale=new Vector2(nt,nt)}return Promise.all(et)}}class GLTFMaterialsIridescenceExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_IRIDESCENCE}getMaterialType(o){const j=this.parser.json.materials[o];return!j.extensions||!j.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,a){const j=this.parser,_e=j.json.materials[o];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[],tt=_e.extensions[this.name];return tt.iridescenceFactor!==void 0&&(a.iridescence=tt.iridescenceFactor),tt.iridescenceTexture!==void 0&&et.push(j.assignTexture(a,"iridescenceMap",tt.iridescenceTexture)),tt.iridescenceIor!==void 0&&(a.iridescenceIOR=tt.iridescenceIor),a.iridescenceThicknessRange===void 0&&(a.iridescenceThicknessRange=[100,400]),tt.iridescenceThicknessMinimum!==void 0&&(a.iridescenceThicknessRange[0]=tt.iridescenceThicknessMinimum),tt.iridescenceThicknessMaximum!==void 0&&(a.iridescenceThicknessRange[1]=tt.iridescenceThicknessMaximum),tt.iridescenceThicknessTexture!==void 0&&et.push(j.assignTexture(a,"iridescenceThicknessMap",tt.iridescenceThicknessTexture)),Promise.all(et)}}class GLTFMaterialsSheenExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType(o){const j=this.parser.json.materials[o];return!j.extensions||!j.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,a){const j=this.parser,_e=j.json.materials[o];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[];a.sheenColor=new Color(0,0,0),a.sheenRoughness=0,a.sheen=1;const tt=_e.extensions[this.name];return tt.sheenColorFactor!==void 0&&a.sheenColor.fromArray(tt.sheenColorFactor),tt.sheenRoughnessFactor!==void 0&&(a.sheenRoughness=tt.sheenRoughnessFactor),tt.sheenColorTexture!==void 0&&et.push(j.assignTexture(a,"sheenColorMap",tt.sheenColorTexture,sRGBEncoding)),tt.sheenRoughnessTexture!==void 0&&et.push(j.assignTexture(a,"sheenRoughnessMap",tt.sheenRoughnessTexture)),Promise.all(et)}}class GLTFMaterialsTransmissionExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType(o){const j=this.parser.json.materials[o];return!j.extensions||!j.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,a){const j=this.parser,_e=j.json.materials[o];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[],tt=_e.extensions[this.name];return tt.transmissionFactor!==void 0&&(a.transmission=tt.transmissionFactor),tt.transmissionTexture!==void 0&&et.push(j.assignTexture(a,"transmissionMap",tt.transmissionTexture)),Promise.all(et)}}class GLTFMaterialsVolumeExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType(o){const j=this.parser.json.materials[o];return!j.extensions||!j.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,a){const j=this.parser,_e=j.json.materials[o];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[],tt=_e.extensions[this.name];a.thickness=tt.thicknessFactor!==void 0?tt.thicknessFactor:0,tt.thicknessTexture!==void 0&&et.push(j.assignTexture(a,"thicknessMap",tt.thicknessTexture)),a.attenuationDistance=tt.attenuationDistance||1/0;const nt=tt.attenuationColor||[1,1,1];return a.attenuationColor=new Color(nt[0],nt[1],nt[2]),Promise.all(et)}}class GLTFMaterialsIorExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType(o){const j=this.parser.json.materials[o];return!j.extensions||!j.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,a){const _e=this.parser.json.materials[o];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=_e.extensions[this.name];return a.ior=et.ior!==void 0?et.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType(o){const j=this.parser.json.materials[o];return!j.extensions||!j.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(o,a){const j=this.parser,_e=j.json.materials[o];if(!_e.extensions||!_e.extensions[this.name])return Promise.resolve();const et=[],tt=_e.extensions[this.name];a.specularIntensity=tt.specularFactor!==void 0?tt.specularFactor:1,tt.specularTexture!==void 0&&et.push(j.assignTexture(a,"specularIntensityMap",tt.specularTexture));const nt=tt.specularColorFactor||[1,1,1];return a.specularColor=new Color(nt[0],nt[1],nt[2]),tt.specularColorTexture!==void 0&&et.push(j.assignTexture(a,"specularColorMap",tt.specularColorTexture,sRGBEncoding)),Promise.all(et)}}class GLTFTextureBasisUExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture(o){const a=this.parser,j=a.json,_e=j.textures[o];if(!_e.extensions||!_e.extensions[this.name])return null;const et=_e.extensions[this.name],tt=a.options.ktx2Loader;if(!tt){if(j.extensionsRequired&&j.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return a.loadTextureImage(o,et.source,tt)}}class GLTFTextureWebPExtension{constructor(o){this.parser=o,this.name=EXTENSIONS.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(o){const a=this.name,j=this.parser,_e=j.json,et=_e.textures[o];if(!et.extensions||!et.extensions[a])return null;const tt=et.extensions[a],nt=_e.images[tt.source];let rt=j.textureLoader;if(nt.uri){const it=j.options.manager.getHandler(nt.uri);it!==null&&(rt=it)}return this.detectSupport().then(function(it){if(it)return j.loadTextureImage(o,tt.source,rt);if(_e.extensionsRequired&&_e.extensionsRequired.indexOf(a)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return j.loadTexture(o)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(o){const a=new Image;a.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",a.onload=a.onerror=function(){o(a.height===1)}})),this.isSupported}}class GLTFMeshoptCompression{constructor(o){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=o}loadBufferView(o){const a=this.parser.json,j=a.bufferViews[o];if(j.extensions&&j.extensions[this.name]){const _e=j.extensions[this.name],et=this.parser.getDependency("buffer",_e.buffer),tt=this.parser.options.meshoptDecoder;if(!tt||!tt.supported){if(a.extensionsRequired&&a.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return et.then(function(nt){const rt=_e.byteOffset||0,it=_e.byteLength||0,ot=_e.count,at=_e.byteStride,ct=new Uint8Array(nt,rt,it);return tt.decodeGltfBufferAsync?tt.decodeGltfBufferAsync(ot,at,ct,_e.mode,_e.filter).then(function(ut){return ut.buffer}):tt.ready.then(function(){const ut=new ArrayBuffer(ot*at);return tt.decodeGltfBuffer(new Uint8Array(ut),ot,at,ct,_e.mode,_e.filter),ut})})}else return null}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor(o){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const a=new DataView(o,0,BINARY_EXTENSION_HEADER_LENGTH);if(this.header={magic:LoaderUtils.decodeText(new Uint8Array(o.slice(0,4))),version:a.getUint32(4,!0),length:a.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const j=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,_e=new DataView(o,BINARY_EXTENSION_HEADER_LENGTH);let et=0;for(;et<j;){const tt=_e.getUint32(et,!0);et+=4;const nt=_e.getUint32(et,!0);if(et+=4,nt===BINARY_EXTENSION_CHUNK_TYPES.JSON){const rt=new Uint8Array(o,BINARY_EXTENSION_HEADER_LENGTH+et,tt);this.content=LoaderUtils.decodeText(rt)}else if(nt===BINARY_EXTENSION_CHUNK_TYPES.BIN){const rt=BINARY_EXTENSION_HEADER_LENGTH+et;this.body=o.slice(rt,rt+tt)}et+=tt}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor(o,a){if(!a)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=o,this.dracoLoader=a,this.dracoLoader.preload()}decodePrimitive(o,a){const j=this.json,_e=this.dracoLoader,et=o.extensions[this.name].bufferView,tt=o.extensions[this.name].attributes,nt={},rt={},it={};for(const ot in tt){const at=ATTRIBUTES[ot]||ot.toLowerCase();nt[at]=tt[ot]}for(const ot in o.attributes){const at=ATTRIBUTES[ot]||ot.toLowerCase();if(tt[ot]!==void 0){const ct=j.accessors[o.attributes[ot]],ut=WEBGL_COMPONENT_TYPES[ct.componentType];it[at]=ut.name,rt[at]=ct.normalized===!0}}return a.getDependency("bufferView",et).then(function(ot){return new Promise(function(at){_e.decodeDracoFile(ot,function(ct){for(const ut in ct.attributes){const dt=ct.attributes[ut],ft=rt[ut];ft!==void 0&&(dt.normalized=ft)}at(ct)},nt,it)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture(o,a){return a.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),a.offset===void 0&&a.rotation===void 0&&a.scale===void 0||(o=o.clone(),a.offset!==void 0&&o.offset.fromArray(a.offset),a.rotation!==void 0&&(o.rotation=a.rotation),a.scale!==void 0&&o.repeat.fromArray(a.scale),o.needsUpdate=!0),o}}class GLTFMeshStandardSGMaterial extends MeshStandardMaterial{constructor(o){super(),this.isGLTFSpecularGlossinessMaterial=!0;const a=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),j=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),_e=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),et=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),tt=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),nt={specular:{value:new Color().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=nt,this.onBeforeCompile=function(rt){for(const it in nt)rt.uniforms[it]=nt[it];rt.fragmentShader=rt.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",a).replace("#include <metalnessmap_pars_fragment>",j).replace("#include <roughnessmap_fragment>",_e).replace("#include <metalnessmap_fragment>",et).replace("#include <lights_physical_fragment>",tt)},Object.defineProperties(this,{specular:{get:function(){return nt.specular.value},set:function(rt){nt.specular.value=rt}},specularMap:{get:function(){return nt.specularMap.value},set:function(rt){nt.specularMap.value=rt,rt?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return nt.glossiness.value},set:function(rt){nt.glossiness.value=rt}},glossinessMap:{get:function(){return nt.glossinessMap.value},set:function(rt){nt.glossinessMap.value=rt,rt?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(o)}copy(o){return super.copy(o),this.specularMap=o.specularMap,this.specular.copy(o.specular),this.glossinessMap=o.glossinessMap,this.glossiness=o.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class GLTFMaterialsPbrSpecularGlossinessExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return GLTFMeshStandardSGMaterial}extendParams(o,a,j){const _e=a.extensions[this.name];o.color=new Color(1,1,1),o.opacity=1;const et=[];if(Array.isArray(_e.diffuseFactor)){const tt=_e.diffuseFactor;o.color.fromArray(tt),o.opacity=tt[3]}if(_e.diffuseTexture!==void 0&&et.push(j.assignTexture(o,"map",_e.diffuseTexture,sRGBEncoding)),o.emissive=new Color(0,0,0),o.glossiness=_e.glossinessFactor!==void 0?_e.glossinessFactor:1,o.specular=new Color(1,1,1),Array.isArray(_e.specularFactor)&&o.specular.fromArray(_e.specularFactor),_e.specularGlossinessTexture!==void 0){const tt=_e.specularGlossinessTexture;et.push(j.assignTexture(o,"glossinessMap",tt)),et.push(j.assignTexture(o,"specularMap",tt,sRGBEncoding))}return Promise.all(et)}createMaterial(o){const a=new GLTFMeshStandardSGMaterial(o);return a.fog=!0,a.color=o.color,a.map=o.map===void 0?null:o.map,a.lightMap=null,a.lightMapIntensity=1,a.aoMap=o.aoMap===void 0?null:o.aoMap,a.aoMapIntensity=1,a.emissive=o.emissive,a.emissiveIntensity=o.emissiveIntensity===void 0?1:o.emissiveIntensity,a.emissiveMap=o.emissiveMap===void 0?null:o.emissiveMap,a.bumpMap=o.bumpMap===void 0?null:o.bumpMap,a.bumpScale=1,a.normalMap=o.normalMap===void 0?null:o.normalMap,a.normalMapType=TangentSpaceNormalMap,o.normalScale&&(a.normalScale=o.normalScale),a.displacementMap=null,a.displacementScale=1,a.displacementBias=0,a.specularMap=o.specularMap===void 0?null:o.specularMap,a.specular=o.specular,a.glossinessMap=o.glossinessMap===void 0?null:o.glossinessMap,a.glossiness=o.glossiness,a.alphaMap=null,a.envMap=o.envMap===void 0?null:o.envMap,a.envMapIntensity=1,a.refractionRatio=.98,a}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant{constructor(o,a,j,_e){super(o,a,j,_e)}copySampleValue_(o){const a=this.resultBuffer,j=this.sampleValues,_e=this.valueSize,et=o*_e*3+_e;for(let tt=0;tt!==_e;tt++)a[tt]=j[et+tt];return a}interpolate_(o,a,j,_e){const et=this.resultBuffer,tt=this.sampleValues,nt=this.valueSize,rt=nt*2,it=nt*3,ot=_e-a,at=(j-a)/ot,ct=at*at,ut=ct*at,dt=o*it,ft=dt-it,ht=-2*ut+3*ct,pt=ut-ct,yt=1-ht,gt=pt-ct+at;for(let bt=0;bt!==nt;bt++){const At=tt[ft+bt+nt],Tt=tt[ft+bt+rt]*ot,Pt=tt[dt+bt+nt],Ct=tt[dt+bt]*ot;et[bt]=yt*At+gt*Tt+ht*Pt+pt*Ct}return et}}const _q=new Quaternion;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_(o,a,j,_e){const et=super.interpolate_(o,a,j,_e);return _q.fromArray(et).normalize().toArray(et),et}}const WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter,9729:LinearFilter,9984:NearestMipmapNearestFilter,9985:LinearMipmapNearestFilter,9986:NearestMipmapLinearFilter,9987:LinearMipmapLinearFilter},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping,33648:MirroredRepeatWrapping,10497:RepeatWrapping},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear,STEP:InterpolateDiscrete},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial($){return $.DefaultMaterial===void 0&&($.DefaultMaterial=new MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide})),$.DefaultMaterial}function addUnknownExtensionsToUserData($,o,a){for(const j in a.extensions)$[j]===void 0&&(o.userData.gltfExtensions=o.userData.gltfExtensions||{},o.userData.gltfExtensions[j]=a.extensions[j])}function assignExtrasToUserData($,o){o.extras!==void 0&&(typeof o.extras=="object"?Object.assign($.userData,o.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+o.extras))}function addMorphTargets($,o,a){let j=!1,_e=!1,et=!1;for(let it=0,ot=o.length;it<ot;it++){const at=o[it];if(at.POSITION!==void 0&&(j=!0),at.NORMAL!==void 0&&(_e=!0),at.COLOR_0!==void 0&&(et=!0),j&&_e&&et)break}if(!j&&!_e&&!et)return Promise.resolve($);const tt=[],nt=[],rt=[];for(let it=0,ot=o.length;it<ot;it++){const at=o[it];if(j){const ct=at.POSITION!==void 0?a.getDependency("accessor",at.POSITION):$.attributes.position;tt.push(ct)}if(_e){const ct=at.NORMAL!==void 0?a.getDependency("accessor",at.NORMAL):$.attributes.normal;nt.push(ct)}if(et){const ct=at.COLOR_0!==void 0?a.getDependency("accessor",at.COLOR_0):$.attributes.color;rt.push(ct)}}return Promise.all([Promise.all(tt),Promise.all(nt),Promise.all(rt)]).then(function(it){const ot=it[0],at=it[1],ct=it[2];return j&&($.morphAttributes.position=ot),_e&&($.morphAttributes.normal=at),et&&($.morphAttributes.color=ct),$.morphTargetsRelative=!0,$})}function updateMorphTargets($,o){if($.updateMorphTargets(),o.weights!==void 0)for(let a=0,j=o.weights.length;a<j;a++)$.morphTargetInfluences[a]=o.weights[a];if(o.extras&&Array.isArray(o.extras.targetNames)){const a=o.extras.targetNames;if($.morphTargetInfluences.length===a.length){$.morphTargetDictionary={};for(let j=0,_e=a.length;j<_e;j++)$.morphTargetDictionary[a[j]]=j}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey($){const o=$.extensions&&$.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];let a;return o?a="draco:"+o.bufferView+":"+o.indices+":"+createAttributesKey(o.attributes):a=$.indices+":"+createAttributesKey($.attributes)+":"+$.mode,a}function createAttributesKey($){let o="";const a=Object.keys($).sort();for(let j=0,_e=a.length;j<_e;j++)o+=a[j]+":"+$[a[j]]+";";return o}function getNormalizedComponentScale($){switch($){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType($){return $.search(/\.jpe?g($|\?)/i)>0||$.search(/^data\:image\/jpeg/)===0?"image/jpeg":$.search(/\.webp($|\?)/i)>0||$.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class GLTFParser{constructor(o={},a={}){var j,_e;this.json=o,this.extensions={},this.plugins={},this.options=a,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const et=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,tt=typeof navigator<"u"&&((j=navigator.userAgent)===null||j===void 0?void 0:j.indexOf("Firefox"))>-1,nt=typeof navigator<"u"&&tt?(_e=navigator.userAgent)===null||_e===void 0?void 0:_e.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||et||tt&&nt<98?this.textureLoader=new TextureLoader(this.options.manager):this.textureLoader=new ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(o){this.extensions=o}setPlugins(o){this.plugins=o}parse(o,a){const j=this,_e=this.json,et=this.extensions;this.cache.removeAll(),this._invokeAll(function(tt){return tt._markDefs&&tt._markDefs()}),Promise.all(this._invokeAll(function(tt){return tt.beforeRoot&&tt.beforeRoot()})).then(function(){return Promise.all([j.getDependencies("scene"),j.getDependencies("animation"),j.getDependencies("camera")])}).then(function(tt){const nt={scene:tt[0][_e.scene||0],scenes:tt[0],animations:tt[1],cameras:tt[2],asset:_e.asset,parser:j,userData:{}};addUnknownExtensionsToUserData(et,nt,_e),assignExtrasToUserData(nt,_e),Promise.all(j._invokeAll(function(rt){return rt.afterRoot&&rt.afterRoot(nt)})).then(function(){o(nt)})}).catch(a)}_markDefs(){const o=this.json.nodes||[],a=this.json.skins||[],j=this.json.meshes||[];for(let _e=0,et=a.length;_e<et;_e++){const tt=a[_e].joints;for(let nt=0,rt=tt.length;nt<rt;nt++)o[tt[nt]].isBone=!0}for(let _e=0,et=o.length;_e<et;_e++){const tt=o[_e];tt.mesh!==void 0&&(this._addNodeRef(this.meshCache,tt.mesh),tt.skin!==void 0&&(j[tt.mesh].isSkinnedMesh=!0)),tt.camera!==void 0&&this._addNodeRef(this.cameraCache,tt.camera)}}_addNodeRef(o,a){a!==void 0&&(o.refs[a]===void 0&&(o.refs[a]=o.uses[a]=0),o.refs[a]++)}_getNodeRef(o,a,j){if(o.refs[a]<=1)return j;const _e=j.clone(),et=(tt,nt)=>{const rt=this.associations.get(tt);rt!=null&&this.associations.set(nt,rt);for(const[it,ot]of tt.children.entries())et(ot,nt.children[it])};return et(j,_e),_e.name+="_instance_"+o.uses[a]++,_e}_invokeOne(o){const a=Object.values(this.plugins);a.push(this);for(let j=0;j<a.length;j++){const _e=o(a[j]);if(_e)return _e}return null}_invokeAll(o){const a=Object.values(this.plugins);a.unshift(this);const j=[];for(let _e=0;_e<a.length;_e++){const et=o(a[_e]);et&&j.push(et)}return j}getDependency(o,a){const j=o+":"+a;let _e=this.cache.get(j);if(!_e){switch(o){case"scene":_e=this.loadScene(a);break;case"node":_e=this.loadNode(a);break;case"mesh":_e=this._invokeOne(function(et){return et.loadMesh&&et.loadMesh(a)});break;case"accessor":_e=this.loadAccessor(a);break;case"bufferView":_e=this._invokeOne(function(et){return et.loadBufferView&&et.loadBufferView(a)});break;case"buffer":_e=this.loadBuffer(a);break;case"material":_e=this._invokeOne(function(et){return et.loadMaterial&&et.loadMaterial(a)});break;case"texture":_e=this._invokeOne(function(et){return et.loadTexture&&et.loadTexture(a)});break;case"skin":_e=this.loadSkin(a);break;case"animation":_e=this._invokeOne(function(et){return et.loadAnimation&&et.loadAnimation(a)});break;case"camera":_e=this.loadCamera(a);break;default:throw new Error("Unknown type: "+o)}this.cache.add(j,_e)}return _e}getDependencies(o){let a=this.cache.get(o);if(!a){const j=this,_e=this.json[o+(o==="mesh"?"es":"s")]||[];a=Promise.all(_e.map(function(et,tt){return j.getDependency(o,tt)})),this.cache.add(o,a)}return a}loadBuffer(o){const a=this.json.buffers[o],j=this.fileLoader;if(a.type&&a.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+a.type+" buffer type is not supported.");if(a.uri===void 0&&o===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const _e=this.options;return new Promise(function(et,tt){j.load(LoaderUtils.resolveURL(a.uri,_e.path),et,void 0,function(){tt(new Error('THREE.GLTFLoader: Failed to load buffer "'+a.uri+'".'))})})}loadBufferView(o){const a=this.json.bufferViews[o];return this.getDependency("buffer",a.buffer).then(function(j){const _e=a.byteLength||0,et=a.byteOffset||0;return j.slice(et,et+_e)})}loadAccessor(o){const a=this,j=this.json,_e=this.json.accessors[o];if(_e.bufferView===void 0&&_e.sparse===void 0)return Promise.resolve(null);const et=[];return _e.bufferView!==void 0?et.push(this.getDependency("bufferView",_e.bufferView)):et.push(null),_e.sparse!==void 0&&(et.push(this.getDependency("bufferView",_e.sparse.indices.bufferView)),et.push(this.getDependency("bufferView",_e.sparse.values.bufferView))),Promise.all(et).then(function(tt){const nt=tt[0],rt=WEBGL_TYPE_SIZES[_e.type],it=WEBGL_COMPONENT_TYPES[_e.componentType],ot=it.BYTES_PER_ELEMENT,at=ot*rt,ct=_e.byteOffset||0,ut=_e.bufferView!==void 0?j.bufferViews[_e.bufferView].byteStride:void 0,dt=_e.normalized===!0;let ft,ht;if(ut&&ut!==at){const pt=Math.floor(ct/ut),yt="InterleavedBuffer:"+_e.bufferView+":"+_e.componentType+":"+pt+":"+_e.count;let gt=a.cache.get(yt);gt||(ft=new it(nt,pt*ut,_e.count*ut/ot),gt=new InterleavedBuffer(ft,ut/ot),a.cache.add(yt,gt)),ht=new InterleavedBufferAttribute(gt,rt,ct%ut/ot,dt)}else nt===null?ft=new it(_e.count*rt):ft=new it(nt,ct,_e.count*rt),ht=new BufferAttribute(ft,rt,dt);if(_e.sparse!==void 0){const pt=WEBGL_TYPE_SIZES.SCALAR,yt=WEBGL_COMPONENT_TYPES[_e.sparse.indices.componentType],gt=_e.sparse.indices.byteOffset||0,bt=_e.sparse.values.byteOffset||0,At=new yt(tt[1],gt,_e.sparse.count*pt),Tt=new it(tt[2],bt,_e.sparse.count*rt);nt!==null&&(ht=new BufferAttribute(ht.array.slice(),ht.itemSize,ht.normalized));for(let Pt=0,Ct=At.length;Pt<Ct;Pt++){const It=At[Pt];if(ht.setX(It,Tt[Pt*rt]),rt>=2&&ht.setY(It,Tt[Pt*rt+1]),rt>=3&&ht.setZ(It,Tt[Pt*rt+2]),rt>=4&&ht.setW(It,Tt[Pt*rt+3]),rt>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return ht})}loadTexture(o){const a=this.json,j=this.options,et=a.textures[o].source,tt=a.images[et];let nt=this.textureLoader;if(tt.uri){const rt=j.manager.getHandler(tt.uri);rt!==null&&(nt=rt)}return this.loadTextureImage(o,et,nt)}loadTextureImage(o,a,j){const _e=this,et=this.json,tt=et.textures[o],nt=et.images[a],rt=(nt.uri||nt.bufferView)+":"+tt.sampler;if(this.textureCache[rt])return this.textureCache[rt];const it=this.loadImageSource(a,j).then(function(ot){ot.flipY=!1,tt.name&&(ot.name=tt.name);const ct=(et.samplers||{})[tt.sampler]||{};return ot.magFilter=WEBGL_FILTERS[ct.magFilter]||LinearFilter,ot.minFilter=WEBGL_FILTERS[ct.minFilter]||LinearMipmapLinearFilter,ot.wrapS=WEBGL_WRAPPINGS[ct.wrapS]||RepeatWrapping,ot.wrapT=WEBGL_WRAPPINGS[ct.wrapT]||RepeatWrapping,_e.associations.set(ot,{textures:o}),ot}).catch(function(){return null});return this.textureCache[rt]=it,it}loadImageSource(o,a){const j=this,_e=this.json,et=this.options;if(this.sourceCache[o]!==void 0)return this.sourceCache[o].then(at=>at.clone());const tt=_e.images[o],nt=self.URL||self.webkitURL;let rt=tt.uri||"",it=!1;if(tt.bufferView!==void 0)rt=j.getDependency("bufferView",tt.bufferView).then(function(at){it=!0;const ct=new Blob([at],{type:tt.mimeType});return rt=nt.createObjectURL(ct),rt});else if(tt.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+o+" is missing URI and bufferView");const ot=Promise.resolve(rt).then(function(at){return new Promise(function(ct,ut){let dt=ct;a.isImageBitmapLoader===!0&&(dt=function(ft){const ht=new Texture(ft);ht.needsUpdate=!0,ct(ht)}),a.load(LoaderUtils.resolveURL(at,et.path),dt,void 0,ut)})}).then(function(at){return it===!0&&nt.revokeObjectURL(rt),at.userData.mimeType=tt.mimeType||getImageURIMimeType(tt.uri),at}).catch(function(at){throw console.error("THREE.GLTFLoader: Couldn't load texture",rt),at});return this.sourceCache[o]=ot,ot}assignTexture(o,a,j,_e){const et=this;return this.getDependency("texture",j.index).then(function(tt){if(j.texCoord!==void 0&&j.texCoord!=0&&!(a==="aoMap"&&j.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+j.texCoord+" for texture "+a+" not yet supported."),et.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const nt=j.extensions!==void 0?j.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(nt){const rt=et.associations.get(tt);tt=et.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(tt,nt),et.associations.set(tt,rt)}}return _e!==void 0&&(tt.encoding=_e),o[a]=tt,tt})}assignFinalMaterial(o){const a=o.geometry;let j=o.material;const _e=a.attributes.tangent===void 0,et=a.attributes.color!==void 0,tt=a.attributes.normal===void 0;if(o.isPoints){const nt="PointsMaterial:"+j.uuid;let rt=this.cache.get(nt);rt||(rt=new PointsMaterial,Material.prototype.copy.call(rt,j),rt.color.copy(j.color),rt.map=j.map,rt.sizeAttenuation=!1,this.cache.add(nt,rt)),j=rt}else if(o.isLine){const nt="LineBasicMaterial:"+j.uuid;let rt=this.cache.get(nt);rt||(rt=new LineBasicMaterial,Material.prototype.copy.call(rt,j),rt.color.copy(j.color),this.cache.add(nt,rt)),j=rt}if(_e||et||tt){let nt="ClonedMaterial:"+j.uuid+":";j.isGLTFSpecularGlossinessMaterial&&(nt+="specular-glossiness:"),_e&&(nt+="derivative-tangents:"),et&&(nt+="vertex-colors:"),tt&&(nt+="flat-shading:");let rt=this.cache.get(nt);rt||(rt=j.clone(),et&&(rt.vertexColors=!0),tt&&(rt.flatShading=!0),_e&&(rt.normalScale&&(rt.normalScale.y*=-1),rt.clearcoatNormalScale&&(rt.clearcoatNormalScale.y*=-1)),this.cache.add(nt,rt),this.associations.set(rt,this.associations.get(j))),j=rt}j.aoMap&&a.attributes.uv2===void 0&&a.attributes.uv!==void 0&&a.setAttribute("uv2",a.attributes.uv),o.material=j}getMaterialType(){return MeshStandardMaterial}loadMaterial(o){const a=this,j=this.json,_e=this.extensions,et=j.materials[o];let tt;const nt={},rt=et.extensions||{},it=[];if(rt[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const at=_e[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];tt=at.getMaterialType(),it.push(at.extendParams(nt,et,a))}else if(rt[EXTENSIONS.KHR_MATERIALS_UNLIT]){const at=_e[EXTENSIONS.KHR_MATERIALS_UNLIT];tt=at.getMaterialType(),it.push(at.extendParams(nt,et,a))}else{const at=et.pbrMetallicRoughness||{};if(nt.color=new Color(1,1,1),nt.opacity=1,Array.isArray(at.baseColorFactor)){const ct=at.baseColorFactor;nt.color.fromArray(ct),nt.opacity=ct[3]}at.baseColorTexture!==void 0&&it.push(a.assignTexture(nt,"map",at.baseColorTexture,sRGBEncoding)),nt.metalness=at.metallicFactor!==void 0?at.metallicFactor:1,nt.roughness=at.roughnessFactor!==void 0?at.roughnessFactor:1,at.metallicRoughnessTexture!==void 0&&(it.push(a.assignTexture(nt,"metalnessMap",at.metallicRoughnessTexture)),it.push(a.assignTexture(nt,"roughnessMap",at.metallicRoughnessTexture))),tt=this._invokeOne(function(ct){return ct.getMaterialType&&ct.getMaterialType(o)}),it.push(Promise.all(this._invokeAll(function(ct){return ct.extendMaterialParams&&ct.extendMaterialParams(o,nt)})))}et.doubleSided===!0&&(nt.side=DoubleSide);const ot=et.alphaMode||ALPHA_MODES.OPAQUE;if(ot===ALPHA_MODES.BLEND?(nt.transparent=!0,nt.depthWrite=!1):(nt.transparent=!1,ot===ALPHA_MODES.MASK&&(nt.alphaTest=et.alphaCutoff!==void 0?et.alphaCutoff:.5)),et.normalTexture!==void 0&&tt!==MeshBasicMaterial&&(it.push(a.assignTexture(nt,"normalMap",et.normalTexture)),nt.normalScale=new Vector2(1,1),et.normalTexture.scale!==void 0)){const at=et.normalTexture.scale;nt.normalScale.set(at,at)}return et.occlusionTexture!==void 0&&tt!==MeshBasicMaterial&&(it.push(a.assignTexture(nt,"aoMap",et.occlusionTexture)),et.occlusionTexture.strength!==void 0&&(nt.aoMapIntensity=et.occlusionTexture.strength)),et.emissiveFactor!==void 0&&tt!==MeshBasicMaterial&&(nt.emissive=new Color().fromArray(et.emissiveFactor)),et.emissiveTexture!==void 0&&tt!==MeshBasicMaterial&&it.push(a.assignTexture(nt,"emissiveMap",et.emissiveTexture,sRGBEncoding)),Promise.all(it).then(function(){let at;return tt===GLTFMeshStandardSGMaterial?at=_e[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(nt):at=new tt(nt),et.name&&(at.name=et.name),assignExtrasToUserData(at,et),a.associations.set(at,{materials:o}),et.extensions&&addUnknownExtensionsToUserData(_e,at,et),at})}createUniqueName(o){const a=PropertyBinding.sanitizeNodeName(o||"");let j=a;for(let _e=1;this.nodeNamesUsed[j];++_e)j=a+"_"+_e;return this.nodeNamesUsed[j]=!0,j}loadGeometries(o){const a=this,j=this.extensions,_e=this.primitiveCache;function et(nt){return j[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(nt,a).then(function(rt){return addPrimitiveAttributes(rt,nt,a)})}const tt=[];for(let nt=0,rt=o.length;nt<rt;nt++){const it=o[nt],ot=createPrimitiveKey(it),at=_e[ot];if(at)tt.push(at.promise);else{let ct;it.extensions&&it.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?ct=et(it):ct=addPrimitiveAttributes(new BufferGeometry,it,a),_e[ot]={primitive:it,promise:ct},tt.push(ct)}}return Promise.all(tt)}loadMesh(o){const a=this,j=this.json,_e=this.extensions,et=j.meshes[o],tt=et.primitives,nt=[];for(let rt=0,it=tt.length;rt<it;rt++){const ot=tt[rt].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",tt[rt].material);nt.push(ot)}return nt.push(a.loadGeometries(tt)),Promise.all(nt).then(function(rt){const it=rt.slice(0,rt.length-1),ot=rt[rt.length-1],at=[];for(let ut=0,dt=ot.length;ut<dt;ut++){const ft=ot[ut],ht=tt[ut];let pt;const yt=it[ut];if(ht.mode===WEBGL_CONSTANTS.TRIANGLES||ht.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||ht.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||ht.mode===void 0)pt=et.isSkinnedMesh===!0?new SkinnedMesh(ft,yt):new Mesh(ft,yt),pt.isSkinnedMesh===!0&&!pt.geometry.attributes.skinWeight.normalized&&pt.normalizeSkinWeights(),ht.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?pt.geometry=toTrianglesDrawMode(pt.geometry,TriangleStripDrawMode):ht.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(pt.geometry=toTrianglesDrawMode(pt.geometry,TriangleFanDrawMode));else if(ht.mode===WEBGL_CONSTANTS.LINES)pt=new LineSegments(ft,yt);else if(ht.mode===WEBGL_CONSTANTS.LINE_STRIP)pt=new Line(ft,yt);else if(ht.mode===WEBGL_CONSTANTS.LINE_LOOP)pt=new LineLoop(ft,yt);else if(ht.mode===WEBGL_CONSTANTS.POINTS)pt=new Points$1(ft,yt);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+ht.mode);Object.keys(pt.geometry.morphAttributes).length>0&&updateMorphTargets(pt,et),pt.name=a.createUniqueName(et.name||"mesh_"+o),assignExtrasToUserData(pt,et),ht.extensions&&addUnknownExtensionsToUserData(_e,pt,ht),a.assignFinalMaterial(pt),at.push(pt)}for(let ut=0,dt=at.length;ut<dt;ut++)a.associations.set(at[ut],{meshes:o,primitives:ut});if(at.length===1)return at[0];const ct=new Group;a.associations.set(ct,{meshes:o});for(let ut=0,dt=at.length;ut<dt;ut++)ct.add(at[ut]);return ct})}loadCamera(o){let a;const j=this.json.cameras[o],_e=j[j.type];if(!_e){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return j.type==="perspective"?a=new PerspectiveCamera(MathUtils.radToDeg(_e.yfov),_e.aspectRatio||1,_e.znear||1,_e.zfar||2e6):j.type==="orthographic"&&(a=new OrthographicCamera(-_e.xmag,_e.xmag,_e.ymag,-_e.ymag,_e.znear,_e.zfar)),j.name&&(a.name=this.createUniqueName(j.name)),assignExtrasToUserData(a,j),Promise.resolve(a)}loadSkin(o){const a=this.json.skins[o],j={joints:a.joints};return a.inverseBindMatrices===void 0?Promise.resolve(j):this.getDependency("accessor",a.inverseBindMatrices).then(function(_e){return j.inverseBindMatrices=_e,j})}loadAnimation(o){const j=this.json.animations[o],_e=[],et=[],tt=[],nt=[],rt=[];for(let it=0,ot=j.channels.length;it<ot;it++){const at=j.channels[it],ct=j.samplers[at.sampler],ut=at.target,dt=ut.node,ft=j.parameters!==void 0?j.parameters[ct.input]:ct.input,ht=j.parameters!==void 0?j.parameters[ct.output]:ct.output;_e.push(this.getDependency("node",dt)),et.push(this.getDependency("accessor",ft)),tt.push(this.getDependency("accessor",ht)),nt.push(ct),rt.push(ut)}return Promise.all([Promise.all(_e),Promise.all(et),Promise.all(tt),Promise.all(nt),Promise.all(rt)]).then(function(it){const ot=it[0],at=it[1],ct=it[2],ut=it[3],dt=it[4],ft=[];for(let pt=0,yt=ot.length;pt<yt;pt++){const gt=ot[pt],bt=at[pt],At=ct[pt],Tt=ut[pt],Pt=dt[pt];if(gt===void 0)continue;gt.updateMatrix();let Ct;switch(PATH_PROPERTIES[Pt.path]){case PATH_PROPERTIES.weights:Ct=NumberKeyframeTrack;break;case PATH_PROPERTIES.rotation:Ct=QuaternionKeyframeTrack;break;case PATH_PROPERTIES.position:case PATH_PROPERTIES.scale:default:Ct=VectorKeyframeTrack;break}const It=gt.name?gt.name:gt.uuid,Vt=Tt.interpolation!==void 0?INTERPOLATION[Tt.interpolation]:InterpolateLinear,Kt=[];PATH_PROPERTIES[Pt.path]===PATH_PROPERTIES.weights?gt.traverse(function(kt){kt.morphTargetInfluences&&Kt.push(kt.name?kt.name:kt.uuid)}):Kt.push(It);let en=At.array;if(At.normalized){const kt=getNormalizedComponentScale(en.constructor),vt=new Float32Array(en.length);for(let St=0,Lt=en.length;St<Lt;St++)vt[St]=en[St]*kt;en=vt}for(let kt=0,vt=Kt.length;kt<vt;kt++){const St=new Ct(Kt[kt]+"."+PATH_PROPERTIES[Pt.path],bt.array,en,Vt);Tt.interpolation==="CUBICSPLINE"&&(St.createInterpolant=function(zt){const Rt=this instanceof QuaternionKeyframeTrack?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new Rt(this.times,this.values,this.getValueSize()/3,zt)},St.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),ft.push(St)}}const ht=j.name?j.name:"animation_"+o;return new AnimationClip(ht,void 0,ft)})}createNodeMesh(o){const a=this.json,j=this,_e=a.nodes[o];return _e.mesh===void 0?null:j.getDependency("mesh",_e.mesh).then(function(et){const tt=j._getNodeRef(j.meshCache,_e.mesh,et);return _e.weights!==void 0&&tt.traverse(function(nt){if(nt.isMesh)for(let rt=0,it=_e.weights.length;rt<it;rt++)nt.morphTargetInfluences[rt]=_e.weights[rt]}),tt})}loadNode(o){const a=this.json,j=this.extensions,_e=this,et=a.nodes[o],tt=et.name?_e.createUniqueName(et.name):"";return function(){const nt=[],rt=_e._invokeOne(function(it){return it.createNodeMesh&&it.createNodeMesh(o)});return rt&&nt.push(rt),et.camera!==void 0&&nt.push(_e.getDependency("camera",et.camera).then(function(it){return _e._getNodeRef(_e.cameraCache,et.camera,it)})),_e._invokeAll(function(it){return it.createNodeAttachment&&it.createNodeAttachment(o)}).forEach(function(it){nt.push(it)}),Promise.all(nt)}().then(function(nt){let rt;if(et.isBone===!0?rt=new Bone:nt.length>1?rt=new Group:nt.length===1?rt=nt[0]:rt=new Object3D,rt!==nt[0])for(let it=0,ot=nt.length;it<ot;it++)rt.add(nt[it]);if(et.name&&(rt.userData.name=et.name,rt.name=tt),assignExtrasToUserData(rt,et),et.extensions&&addUnknownExtensionsToUserData(j,rt,et),et.matrix!==void 0){const it=new Matrix4;it.fromArray(et.matrix),rt.applyMatrix4(it)}else et.translation!==void 0&&rt.position.fromArray(et.translation),et.rotation!==void 0&&rt.quaternion.fromArray(et.rotation),et.scale!==void 0&&rt.scale.fromArray(et.scale);return _e.associations.has(rt)||_e.associations.set(rt,{}),_e.associations.get(rt).nodes=o,rt})}loadScene(o){const a=this.json,j=this.extensions,_e=this.json.scenes[o],et=this,tt=new Group;_e.name&&(tt.name=et.createUniqueName(_e.name)),assignExtrasToUserData(tt,_e),_e.extensions&&addUnknownExtensionsToUserData(j,tt,_e);const nt=_e.nodes||[],rt=[];for(let it=0,ot=nt.length;it<ot;it++)rt.push(buildNodeHierarchy(nt[it],tt,a,et));return Promise.all(rt).then(function(){const it=ot=>{const at=new Map;for(const[ct,ut]of et.associations)(ct instanceof Material||ct instanceof Texture)&&at.set(ct,ut);return ot.traverse(ct=>{const ut=et.associations.get(ct);ut!=null&&at.set(ct,ut)}),at};return et.associations=it(tt),tt})}}function buildNodeHierarchy($,o,a,j){const _e=a.nodes[$];return j.getDependency("node",$).then(function(et){if(_e.skin===void 0)return et;let tt;return j.getDependency("skin",_e.skin).then(function(nt){tt=nt;const rt=[];for(let it=0,ot=tt.joints.length;it<ot;it++)rt.push(j.getDependency("node",tt.joints[it]));return Promise.all(rt)}).then(function(nt){return et.traverse(function(rt){if(!rt.isMesh)return;const it=[],ot=[];for(let at=0,ct=nt.length;at<ct;at++){const ut=nt[at];if(ut){it.push(ut);const dt=new Matrix4;tt.inverseBindMatrices!==void 0&&dt.fromArray(tt.inverseBindMatrices.array,at*16),ot.push(dt)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',tt.joints[at])}rt.bind(new Skeleton(it,ot),rt.matrixWorld)}),et})}).then(function(et){o.add(et);const tt=[];if(_e.children){const nt=_e.children;for(let rt=0,it=nt.length;rt<it;rt++){const ot=nt[rt];tt.push(buildNodeHierarchy(ot,et,a,j))}}return Promise.all(tt)})}function computeBounds($,o,a){const j=o.attributes,_e=new Box3;if(j.POSITION!==void 0){const nt=a.json.accessors[j.POSITION],rt=nt.min,it=nt.max;if(rt!==void 0&&it!==void 0){if(_e.set(new Vector3(rt[0],rt[1],rt[2]),new Vector3(it[0],it[1],it[2])),nt.normalized){const ot=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[nt.componentType]);_e.min.multiplyScalar(ot),_e.max.multiplyScalar(ot)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const et=o.targets;if(et!==void 0){const nt=new Vector3,rt=new Vector3;for(let it=0,ot=et.length;it<ot;it++){const at=et[it];if(at.POSITION!==void 0){const ct=a.json.accessors[at.POSITION],ut=ct.min,dt=ct.max;if(ut!==void 0&&dt!==void 0){if(rt.setX(Math.max(Math.abs(ut[0]),Math.abs(dt[0]))),rt.setY(Math.max(Math.abs(ut[1]),Math.abs(dt[1]))),rt.setZ(Math.max(Math.abs(ut[2]),Math.abs(dt[2]))),ct.normalized){const ft=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[ct.componentType]);rt.multiplyScalar(ft)}nt.max(rt)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}_e.expandByVector(nt)}$.boundingBox=_e;const tt=new Sphere;_e.getCenter(tt.center),tt.radius=_e.min.distanceTo(_e.max)/2,$.boundingSphere=tt}function addPrimitiveAttributes($,o,a){const j=o.attributes,_e=[];function et(tt,nt){return a.getDependency("accessor",tt).then(function(rt){$.setAttribute(nt,rt)})}for(const tt in j){const nt=ATTRIBUTES[tt]||tt.toLowerCase();nt in $.attributes||_e.push(et(j[tt],nt))}if(o.indices!==void 0&&!$.index){const tt=a.getDependency("accessor",o.indices).then(function(nt){$.setIndex(nt)});_e.push(tt)}return assignExtrasToUserData($,o),computeBounds($,o,a),Promise.all(_e).then(function(){return o.targets!==void 0?addMorphTargets($,o.targets,a):$})}function toTrianglesDrawMode($,o){let a=$.getIndex();if(a===null){const tt=[],nt=$.getAttribute("position");if(nt!==void 0){for(let rt=0;rt<nt.count;rt++)tt.push(rt);$.setIndex(tt),a=$.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),$}const j=a.count-2,_e=[];if(o===TriangleFanDrawMode)for(let tt=1;tt<=j;tt++)_e.push(a.getX(0)),_e.push(a.getX(tt)),_e.push(a.getX(tt+1));else for(let tt=0;tt<j;tt++)tt%2===0?(_e.push(a.getX(tt)),_e.push(a.getX(tt+1)),_e.push(a.getX(tt+2))):(_e.push(a.getX(tt+2)),_e.push(a.getX(tt+1)),_e.push(a.getX(tt)));_e.length/3!==j&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const et=$.clone();return et.setIndex(_e),et}const _taskCache=new WeakMap;class DRACOLoader extends Loader{constructor(o){super(o),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(o){return this.decoderPath=o,this}setDecoderConfig(o){return this.decoderConfig=o,this}setWorkerLimit(o){return this.workerLimit=o,this}load(o,a,j,_e){const et=new FileLoader(this.manager);et.setPath(this.path),et.setResponseType("arraybuffer"),et.setRequestHeader(this.requestHeader),et.setWithCredentials(this.withCredentials),et.load(o,tt=>{const nt={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(tt,nt).then(a).catch(_e)},j,_e)}decodeDracoFile(o,a,j,_e){const et={attributeIDs:j||this.defaultAttributeIDs,attributeTypes:_e||this.defaultAttributeTypes,useUniqueIDs:!!j};this.decodeGeometry(o,et).then(a)}decodeGeometry(o,a){for(const rt in a.attributeTypes){const it=a.attributeTypes[rt];it.BYTES_PER_ELEMENT!==void 0&&(a.attributeTypes[rt]=it.name)}const j=JSON.stringify(a);if(_taskCache.has(o)){const rt=_taskCache.get(o);if(rt.key===j)return rt.promise;if(o.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let _e;const et=this.workerNextTaskID++,tt=o.byteLength,nt=this._getWorker(et,tt).then(rt=>(_e=rt,new Promise((it,ot)=>{_e._callbacks[et]={resolve:it,reject:ot},_e.postMessage({type:"decode",id:et,taskConfig:a,buffer:o},[o])}))).then(rt=>this._createGeometry(rt.geometry));return nt.catch(()=>!0).then(()=>{_e&&et&&this._releaseTask(_e,et)}),_taskCache.set(o,{key:j,promise:nt}),nt}_createGeometry(o){const a=new BufferGeometry;o.index&&a.setIndex(new BufferAttribute(o.index.array,1));for(let j=0;j<o.attributes.length;j++){const _e=o.attributes[j],et=_e.name,tt=_e.array,nt=_e.itemSize;a.setAttribute(et,new BufferAttribute(tt,nt))}return a}_loadLibrary(o,a){const j=new FileLoader(this.manager);return j.setPath(this.decoderPath),j.setResponseType(a),j.setWithCredentials(this.withCredentials),new Promise((_e,et)=>{j.load(o,_e,void 0,et)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const o=typeof WebAssembly!="object"||this.decoderConfig.type==="js",a=[];return o?a.push(this._loadLibrary("draco_decoder.js","text")):(a.push(this._loadLibrary("draco_wasm_wrapper.js","text")),a.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(a).then(j=>{const _e=j[0];o||(this.decoderConfig.wasmBinary=j[1]);const et=DRACOWorker.toString(),tt=["/* draco decoder */",_e,"","/* worker */",et.substring(et.indexOf("{")+1,et.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([tt]))}),this.decoderPending}_getWorker(o,a){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const _e=new Worker(this.workerSourceURL);_e._callbacks={},_e._taskCosts={},_e._taskLoad=0,_e.postMessage({type:"init",decoderConfig:this.decoderConfig}),_e.onmessage=function(et){const tt=et.data;switch(tt.type){case"decode":_e._callbacks[tt.id].resolve(tt);break;case"error":_e._callbacks[tt.id].reject(tt);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+tt.type+'"')}},this.workerPool.push(_e)}else this.workerPool.sort(function(_e,et){return _e._taskLoad>et._taskLoad?-1:1});const j=this.workerPool[this.workerPool.length-1];return j._taskCosts[o]=a,j._taskLoad+=a,j})}_releaseTask(o,a){o._taskLoad-=o._taskCosts[a],delete o._callbacks[a],delete o._taskCosts[a]}debug(){console.log("Task load: ",this.workerPool.map(o=>o._taskLoad))}dispose(){for(let o=0;o<this.workerPool.length;++o)this.workerPool[o].terminate();return this.workerPool.length=0,this}}function DRACOWorker(){let $,o;onmessage=function(tt){const nt=tt.data;switch(nt.type){case"init":$=nt.decoderConfig,o=new Promise(function(ot){$.onModuleLoaded=function(at){ot({draco:at})},DracoDecoderModule($)});break;case"decode":const rt=nt.buffer,it=nt.taskConfig;o.then(ot=>{const at=ot.draco,ct=new at.Decoder,ut=new at.DecoderBuffer;ut.Init(new Int8Array(rt),rt.byteLength);try{const dt=a(at,ct,ut,it),ft=dt.attributes.map(ht=>ht.array.buffer);dt.index&&ft.push(dt.index.array.buffer),self.postMessage({type:"decode",id:nt.id,geometry:dt},ft)}catch(dt){console.error(dt),self.postMessage({type:"error",id:nt.id,error:dt.message})}finally{at.destroy(ut),at.destroy(ct)}});break}};function a(tt,nt,rt,it){const ot=it.attributeIDs,at=it.attributeTypes;let ct,ut;const dt=nt.GetEncodedGeometryType(rt);if(dt===tt.TRIANGULAR_MESH)ct=new tt.Mesh,ut=nt.DecodeBufferToMesh(rt,ct);else if(dt===tt.POINT_CLOUD)ct=new tt.PointCloud,ut=nt.DecodeBufferToPointCloud(rt,ct);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!ut.ok()||ct.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+ut.error_msg());const ft={index:null,attributes:[]};for(const ht in ot){const pt=self[at[ht]];let yt,gt;if(it.useUniqueIDs)gt=ot[ht],yt=nt.GetAttributeByUniqueId(ct,gt);else{if(gt=nt.GetAttributeId(ct,tt[ot[ht]]),gt===-1)continue;yt=nt.GetAttribute(ct,gt)}ft.attributes.push(_e(tt,nt,ct,ht,pt,yt))}return dt===tt.TRIANGULAR_MESH&&(ft.index=j(tt,nt,ct)),tt.destroy(ct),ft}function j(tt,nt,rt){const ot=rt.num_faces()*3,at=ot*4,ct=tt._malloc(at);nt.GetTrianglesUInt32Array(rt,at,ct);const ut=new Uint32Array(tt.HEAPF32.buffer,ct,ot).slice();return tt._free(ct),{array:ut,itemSize:1}}function _e(tt,nt,rt,it,ot,at){const ct=at.num_components(),dt=rt.num_points()*ct,ft=dt*ot.BYTES_PER_ELEMENT,ht=et(tt,ot),pt=tt._malloc(ft);nt.GetAttributeDataArrayForAllPoints(rt,at,ht,ft,pt);const yt=new ot(tt.HEAPF32.buffer,pt,dt).slice();return tt._free(pt),{name:it,array:yt,itemSize:ct}}function et(tt,nt){switch(nt){case Float32Array:return tt.DT_FLOAT32;case Int8Array:return tt.DT_INT8;case Int16Array:return tt.DT_INT16;case Int32Array:return tt.DT_INT32;case Uint8Array:return tt.DT_UINT8;case Uint16Array:return tt.DT_UINT16;case Uint32Array:return tt.DT_UINT32}}}let generated;const MeshoptDecoder=()=>{if(generated)return generated;const $="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",o="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",a=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),j=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let _e=$;WebAssembly.validate(a)&&(_e=o);let et;const tt=WebAssembly.instantiate(nt(_e),{}).then(at=>{et=at.instance,et.exports.__wasm_call_ctors()});function nt(at){const ct=new Uint8Array(at.length);for(let dt=0;dt<at.length;++dt){const ft=at.charCodeAt(dt);ct[dt]=ft>96?ft-71:ft>64?ft-65:ft>47?ft+4:ft>46?63:62}let ut=0;for(let dt=0;dt<at.length;++dt)ct[ut++]=ct[dt]<60?j[ct[dt]]:(ct[dt]-60)*64+ct[++dt];return ct.buffer.slice(0,ut)}function rt(at,ct,ut,dt,ft,ht){const pt=et.exports.sbrk,yt=ut+3&-4,gt=pt(yt*dt),bt=pt(ft.length),At=new Uint8Array(et.exports.memory.buffer);At.set(ft,bt);const Tt=at(gt,ut,dt,bt,ft.length);if(Tt===0&&ht&&ht(gt,yt,dt),ct.set(At.subarray(gt,gt+ut*dt)),pt(gt-pt(0)),Tt!==0)throw new Error(`Malformed buffer data: ${Tt}`)}const it={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},ot={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return generated={ready:tt,supported:!0,decodeVertexBuffer(at,ct,ut,dt,ft){rt(et.exports.meshopt_decodeVertexBuffer,at,ct,ut,dt,et.exports[it[ft]])},decodeIndexBuffer(at,ct,ut,dt){rt(et.exports.meshopt_decodeIndexBuffer,at,ct,ut,dt)},decodeIndexSequence(at,ct,ut,dt){rt(et.exports.meshopt_decodeIndexSequence,at,ct,ut,dt)},decodeGltfBuffer(at,ct,ut,dt,ft,ht){rt(et.exports[ot[ft]],at,ct,ut,dt,et.exports[it[ht]])}},generated};let dracoLoader=null;function extensions($,o,a){return j=>{a&&a(j),$&&(dracoLoader||(dracoLoader=new DRACOLoader),dracoLoader.setDecoderPath(typeof $=="string"?$:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),j.setDRACOLoader(dracoLoader)),o&&j.setMeshoptDecoder(typeof MeshoptDecoder=="function"?MeshoptDecoder():MeshoptDecoder)}}function useGLTF($,o=!0,a=!0,j){return useLoader(GLTFLoader,$,extensions(o,a,j))}useGLTF.preload=($,o=!0,a=!0,j)=>useLoader.preload(GLTFLoader,$,extensions(o,a,j));useGLTF.clear=$=>useLoader.clear(GLTFLoader,$);const OrbitControls=reactExports.forwardRef(({makeDefault:$,camera:o,regress:a,domElement:j,enableDamping:_e=!0,onChange:et,onStart:tt,onEnd:nt,...rt},it)=>{const ot=useThree(At=>At.invalidate),at=useThree(At=>At.camera),ct=useThree(At=>At.gl),ut=useThree(At=>At.events),dt=useThree(At=>At.setEvents),ft=useThree(At=>At.set),ht=useThree(At=>At.get),pt=useThree(At=>At.performance),yt=o||at,gt=j||ut.connected||ct.domElement,bt=reactExports.useMemo(()=>new OrbitControls$1(yt),[yt]);return useFrame(()=>{bt.enabled&&bt.update()},-1),reactExports.useEffect(()=>(bt.connect(gt),()=>void bt.dispose()),[gt,a,bt,ot]),reactExports.useEffect(()=>{const At=Ct=>{ot(),a&&pt.regress(),et&&et(Ct)},Tt=Ct=>{tt&&tt(Ct)},Pt=Ct=>{nt&&nt(Ct)};return bt.addEventListener("change",At),bt.addEventListener("start",Tt),bt.addEventListener("end",Pt),()=>{bt.removeEventListener("start",Tt),bt.removeEventListener("end",Pt),bt.removeEventListener("change",At)}},[et,tt,nt,bt,ot,dt]),reactExports.useEffect(()=>{if($){const At=ht().controls;return ft({controls:bt}),()=>ft({controls:At})}},[$,bt]),reactExports.createElement("primitive",_extends$1({ref:it,object:bt,enableDamping:_e},rt))});class PointMaterialImpl extends PointsMaterial{constructor(o){super(o),this.onBeforeCompile=(a,j)=>{const{isWebGL2:_e}=j.capabilities;a.fragmentShader=a.fragmentShader.replace("#include <output_fragment>",`
        ${_e?"#include <output_fragment>":`#extension GL_OES_standard_derivatives : enable
#include <output_fragment>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <encodings_fragment>
      `)}}}const PointMaterial=reactExports.forwardRef(($,o)=>{const[a]=reactExports.useState(()=>new PointMaterialImpl(null));return reactExports.createElement("primitive",_extends$1({},$,{object:a,ref:o,attach:"material"}))});let i,positionRef;const context=reactExports.createContext(null),parentMatrix=new Matrix4,position=new Vector3,PointsInstances=reactExports.forwardRef(({children:$,range:o,limit:a=1e3,...j},_e)=>{const et=reactExports.useRef(null),[tt,nt]=reactExports.useState([]),[[rt,it,ot]]=reactExports.useState(()=>[new Float32Array(a*3),Float32Array.from({length:a*3},()=>1),Float32Array.from({length:a},()=>1)]);reactExports.useEffect(()=>{et.current.geometry.attributes.position.needsUpdate=!0}),useFrame(()=>{for(et.current.updateMatrix(),et.current.updateMatrixWorld(),parentMatrix.copy(et.current.matrixWorld).invert(),et.current.geometry.drawRange.count=Math.min(a,o!==void 0?o:a,tt.length),i=0;i<tt.length;i++)positionRef=tt[i].current,positionRef.getWorldPosition(position).applyMatrix4(parentMatrix),position.toArray(rt,i*3),et.current.geometry.attributes.position.needsUpdate=!0,positionRef.matrixWorldNeedsUpdate=!0,positionRef.color.toArray(it,i*3),et.current.geometry.attributes.color.needsUpdate=!0,ot.set([positionRef.size],i),et.current.geometry.attributes.size.needsUpdate=!0});const at=reactExports.useMemo(()=>({getParent:()=>et,subscribe:ct=>(nt(ut=>[...ut,ct]),()=>nt(ut=>ut.filter(dt=>dt.current!==ct.current)))}),[]);return reactExports.createElement("points",_extends$1({userData:{instances:tt},matrixAutoUpdate:!1,ref:mergeRefs([_e,et]),raycast:()=>null},j),reactExports.createElement("bufferGeometry",null,reactExports.createElement("bufferAttribute",{attach:"attributes-position",count:rt.length/3,array:rt,itemSize:3,usage:DynamicDrawUsage}),reactExports.createElement("bufferAttribute",{attach:"attributes-color",count:it.length/3,array:it,itemSize:3,usage:DynamicDrawUsage}),reactExports.createElement("bufferAttribute",{attach:"attributes-size",count:ot.length,array:ot,itemSize:1,usage:DynamicDrawUsage})),reactExports.createElement(context.Provider,{value:at},$))}),PointsBuffer=reactExports.forwardRef(({children:$,positions:o,colors:a,sizes:j,stride:_e=3,...et},tt)=>{const nt=reactExports.useRef(null);return useFrame(()=>{const rt=nt.current.geometry.attributes;rt.position.needsUpdate=!0,a&&(rt.color.needsUpdate=!0),j&&(rt.size.needsUpdate=!0)}),reactExports.createElement("points",_extends$1({ref:mergeRefs([tt,nt])},et),reactExports.createElement("bufferGeometry",null,reactExports.createElement("bufferAttribute",{attach:"attributes-position",count:o.length/_e,array:o,itemSize:_e,usage:DynamicDrawUsage}),a&&reactExports.createElement("bufferAttribute",{attach:"attributes-color",count:a.length/_e,array:a,itemSize:3,usage:DynamicDrawUsage}),j&&reactExports.createElement("bufferAttribute",{attach:"attributes-size",count:j.length/_e,array:j,itemSize:1,usage:DynamicDrawUsage})),$)}),Points=reactExports.forwardRef(($,o)=>$.positions instanceof Float32Array?reactExports.createElement(PointsBuffer,_extends$1({},$,{ref:o})):reactExports.createElement(PointsInstances,_extends$1({},$,{ref:o})));function Preload({all:$,scene:o,camera:a}){const j=useThree(({gl:tt})=>tt),_e=useThree(({camera:tt})=>tt),et=useThree(({scene:tt})=>tt);return reactExports.useLayoutEffect(()=>{const tt=[];$&&(o||et).traverse(it=>{it.visible===!1&&(tt.push(it),it.visible=!0)}),j.compile(o||et,a||_e);const nt=new WebGLCubeRenderTarget(128);new CubeCamera(.01,1e5,nt).update(j,o||et),nt.dispose(),tt.forEach(it=>it.visible=!1)},[]),null}const CanvasLoader=()=>{const{progress:$}=useProgress();return jsxs(Html,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[jsx("span",{className:"canvas-loader"}),jsxs("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[$.toFixed(2),"%"]})]})},Earth=()=>{const $=useGLTF("./planet/scene.gltf");return jsx("primitive",{object:$.scene,scale:3.5,"position-y":0,"rotation-y":0})},EarthCanvas=()=>jsx("div",{className:"earth",children:jsx(Canvas,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:jsxs(reactExports.Suspense,{fallback:jsx(CanvasLoader,{}),children:[jsx(OrbitControls,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),jsx(Earth,{}),jsx(Preload,{all:!0})]})})}),Stars=$=>{const o=reactExports.useRef(),[a]=reactExports.useState(()=>inSphere(new Float32Array(5e3),{radius:1.2}));return useFrame((j,_e)=>{o.current.rotation.x-=_e/10,o.current.rotation.y-=_e/15}),jsx("group",{rotation:[0,0,Math.PI/4],children:jsx(Points,{ref:o,positions:a,stride:3,frustumCulled:!0,...$,children:jsx(PointMaterial,{transparent:!0,color:"#f272c8",size:.002,sizeAttenuation:!0,depthWrite:!1})})})},StarsCanvas=()=>jsx("div",{className:"w-full h-auto absolute inset-0 z-[-1] stars",children:jsxs(Canvas,{camera:{position:[0,0,1]},children:[jsx(reactExports.Suspense,{fallback:null,children:jsx(Stars,{})}),jsx(Preload,{all:!0})]})});function Home(){const[$,o]=reactExports.useState(!1),[a,j]=reactExports.useState(""),[_e,et]=reactExports.useState(""),[tt,nt]=reactExports.useState([]),rt=async()=>{const at=new Web3Provider(window.ethereum),ct=at.getSigner();try{await at.send("eth_requestAccounts",[]);const ut=await ct.getAddress();j(ut),o(!0)}catch(ut){console.log(ut.error)}},it=async()=>{const ct=new Web3Provider(window.ethereum).getSigner(),dt=await new Contract(contractAddress,abi,ct).see_record(a);for(var ft=0;ft<dt.length;ft++)console.log(dt[ft].url);nt(dt)},ot=async()=>{const ct=new Web3Provider(window.ethereum).getSigner(),ut=new Contract(contractAddress,abi,ct);try{await ut.add_record(Date.now(),_e),alert("Please wait for the transaction to be confirmed"),et("")}catch(dt){alert(dt.error)}};return jsxs("div",{className:"parent",children:[jsx("div",{className:"child1",children:jsxs(Stack$1,{sx:{alignItems:"center"},children:[jsx(StarsCanvas,{}),jsxs(Stack$1,{sx:{mt:1},children:[jsx(Stack$1,{}),jsxs(Stack$1,{children:[jsx(Typography$1,{sx:{fontSize:50,fontWeight:"bold"},id:"home-head",children:"MedicHQ"}),jsx("br",{}),jsx("br",{}),jsxs(Typography$1,{sx:{fontSize:25,fontFamily:"cursive"},children:["A decentralised healthcare system to preserve and exchange patient data ",jsx("br",{})," between hospitals, laboratories, pharmacies and physicians"]}),jsx("br",{}),a!==""?jsx(TextField$1,{id:"text1",value:a,sx:{width:450,mt:2},label:"Your Address"}):jsx(Button$1,{variant:"contained",sx:{width:200,mt:2},onClick:()=>{rt()},children:"Connect Metamask"})]}),jsxs(Stack$1,{sx:{mt:10},children:[jsx(Typography$1,{sx:{fontSize:40,fontWeight:"bold"},children:"Features:"}),jsx("br",{}),jsxs(Stack$1,{sx:{flexDirection:"row"},children:[jsxs(Stack$1,{sx:{width:200,textAlign:"center",mr:6},children:[jsx("img",{src:"https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/143cdc64702723.5ae00a2ba8cd0.gif",style:{width:200,height:200,borderRadius:100}}),jsx(Typography$1,{sx:{m:.5},children:"Built on top of Blockcahin Technology"})]}),jsxs(Stack$1,{sx:{width:200,textAlign:"center",mr:6},children:[jsx("img",{src:feature2,style:{width:200}}),jsx(Typography$1,{sx:{m:.5},children:"Share medical records in the health care system"})]}),jsxs(Stack$1,{sx:{width:200,textAlign:"center"},children:[jsx("img",{src:feature3,style:{width:200}}),jsx(Typography$1,{sx:{m:.5},children:"To make sure patients receive fastest treatment"})]})]})]}),jsx(Stack$1,{sx:{mt:10},children:a!=""?jsxs(Stack$1,{children:[jsx(Typography$1,{sx:{fontSize:40,fontWeight:"bold"},children:"Add Your Reports :"}),jsx(Upload,{}),jsxs(Stack$1,{sx:{flexDirection:"row"},children:[jsx(TextField$1,{variant:"filled",id:"text2",label:"URL of prescription/data",sx:{width:500,mr:2},value:_e,onChange:at=>{et(at.target.value)}}),jsx(Button$1,{variant:"contained",sx:{width:80},onClick:()=>{ot()},children:"Submit"})]})]}):jsx(Stack$1,{sx:{color:"black",backgroundColor:"white",alignItems:"center",borderRadius:2},id:"bar",children:jsx(Typography$1,{sx:{m:1,fontSize:20},children:"! Please connect to metamask to upload your report"})})}),jsxs(Stack$1,{sx:{mt:10},children:[jsx(Typography$1,{sx:{fontSize:40,fontWeight:"bold"},children:"Check your reports:"}),jsx("br",{}),a!=""?jsx(Button$1,{variant:"contained",sx:{width:300},onClick:()=>{it()},children:"Get all your data"}):jsx(Stack$1,{sx:{color:"black",backgroundColor:"white",alignItems:"center",borderRadius:2},id:"bar",children:jsx(Typography$1,{sx:{m:1,fontSize:20},children:"! Please connect to metamask to check your report"})}),jsx(Stack$1,{sx:{alignItems:"center",flexDirection:"row",mt:5,display:"flex",flexWrap:"wrap",width:1e3},children:tt.map((at,ct)=>{var ut=formatUnits(at.timestamp,0),dt=new Date(+ut);return console.log(new Date(+ut)),jsxs(Stack$1,{sx:{width:200,textAlign:"center",m:1},children:[jsx("img",{src:at.url}),jsxs(Stack$1,{sx:{flexDirection:"row"},children:[jsxs(Typography$1,{children:["Date:",dt.getDate(),".",dt.getMonth(),".",dt.getFullYear()]}),jsx("a",{href:at.url,target:"_blank",children:jsx("img",{src:"https://static.thenounproject.com/png/196595-200.png",style:{width:20,marginLeft:10}})})]})]},ct)})})]})]})]})}),jsx("div",{className:"child2",id:"earth-home",children:jsx(EarthCanvas,{})})]})}const Firm=()=>{const[$,o]=reactExports.useState(!1),[a,j]=reactExports.useState([]),[_e,et]=reactExports.useState(""),[tt,nt]=reactExports.useState(""),rt=async()=>{try{const at=new Web3Provider(window.ethereum),ct=at.getSigner();await at.send("eth_requestAccounts",[]);const ut=await ct.getAddress();et(ut),o(!0)}catch{alert("Please Install Metamask")}},it=async()=>{const ct=new Web3Provider(window.ethereum).getSigner(),dt=await new Contract(contractAddress,abi,ct).see_record(tt);for(var ft=0;ft<dt.length;ft++)console.log(dt[ft].url);j(dt)},ot=()=>{tt!=""?it():alert("please enter correct address")};return jsxs("div",{className:"contain",children:[jsx(StarsCanvas,{}),jsxs("div",{className:"parent-firm",children:[jsx("div",{className:"child1-firm",children:jsxs(Stack$1,{sx:{alignItems:"center"},className:"parent-firm",children:[jsxs(Stack$1,{sx:{mt:1,width:1e3},children:[jsx(Stack$1,{}),jsxs(Stack$1,{children:[jsx(Typography$1,{sx:{fontSize:50,fontWeight:"bold"},children:"MedicHQ Firm"}),jsx("br",{}),_e!==""?jsx(TextField$1,{label:"Firm Address",value:_e,style:{border:"1px solid white",borderRadius:"5px"},id:"text",sx:{width:450,mt:2}}):jsx(Button$1,{variant:"contained",sx:{width:200,mt:2},onClick:()=>{rt()},children:"Connect Metamask"})]})]}),jsxs(Stack$1,{sx:{mt:10},children:[_e!==""?jsxs(Stack$1,{sx:{flexDirection:"row"},children:[jsx(TextField$1,{className:"placeh",placeholder:"Enter patients address",id:"text",style:{border:"1px solid white",color:"white",borderRadius:"5px"},sx:{width:450},value:tt,onChange:at=>{nt(at.target.value)}}),jsx(Button$1,{variant:"contained",sx:{width:50,ml:2},onClick:()=>{ot()},children:"Find"})]}):"Please Connect Metamask first",jsx(Stack$1,{sx:{alignItems:"center",flexDirection:"row",mt:5,diaplay:"flex",flexWrap:"wrap",width:1e3},children:a.map((at,ct)=>{var ut=formatUnits(at.timestamp,0),dt=new Date(+ut);return console.log(new Date(+ut)),jsx(Stack$1,{sx:{m:1},children:jsx(Card$1,{sx:{width:300},children:jsxs(CardActionArea$1,{href:at.url,target:"_blank",children:[jsx(CardMedia$1,{component:"img",image:at.url,height:300}),jsx(CardContent$1,{sx:{backgroundColor:"#939393"},children:jsxs(Typography$1,{sx:{color:"#fff",fontWeight:"bold"},children:["Date:",dt.getDate(),".",dt.getMonth(),".",dt.getFullYear()]})})]})})},ct)})}),jsx(Stack$1,{sx:{mt:10,flexDirection:"row",alignItems:"center",backgroundColor:"#EBEAF0",justifyContent:"center",borderRadius:10,color:"black"}})]})]})}),jsx("div",{className:"child2-firm",children:jsx(Stack$1,{children:jsx(EarthCanvas,{})})})]})]})},reports="/assets/reports-4c03dc45.gif",NewHome=()=>{let $=useNavigate();return jsxs("div",{className:"newhome relative z-0 bg-black",children:[jsx("div",{children:jsx("h2",{className:"heading",children:"Welcome To MedicHQ"})}),jsxs("div",{className:"subheading",children:["A decentralised healthcare system to preserve and exchange patient data ",jsx("br",{})," between hospitals, laboratories, pharmacies and physicians"]}),jsxs("div",{className:"relative second parent",children:[jsxs("div",{className:"container child1",children:[jsxs("div",{className:"patient ",children:[jsx("h2",{style:{fontFamily:'"Roboto","Helvetica","Arial",sans-serif'},children:"Patients Portal"}),jsx("img",{src:reports,width:"300",height:"200"}),jsx("p",{style:{fontFamily:"cursive"},children:"Want to upload your records ⁉️"}),jsx("div",{className:"btn-center",children:jsx("button",{className:"btn-main",onClick:()=>{$("main")},children:"Click Here"})})]}),jsxs("div",{className:"doctor",children:[jsx("h2",{style:{fontFamily:'"Roboto","Helvetica","Arial",sans-serif'},children:"Doctors Portal"}),jsx("img",{src:"https://media2.giphy.com/media/LHtQ0EcqJCAU6kX2Zk/giphy.gif",alt:"doctor gif",height:"200"}),jsx("br",{}),jsx("p",{style:{fontFamily:"cursive"},children:"Want to view patient's record ⁉️"}),jsx("div",{className:"btn-center",children:jsx("button",{className:"btn-main",onClick:()=>{$("firm")},children:"Click Here"})})]})]}),jsx("div",{className:"earth-box child2",children:jsx("div",{className:"h-full earth-canvas",children:jsx(EarthCanvas,{})})})]}),jsx("div",{className:"w-full h-full absolute inset-0",children:jsx(StarsCanvas,{})})]})};function App(){return jsxs(Routes,{children:[jsx(Route,{path:"/",exact:!0,element:jsx(NewHome,{})}),jsx(Route,{path:"/main",exact:!0,element:jsx(Home,{})}),jsx(Route,{path:"/firm",exact:!0,element:jsx(Firm,{})})]})}client$1.createRoot(document.getElementById("root")).render(jsx(BrowserRouter,{children:jsx(App,{})}));
